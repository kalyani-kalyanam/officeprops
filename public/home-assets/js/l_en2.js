/*!	Curve calc function for canvas 2.3.6
 *	(c) Epistemex 2013-2016
 *	www.epistemex.com
 *	License: MIT
 */
function getCurvePoints(points,tension,numOfSeg,close){"use strict";function parse(pts,cache,l,tension){for(var t,i=2;i<l;i+=2){var pt1=pts[i],pt2=pts[i+1],pt3=pts[i+2],pt4=pts[i+3],t1x=(pt3-pts[i-2])*tension,t1y=(pt4-pts[i-1])*tension,t2x=(pts[i+4]-pt1)*tension,t2y=(pts[i+5]-pt2)*tension,c=0,c1,c2,c3,c4;for(t=0;t<numOfSeg;t++)c1=cache[c++],c2=cache[c++],c3=cache[c++],c4=cache[c++],res[rPos++]=c1*pt1+c2*pt3+c3*t1x+c4*t2x,res[rPos++]=c1*pt2+c2*pt4+c3*t1y+c4*t2y}}if(typeof points=="undefined"||points.length<2)return new Float32Array(0);tension=typeof tension=="number"?tension:.5;numOfSeg=typeof numOfSeg=="number"?numOfSeg:25;var pts,i=1,l=points.length,rPos=0,rLen=(l-2)*numOfSeg+2+(close?2*numOfSeg:0),res=new Float32Array(rLen),cache=new Float32Array(numOfSeg+2<<2),cachePtr=4;for(pts=points.slice(0),close?(pts.unshift(points[l-1]),pts.unshift(points[l-2]),pts.push(points[0],points[1])):(pts.unshift(points[1]),pts.unshift(points[0]),pts.push(points[l-2],points[l-1])),cache[0]=1;i<numOfSeg;i++){var st=i/numOfSeg,st2=st*st,st3=st2*st,st23=st3*2,st32=st2*3;cache[cachePtr++]=st23-st32+1;cache[cachePtr++]=st32-st23;cache[cachePtr++]=st3-2*st2+st;cache[cachePtr++]=st3-st2}return cache[++cachePtr]=1,parse(pts,cache,l,tension),close&&(pts=[],pts.push(points[l-4],points[l-3],points[l-2],points[l-1],points[0],points[1],points[2],points[3]),parse(pts,cache,4,tension)),l=close?0:points.length-2,res[rPos++]=points[l++],res[rPos]=points[l],res}function getConditionalValidator(value,element,params,resultFunction){for(var otherField,otherFieldValue,parts,prefix,anyValueIsNumeric,numeric,validationParameters=JSON.parse(params.validationparameters),thisField=element,result=[],i=0;i<validationParameters.length;i++){result[i]=!1;var parameter=validationParameters[i],dependentProperty=parameter.dependentproperty,compareType=parameter.comparetype,targetValue=parameter.targetvalue,dependentPropertyName=dependentProperty,dependentPropertyFieldName="",properties=dependentProperty.split("_");if(properties.length>0&&(dependentPropertyName=properties.join(".")),otherField=$(thisField.form).find('input[name="'+dependentPropertyName+'"]')[0],otherFieldValue=null,otherField==undefined&&(otherField=$(thisField.form).find('[name="'+dependentPropertyName+'"]')[0]),otherField==undefined&&(parts=element.name.split("."),prefix="",parts.length>1&&(prefix=parts[0]+"."),otherField=$('[name="'+prefix+dependentPropertyName+'"]')[0]),otherField&&(otherFieldValue=$(otherField).val()),anyValueIsNumeric=!1,numeric=parseFloat(otherFieldValue),isNumber(numeric)&&(otherFieldValue=numeric,anyValueIsNumeric=!0),numeric=parseFloat(targetValue),isNumber(numeric)?(targetValue=numeric,anyValueIsNumeric=!0):(targetValue==="true"||targetValue==="false")&&(targetValue=targetValue==="true"),targetValue||targetValue==0&&targetValue!=="")if(otherField)switch(compareType){case"Equal":otherField.type=="checkbox"&&otherField.checked!=targetValue?result[i]=!0:anyValueIsNumeric&&otherFieldValue!=targetValue?result[i]=!0:otherFieldValue.toString().toLowerCase()!=targetValue.toString().toLowerCase()&&(result[i]=!0);break;case"MoreThan":otherFieldValue<=targetValue&&(result[i]=!0);break;case"LessThan":otherFieldValue>=targetValue&&(result[i]=!0);break;case"LessOrEqual":otherFieldValue>targetValue&&(result[i]=!0);break;case"MoreOrEqual":otherFieldValue<targetValue&&(result[i]=!0);break;case"NotEqual":otherFieldValue==targetValue&&(result[i]=!0);break;case"In":$.isArray(targetValue)&&$.inArray(otherFieldValue,targetValue)>-1||(result[i]=!0);break;case"NotIn":$.isArray(targetValue)&&$.inArray(otherFieldValue,targetValue)>-1&&(result[i]=!0);break;default:result[i]=!0}else result[i]=!0;else otherField&&!otherField.disabled&&otherField.value&&otherField.value!=""?compareType!="NotEqual"&&(result[i]=!0):compareType=="NotEqual"&&(result[i]=!0)}return result.length>0&&result.filter(function(val){return val==!1}).length>0?resultFunction(value):!0}function LsZoomControl(controlDiv,map){var zoomInDiv=document.createElement("div"),zoomOutDiv;zoomInDiv.className="zoomIn";zoomOutDiv=document.createElement("div");zoomOutDiv.className="zoomOut";controlDiv.className+=" lsZoomControl";controlDiv.appendChild(zoomInDiv);controlDiv.appendChild(zoomOutDiv);google.maps.event.addDomListener(zoomInDiv,"click",function(){map.setZoom(map.zoom+1)});google.maps.event.addDomListener(zoomOutDiv,"click",function(){map.setZoom(map.zoom-1)})}function googleMaps(params){function latLngTrim(latlng){return latlng?new google.maps.LatLng(latlng.lat(),latlng.lng()):new google.maps.LatLng}var _self,mapOptions;params=$.extend({mapId:"map_canvas",_centerChanged:function(latitude,longitude,bounds,zoom,event){},_onMarkerOver:function(){},_onMarkerOut:function(){},_onDragStart:function(){},markerDraggable:!1,addCenterMarker:!0,scrollwheel:!1,onLocationChanged:function(latlng){},mapCenterChanged:function(latlng){},draggable:!0,removeZoom:!1,zoom:8},params);_self=this;this._allowedCountries=["AU","US","CA"];this.addCenterMarker=params.addCenterMarker;this.mapId=params.mapId;this.fitBoundsInternalTriggered=!1;this.setAllowedCountries=function(list){_self._allowedCountries=list};this.markerDraggable=params.markerDraggable;mapOptions={zoom:params.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:params.scrollwheel,minZoom:2,maxZoom:21,draggable:params.draggable};this.pins=LiquidSpace.MapCommon.getGooglePins();this.markers=[];this.latlngbounds=new google.maps.LatLngBounds;this._lastBounds=null;this.setUpMap=function(){var useCustomZoomControl,mapElement,lsZoomControlDiv,lsZoomControl;_self.map==null&&(useCustomZoomControl=typeof LsZoomControl!="undefined",useCustomZoomControl?$.extend(mapOptions,{disableDefaultUI:!0}):$.extend(mapOptions,{panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL}}),mapElement=document.getElementById(_self.mapId),_self.map=new google.maps.Map(mapElement,mapOptions),_self.geocoder=new google.maps.Geocoder,google.maps.event.addListener(_self.map,"zoom_changed",function(event,ev1){if(_self.ignoreZoomEvent){_self.ignoreZoomEvent=!1;return}if(!(this.zoom<this.minZoom)&&!(this.zoom>this.maxZoom)){if(!_self.fitBoundsInternalTriggered){var location=latLngTrim(_self.map.getCenter());params._centerChanged(location&&location.lat(),location&&location.lng(),_self.map.getBounds(),_self.map.zoom,"zoom_changed")}_self.fitBoundsInternalTriggered=!1}}),google.maps.event.addListener(_self.map,"dragend",function(){var location=latLngTrim(_self.map.getCenter());params._centerChanged(location.lat(),location.lng(),_self.map.getBounds(),_self.map.zoom,"dragend")}),google.maps.event.addListener(_self.map,"dragstart",function(){params._onDragStart()}),_self._lastBounds=_self.map.getBounds(),google.maps.event.addListener(_self.map,"idle",function(){_self._lastBounds=_self.map.getBounds()}),$.isFunction(params.mapCenterChanged)&&google.maps.event.addListener(_self.map,"center_changed",function(){var location=latLngTrim(_self.map.getCenter());params.mapCenterChanged(new LiquidSpace.MapPoint(location.lat(),location.lng()));_self.closeInfoWindows()}),useCustomZoomControl&&!params.removeZoom&&(lsZoomControlDiv=document.createElement("div"),lsZoomControl=new LsZoomControl(lsZoomControlDiv,_self.map),_self.map.controls[google.maps.ControlPosition.TOP_LEFT].push(lsZoomControlDiv)))};document.readyState=="complete"||document.readyState=="interactive"?_self.setUpMap():$(function(){_self.setUpMap()});this.resizeMap=function(lat,lng){google.maps.event.trigger(_self.map,"resize");var latlng=new google.maps.LatLng(lat,lng);_self.map.setCenter(latlng)};this.getDisplayRadius=function(){var bounds=_self.map.getBounds();if(bounds){var center=bounds.getCenter(),ne=bounds.getNorthEast(),r=3963,lat1=center.lat()/57.2958,lon1=center.lng()/57.2958,lat2=ne.lat()/57.2958,lon2=ne.lng()/57.2958,dis=r*Math.acos(Math.sin(lat1)*Math.sin(lat2)+Math.cos(lat1)*Math.cos(lat2)*Math.cos(lon2-lon1));return dis*1610}else return 0};this.fitBounds=function(lat,lng){var c;if(Math.abs(_self.latlngbounds.getNorthEast().lat()-_self.latlngbounds.getSouthWest().lat())<.001||Math.abs(_self.latlngbounds.getNorthEast().lng()-_self.latlngbounds.getSouthWest().lng())<.001)_self.map.setCenter(_self.latlngbounds.getCenter());else{if(c=_self.latlngbounds.getCenter(),lat!=null&&lng!=null&&lat!=0&&lng!=0){var dLat=c.lat()-lat,dLong=c.lng()-lng,sw=new google.maps.LatLng(_self.latlngbounds.getSouthWest().lat()-2*dLat,_self.latlngbounds.getSouthWest().lng()-2*dLong),ne=new google.maps.LatLng(_self.latlngbounds.getNorthEast().lat()-2*dLat,_self.latlngbounds.getNorthEast().lng()-2*dLong);_self.latlngbounds.extend(sw);_self.latlngbounds.extend(ne)}_self.fitBoundsInternalTriggered=!0;_self.map.fitBounds(_self.latlngbounds)}};this.fitBoundsSilent=function(bounds){_self.map.fitBounds(bounds.getBounds())};this.getZoom=function(){return _self.map.zoom};this.setZoom=function(zoom){_self.map.setZoom(zoom)};this.setZoomSilently=function(zoom){_self.ignoreZoomEvent=!0;_self.map.setZoom(zoom)};this.showMapCenter=function(lat,lng){lat&&lng&&_self.map.setCenter(new google.maps.LatLng(lat,lng))};this.infowindows=[];this.addMarker=function(options){var icon,infowindow,titleBox;if(options=$.extend({latitude:null,longitude:null,draggable:!1,content:null,onClick:null,ignoreMapBounds:!1,title:null,titleCloseOnMouseLeave:!1,showContentByDefault:!1,appendInfoBoxToElementSelector:null,extendBounds:!0,icon:null},options),icon=_self.pins[options.icon]||_self.pins.teardrop,options.latitude!=null&&options.latitude!=0||options.longitude!=0&&options.longitude!=null){var latlng=new google.maps.LatLng(options.latitude,options.longitude),currentMinMaxZIndex=this.markers.reduce(function(acc,marker){var zIndex=marker.getZIndex();return zIndex<acc.min&&(acc.min=zIndex),zIndex>acc.max&&(acc.max=zIndex),acc},{min:0,max:0}),markerSettings={position:latlng,map:_self.map,draggable:options.draggable,icon:icon,zIndex:options.extendBounds?currentMinMaxZIndex.max+1:currentMinMaxZIndex.min-1},marker=new google.maps.Marker(markerSettings),markerSetOverIcon=function(){_self.markers.forEach(function(marker){marker.initialMarker!=null&&marker.initialMarker!=marker.icon&&marker.setIcon(marker.initialMarker);marker.initialZIndex!=null&&marker.initialZIndex!=marker.zIndex&&marker.setZIndex(marker.initialZIndex)});var currentMarkerIcon=marker.initialMarker?marker.initialMarker:marker.icon;marker.initialMarker||(marker.initialMarker=currentMarkerIcon);marker.setIcon(currentMarkerIcon.overIcon);marker.initialZIndex=marker.zIndex;marker.setZIndex(9999)},markerSetNormalIcon=function(){marker.initialMarker&&marker.setIcon(marker.initialMarker);marker.initialZIndex&&marker.setZIndex(marker.initialZIndex)};return options.onClick!=null&&(google.maps.event.clearListeners(marker,"click"),google.maps.event.addListener(marker,"click",function(event){options.onClick(event)})),options.content!=null&&(infowindow=null,typeof InfoBox!="undefined"?(infowindow=new InfoBox({content:options.content,closeCallBack:function(){markerSetNormalIcon();params._onMarkerOut()},closeOnMouseLeave:!1,appendToElementSelector:options.appendInfoBoxToElementSelector,margintop:icon.tooltipMarginTop||-32}),infowindow.closeBoxURL_="",_self.infowindows.push(infowindow),options.showContentByDefault&&infowindow.open(_self.map,marker)):infowindow=new google.maps.InfoWindow({content:typeof options.content=="function"?options.content():options.content}),google.maps.event.addListener(marker,"click",function(event){_self.closeInfoWindows();infowindow.open(_self.map,marker)})),options.title!=null&&(titleBox=new InfoBox({content:options.title,closeOnMouseLeave:!0,closeBoxURL:"",margintop:icon.tooltipMarginTop||-32,appendToElementSelector:options.appendInfoBoxToElementSelector,closeCallBack:function(){setTimeout(function(){markerSetNormalIcon()},50)}}),google.maps.event.addListener(marker,"mouseover",function(event){_self.isIdle()&&(_self.infowindows.forEach(function(w){w.close()}),setTimeout(function(){markerSetOverIcon()},50),titleBox.open(_self.map,marker))}),options.titleCloseOnMouseLeave&&google.maps.event.addListener(marker,"mouseout",function(event){titleBox.close()}),_self.infowindows.push(titleBox)),google.maps.event.addListener(marker,"mouseover",function(event){markerSetOverIcon()}),google.maps.event.addListener(marker,"mouseout",function(event){markerSetNormalIcon()}),options.extendBounds&&this.latlngbounds.extend(latlng),options.ignoreMapBounds||_self.fitBounds(),this.markers.push(marker),google.maps.event.addListener(marker,"drag",function(event){var markerPos=marker.getPosition();_self.map.getBounds().contains(markerPos)||_self.map.panTo(markerPos);marker==_self.locationMarker.getInstace()&&_self.setLocationValues(new LiquidSpace.MapPoint(markerPos.lat(),markerPos.lng()))}),new LiquidSpace.MapGoogleMarker(marker)}};this.getBounds=function(){return _self.map?_self.map.getBounds():new google.maps.LatLngBounds};this.getResults=function(){return this._results};this.isCountryAllowed=function(c){return c==null?!1:this._allowedCountries.indexOf(c.toUpperCase())!=-1};this.locationMarker=null;this.closeInfoWindows=function(clearArr){$.each(this.infowindows,function(i,val){val.div_&&(val.closeCallBack&&val.closeCallBack(),val.close())});clearArr==!0&&(this.infowindows=[])};this.clearMarkers=function(){for(i in this.markers)this.removeMarker(this.markers[i],!0);this.closeInfoWindows(!0);this.markers=[];this.latlngbounds=new google.maps.LatLngBounds};this.removeMarker=function(marker,skipSplicing){if(marker.position=null,typeof marker.remove=="function"&&marker.remove(),!skipSplicing){var index=this.markers.indexOf(marker);index>-1&&this.markers.splice(index,1)}};this.showLocation=function(address,markerDraggable,lat,long,geocodeFailedCallback,successCallback){var _self=this,geocodeParams,latlng;lat==null&&long==null?(this.geocoder=new LiquidSpace.Geocoder,geocodeParams=typeof address=="string"?{address:address}:address,this.geocoder.geocode(geocodeParams,function(results,status){if(status=="OK"&&results!=null&&results.length>0){var venueLocation=results[0].geometry.location,venueLocationPoint=new LiquidSpace.MapPoint(venueLocation.lat,venueLocation.lng);_self.addLocationMarker(venueLocationPoint,markerDraggable);typeof successCallback!="undefined"&&$.isFunction(successCallback)&&successCallback()}else typeof geocodeFailedCallback!="undefined"&&$.isFunction(geocodeFailedCallback)?geocodeFailedCallback():LSHelper.Dialog.alertDialog("Geocode was not successful. Address not found.")})):(latlng=new LiquidSpace.MapPoint(lat,long),setTimeout(function(){_self.addLocationMarker(latlng,markerDraggable);typeof successCallback!="undefined"&&$.isFunction(successCallback)&&successCallback()},1))};this.refreshLatLngBounds=function(){this.latlngbounds=new google.maps.LatLngBounds;$.each(this.markers,function(i,val){val.position!=null&&_self.latlngbounds.extend(val.position)})};this.addLocationMarker=function(location,markerDraggable){_self.addCenterMarker==!0&&(this.locationMarker!=null&&(this.removeMarker(this.locationMarker),this.refreshLatLngBounds()),this.locationMarker=this.addMarker({latitude:location.latitude,longitude:location.longitude,draggable:markerDraggable,icon:"orangeteardrop"}));this.showMapCenter(location.latitude,location.longitude);this.setLocationValues(location)};this.setLocationValues=function(latlng){params.onLocationChanged(latlng)};this.isIdle=function(){return _self._lastBounds.equals(_self.map.getBounds())};this.getDistanceFromCenter=function(point){var mapCenter=_self.map.getCenter();return this.getDistance(point,new LiquidSpace.MapPoint(mapCenter.lat(),mapCenter.lng()))};this.getDistance=function(point1,point2){return google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(point1.latitude,point1.longitude),new google.maps.LatLng(point2.latitude,point2.longitude))};this.getCenter=function(){var center=this.map.getCenter();return new LiquidSpace.MapPoint(center.lat(),center.lng())};this.getZoom=function(){return this.map.getZoom()}}function isPlural(n){return n!=1}function showGridOverlay(gridId){jQuery("#lui_"+gridId).show();jQuery("#load_"+gridId).show()}function hideGridOverlay(gridId){jQuery("#lui_"+gridId).hide();jQuery("#load_"+gridId).hide()}function replaceWithLinks(text){var replaceEmail,replaceUrls,replaceUrlWithNoProtocol;return text&&(replaceEmail=/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim,text=text.replace(replaceEmail,"<a href='mailto:$1'>$1<\/a>"),replaceUrls=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,text=text.replace(replaceUrls,"<a href='$1' target='_new'>$1<\/a>"),replaceUrlWithNoProtocol=/(^|[^\/])(www\.[\S]+(\b|$))/gim,text=text.replace(replaceUrlWithNoProtocol,"$1<a href='http://$2' target='_new'>$2<\/a>")),text}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function parseJsonDate(jsonDate){var offset=(new Date).getTimezoneOffset()*6e4,parts=/\/Date\((-?\d+)([+-]\d{2})?(\d{2})?.*/.exec(jsonDate);return parts!=undefined?(parts[2]==undefined&&(parts[2]=0),parts[3]==undefined&&(parts[3]=0),new Date(+parts[1]+offset+parts[2]*36e5+parts[3]*6e4)):undefined}function handleBackButton(isUserIdentified){LSHelper.HelperLib.unblockUI("#searchWorkspacesForm");var cookieName="backButton",cookieValue=$.cookie(cookieName);cookieValue&&!isUserIdentified&&cookieValue!=window.location.href&&($.cookie(cookieName,null),$.post("/Account/UserIsAuthenticated",function(data){data!=null&&data&&(LSHelper.Account.reloadHeader(),$("#identityName").val("IdentityUser"))}));$.cookie(cookieName,encodeURIComponent(window.location.href),{path:"/"})}function zeroPad(num,numZeros){var n=Math.abs(num),zeros=Math.max(0,numZeros-Math.floor(n).toString().length),zeroString=Math.pow(10,zeros).toString().substr(1);return num<0&&(zeroString="-"+zeroString),zeroString+n}function FastEllipsis(cssStyle){var _charWidthArray={},_cssStyle=!cssStyle?"font-family: arial; font-size: 12pt":cssStyle,_maxWidth=10,testDrive=0,br="%br%",brRegex=new RegExp(br,"g"),generateASCIIwidth=function(){var container,charWrapper,obj,character,totalWidth=0,oldTotalWidth=0,charWidth=0,populateCacheForChar,i;if(FastEllipsisGlobal.cache[_cssStyle]==null){for(container=$("<div style='width:6000px; visibility:hidden;'><\/div>").appendTo("body"),charWrapper=$("<span style='"+_cssStyle+"'><\/span>").appendTo(container),charWrapper.append("f"),testDrive=$("<span>i<\/span>"),testDrive.appendTo(charWrapper),totalWidth=charWrapper.width(),testDrive.before("&nbsp;"),oldTotalWidth=totalWidth,totalWidth=charWrapper.width(),charWidth=totalWidth-oldTotalWidth,_charWidthArray["_ "]=charWidth,populateCacheForChar=function(i){character=String.fromCharCode(i);testDrive.before(""+character+character);oldTotalWidth=totalWidth;totalWidth=charWrapper.width();charWidth=(totalWidth-oldTotalWidth)/2;_charWidthArray["_"+character]=charWidth;_maxWidth<_charWidthArray["_"+character]&&(_maxWidth=_charWidthArray["_"+character])},i=33;i<=126;i++)populateCacheForChar(i);FastEllipsisGlobal.cache[_cssStyle]=$.extend({},_charWidthArray);container.remove()}else _charWidthArray=FastEllipsisGlobal.cache[_cssStyle]},getCharWidth=function(myChar){return _charWidthArray["_"+myChar]?_charWidthArray["_"+myChar]:(_charWidthArray["_"+myChar]=_maxWidth,_maxWidth)},getWordWidth=function(myWord){var sum,i,len;if(myWord=myWord.trim(),myWord==br)return 0;if(!_charWidthArray["_"+myWord]){for(sum=0,i=0,len=myWord.length;i<len;i++)sum=sum+getCharWidth(myWord[i]);return sum=Math.floor(sum),_charWidthArray["_"+myWord]=sum,sum}else return _charWidthArray["_"+myWord]},ellipseIt=function(myString,maxLine,lineWidth,ellipseText){var i,len,isBr,leftWidth,result,j;ellipseText==null&&(ellipseText="...");var lineNo=1,wordsInLineWidth=0,wordArr=myString.trim().strip_tags_fast().replace("-","- ").replace(/\&amp;/g,"&").split(/\s+/g),spaceWidth=getCharWidth(" "),threeDotsWidth=getWordWidth(ellipseText);for(i=0,len=wordArr.length;i<len;i++)if(wordsInLineWidth+=getWordWidth(wordArr[i]),isBr=wordArr[i]==br,wordsInLineWidth>lineWidth||isBr){if(lineNo++,lineNo==maxLine)lineWidth-=threeDotsWidth;else if(lineNo>maxLine){for(leftWidth=lineWidth-wordsInLineWidth-spaceWidth-(maxLine>1?0:threeDotsWidth);leftWidth<0&&wordArr[i];)leftWidth=leftWidth+getWordWidth(wordArr[i])+spaceWidth,leftWidth<0&&(i=i-1);if(result=wordArr.slice(0,i).join(" ").replace(brRegex,"<br>"),wordArr[i]!=br&&ellipseText=="...")for(result=result+" ";leftWidth>0;){for(j=0;j<wordArr[i].length;j++)if(leftWidth=leftWidth-getWordWidth(wordArr[i]),leftWidth>0)result=result+wordArr[i][j];else return result+ellipseText;leftWidth=leftWidth-spaceWidth;leftWidth>0&&(result=result+" ",i++)}return result+(result.length>0&&result[result.length-1]!=" "?" ":"")+ellipseText}wordsInLineWidth=0;isBr||i--}else wordsInLineWidth+=spaceWidth;return myString.replace(brRegex,"<br>").trim()};return generateASCIIwidth(),{getCharWidth:getCharWidth,getWordWidth:getWordWidth,ellipseIt:ellipseIt}}function RecurrenceBuilder(pattern,dtstart,canUncheck){function getDayOfWeekNumber(date){var res=date.getDay()-1;return res<0&&(res=6),res}function RRuleMapper(displayName,rrule,fullname){this.displayName=displayName;this.rrule=rrule;this.fullname=fullname?fullname:""}function addDays(date,days){var result=new Date(date);return result.setDate(date.getDate()+days),result}function getOrderText(number){return number==1?"1st":number==2?"2nd":number==3?"3rd":number+"th"}function setDatePickerButton(mode){mode=="until"?$(".until-wrapper button").prop("disabled",!1):$(".until-wrapper button").prop("disabled",!0)}var _self=this,_maxOccurrencesNumber=20,_defaultOccurrencesNumber=10,_defaultUntilDate=addDays(dtstart,90),rule,_daysOfWeek,i,day,bindElem;if(_self.viewModel={allDaysOfWeek:[new RRuleMapper("Mon",RRule.MO,"Monday"),new RRuleMapper("Tue",RRule.TU,"Tuesday"),new RRuleMapper("Wed",RRule.WE,"Wednesday"),new RRuleMapper("Thu",RRule.TH,"Thursday"),new RRuleMapper("Fri",RRule.FR,"Friday"),new RRuleMapper("Sat",RRule.SA,"Saturday"),new RRuleMapper("Sun",RRule.SU,"Sunday")],frequencies:[new RRuleMapper("Daily",RRule.WEEKLY),new RRuleMapper("Weekly",RRule.WEEKLY),new RRuleMapper("Monthly",RRule.MONTHLY)],enabled:ko.observable(pattern?!0:!1),canUncheck:ko.observable(canUncheck?!0:!1),hasChanges:ko.observable(!1),dtstart:ko.observable(dtstart),endType:ko.observable("occurrences"),endValueOcc:ko.observable(_defaultOccurrencesNumber),endValueUntil:ko.observable(_defaultUntilDate.format("M/dd/yyyy")),monthDayType:ko.observable("bydaynumber")},_self.viewModel.displayFrequencies=[_self.viewModel.frequencies[1],_self.viewModel.frequencies[2]],_self.viewModel.currentDayOfWeek=ko.computed(function(){return _self.viewModel.allDaysOfWeek[getDayOfWeekNumber(_self.viewModel.dtstart())]}),_self.viewModel.daysOfWeek=ko.observableArray([]),_self.viewModel.frequency=ko.observable(_self.viewModel.frequencies[1]),_self.viewModel.frequency.subscribe(function(newValue){newValue===_self.viewModel.frequencies[0]&&_self.viewModel.daysOfWeek(_self.viewModel.allDaysOfWeek.slice(0,5));newValue===_self.viewModel.frequencies[1]&&_self.viewModel.daysOfWeek([_self.viewModel.currentDayOfWeek()])}),_self.viewModel.endValueOcc.subscribe(function(newValue){newValue>_maxOccurrencesNumber?(_self.viewModel.endValueOcc(_maxOccurrencesNumber),$(".validation-icon.occurrence-validation").addClass("visible")):newValue<=0?(_self.viewModel.endValueOcc(1),$(".validation-icon.occurrence-validation").addClass("visible")):$(".validation-icon.occurrence-validation").removeClass("visible")}),_self.viewModel.endValueUntil.subscribe(function(newValue){var rule=_self.viewModel.rule(),newRule=new RRule({freq:rule.options.freq,byweekday:rule.options.byweekday,bymonthday:rule.options.bymonthday,until:Date.fromISO(newValue)}),tempRule,allInstances,lastInstance;newRule.all().length>_maxOccurrencesNumber?(tempRule=new RRule({freq:rule.options.freq,byweekday:rule.options.byweekday,bymonthday:rule.options.bymonthday,count:_maxOccurrencesNumber}),allInstances=tempRule.all(),allInstances.length&&(lastInstance=allInstances[allInstances.length-1],_self.viewModel.endValueUntil(lastInstance.format("M/dd/yyyy")),$(".validation-icon.until-validation").addClass("visible"))):$(".validation-icon.until-validation").removeClass("visible")}),_self.viewModel.endType.subscribe(function(newValue){setDatePickerButton(newValue)}),_self.viewModel.bydaynumber=ko.observable(null),_self.viewModel.byweekday=ko.observable(null),_self.viewModel.setCurrentDateWithUpdate=function(date){_self.viewModel.dtstart(date);var frequency=_self.viewModel.frequency().rrule;return frequency==RRule.MONTHLY||_self.viewModel.daysOfWeek().length<=1?(_self.viewModel.daysOfWeek([_self.viewModel.currentDayOfWeek()]),_self.viewModel.bydaynumber(date.getDate()),_self.viewModel.byweekday({dayOfWeek:_self.viewModel.currentDayOfWeek(),nth:Math.floor((_self.viewModel.bydaynumber()-1)/7)+1}),!0):!1},_self.viewModel.setCurrentDateWithUpdate(dtstart),_self.viewModel.bydaynumberText=ko.computed(function(){return getOrderText(_self.viewModel.bydaynumber())}),_self.viewModel.byweekdayText=ko.computed(function(weekday){var weekday=_self.viewModel.byweekday();return getOrderText(weekday.nth)+" "+weekday.dayOfWeek.fullname}),_self.viewModel.isSectionVisible=function(section){var frq=_self.viewModel.frequency();return section=="days"&&(!frq||frq==_self.viewModel.frequencies[0]||frq==_self.viewModel.frequencies[1])?!0:section=="month"&&frq==_self.viewModel.frequencies[2]?!0:!1},_self.viewModel.sectionsDisplay=ko.computed(function(){var $costDetails=$("#costDetails"),recurrentModeClassName="recurrent-mode";$costDetails.length&&(_self.viewModel.enabled()&&!$costDetails.hasClass(recurrentModeClassName)?($costDetails.addClass(recurrentModeClassName),$("#amountDueLabel").text("Amount due per reservation:")):_self.viewModel.enabled()||($costDetails.removeClass(recurrentModeClassName),$("#amountDueLabel").text("Amount Due:")));_self.viewModel.enabled()?$(".recurrent-notifications").show():$(".recurrent-notifications").hide()}),_self.viewModel.recurringText=ko.computed(function(){return _self.viewModel.enabled()?"Repeat This Booking:":"Repeat This Booking"}),_self.viewModel.rule=ko.computed(function(){var i,count,until,rule;if(!_self.viewModel.enabled())return $(document).trigger("recurrenceRuleChanged"),null;var frequency=_self.viewModel.frequency().rrule,daysOfWeek=_self.viewModel.daysOfWeek(),monthType=_self.viewModel.monthDayType(),_byweekday=[],_bymonthday=null;if(frequency==RRule.MONTHLY)monthType=="byweekday"?_byweekday.push(_self.viewModel.byweekday().dayOfWeek.rrule.nth(_self.viewModel.byweekday().nth)):_bymonthday=_self.viewModel.bydaynumber();else{for(i=0;i<daysOfWeek.length;i++)_byweekday.push(daysOfWeek[i].rrule);_byweekday.length||_byweekday.push(_self.viewModel.currentDayOfWeek().rrule)}return count=null,_self.viewModel.endType()=="occurrences"&&(count=_self.viewModel.endValueOcc()||_defaultOccurrencesNumber),until=null,_self.viewModel.endType()=="until"&&(until=_self.viewModel.endValueUntil()?Date.fromISO(_self.viewModel.endValueUntil()):_defaultUntilDate),rule=new RRule({freq:frequency,byweekday:_byweekday,bymonthday:_bymonthday,count:count,until:until}),_self.viewModel.hasChanges(!0),$(".recurrent-notifications").hide(),$(document).trigger("recurrenceRuleChanged"),rule}),_self.viewModel.ruleText=ko.computed(function(){var rule=_self.viewModel.rule();return rule?rule.toText():""}),_self.viewModel.rulePattern=ko.computed(function(){var rule=_self.viewModel.rule();return rule?rule.toString():""}),pattern){rule=null;try{rule=RRule.fromString(pattern)}catch(ex){}if(rule){if(_daysOfWeek=[],rule.options.byweekday)if(rule.options.byweekday.length==1)_daysOfWeek.push(_self.viewModel.currentDayOfWeek());else for(i=0;i<rule.options.byweekday.length;i++)day=rule.options.byweekday[i],_daysOfWeek.push(_self.viewModel.allDaysOfWeek[day]);rule.options.freq==RRule.MONTHLY?(_self.viewModel.frequency(_self.viewModel.frequencies[2]),rule.options.bynweekday&&rule.options.bynweekday.length&&(_self.viewModel.monthDayType("byweekday"),day=rule.options.bynweekday[0],_self.viewModel.byweekday({dayOfWeek:_self.viewModel.allDaysOfWeek[day[0]],nth:day[1]}))):_self.viewModel.frequency(_self.viewModel.frequencies[1]);rule.options.bymonthday&&rule.options.bymonthday.length&&(_self.viewModel.bydaynumber(rule.options.bymonthday[0]),_self.viewModel.monthDayType("bydaynumber"));_self.viewModel.daysOfWeek.removeAll();_self.viewModel.daysOfWeek(_daysOfWeek);rule.options.count?(_self.viewModel.endType("occurrences"),_self.viewModel.endValueOcc(rule.options.count)):rule.options.until?(_self.viewModel.endType("until"),_self.viewModel.endValueUntil(rule.options.until.format("M/dd/yyyy"))):_self.viewModel.endType("never")}}bindElem=$("#recurrenceBuilderDiv")[0];ko.cleanNode(bindElem);ko.applyBindings(_self.viewModel,bindElem);LSHelper.UI.datePickerP({elem:$(".until-datepicker"),onSelect:function(dateText){_self.viewModel.endValueUntil(dateText)},btnImage:"",enableAnyDate:!1,buttonImageOnly:!1});setDatePickerButton(_self.viewModel.endType());$(".occurrence-number").numeric({negative:!1});$(".validation-icon").tooltipster({maxWidth:400,theme:"tooltipster-validation",content:"Limited to 1.."+_maxOccurrencesNumber+" occurrences",position:"right"})}function FloatlabelInit(){var checkValue=function($elem){var value=$elem.val().trim();$elem.toggleClass("fl-hasvalue",value!=null&&value!="")};$(".fl:not(.fl-i) > input, .fl:not(.fl-i) > textarea").each(function(i,elem){var $elem=$(elem),placeholder=$elem.attr("placeholder"),$parent;$elem.attr("placeholder","");$elem.on("keyup keydown change input",function(){checkValue($(this))});checkValue($elem);$parent=$elem.parent();$parent.addClass("fl-i");$parent.find("label").length==0&&$parent.append($("<label>"+placeholder+"<\/label>"))});$(".fl:not(.fl-i) > select").each(function(i,elem){$(elem).parent().addClass("fl-i")})}var qq,originalComplete,clientside_error_count,LSHelper,IE6,JSON,templateFromUrlLoader,ShareLinksViewModel,DealProposalSavedSearchViewModel,ProposalMemberViewModel,DealProposalDialogMode,LicensePreviewDialog,LicensePreviewDialogLoader,HooRuleSplitEditDialogViewModel,HooRuleSplitEditDialogLoader,koExtend,Imtech,Kicksend,LiquidSpace;typeof exports!="undefined"&&(exports.getCurvePoints=getCurvePoints),function($){var originalValidatorPrototypeElement=$.validator.prototype.element;$.validator.prototype.element=function(element){return $(element).not(this.settings.ignore).length>0?originalValidatorPrototypeElement.call(this,element):(delete this.invalid[element.name],!0)};$.validator.unobtrusive.parseDynamicContent=function(selector){var $selector;if($selector=selector instanceof jQuery?selector:$(selector),$selector.length!==0){$.validator.unobtrusive.parse($selector);return}}}(jQuery),function($){function switchCompareType(compareType,func,value,targetValue){switch(compareType){case"Equal":if(func(value)==func(targetValue))return!0;break;case"MoreThan":if(func(value)<func(targetValue))return!0;break;case"LessThan":if(func(value)>func(targetValue))return!0;break;case"LessOrEqual":if(func(value)>=func(targetValue))return!0;break;case"MoreOrEqual":if(func(value)<=func(targetValue))return!0;break;case"NotEqual":if(func(value)==func(targetValue))return!0;break;default:return!0}}var filterFunction=function(elem){return!(elem.id=="inviteeEmailsText")};$.validator.setDefaults({onkeyup:function(elem){return filterFunction(elem)}});$.validator.addMethod("minimumlengthcheck",function(val,el,params){return val&&val.length>=params?!0:!1});$.validator.unobtrusive.adapters.add("minimumlength",["minimumlength"],function(options){options.rules.minimumlengthcheck=options.params.minimumlength;options.message&&(options.messages.minimumlengthcheck=options.message)});jQuery.validator.addMethod("optionalmindecimal",function(value,element,params){return element.disabled||value.length==0?!0:value!==""?parseFloat(value)>=parseFloat(params)?!0:!1:!0},"");$.validator.unobtrusive.adapters.add("optionalmindecimal",["minimumvalue"],function(options){options.rules.optionalmindecimal=options.params.minimumvalue;options.message&&(options.messages.optionalmindecimal=options.message)});jQuery.validator.addMethod("optionalmaxdecimal",function(value,element,params){return element.disabled||value.length==0?!0:value!==""?parseFloat(value)<=parseFloat(params)?!0:!1:!0},"");$.validator.unobtrusive.adapters.add("optionalmaxdecimal",["maximumvalue"],function(options){options.rules.optionalmaxdecimal=options.params.maximumvalue;options.message&&(options.messages.optionalmaxdecimal=options.message)});$.validator.unobtrusive.adapters.add("phonenumber",["allowinternational"],function(options){options.rules.phonenumber=options.params;options.message&&(options.messages.phonenumber=options.message)});$.validator.addMethod("phonenumber",function(invalue,element,params){var i,internationalNumberPrefix;if(libphonenumber){if($(element).data("phonenumber-formatted")==!0&&$(element).data("phonenumber-formatted",!1),!invalue)return!0;try{var phoneUtil=libphonenumber.PhoneNumberUtil.getInstance(),phoneNumber=null,res=!1;for(i=0;i<SupportedCountries.length;i++)if(phoneNumber=phoneUtil.parse(invalue,SupportedCountries[i]),res=phoneUtil.isValidNumberForRegion(phoneNumber,SupportedCountries[i]),res)return $(element).data("phonenumber-formatted",!0),$(element).val(phoneUtil.format(phoneNumber,libphonenumber.PhoneNumberFormat.INTERNATIONAL)),!0;if(!res&&params.allowinternational=="True"&&(internationalNumberPrefix="+",phoneNumber=invalue.indexOf(internationalNumberPrefix,0)==-1?phoneUtil.parse(internationalNumberPrefix+invalue):phoneUtil.parse(invalue),res=phoneUtil.isValidNumber(phoneNumber),res)||!res&&(Environment==Enum.EnvironmentType.Development||Environment==Enum.EnvironmentType.Staging)&&(phoneNumber=phoneUtil.parse(invalue,"BY"),res=phoneUtil.isValidNumberForRegion(phoneNumber,"BY"),res))return $(element).data("phonenumber-formatted",!0),$(element).val(phoneUtil.format(phoneNumber,libphonenumber.PhoneNumberFormat.INTERNATIONAL)),!0}catch(e){}return!1}else return!0},"");$.validator.unobtrusive.adapters.add("url",["regexpattern"],function(options){options.rules.url=options.params.regexpattern;options.message&&(options.messages.url=options.message)});$.validator.addMethod("url",function(value,element,params){if(value.length!=0){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null}else return!0},"");$.validator.unobtrusive.adapters.add("email",["regexpattern"],function(options){options.rules.email=options.params.regexpattern;options.message&&(options.messages.email=options.message)});$.validator.addMethod("email",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("emaillist",["regexpattern"],function(options){options.rules.emaillist=options.params.regexpattern;options.message&&(options.messages.emaillist=options.message)});$.validator.addMethod("emaillist",function(value,element,params){$(element).trigger("clear.optionalField");value=$(element).val();var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("twitterhandle",["regexpattern"],function(options){options.rules.twitterhandle=options.params.regexpattern;options.message&&(options.messages.twitterhandle=options.message)});$.validator.addMethod("twitterhandle",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("namewithcharacters",["regexpattern"],function(options){options.rules.namewithcharacters=options.params.regexpattern;options.message&&(options.messages.namewithcharacters=options.message)});$.validator.addMethod("namewithcharacters",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("deskcount",["deskcount"],function(options){options.rules.deskcount=options.params;options.message&&(options.messages.deskcount=options.message)});$.validator.addMethod("deskcount",function(value,element,params){return window.viewModel_workspaceEditDesksTable==null||value>=window.viewModel_workspaceEditDesksTable.dataSource().length},"");$.validator.unobtrusive.adapters.add("stringstartingwithcharacterordigit",["regexpattern"],function(options){options.rules.stringstartingwithcharacterordigit=options.params.regexpattern;options.message&&(options.messages.stringstartingwithcharacterordigit=options.message)});$.validator.addMethod("stringstartingwithcharacterordigit",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("price",["regexpattern"],function(options){options.rules.price=options.params.regexpattern;options.message&&(options.messages.price=options.message)});$.validator.addMethod("price",function(value,element,params){if(value!==""){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null}else return!0},"");$.validator.unobtrusive.adapters.add("rationalnumber",["regexpattern"],function(options){options.rules.rationalnumber=options.params.regexpattern;options.message&&(options.messages.rationalnumber=options.message)});$.validator.addMethod("rationalnumber",function(value,element,params){if(value!==""){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null}else return!0},"");$.validator.unobtrusive.adapters.add("nohtmltags",["regexpattern"],function(options){options.rules.nohtmltags=options.params.regexpattern;options.message&&(options.messages.nohtmltags=options.message)});$.validator.addMethod("nohtmltags",function(value,element,params){var re=new RegExp(params,"g");return!re.test(value)},"");$.validator.unobtrusive.adapters.add("naturalnumber",["regexpattern"],function(options){options.rules.naturalnumber=options.params.regexpattern;options.message&&(options.messages.naturalnumber=options.message)});$.validator.addMethod("naturalnumber",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("cannotbeemptylist",["regexpattern"],function(options){options.rules.cannotbeemptylist=options.params.regexpattern;options.message&&(options.messages.cannotbeemptylist=options.message)});$.validator.addMethod("cannotbeemptylist",function(value,element,params){return value&&value.length>0},"");$.validator.unobtrusive.adapters.add("requiredenum",["notallowedvalue"],function(options){options.rules.requiredenum=options.params.notallowedvalue;options.message&&(options.messages.requiredenum=options.message)});$.validator.addMethod("requiredenum",function(value,element,params){return value!=params},"");$.validator.unobtrusive.adapters.add("regexif",["validationparameters","regex"],function(options){options.rules.isregexif=options.params;options.messages.isregexif=options.message});$.validator.addMethod("isregexif",function(value,element,params){return getConditionalValidator(value,element,params,function(value){return new RegExp(params.regex).test(value)})});$.validator.unobtrusive.adapters.add("requiredif",["validationparameters"],function(options){options.rules.isrequiredif=options.params;options.messages.isrequiredif=options.message});$.validator.addMethod("isrequiredif",function(value,element,params){return getConditionalValidator(value,element,params,function(value){return!(value==null||value.length==0)})});$.validator.unobtrusive.adapters.add("rangeif",["validationparameters","min","max"],function(options){options.rules.israngeif=options.params;options.messages.israngeif=options.message});$.validator.addMethod("israngeif",function(value,element,params){return getConditionalValidator(value,element,params,function(value){return parseFloat(value)>=parseFloat(params.min)&&parseFloat(value)<=parseFloat(params.max)})});$.validator.unobtrusive.adapters.add("datecompare",["propertytested","comparetype","ignoreifoneempty"],function(options){options.rules.isdateafter=options.params;options.messages.isdateafter=options.message});$.validator.unobtrusive.adapters.add("intcompare",["propertytested","comparetype","ignoreifoneempty"],function(options){options.rules.intcompare=options.params;options.messages.intcompare=options.message});$.validator.addMethod("intcompare",function(value,element,params){var lastDot=element.name.lastIndexOf("."),el=lastDot==-1?$('[name="'+params.propertytested+'"]'):$('[name="'+element.name.slice(0,lastDot+1)+params.propertytested+'"]'),targetValue=el.val(),errors,validator;return(params.triggeredInside||(params.triggeredInside=!0,errors=this.errorList,validator=$(el[0].form).validate(),validator.element(el)==1&&el.removeClass("input-validation-error"),this.errorList=errors,params.triggeredInside=!1),!value||!targetValue)?params.ignoreifoneempty:isNaN(parseInt(targetValue))||isNaN(parseInt(value))?!0:switchCompareType(params.comparetype,parseInt,targetValue,value)});$.validator.addMethod("requiredifequal",function(value,element,parameters){var id="#"+parameters.dependentproperty,targetvalue=parameters.targetvalue,targetvaluearray,i;for(targetvalue=(targetvalue==null?"":targetvalue).toString(),targetvaluearray=targetvalue.split("|"),i=0;i<targetvaluearray.length;i++){var control=$(id),controltype=control.attr("type"),actualvalue=controltype==="checkbox"?control.is(":checked")?"true":"false":control.val();if(targetvaluearray[i]===actualvalue)return $.validator.methods.required.call(this,value,element,parameters)}return!0});$.validator.unobtrusive.adapters.add("requiredifequal",["dependentproperty","targetvalue"],function(options){options.rules.requiredifequal={dependentproperty:options.params.dependentproperty,targetvalue:options.params.targetvalue};options.messages.requiredifequal=options.message});$.validator.unobtrusive.adapters.add("notequalto",["other"],function(options){options.rules.notEqualTo="#"+options.params.other;options.message&&(options.messages.notEqualTo=options.message)});$.validator.addMethod("notEqualTo",function(value,element,param){return this.optional(element)||value!=$(param).val()},"");$.validator.addMethod("isdateafter",function(value,element,params){function parseTime(timeString){var d=new Date,time=timeString.match(/(\d.)?(\d{1,}):(\d{2,2}):(\d{2,2})/i),day=parseInt(time[1],10)||0,h=parseInt(time[2],10)||0,m=parseInt(time[3],10)||0,s=parseInt(time[4],10)||0;return day>0&&(d=new Date(d.getTime()+day*864e5)),d.setHours(h),d.setMinutes(m),d.setSeconds(s),d}var parts=element.name.split("."),prefix="",el,startdatevalue,errors,validator,year;return(parts.length>1&&(prefix=parts[0]+"."),el=$('[name="'+prefix+params.propertytested+'"]'),startdatevalue=el.val(),params.triggeredInside||(params.triggeredInside=!0,errors=this.errorList,validator=$(el[0].form).validate(),validator.element(el)==1&&el.removeClass("input-validation-error"),this.errorList=errors,params.triggeredInside=!1),!value||!startdatevalue)?params.ignoreifoneempty:(year="/"+(new Date).getFullYear(),(Date.parse(startdatevalue)||Date.parse(startdatevalue+year))&&(Date.parse(value)||Date.parse(value+year))?Date.parse(startdatevalue)&&Date.parse(value)?switchCompareType(params.comparetype,Date.parse,startdatevalue,value):switchCompareType(params.comparetype,Date.parse,startdatevalue+year,value+year):switchCompareType(params.comparetype,parseTime,startdatevalue,value))},"");$.validator.unobtrusive.adapters.add("youtubevideourl",["regexpattern"],function(options){options.rules.youtubevideourl=options.params.regexpattern;options.message&&(options.messages.youtubevideourl=options.message)});$.validator.addMethod("youtubevideourl",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("requiredguid",function(options){options.message&&(options.messages.requiredguid=options.message)});$.validator.addMethod("requiredguid",function(value,element,params){return value!=""&&value!=Guid.Empty},"")}(jQuery);$.ui.autocomplete.prototype._renderItem=function(ul,item){var rendered=$("<a><\/a>").text(item.label);return typeof this.options.renderItem!="undefined"&&$.isFunction(this.options.renderItem)&&(rendered=this.options.renderItem(item)),rendered&&rendered.length>0?$("<li><\/li>").data("item.autocomplete",item).append(rendered).appendTo(ul):$("<li><\/li>").appendTo(ul)};$.ui.tabs.prototype.__trigger=$.ui.tabs.prototype._trigger;$.ui.tabs.prototype._trigger=function(b,c,d){var grids,e,f,g;if(b=="show"&&(grids=$(d.panel).find(".kgGrid"),grids.length>0&&$.each(grids,function(i,grid){var g=eval("window.viewModel_"+grid.id);$(grid).find(".kgViewport").scrollTop(g.scrollPosition())})),g=this.options[b],d=d||{},c=$.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!($.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())};$.ui.dialog.prototype._moveToTop=function(event,silent){var moved=!1,zIndices=this.uiDialog.siblings(".ui-front:visible:not(.ui-autocomplete)").map(function(){return+$(this).css("z-index")}).get(),zIndexMax=Math.max.apply(null,zIndices);return zIndexMax>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",zIndexMax+1),moved=!0),moved&&!silent&&this._trigger("focus",event),moved};
/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-05-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * @website: http://www.datejs.com/
 */
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,p=function(s,l){return l||(l=2),("000"+s).slice(l*-1)},$y,$m,$d;$P.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this};$P.setTimeToNow=function(){var n=new Date;return this.setHours(n.getHours()),this.setMinutes(n.getMinutes()),this.setSeconds(n.getSeconds()),this.setMilliseconds(n.getMilliseconds()),this};$D.today=function(){return(new Date).clearTime()};$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2))throw new Error(date1+" - "+date2);else if(date1 instanceof Date&&date2 instanceof Date)return date1<date2?-1:date1>date2?1:0;else throw new TypeError(date1+" - "+date2);};$D.equals=function(date1,date2){return date1.compareTo(date2)===0};$D.getDayNumberFromName=function(name){for(var n=$C.dayNames,m=$C.abbreviatedDayNames,o=$C.shortestDayNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s||o[i].toLowerCase()==s)return i;return-1};$D.getMonthNumberFromName=function(name){for(var n=$C.monthNames,m=$C.abbreviatedMonthNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s)return i;return-1};$D.isLeapYear=function(year){return year%4==0&&year%100!=0||year%400==0};$D.getDaysInMonth=function(year,month){return[31,$D.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]};$D.getTimezoneAbbreviation=function(offset){for(var z=$C.timezones,p,i=0;i<z.length;i++)if(z[i].offset===offset)return z[i].name;return null};$D.getTimezoneOffset=function(name){for(var z=$C.timezones,p,i=0;i<z.length;i++)if(z[i].name===name.toUpperCase())return z[i].offset;return null};$P.clone=function(){return new Date(this.getTime())};$P.compareTo=function(date){return Date.compare(this,date)};$P.equals=function(date){return Date.equals(this,date||new Date)};$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()};$P.isAfter=function(date){return this.compareTo(date||new Date)===1};$P.isBefore=function(date){return this.compareTo(date||new Date)===-1};$P.isToday=function(){return this.isSameDay(new Date)};$P.isSameDay=function(date){return this.clone().clearTime().equals(date.clone().clearTime())};$P.addMilliseconds=function(value){return this.setMilliseconds(this.getMilliseconds()+value),this};$P.addSeconds=function(value){return this.addMilliseconds(value*1e3)};$P.addMinutes=function(value){return this.addMilliseconds(value*6e4)};$P.addHours=function(value){return this.addMilliseconds(value*36e5)};$P.addDays=function(value){return this.setDate(this.getDate()+value),this};$P.addWeeks=function(value){return this.addDays(value*7)};$P.addMonths=function(value){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+value),this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth()))),this};$P.addYears=function(value){return this.addMonths(value*12)};$P.add=function(config){if(typeof config=="number")return this._orient=config,this;var x=config;return x.milliseconds&&this.addMilliseconds(x.milliseconds),x.seconds&&this.addSeconds(x.seconds),x.minutes&&this.addMinutes(x.minutes),x.hours&&this.addHours(x.hours),x.weeks&&this.addWeeks(x.weeks),x.months&&this.addMonths(x.months),x.years&&this.addYears(x.years),x.days&&this.addDays(x.days),this};$P.getWeek=function(){var a,b,c,d,e,f,g,n,s,w;return $y=$y?$y:this.getFullYear(),$m=$m?$m:this.getMonth()+1,$d=$d?$d:this.getDate(),$m<=2?(a=$y-1,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=0,f=$d-1+31*($m-1)):(a=$y,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=s+1,f=$d+(153*($m-3)+2)/5+58+s),g=(a+b)%7,d=(f+g-e)%7,n=f+3-d|0,w=n<0?53-((g-s)/5|0):n>364+s?1:(n/7|0)+1,$y=$m=$d=null,w};$P.getISOWeek=function(){return $y=this.getUTCFullYear(),$m=this.getUTCMonth()+1,$d=this.getUTCDate(),p(this.getWeek())};$P.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek())};$D._validate=function(n,min,max,name){if(typeof n=="undefined")return!1;else if(typeof n!="number")throw new TypeError(n+" is not a Number.");else if(n<min||n>max)throw new RangeError(n+" is not a valid value for "+name+".");return!0};$D.validateMillisecond=function(value){return $D._validate(value,0,999,"millisecond")};$D.validateSecond=function(value){return $D._validate(value,0,59,"second")};$D.validateMinute=function(value){return $D._validate(value,0,59,"minute")};$D.validateHour=function(value){return $D._validate(value,0,23,"hour")};$D.validateDay=function(value,year,month){return $D._validate(value,1,$D.getDaysInMonth(year,month),"day")};$D.validateMonth=function(value){return $D._validate(value,0,11,"month")};$D.validateYear=function(value){return $D._validate(value,0,9999,"year")};$P.set=function(config){return $D.validateMillisecond(config.millisecond)&&this.addMilliseconds(config.millisecond-this.getMilliseconds()),$D.validateSecond(config.second)&&this.addSeconds(config.second-this.getSeconds()),$D.validateMinute(config.minute)&&this.addMinutes(config.minute-this.getMinutes()),$D.validateHour(config.hour)&&this.addHours(config.hour-this.getHours()),$D.validateMonth(config.month)&&this.addMonths(config.month-this.getMonth()),$D.validateYear(config.year)&&this.addYears(config.year-this.getFullYear()),$D.validateDay(config.day,this.getFullYear(),this.getMonth())&&this.addDays(config.day-this.getDate()),config.timezone&&this.setTimezone(config.timezone),config.timezoneOffset&&this.setTimezoneOffset(config.timezoneOffset),config.week&&$D._validate(config.week,0,53,"week")&&this.setWeek(config.week),this};$P.moveToFirstDayOfMonth=function(){return this.set({day:1})};$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})};$P.moveToNthOccurrence=function(dayOfWeek,occurrence){var shift=0;if(occurrence>0)shift=occurrence-1;else if(occurrence===-1)return this.moveToLastDayOfMonth(),this.getDay()!==dayOfWeek&&this.moveToDayOfWeek(dayOfWeek,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,1).addWeeks(shift)};$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||1))%7;return this.addDays(diff===0?diff+=7*(orient||1):diff)};$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||1))%12;return this.addMonths(diff===0?diff+=12*(orient||1):diff)};$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1};$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset())};$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=Number(offset)*-6/10;return this.addMinutes(there-here)};$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))};$P.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};$P.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};$P.getUTCOffset=function(){var n=this.getTimezoneOffset()*-10/6,r;return n<0?(r=(n-1e4).toString(),r.charAt(0)+r.substr(2)):(r=(n+1e4).toString(),"+"+r.substr(1))};$P.getElapsed=function(date){return(date||new Date)-this};$P.toISOString||($P.toISOString=function(){function f(n){return n<10?"0"+n:n}return'"'+this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+'Z"'});$P._toString=$P.toString;$P.toString=function(format){var x=this,c,ord;if(format&&format.length==1){c=$C.formatPatterns;x.t=x.toString;switch(format){case"d":return x.t(c.shortDate);case"D":return x.t(c.longDate);case"F":return x.t(c.fullDateTime);case"m":return x.t(c.monthDay);case"r":return x.t(c.rfc1123);case"s":return x.t(c.sortableDateTime);case"t":return x.t(c.shortTime);case"T":return x.t(c.longTime);case"u":return x.t(c.universalSortableDateTime);case"y":return x.t(c.yearMonth)}}return ord=function(n){switch(n*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},format?format.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(m){if(m.charAt(0)==="\\")return m.replace("\\","");x.h=x.getHours;switch(m){case"hh":return p(x.h()<13?x.h()===0?12:x.h():x.h()-12);case"h":return x.h()<13?x.h()===0?12:x.h():x.h()-12;case"HH":return p(x.h());case"H":return x.h();case"mm":return p(x.getMinutes());case"m":return x.getMinutes();case"ss":return p(x.getSeconds());case"s":return x.getSeconds();case"yyyy":return p(x.getFullYear(),4);case"yy":return p(x.getFullYear());case"dddd":return $C.dayNames[x.getDay()];case"ddd":return $C.abbreviatedDayNames[x.getDay()];case"dd":return p(x.getDate());case"d":return x.getDate();case"MMMM":return $C.monthNames[x.getMonth()];case"MMM":return $C.abbreviatedMonthNames[x.getMonth()];case"MM":return p(x.getMonth()+1);case"M":return x.getMonth()+1;case"t":return x.h()<12?$C.amDesignator.substring(0,1):$C.pmDesignator.substring(0,1);case"tt":return x.h()<12?$C.amDesignator:$C.pmDesignator;case"S":return ord(x.getDate());default:return m}}):this._toString()}}(),function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,$N=Number.prototype,df,sdf,i,mf,smf,j,ef,nf,k,nthfn,l;$P._orient=1;$P._nth=null;$P._is=!1;$P._same=!1;$P._isSecond=!1;$N._dateElement="day";$P.next=function(){return this._orient=1,this};$D.next=function(){return $D.today().next()};$P.last=$P.prev=$P.previous=function(){return this._orient=-1,this};$D.last=$D.prev=$D.previous=function(){return $D.today().last()};$P.is=function(){return this._is=!0,this};$P.same=function(){return this._same=!0,this._isSecond=!1,this};$P.today=function(){return this.same().day()};$P.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};$P.at=function(time){return typeof time=="string"?$D.parse(this.toString("d")+" "+time):this.set(time)};$N.fromNow=$N.after=function(date){var c={};return c[this._dateElement]=this,(date?date.clone():new Date).add(c)};$N.ago=$N.before=function(date){var c={};return c[this._dateElement]=this*-1,(date?date.clone():new Date).add(c)};var dx="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),mx="january february march april may june july august september october november december".split(/\s/),px="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),pxf="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),nth="final first second third fourth fifth".split(/\s/),de;for($P.toObject=function(){for(var o={},i=0;i<px.length;i++)o[px[i].toLowerCase()]=this["get"+pxf[i]]();return o},$D.fromObject=function(config){return config.week=null,Date.today().set(config)},df=function(n){return function(){var ntemp,temp;if(this._is)return this._is=!1,this.getDay()==n;if(this._nth!==null){if(this._isSecond&&this.addSeconds(this._orient*-1),this._isSecond=!1,ntemp=this._nth,this._nth=null,temp=this.clone().moveToLastDayOfMonth(),this.moveToNthOccurrence(n,ntemp),this>temp)throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".");return this}return this.moveToDayOfWeek(n,this._orient)}},sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();return n===0&&$C.firstDayOfWeek===1&&t.getDay()!==0&&(shift=shift+7),t.addDays(shift)}},i=0;i<dx.length;i++)$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i,$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i),$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i);for(mf=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},smf=function(n){return function(){return $D.today().set({month:n,day:1})}},j=0;j<mx.length;j++)$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j,$D[mx[j]]=$D[mx[j].substring(0,3)]=smf(j),$P[mx[j]]=$P[mx[j].substring(0,3)]=mf(j);for(ef=function(j){return function(){var m;if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var o1=this.toObject(),o2=(arguments[0]||new Date).toObject(),v="",k=j.toLowerCase();for(m=px.length-1;m>-1;m--){if(v=px[m].toLowerCase(),o1[v]!=o2[v])return!1;if(k==v)break}return!0}return j.substring(j.length-1)!="s"&&(j+="s"),this["add"+j](this._orient)}},nf=function(n){return function(){return this._dateElement=n,this}},k=0;k<px.length;k++)de=px[k].toLowerCase(),$P[de]=$P[de+"s"]=ef(px[k]),$N[de]=$N[de+"s"]=nf(de);for($P._ss=ef("Second"),nthfn=function(n){return function(dayOfWeek){return this._same?this._ss(arguments[0]):dayOfWeek||dayOfWeek===0?this.moveToNthOccurrence(dayOfWeek,n):(this._nth=n,n===2&&(dayOfWeek===undefined||dayOfWeek===null))?(this._isSecond=!0,this.addSeconds(this._orient)):this}},l=0;l<nth.length;l++)$P[nth[l]]=l===0?nthfn(-1):nthfn(l)}(),function(){var i,_vector,vx,j;Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};var $P=Date.Parsing,_=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx)return[mx[0],s.substring(mx[0].length)];else throw new $P.Exception(s);}},token:function(s){return function(s){return _.rtoken(new RegExp("^s*"+s+"s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){for(var qx=[],rx=null;s.length;){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]);s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){for(var rx=[],r=null;s.length;){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]);s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s);}},ignore:function(p){return p?function(s){var r=null;return r=p.call(this,s),[null,r[1]]}:null},product:function(){for(var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[],i=0;i<px.length;i++)rx.push(_.each(px[i],qx));return rx},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=cache[s]||rule.call(this,s)}catch(e){r=cache[s]=e}if(r instanceof $P.Exception)throw r;else return r}},any:function(){var px=arguments;return function(s){for(var r=null,i=0;i<px.length;i++)if(px[i]!=null){try{r=px[i].call(this,s)}catch(e){r=null}if(r)return r}throw new $P.Exception(s);}},each:function(){var px=arguments;return function(s){for(var rx=[],r=null,i=0;i<px.length;i++)if(px[i]!=null){try{r=px[i].call(this,s)}catch(e){throw new $P.Exception(s);}rx.push(r[0]);s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){return(d=d||_.rtoken(/^\s*/),c=c||null,px.length==1)?px[0]:function(s){for(var r=null,q=null,rx=[],i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r)throw new $P.Exception(s);if(q)throw new $P.Exception(q[1]);if(c)try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1]);}return[rx,r?r[1]:s]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c))},set:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,function(s){for(var qx,j,r=null,p=null,q=null,rx=null,best=[[],s],last=!1,i=0;i<px.length;i++){q=null;p=null;r=null;last=px.length==1;try{r=px[i].call(this,s)}catch(e){continue}if(rx=[[r[0]],r[1]],r[1].length>0&&!last)try{q=d.call(this,r[1])}catch(ex){last=!0}else last=!0;if(last||q[1].length!==0||(last=!0),!last){for(qx=[],j=0;j<px.length;j++)i!=j&&qx.push(px[j]);p=_.set(qx,d).call(this,q[1]);p[0].length>0&&(rx[0]=rx[0].concat(p[0]),rx[1]=p[1])}if(rx[1].length<best[1].length&&(best=rx),best[1].length===0)break}if(best[0].length===0)return best;if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1]);}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min)throw new $P.Exception(s);return rx}}},_generator=function(op){return function(){var args=null,rx=[],i,px;if(arguments.length>1?args=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(args=arguments[0]),args)for(i=0,px=args.shift();i<px.length;i++)return args.unshift(px[i]),rx.push(op.apply(null,args)),args.shift(),rx;else return op.apply(null,arguments)}},gx="optional not ignore cache".split(/\s/);for(i=0;i<gx.length;i++)_[gx[i]]=_generator(_[gx[i]]);for(_vector=function(op){return function(){return arguments[0]instanceof Array?op.apply(null,arguments[0]):op.apply(null,arguments)}},vx="each any all".split(/\s/),j=0;j<vx.length;j++)_[vx[j]]=_vector(_[vx[j]])}(),function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,flattenAndCompact=function(ax){for(var rx=[],i=0;i<ax.length;i++)ax[i]instanceof Array?rx=rx.concat(flattenAndCompact(ax[i])):ax[i]&&rx.push(ax[i]);return rx},_C,_F,_get;$D.Grammar={};$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");n.length?this.timezoneOffset=Number(n):this.timezone=s.toLowerCase()}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0])}},month:function(s){return function(){this.month=s.length==3?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1}},year:function(s){return function(){var n=Number(s);this.year=s.length>2?n:n+(n+2e3<$C.twoDigitYearMax?2e3:1900)}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=!0;break}}},finishExact:function(x){var i,now,r;for(x=x instanceof Array?x:[x],i=0;i<x.length;i++)x[i]&&x[i].call(this);if(now=new Date,!(this.hour||this.minute)||this.month||this.year||this.day||(this.day=now.getDate()),this.year||(this.year=now.getFullYear()),this.month||this.month===0||(this.month=now.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0)),this.day>$D.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");return r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second),this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(x){var i,today,expression,gap,mod,orient,temp;if(x=x instanceof Array?flattenAndCompact(x):[x],x.length===0)return null;for(i=0;i<x.length;i++)typeof x[i]=="function"&&x[i].call(this);if(today=$D.today(),!this.now||this.unit||this.operator)this.now&&(today=new Date);else return new Date;return(expression=!!(this.days&&this.days!==null||this.orient||this.operator),orient=this.orient=="past"||this.operator=="subtract"?-1:1,this.now||"hour minute second".indexOf(this.unit)==-1||today.setTimeToNow(),(this.month||this.month===0)&&"year day hour minute second".indexOf(this.unit)!=-1&&(this.value=this.month+1,this.month=null,expression=!0),expression||!this.weekday||this.day||this.days||(temp=Date[this.weekday](),this.day=temp.getDate(),this.month||(this.month=temp.getMonth()),this.year=temp.getFullYear()),expression&&this.weekday&&this.unit!="month"&&(this.unit="day",gap=$D.getDayNumberFromName(this.weekday)-today.getDay(),mod=7,this.days=gap?(gap+orient*mod)%mod:orient*mod),this.month&&this.unit=="day"&&this.operator&&(this.value=this.month+1,this.month=null),this.value!=null&&this.month!=null&&this.year!=null&&(this.day=this.value*1),this.month&&!this.day&&this.value&&(today.set({day:this.value*1}),expression||(this.day=this.value*1)),this.month||!this.value||this.unit!="month"||this.now||(this.month=this.value,expression=!0),expression&&(this.month||this.month===0)&&this.unit!="year"&&(this.unit="month",gap=this.month-today.getMonth(),mod=12,this.months=gap?(gap+orient*mod)%mod:orient*mod,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null?this[this.unit+"s"]=this[this.unit+"s"]+(this.operator=="add"?1:-1)+(this.value||0)*orient:(this[this.unit+"s"]==null||this.operator!=null)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*orient),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0)),!this.weekday||this.day||this.days||(temp=Date[this.weekday](),this.day=temp.getDate(),temp.getMonth()!==today.getMonth()&&(this.month=temp.getMonth())),(this.month||this.month===0)&&!this.day&&(this.day=1),!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month)?Date.today().setWeek(this.value):(expression&&this.timezone&&this.day&&this.days&&(this.day=this.days),expression?today.add(this):today.set(this))}};var _=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator,_fn;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter=_.stoken(":");g.whiteSpace=_.rtoken(/^\s*/);g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);_C={};g.ctoken=function(keys){var fn=_C[keys],i;if(!fn){var c=$C.regexPatterns,kx=keys.split(/\s+/),px=[];for(i=0;i<kx.length;i++)px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));fn=_C[keys]=_.any.apply(null,px)}return fn};g.ctoken2=function(key){return _.rtoken($C.regexPatterns[key])};g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour));g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour));g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour));g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour));g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute));g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute));g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second));g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second));g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter));g.t=_.cache(_.process(g.ctoken2("shortMeridian"),t.meridian));g.tt=_.cache(_.process(g.ctoken2("longMeridian"),t.meridian));g.z=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone));g.zz=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone));g.zzz=_.cache(_.process(g.ctoken2("timezone"),t.timezone));g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz]));g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix);g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2("ordinalSuffix"))),t.day));g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2("ordinalSuffix"))),t.day));g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}}));g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month));g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month));g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month));g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year));g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year));g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year));g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year));_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))};g.day=_fn(g.d,g.dd);g.month=_fn(g.M,g.MMM);g.year=_fn(g.yyyy,g.yy);g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}});g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}});g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday);g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}});g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}});g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);_fn=function(){return _.set(arguments,g.datePartDelimiter)};g.mdy=_fn(g.ddd,g.month,g.day,g.year);g.ymd=_fn(g.ddd,g.year,g.month,g.day);g.dmy=_fn(g.ddd,g.day,g.month,g.year);g.date=function(s){return(g[$C.dateElementOrder]||g.mdy).call(this,s)};g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt])return g[fmt];else throw $D.Parsing.Exception(fmt);}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});_F={};_get=function(f){return _F[f]=_F[f]||g.format(f)[0]};g.formats=function(fx){var rx,i;if(fx instanceof Array){for(rx=[],i=0;i<fx.length;i++)rx.push(_get(fx[i]));return _.any.apply(null,rx)}else return _get(fx)};g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish);g.start=function(s){try{var r=g._formats.call({},s);if(r[1].length===0)return r}catch(e){}return g._start.call({},s)};$D._parse=$D.parse;$D.parse=function(s){var r=null;if(!s)return null;if(s instanceof Date)return s;try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}return r[1].length===0?r[0]:null};$D.getParseFunction=function(fx){var fn=$D.Grammar.formats(fx);return function(s){var r=null;try{r=fn.call({},s)}catch(e){return null}return r[1].length===0?r[0]:null}};$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}}();
/*!
 * jQuery Form Plugin
 * version: 3.50.0-2014.02.05
 * Requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):factory(typeof jQuery!="undefined"?jQuery:window.Zepto)})(function($){"use strict";function doAjaxSubmit(e){var options=e.data;e.isDefaultPrevented()||(e.preventDefault(),$(e.target).ajaxSubmit(options))}function captureSubmittingElement(e){var target=e.target,$el=$(target),t,form,offset;if(!$el.is("[type=submit],[type=image]")){if(t=$el.closest("[type=submit]"),t.length===0)return;target=t[0]}form=this;form.clk=target;target.type=="image"&&(e.offsetX!==undefined?(form.clk_x=e.offsetX,form.clk_y=e.offsetY):typeof $.fn.offset=="function"?(offset=$el.offset(),form.clk_x=e.pageX-offset.left,form.clk_y=e.pageY-offset.top):(form.clk_x=e.pageX-target.offsetLeft,form.clk_y=e.pageY-target.offsetTop));setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)}function log(){if($.fn.ajaxSubmit.debug){var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(msg):window.opera&&window.opera.postError&&window.opera.postError(msg)}}var feature={},hasProp;feature.fileapi=$("<input type='file'/>").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp)return this.attr.apply(this,arguments);var val=this.prop.apply(this,arguments);return val&&val.jquery||typeof val=="string"?val:this.attr.apply(this,arguments)};$.fn.ajaxSubmit=function(options){function deepSerialize(extraData){for(var serialized=$.param(extraData,options.traditional).split("&"),len=serialized.length,result=[],part,i=0;i<len;i++)serialized[i]=serialized[i].replace(/\+/g," "),part=serialized[i].split("="),result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])]);return result}function fileUploadXhr(a){for(var serializedData,s,beforeSend,formdata=new FormData,i=0;i<a.length;i++)formdata.append(a[i].name,a[i].value);if(options.extraData)for(serializedData=deepSerialize(options.extraData),i=0;i<serializedData.length;i++)serializedData[i]&&formdata.append(serializedData[i][0],serializedData[i][1]);return options.data=null,s=$.extend(!0,{},$.ajaxSettings,options,{contentType:!1,processData:!1,cache:!1,type:method||"POST"}),options.uploadProgress&&(s.xhr=function(){var xhr=$.ajaxSettings.xhr();return xhr.upload&&xhr.upload.addEventListener("progress",function(event){var percent=0,position=event.loaded||event.position,total=event.total;event.lengthComputable&&(percent=Math.ceil(position/total*100));options.uploadProgress(event,position,total,percent)},!1),xhr}),s.data=null,beforeSend=s.beforeSend,s.beforeSend=function(xhr,o){o.data=options.formData?options.formData:formdata;beforeSend&&beforeSend.call(this,xhr,o)},$.ajax(s)}function fileUploadIframe(a){function getDoc(frame){var doc=null;try{frame.contentWindow&&(doc=frame.contentWindow.document)}catch(err){log("cannot get iframe.contentWindow document: "+err)}if(doc)return doc;try{doc=frame.contentDocument?frame.contentDocument:frame.document}catch(err){log("cannot get iframe.contentDocument: "+err);doc=frame.document}return doc}function doSubmit(){function checkState(){try{var state=getDoc(io).readyState;log("state = "+state);state&&state.toLowerCase()=="uninitialized"&&setTimeout(checkState,50)}catch(e){log("Server abort: ",e," (",e.name,")");cb(SERVER_ABORT);timeoutHandle&&clearTimeout(timeoutHandle);timeoutHandle=undefined}}var t=$form.attr2("target"),a=$form.attr2("action"),mp="multipart/form-data",et=$form.attr("enctype")||$form.attr("encoding")||mp,extraInputs,n,submitFn;form.setAttribute("target",id);(!method||/post/i.test(method))&&form.setAttribute("method","POST");a!=s.url&&form.setAttribute("action",s.url);s.skipEncodingOverride||method&&!/post/i.test(method)||$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});s.timeout&&(timeoutHandle=setTimeout(function(){timedOut=!0;cb(CLIENT_TIMEOUT_ABORT)},s.timeout));extraInputs=[];try{if(s.extraData)for(n in s.extraData)s.extraData.hasOwnProperty(n)&&($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty("name")&&s.extraData[n].hasOwnProperty("value")?extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">').val(s.extraData[n].value).appendTo(form)[0]):extraInputs.push($('<input type="hidden" name="'+n+'">').val(s.extraData[n]).appendTo(form)[0]));s.iframeTarget||$io.appendTo("body");io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,!1);setTimeout(checkState,15);try{form.submit()}catch(err){submitFn=document.createElement("form").submit;submitFn.apply(form)}}finally{form.setAttribute("action",a);form.setAttribute("enctype",et);t?form.setAttribute("target",t):$form.removeAttr("target");$(extraInputs).remove()}}function cb(e){var status,errMsg,isXml,docRoot,dt,scr,ta,pre,b;if(!xhr.aborted&&!callbackProcessed){if(doc=getDoc(io),doc||(log("cannot access response document"),e=SERVER_ABORT),e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort("timeout");deferred.reject(xhr,"timeout");return}else if(e==SERVER_ABORT&&xhr){xhr.abort("server abort");deferred.reject(xhr,"error","server abort");return}if(doc&&doc.location.href!=s.iframeSrc||timedOut){io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,!1);status="success";try{if(timedOut)throw"timeout";if(isXml=s.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc),log("isXml="+isXml),!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML)&&--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;isXml&&(s.dataType="xml");xhr.getResponseHeader=function(header){var headers={"content-type":s.dataType};return headers[header.toLowerCase()]};docRoot&&(xhr.status=Number(docRoot.getAttribute("status"))||xhr.status,xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText);dt=(s.dataType||"").toLowerCase();scr=/(json|script|text)/.test(dt);scr||s.textarea?(ta=doc.getElementsByTagName("textarea")[0],ta?(xhr.responseText=ta.value,xhr.status=Number(ta.getAttribute("status"))||xhr.status,xhr.statusText=ta.getAttribute("statusText")||xhr.statusText):scr&&(pre=doc.getElementsByTagName("pre")[0],b=doc.getElementsByTagName("body")[0],pre?xhr.responseText=pre.textContent?pre.textContent:pre.innerText:b&&(xhr.responseText=b.textContent?b.textContent:b.innerText))):dt=="xml"&&!xhr.responseXML&&xhr.responseText&&(xhr.responseXML=toXml(xhr.responseText));try{data=httpData(xhr,dt,s)}catch(err){status="parsererror";xhr.error=errMsg=err||status}}catch(err){log("error caught: ",err);status="error";xhr.error=errMsg=err||status}xhr.aborted&&(log("upload aborted"),status=null);xhr.status&&(status=xhr.status>=200&&xhr.status<300||xhr.status===304?"success":"error");status==="success"?(s.success&&s.success.call(s.context,data,"success",xhr),deferred.resolve(xhr.responseText,"success",xhr),g&&$.event.trigger("ajaxSuccess",[xhr,s])):status&&(errMsg===undefined&&(errMsg=xhr.statusText),s.error&&s.error.call(s.context,xhr,status,errMsg),deferred.reject(xhr,"error",errMsg),g&&$.event.trigger("ajaxError",[xhr,s,errMsg]));g&&$.event.trigger("ajaxComplete",[xhr,s]);g&&!--$.active&&$.event.trigger("ajaxStop");s.complete&&s.complete.call(s.context,xhr,status);callbackProcessed=!0;s.timeout&&clearTimeout(timeoutHandle);setTimeout(function(){s.iframeTarget?$io.attr("src",s.iframeSrc):$io.remove();xhr.responseXML=null},100)}}}var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle,deferred=$.Deferred(),CLIENT_TIMEOUT_ABORT,SERVER_ABORT,csrf_token,csrf_param,data,doc,domCheckCount,callbackProcessed;if(deferred.abort=function(status){xhr.abort(status)},a)for(i=0;i<elements.length;i++)el=$(elements[i]),hasProp?el.prop("disabled",!1):el.removeAttr("disabled");if(s=$.extend(!0,{},$.ajaxSettings,options),s.context=s.context||s,id="jqFormIO"+(new Date).getTime(),s.iframeTarget?($io=$(s.iframeTarget),n=$io.attr2("name"),n?id=n:$io.attr2("name",id)):($io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />'),$io.css({position:"absolute",top:"-1000px",left:"-1000px"})),io=$io[0],xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=status==="timeout"?"timeout":"aborted";log("aborting upload... "+e);this.aborted=1;try{io.contentWindow.document.execCommand&&io.contentWindow.document.execCommand("Stop")}catch(ignore){}$io.attr("src",s.iframeSrc);xhr.error=e;s.error&&s.error.call(s.context,xhr,e,status);g&&$.event.trigger("ajaxError",[xhr,s,e]);s.complete&&s.complete.call(s.context,xhr,e)}},g=s.global,g&&0==$.active++&&$.event.trigger("ajaxStart"),g&&$.event.trigger("ajaxSend",[xhr,s]),s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===!1)return s.global&&$.active--,deferred.reject(),deferred;if(xhr.aborted)return deferred.reject(),deferred;sub=form.clk;sub&&(n=sub.name,n&&!sub.disabled&&(s.extraData=s.extraData||{},s.extraData[n]=sub.value,sub.type=="image"&&(s.extraData[n+".x"]=form.clk_x,s.extraData[n+".y"]=form.clk_y)));CLIENT_TIMEOUT_ABORT=1;SERVER_ABORT=2;csrf_token=$("meta[name=csrf-token]").attr("content");csrf_param=$("meta[name=csrf-param]").attr("content");csrf_param&&csrf_token&&(s.extraData=s.extraData||{},s.extraData[csrf_param]=csrf_token);s.forceSync?doSubmit():setTimeout(doSubmit,10);domCheckCount=50;var toXml=$.parseXML||function(s,doc){return window.ActiveXObject?(doc=new ActiveXObject("Microsoft.XMLDOM"),doc.async="false",doc.loadXML(s)):doc=(new DOMParser).parseFromString(s,"text/xml"),doc&&doc.documentElement&&doc.documentElement.nodeName!="parsererror"?doc:null},parseJSON=$.parseJSON||function(s){return window.eval("("+s+")")},httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;return xml&&data.documentElement.nodeName==="parsererror"&&$.error&&$.error("parsererror"),s&&s.dataFilter&&(data=s.dataFilter(data,type)),typeof data=="string"&&(type==="json"||!type&&ct.indexOf("json")>=0?data=parseJSON(data):(type==="script"||!type&&ct.indexOf("javascript")>=0)&&$.globalEval(data)),data};return deferred}var method,action,url,$form,veto,traditional,elements,qx,a,q,callbacks,oldSuccess,oldError,oldComplete,shouldUseFrame,jqxhr,k;if(!this.length)return log("ajaxSubmit: skipping submit process - no element selected"),this;if($form=this,typeof options=="function"?options={success:options}:options===undefined&&(options={}),method=options.type||this.attr2("method"),action=options.url||this.attr2("action"),url=typeof action=="string"?$.trim(action):"",url=url||window.location.href||"",url&&(url=(url.match(/^([^#]+)/)||[])[1]),options=$.extend(!0,{url:url,success:$.ajaxSettings.success,type:method||$.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options),veto={},this.trigger("form-pre-serialize",[this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(options.beforeSerialize&&options.beforeSerialize(this,options)===!1)return log("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(traditional=options.traditional,traditional===undefined&&(traditional=$.ajaxSettings.traditional),elements=[],a=this.formToArray(options.semantic,elements),options.data&&(options.extraData=options.data,qx=$.param(options.data,traditional)),options.beforeSubmit&&options.beforeSubmit(a,this,options)===!1)return log("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;q=$.param(a,traditional);qx&&(q=q?q+"&"+qx:qx);options.type.toUpperCase()=="GET"?(options.url+=(options.url.indexOf("?")>=0?"&":"?")+q,options.data=null):options.data=q;callbacks=[];options.resetForm&&callbacks.push(function(){$form.resetForm()});options.clearForm&&callbacks.push(function(){$form.clearForm(options.includeHidden)});!options.dataType&&options.target?(oldSuccess=options.success||function(){},callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})):options.success&&callbacks.push(options.success);options.success=function(data,status,xhr){for(var context=options.context||this,i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form])};options.error&&(oldError=options.error,options.error=function(xhr,status,error){var context=options.context||this;oldError.apply(context,[xhr,status,error,$form])});options.complete&&(oldComplete=options.complete,options.complete=function(xhr,status){var context=options.context||this;oldComplete.apply(context,[xhr,status,$form])});var fileInputs=$("input[type=file]:enabled",this).filter(function(){return $(this).val()!==""}),hasFileInputs=fileInputs.length>0,mp="multipart/form-data",multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp,fileAPI=feature.fileapi&&feature.formdata;for(log("fileAPI :"+fileAPI),shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI,options.iframe!==!1&&(options.iframe||shouldUseFrame)?options.closeKeepAlive?$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a)}):jqxhr=fileUploadIframe(a):jqxhr=(hasFileInputs||multipart)&&fileAPI?fileUploadXhr(a):$.ajax(options),$form.removeData("jqxhr").data("jqxhr",jqxhr),k=0;k<elements.length;k++)elements[k]=null;return this.trigger("form-submit-notify",[this,options]),this};$.fn.ajaxForm=function(options){if(options=options||{},options.delegation=options.delegation&&$.isFunction($.fn.on),!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};return!$.isReady&&o.s?(log("DOM not ready, queuing ajaxForm"),$(function(){$(o.s,o.c).ajaxForm(options)}),this):(log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)")),this)}if(options.delegation){$(document).off("submit.form-plugin",this.selector,doAjaxSubmit).off("click.form-plugin",this.selector,captureSubmittingElement).on("submit.form-plugin",this.selector,options,doAjaxSubmit).on("click.form-plugin",this.selector,options,captureSubmittingElement);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",options,doAjaxSubmit).bind("click.form-plugin",options,captureSubmittingElement)};$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic,elements){var a=[],i,j,n,v,el,max,jmax,files,$input,input;if(this.length===0)return a;var form=this[0],formId=this.attr("id"),els=semantic?form.getElementsByTagName("*"):form.elements,els2;if(els&&!/MSIE [678]/.test(navigator.userAgent)&&(els=$(els).get()),formId&&(els2=$(":input[form="+formId+"]").get(),els2.length&&(els=(els||[]).concat(els2))),!els||!els.length)return a;for(i=0,max=els.length;i<max;i++)if(el=els[i],n=el.name,n&&!el.disabled){if(semantic&&form.clk&&el.type=="image"){form.clk==el&&(a.push({name:n,value:$(el).val(),type:el.type}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}));continue}if(v=$.fieldValue(el,!0),v&&v.constructor==Array)for(elements&&elements.push(el),j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});else if(feature.fileapi&&el.type=="file")if(elements&&elements.push(el),files=el.files,files.length)for(j=0;j<files.length;j++)a.push({name:n,value:files[j],type:el.type});else a.push({name:n,value:"",type:el.type});else v!==null&&typeof v!="undefined"&&(elements&&elements.push(el),a.push({name:n,value:v,type:el.type,required:el.required}))}return!semantic&&form.clk&&($input=$(form.clk),input=$input[0],n=input.name,n&&!input.disabled&&input.type=="image"&&(a.push({name:n,value:$input.val()}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}))),a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];return this.each(function(){var n=this.name,v,i,max;if(n)if(v=$.fieldValue(this,successful),v&&v.constructor==Array)for(i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else v!==null&&typeof v!="undefined"&&a.push({name:this.name,value:v})}),$.param(a)};$.fn.fieldValue=function(successful){for(var el,v,val=[],i=0,max=this.length;i<max;i++)(el=this[i],v=$.fieldValue(el,successful),v!==null&&typeof v!="undefined"&&(v.constructor!=Array||v.length))&&(v.constructor==Array?$.merge(val,v):val.push(v));return val};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase(),index,i,op,v;if(successful===undefined&&(successful=!0),successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1))return null;if(tag=="select"){if(index=el.selectedIndex,index<0)return null;var a=[],ops=el.options,one=t=="select-one",max=one?index+1:ops.length;for(i=one?index:0;i<max;i++)if(op=ops[i],op.selected){if(v=op.value,v||(v=op.attributes&&op.attributes.value&&!op.attributes.value.specified?op.text:op.value),one)return v;a.push(v)}return a}return $(el).val()};$.fn.clearForm=function(includeHidden){return this.each(function(){$("input,select,textarea",this).clearFields(includeHidden)})};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();re.test(t)||tag=="textarea"?this.value="":t=="checkbox"||t=="radio"?this.checked=!1:tag=="select"?this.selectedIndex=-1:t=="file"?/MSIE/.test(navigator.userAgent)?$(this).replaceWith($(this).clone(!0)):$(this).val(""):includeHidden&&(includeHidden===!0&&/hidden/.test(t)||typeof includeHidden=="string"&&$(this).is(includeHidden))&&(this.value="")})};$.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};$.fn.enable=function(b){return b===undefined&&(b=!0),this.each(function(){this.disabled=!b})};$.fn.selected=function(select){return select===undefined&&(select=!0),this.each(function(){var t=this.type,$sel;t=="checkbox"||t=="radio"?this.checked=select:this.tagName.toLowerCase()=="option"&&($sel=$(this).parent("select"),select&&$sel[0]&&$sel[0].type=="select-one"&&$sel.find("option").selected(!1),this.selected=select)})};$.fn.ajaxSubmit.debug=!1});
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){"use strict";function setup($){function install(el,opts){var css,themedCSS,full=el==window,msg=opts&&opts.message!==undefined?opts.message:undefined,node,data,z,lyr1,lyr2,lyr3,s,layers,$par,expr,to;if(opts=$.extend({},$.blockUI.defaults,opts||{}),!opts.ignoreIfBlocked||!$(el).data("blockUI.isBlocked")){if(opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{}),css=$.extend({},$.blockUI.defaults.css,opts.css||{}),opts.onOverlayClick&&(opts.overlayCSS.cursor="pointer"),themedCSS=$.extend({},$.blockUI.defaults.themedCSS,opts.themedCSS||{}),msg=msg===undefined?opts.message:msg,full&&pageBlock&&remove(window,{fadeOut:0}),msg&&typeof msg!="string"&&(msg.parentNode||msg.jquery)&&(node=msg.jquery?msg[0]:msg,data={},$(el).data("blockUI.history",data),data.el=node,data.parent=node.parentNode,data.display=node.style.display,data.position=node.style.position,data.parent&&data.parent.removeChild(node)),$(el).data("blockUI.onUnblock",opts.onUnblock),z=opts.baseZ,lyr1=msie||opts.forceIframe?$('<iframe class="blockUI" style="z-index:'+z+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"><\/iframe>'):$('<div class="blockUI" style="display:none"><\/div>'),lyr2=opts.theme?$('<div class="blockUI blockOverlay ui-widget-overlay" data-test="'+Const.TestSelectors.BlockOverlay+'" style="z-index:'+z+++';display:none"><\/div>'):$('<div class="blockUI blockOverlay" data-test="'+Const.TestSelectors.BlockOverlay+'" style="z-index:'+z+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),opts.theme&&full?(s='<div class="blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">',opts.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+"<\/div>"),s+='<div class="ui-widget-content ui-dialog-content"><\/div>',s+="<\/div>"):opts.theme?(s='<div class="blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">',opts.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+"<\/div>"),s+='<div class="ui-widget-content ui-dialog-content"><\/div>',s+="<\/div>"):s=full?'<div class="blockUI '+opts.blockMsgClass+' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+opts.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"><\/div>',lyr3=$(s),msg&&(opts.theme?(lyr3.css(themedCSS),lyr3.addClass("ui-widget-content")):lyr3.css(css)),opts.theme||lyr2.css(opts.overlayCSS),lyr2.css("position",full?"fixed":"absolute"),(msie||opts.forceIframe)&&lyr1.css("opacity",0),layers=[lyr1,lyr2,lyr3],$par=full?$("body"):$(el),$.each(layers,function(){this.appendTo($par)}),opts.theme&&opts.draggable&&$.fn.draggable&&lyr3.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),expr=setExpr&&(!$.support.boxModel||$("object,embed",full?null:el).length>0),ie6||expr){if(full&&opts.allowBodyStretch&&$.support.boxModel&&$("html,body").css("height","100%"),(ie6||!$.support.boxModel)&&!full)var t=sz(el,"borderTopWidth"),l=sz(el,"borderLeftWidth"),fixT=t?"(0 - "+t+")":0,fixL=l?"(0 - "+l+")":0;$.each(layers,function(i,o){var s=o[0].style,top,expression;s.position="absolute";i<2?(full?s.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+opts.quirksmodeOffsetHack+') + "px"'):s.setExpression("height",'this.parentNode.offsetHeight + "px"'),full?s.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):s.setExpression("width",'this.parentNode.offsetWidth + "px"'),fixL&&s.setExpression("left",fixL),fixT&&s.setExpression("top",fixT)):opts.centerY?(full&&s.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),s.marginTop=0):!opts.centerY&&full&&(top=opts.css&&opts.css.top?parseInt(opts.css.top,10):0,expression="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+top+') + "px"',s.setExpression("top",expression))})}if(msg&&(opts.theme?lyr3.find(".ui-widget-content").append(msg):lyr3.append(msg),(msg.jquery||msg.nodeType)&&$(msg).show()),(msie||opts.forceIframe)&&opts.showOverlay&&lyr1.show(),opts.fadeIn){var cb=opts.onBlock?opts.onBlock:noOp,cb1=opts.showOverlay&&!msg?cb:noOp,cb2=msg?cb:noOp;opts.showOverlay&&lyr2._fadeIn(opts.fadeIn,cb1);msg&&lyr3._fadeIn(opts.fadeIn,cb2)}else opts.showOverlay&&lyr2.show(),msg&&lyr3.show(),opts.onBlock&&opts.onBlock.bind(lyr3)();bind(1,el,opts);full?(pageBlock=lyr3[0],pageBlockEls=$(opts.focusableElements,pageBlock),opts.focusInput&&setTimeout(focus,20)):center(lyr3[0],opts.centerX,opts.centerY);opts.timeout&&(to=setTimeout(function(){full?$.unblockUI(opts):$(el).unblock(opts)},opts.timeout),$(el).data("blockUI.timeout",to))}}function remove(el,opts){var count,full=el==window,$el=$(el),data=$el.data("blockUI.history"),to=$el.data("blockUI.timeout"),els;to&&(clearTimeout(to),$el.removeData("blockUI.timeout"));opts=$.extend({},$.blockUI.defaults,opts||{});bind(0,el,opts);opts.onUnblock===null&&(opts.onUnblock=$el.data("blockUI.onUnblock"),$el.removeData("blockUI.onUnblock"));els=full?$("body").children().filter(".blockUI").add("body > .blockUI"):$el.find(">.blockUI");opts.cursorReset&&(els.length>1&&(els[1].style.cursor=opts.cursorReset),els.length>2&&(els[2].style.cursor=opts.cursorReset));full&&(pageBlock=pageBlockEls=null);opts.fadeOut?(count=els.length,els.stop().fadeOut(opts.fadeOut,function(){--count==0&&reset(els,data,opts,el)})):reset(els,data,opts,el)}function reset(els,data,opts,el){var $el=$(el);if(!$el.data("blockUI.isBlocked")){if(els.each(function(i,o){this.parentNode&&this.parentNode.removeChild(this)}),data&&data.el&&(data.el.style.display=data.display,data.el.style.position=data.position,data.el.style.cursor="default",data.parent&&data.parent.appendChild(data.el),$el.removeData("blockUI.history")),$el.data("blockUI.static")&&$el.css("position","static"),typeof opts.onUnblock=="function")opts.onUnblock(el,opts);var body=$(document.body),w=body.width(),cssW=body[0].style.width;body.width(w-1).width(w);body[0].style.width=cssW}}function bind(b,el,opts){var full=el==window,$el=$(el),events;(b||(!full||pageBlock)&&(full||$el.data("blockUI.isBlocked")))&&($el.data("blockUI.isBlocked",b),full&&opts.bindEvents&&(!b||opts.showOverlay))&&(events="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",b?$(document).bind(events,opts,handler):$(document).unbind(events,handler))}function handler(e){var opts,target;if(e.type==="keydown"&&e.keyCode&&e.keyCode==9&&pageBlock&&e.data.constrainTabKey){var els=pageBlockEls,fwd=!e.shiftKey&&e.target===els[els.length-1],back=e.shiftKey&&e.target===els[0];if(fwd||back)return setTimeout(function(){focus(back)},10),!1}if(opts=e.data,target=$(e.target),target.hasClass("blockOverlay")&&opts.onOverlayClick)opts.onOverlayClick(e);return target.parents("div."+opts.blockMsgClass).length>0?!0:target.parents().children().filter("div.blockUI").length===0}function focus(back){if(pageBlockEls){var e=pageBlockEls[back===!0?pageBlockEls.length-1:0];e&&e.focus()}}function center(el,x,y){var p=el.parentNode,s=el.style,l=(p.offsetWidth-el.offsetWidth)/2-sz(p,"borderLeftWidth"),t=(p.offsetHeight-el.offsetHeight)/2-sz(p,"borderTopWidth");x&&(s.left=l>0?l+"px":"0");y&&(s.top=t>0?t+"px":"0")}function sz(el,p){return parseInt($.css(el,p),10)||0}var pageBlock,pageBlockEls;$.fn._fadeIn=$.fn.fadeIn;var noOp=$.noop||function(){},msie=/MSIE/.test(navigator.userAgent),ie6=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),mode=document.documentMode||0,setExpr=$.isFunction(document.createElement("div").style.setExpression);$.blockUI=function(opts){install(window,opts)};$.unblockUI=function(opts){remove(window,opts)};$.growlUI=function(title,message,timeout,onClose){var $m=$('<div class="growlUI"><\/div>'),callBlock,nonmousedOpacity;title&&$m.append("<h1>"+title+"<\/h1>");message&&$m.append("<h2>"+message+"<\/h2>");timeout===undefined&&(timeout=3e3);callBlock=function(opts){opts=opts||{};$.blockUI({message:$m,fadeIn:typeof opts.fadeIn!="undefined"?opts.fadeIn:700,fadeOut:typeof opts.fadeOut!="undefined"?opts.fadeOut:1e3,timeout:typeof opts.timeout!="undefined"?opts.timeout:timeout,centerY:!1,showOverlay:!1,onUnblock:onClose,css:$.blockUI.defaults.growlCSS})};callBlock();nonmousedOpacity=$m.css("opacity");$m.mouseover(function(){callBlock({fadeIn:0,timeout:3e4});var displayBlock=$(".blockMsg");displayBlock.stop();displayBlock.fadeTo(300,1)}).mouseout(function(){$(".blockMsg").fadeOut(1e3)})};$.fn.block=function(opts){if(this[0]===window)return $.blockUI(opts),this;var fullOpts=$.extend({},$.blockUI.defaults,opts||{});return this.each(function(){var $el=$(this);fullOpts.ignoreIfBlocked&&$el.data("blockUI.isBlocked")||$el.unblock({fadeOut:0})}),this.each(function(){$.css(this,"position")=="static"&&(this.style.position="relative",$(this).data("blockUI.static",!0));this.style.zoom=1;install(this,opts)})};$.fn.unblock=function(opts){return this[0]===window?($.unblockUI(opts),this):this.each(function(){remove(this,opts)})};$.blockUI.version=2.7;$.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};pageBlock=null;pageBlockEls=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],setup):setup(jQuery)})();qq=qq||{};qq.extend=function(first,second){for(var prop in second)first[prop]=second[prop]};qq.indexOf=function(arr,elt,from){if(arr.indexOf)return arr.indexOf(elt,from);from=from||0;var len=arr.length;for(from<0&&(from+=len);from<len;from++)if(from in arr&&arr[from]===elt)return from;return-1};qq.getUniqueId=function(){var id=0;return function(){return id++}}();qq.attach=function(element,type,fn){element.addEventListener?element.addEventListener(type,fn,!1):element.attachEvent&&element.attachEvent("on"+type,fn)};qq.detach=function(element,type,fn){element.removeEventListener?element.removeEventListener(type,fn,!1):element.attachEvent&&element.detachEvent("on"+type,fn)};qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)};qq.remove=function(element){element.parentNode.removeChild(element)};qq.contains=function(parent,descendant){return parent==descendant?!0:parent.contains?parent.contains(descendant):!!(descendant.compareDocumentPosition(parent)&8)};qq.toElement=function(){var div=document.createElement("div");return function(html){div.innerHTML=html;var element=div.firstChild;return div.removeChild(element),element}}();qq.css=function(element,styles){styles.opacity!=null&&typeof element.style.opacity!="string"&&typeof element.filters!="undefined"&&(styles.filter="alpha(opacity="+Math.round(100*styles.opacity)+")");qq.extend(element.style,styles)};qq.hasClass=function(element,name){var re=new RegExp("(^| )"+name+"( |$)");return re.test(element.className)};qq.addClass=function(element,name){qq.hasClass(element,name)||(element.className+=" "+name)};qq.removeClass=function(element,name){var re=new RegExp("(^| )"+name+"( |$)");element.className=element.className.replace(re," ").replace(/^\s+|\s+$/g,"")};qq.setText=function(element,text){element.innerText=text;element.textContent=text};qq.children=function(element){for(var children=[],child=element.firstChild;child;)child.nodeType==1&&children.push(child),child=child.nextSibling;return children};qq.getByClass=function(element,className){var i;if(element.querySelectorAll)return element.querySelectorAll("."+className);var result=[],candidates=element.getElementsByTagName("*"),len=candidates.length;for(i=0;i<len;i++)qq.hasClass(candidates[i],className)&&result.push(candidates[i]);return result};qq.obj2url=function(obj,temp,prefixDone){var uristrings=[],prefix="&",add=function(nextObj,i){var nextTemp=temp?/\[\]$/.test(temp)?temp:temp+"["+i+"]":i;nextTemp!="undefined"&&i!="undefined"&&uristrings.push(typeof nextObj=="object"?qq.obj2url(nextObj,nextTemp,!0):Object.prototype.toString.call(nextObj)==="[object Function]"?encodeURIComponent(nextTemp)+"="+encodeURIComponent(nextObj()):encodeURIComponent(nextTemp)+"="+encodeURIComponent(nextObj))},len,i;if(!prefixDone&&temp)prefix=/\?/.test(temp)?/\?$/.test(temp)?"":"&":"?",uristrings.push(temp),uristrings.push(qq.obj2url(obj));else if(Object.prototype.toString.call(obj)==="[object Array]"&&typeof obj!="undefined")for(i=0,len=obj.length;i<len;++i)add(obj[i],i);else if(typeof obj!="undefined"&&obj!==null&&typeof obj=="object")for(i in obj)add(obj[i],i);else uristrings.push(encodeURIComponent(temp)+"="+encodeURIComponent(obj));return uristrings.join(prefix).replace(/^&/,"").replace(/%20/g,"+")};qq=qq||{};qq.FileUploaderBasic=function(o){this._options={buttonName:"Upload a file",iconCss:"",debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(id,fileName){},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){},onCancel:function(id,fileName){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message)}};qq.extend(this._options,o);this._filesInProgress=0;this._handler=this._createUploadHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function(params){this._options.params=params},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(element){var self=this;return new qq.UploadButton({element:element,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(input){self._onInputChange(input)}})},_createUploadHandler:function(){var self=this,handlerClass;return handlerClass=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",handlerClass="UploadHandlerForm",new qq[handlerClass]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(id,fileName,loaded,total){self._onProgress(id,fileName,loaded,total);self._options.onProgress(id,fileName,loaded,total)},onComplete:function(id,fileName,result){self._onComplete(id,fileName,result);self._options.onComplete(id,fileName,result)},onCancel:function(id,fileName){self._onCancel(id,fileName);self._options.onCancel(id,fileName)}})},_preventLeaveInProgress:function(detach){var self=this,_leaveFunction=function(e){if(self._filesInProgress){var e=e||window.event;return e.returnValue=self._options.messages.onLeave,self._options.messages.onLeave}};detach?qq.detach(window,"beforeunload",_leaveFunction):qq.attach(window,"beforeunload",_leaveFunction)},_onSubmit:function(id,fileName){this._filesInProgress++},_onProgress:function(id,fileName,loaded,total){},_onComplete:function(id,fileName,result){this._filesInProgress--;result.error&&this._options.showMessage(result.error)},_onCancel:function(id,fileName){this._filesInProgress--},_onInputChange:function(input){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(input.files):this._validateFile(input)&&this._uploadFile(input);this._button.reset()},_uploadFileList:function(files){for(var i=0;i<files.length;i++)if(!this._validateFile(files[i]))return;for(i=0;i<files.length;i++)this._uploadFile(files[i])},_uploadFile:function(fileContainer){var id=this._handler.add(fileContainer),fileName=this._handler.getName(id);this._options.onSubmit(id,fileName)!==!1&&(this._onSubmit(id,fileName),this._handler.upload(id,this._options.params))},_validateFile:function(file){var name,size;if(file.value?name=file.value.replace(/.*(\/|\\)/,""):(name=file.fileName!=null?file.fileName:file.name,size=file.fileSize!=null?file.fileSize:file.size),this._isAllowedExtension(name)){if(size===0)return this._error("emptyError",name),!1;else if(size&&this._options.sizeLimit&&size>this._options.sizeLimit)return this._error("sizeError",name),!1;else if(size&&size<this._options.minSizeLimit)return this._error("minSizeError",name),!1}else return this._error("typeError",name),!1;return!0},_error:function(code,fileName){function r(name,replacement){message=message.replace(name,replacement)}var message=this._options.messages[code];r("{file}",this._formatFileName(fileName));r("{extensions}",this._options.allowedExtensions.join(", "));r("{sizeLimit}",this._formatSize(this._options.sizeLimit));r("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));this._options.showMessage(message)},_formatFileName:function(name){return name.length>33&&(name=name.slice(0,19)+"..."+name.slice(-13)),name},_isAllowedExtension:function(fileName){var ext=-1!==fileName.indexOf(".")?fileName.replace(/.*[.]/,"").toLowerCase():"",allowed=this._options.allowedExtensions,i;if(!allowed.length)return!0;for(i=0;i<allowed.length;i++)if(allowed[i].toLowerCase()==ext)return!0;return!1},_formatSize:function(bytes){var i=-1;do bytes=bytes/1024,i++;while(bytes>99);return Math.max(bytes,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][i]}};qq.FileUploader=function(o){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload<\/span><\/div><div class="qq-upload-button"><div class="qq-upload-button-text">'+this._options.buttonName+'<\/div><\/div><ul class="qq-upload-list"><\/ul><\/div>',fileTemplate:'<li><span class="qq-upload-file"><\/span><span class="qq-upload-spinner"><\/span><span class="qq-upload-size"><\/span><a class="qq-upload-cancel" href="#">Cancel<\/a><span class="qq-upload-failed-text">Failed<\/span><\/li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,o);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function(parent,type){var element=qq.getByClass(parent,this._options.classes[type])[0];if(!element)throw new Error("element not found "+type);return element},_setupDragDrop:function(){var self=this,dropArea=this._find(this._element,"drop"),dz=new qq.UploadDropZone({element:dropArea,onEnter:function(e){qq.addClass(dropArea,self._classes.dropActive);e.stopPropagation()},onLeave:function(e){e.stopPropagation()},onLeaveNotDescendants:function(e){qq.removeClass(dropArea,self._classes.dropActive)},onDrop:function(e){dropArea.style.display="none";qq.removeClass(dropArea,self._classes.dropActive);self._uploadFileList(e.dataTransfer.files)}});dropArea.style.display="none";qq.attach(document,"dragenter",function(e){dz._isValidFileDrag(e)&&(dropArea.style.display="block")});qq.attach(document,"dragleave",function(e){if(dz._isValidFileDrag(e)){var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);relatedTarget&&relatedTarget.nodeName!="HTML"||(dropArea.style.display="none")}})},_onSubmit:function(id,fileName){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(id,fileName)},_onProgress:function(id,fileName,loaded,total){var item,size,text;qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);item=this._getItemByFileId(id);size=this._find(item,"size");size.style.display="inline";text=loaded!=total?Math.round(loaded/total*100)+"% from "+this._formatSize(total):this._formatSize(total);qq.setText(size,text)},_onComplete:function(id,fileName,result){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var item=this._getItemByFileId(id);qq.remove(this._find(item,"cancel"));qq.remove(this._find(item,"spinner"));result.success?qq.addClass(item,this._classes.success):qq.addClass(item,this._classes.fail)},_addToList:function(id,fileName){var item=qq.toElement(this._options.fileTemplate),fileElement;item.qqFileId=id;fileElement=this._find(item,"file");qq.setText(fileElement,this._formatFileName(fileName));this._find(item,"size").style.display="none";this._listElement.lastChild&&this._listElement.removeChild(this._listElement.lastChild);this._listElement.appendChild(item)},_getItemByFileId:function(id){for(var item=this._listElement.firstChild;item;){if(item.qqFileId==id)return item;item=item.nextSibling}},_bindCancelEvent:function(){var self=this,list=this._listElement;qq.attach(list,"click",function(e){var target,item;e=e||window.event;target=e.target||e.srcElement;qq.hasClass(target,self._classes.cancel)&&(qq.preventDefault(e),item=target.parentNode,self._handler.cancel(item.qqFileId),qq.remove(item))})}});qq.UploadDropZone=function(o){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}};qq.extend(this._options,o);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_disableDropOutside:function(e){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var self=this;qq.attach(self._element,"dragover",function(e){if(self._isValidFileDrag(e)){var effect=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect=effect=="move"||effect=="linkMove"?"move":"copy";e.stopPropagation();e.preventDefault()}});qq.attach(self._element,"dragenter",function(e){if(self._isValidFileDrag(e))self._options.onEnter(e)});qq.attach(self._element,"dragleave",function(e){if(self._isValidFileDrag(e)){self._options.onLeave(e);var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(!qq.contains(this,relatedTarget))self._options.onLeaveNotDescendants(e)}});qq.attach(self._element,"drop",function(e){if(self._isValidFileDrag(e)){e.preventDefault();self._options.onDrop(e)}})},_isValidFileDrag:function(e){var dt=e.dataTransfer,isWebkit=navigator.userAgent.indexOf("AppleWebKit")>-1,result;try{result=dt&&dt.effectAllowed!="none"&&(dt.files||!isWebkit&&dt.types.contains&&dt.types.contains("Files"))}catch(err){}return result}};qq.UploadButton=function(o){this._options={element:null,multiple:!1,name:"file",onChange:function(input){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,o);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input);qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function(){var input=document.createElement("input"),self;return this._options.multiple&&input.setAttribute("multiple","multiple"),input.setAttribute("tabindex","-1"),input.setAttribute("type","file"),input.setAttribute("name",this._options.name),qq.css(input,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(input),self=this,qq.attach(input,"change",function(){self._options.onChange(input)}),qq.attach(input,"mouseover",function(){qq.addClass(self._element,self._options.hoverClass)}),qq.attach(input,"mouseout",function(){qq.removeClass(self._element,self._options.hoverClass)}),qq.attach(input,"focus",function(){qq.addClass(self._element,self._options.focusClass)}),qq.attach(input,"blur",function(){qq.removeClass(self._element,self._options.focusClass)}),window.attachEvent&&input.setAttribute("tabIndex","-1"),input}};qq.UploadHandlerAbstract=function(o){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,response){},onCancel:function(id,fileName){}};qq.extend(this._options,o);this._queue=[];this._params=[]};qq.UploadHandlerAbstract.prototype={log:function(str){this._options.debug&&window.console&&console.log("[uploader] "+str)},add:function(file){},upload:function(id,params){var len=this._queue.push(id),copy={};qq.extend(copy,params);this._params[id]=copy;len<=this._options.maxConnections&&this._upload(id,this._params[id])},cancel:function(id){this._cancel(id);this._dequeue(id)},cancelAll:function(){for(var i=0;i<this._queue.length;i++)this._cancel(this._queue[i]);this._queue=[]},getName:function(id){},getSize:function(id){},getQueue:function(){return this._queue},_upload:function(id){},_cancel:function(id){},_dequeue:function(id){var i=qq.indexOf(this._queue,id),max,nextId;this._queue.splice(i,1);max=this._options.maxConnections;this._queue.length>=max&&i<max&&(nextId=this._queue[max-1],this._upload(nextId,this._params[nextId]))}};qq.UploadHandlerForm=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(fileInput){fileInput.setAttribute("name","qqfile");var id="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[id]=fileInput,fileInput.parentNode&&qq.remove(fileInput),id},getName:function(id){return this._inputs[id].value.replace(/.*(\/|\\)/,"")},_cancel:function(id){this._options.onCancel(id,this.getName(id));delete this._inputs[id];var iframe=document.getElementById(id);iframe&&(iframe.setAttribute("src","javascript:false;"),qq.remove(iframe))},_upload:function(id,params){var input=this._inputs[id],self;if(!input)throw new Error("file with passed id was not added, or already uploaded or cancelled");var fileName=this.getName(id),iframe=this._createIframe(id),form=this._createForm(iframe,params);return form.appendChild(input),self=this,this._attachLoadEvent(iframe,function(){self.log("iframe loaded");var response=self._getIframeContentJSON(iframe);self._options.onComplete(id,fileName,response);self._dequeue(id);delete self._inputs[id];setTimeout(function(){qq.remove(iframe)},1)}),form.submit(),qq.remove(form),id},_attachLoadEvent:function(iframe,callback){qq.attach(iframe,"load",function(){iframe.parentNode&&(iframe.contentDocument&&iframe.contentDocument.body&&iframe.contentDocument.body.innerHTML=="false"||callback())})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={};try{iframe.contentWindow.document.title=="Maximum request length exceeded."&&(response.message="Maximum allowed image size exceeded.")}catch(err2){response.message="Sorry, there was some unexpected error."}}return response},_createIframe:function(id){var iframe=qq.toElement('<iframe src="javascript:false;" name="'+id+'" />');return iframe.setAttribute("id",id),iframe.style.display="none",document.body.appendChild(iframe),iframe},_createForm:function(iframe,params){var form=qq.toElement('<form method="post" enctype="multipart/form-data"><\/form>'),queryString=qq.obj2url(params,this._options.action);return form.setAttribute("action",queryString),form.setAttribute("target",iframe.name),form.style.display="none",document.body.appendChild(form),form}});qq.UploadHandlerXhr=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var input=document.createElement("input");return input.type="file","multiple"in input&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function(file){if(!(file instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(file)-1},getName:function(id){var file=this._files[id];return file.fileName!=null?file.fileName:file.name},getSize:function(id){var file=this._files[id];return file.fileSize!=null?file.fileSize:file.size},getLoaded:function(id){return this._loaded[id]||0},_upload:function(id,params){var file=this._files[id],name=this.getName(id),size=this.getSize(id),xhr,self,queryString;this._loaded[id]=0;xhr=this._xhrs[id]=new XMLHttpRequest;self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._loaded[id]=e.loaded;self._options.onProgress(id,name,e.loaded,e.total)}};xhr.onreadystatechange=function(){xhr.readyState==4&&self._onComplete(id,xhr)};params=params||{};params.qqfile=name;queryString=qq.obj2url(params,this._options.action);xhr.open("POST",queryString,!0);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.send(file)},_onComplete:function(id,xhr){var name,size,response;if(this._files[id]){name=this.getName(id);size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null;this._xhrs[id]=null;this._dequeue(id)}},_cancel:function(id){this._options.onCancel(id,this.getName(id));this._files[id]=null;this._xhrs[id]&&(this._xhrs[id].abort(),this._xhrs[id]=null)}});qq&&qq.FileUploaderBasic&&(originalComplete=qq.FileUploaderBasic.prototype._onComplete,qq.FileUploaderBasic.prototype._onComplete=function(id,fileName,result){originalComplete(id,fileName,result);$&&$.isEmptyObject(result)&&LSHelper&&LSHelper.Account&&(qq.FileUploaderBasic.prototype._preventLeaveInProgress(!0),LSHelper.Account.popUpSignIn({signInMessage:"Your session has timed out. Please sign in and try again."}))});
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)})(function($){function raw(s){return s}function decoded(s){var result=s;try{result=decodeURIComponent(s.replace(pluses," "))}catch(ex){}return result}function converted(s){s.indexOf('"')===0&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){var days,t,i,l;if(value!==undefined)return options=$.extend({},config.defaults,options),typeof options.expires=="number"&&(days=options.expires,t=options.expires=new Date,t.setDate(t.getDate()+days)),value=config.json?JSON.stringify(value):String(value),document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("");var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?undefined:{};for(i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={};$.removeCookie=function(key,options){return $.cookie(key)!==undefined?($.cookie(key,"",$.extend({},options,{expires:-1})),!0):!1}}),function(root,factory){typeof define=="function"&&define.amd?define(["jquery"],function(a0){return factory(a0)}):typeof exports=="object"?module.exports=factory(require("jquery")):factory(jQuery)}(this,function($){function Ruler($tooltip){this.$container;this.constraints=null;this.__$tooltip;this.__init($tooltip)}function areEqual(a,b){var same=!0;return $.each(a,function(i,_){if(b[i]===undefined||a[i]!==b[i])return same=!1,!1}),same}function bodyContains($obj){var id=$obj.attr("id"),el=id?env.window.document.getElementById(id):null;return el?el===$obj[0]:$.contains(env.window.document.body,$obj[0])}function transitionSupport(){var i;if(!win)return!1;var b=win.document.body||win.document.documentElement,s=b.style,p="transition",v=["Moz","Webkit","Khtml","O","ms"];if(typeof s[p]=="string")return!0;for(p=p.charAt(0).toUpperCase()+p.substr(1),i=0;i<v.length;i++)if(typeof s[v[i]+p]=="string")return!0;return!1}var defaults={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},win=typeof window!="undefined"?window:null,env={hasTouchCapability:!!(win&&("ontouchstart"in win||win.DocumentTouch&&win.document instanceof win.DocumentTouch||win.navigator.maxTouchPoints)),hasTransitions:transitionSupport(),IE:!1,semVer:"4.2.6",window:win},core=function(){this.__$emitterPrivate=$({});this.__$emitterPublic=$({});this.__instancesLatestArr=[];this.__plugins={};this._env=env},uA,pluginName;return core.prototype={__bridge:function(constructor,obj,pluginName){var fn,pluginInstance;return obj[pluginName]||(fn=function(){},fn.prototype=constructor,pluginInstance=new fn,pluginInstance.__init&&pluginInstance.__init(obj),$.each(constructor,function(methodName,fn){methodName.indexOf("__")!=0&&(obj[methodName]?defaults.debug&&console.log("The "+methodName+" method of the "+pluginName+" plugin conflicts with another plugin or native methods"):(obj[methodName]=function(){return pluginInstance[methodName].apply(pluginInstance,Array.prototype.slice.apply(arguments))},obj[methodName].bridged=pluginInstance))}),obj[pluginName]=pluginInstance),this},__setWindow:function(window){return env.window=window,this},_getRuler:function($tooltip){return new Ruler($tooltip)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(plugin){var self=this,pluginName,p;if(typeof plugin=="string")return pluginName=plugin,p=null,pluginName.indexOf(".")>0?p=self.__plugins[pluginName]:$.each(self.__plugins,function(i,plugin){if(plugin.name.substring(plugin.name.length-pluginName.length-1)=="."+pluginName)return p=plugin,!1}),p;else{if(plugin.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return self.__plugins[plugin.name]=plugin,plugin.core&&self.__bridge(plugin.core,self,plugin.name),this}},_trigger:function(){var args=Array.prototype.slice.apply(arguments);return typeof args[0]=="string"&&(args[0]={type:args[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,args),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,args),this},instances:function(selector){var instances=[],sel=selector||".tooltipstered";return $(sel).each(function(){var $this=$(this),ns=$this.data("tooltipster-ns");ns&&$.each(ns,function(i,namespace){instances.push($this.data(namespace))})}),instances},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(selector){var sel=selector?selector+" ":"";return $(sel+".tooltipstered").toArray()},setDefaults:function(d){return $.extend(defaults,d),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},$.tooltipster=new core,$.Tooltipster=function(element,options){this.__callbacks={close:[],open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroyed=!1;this.__$emitterPrivate=$({});this.__$emitterPublic=$({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(Math.random()*1e6);this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;this._$tooltip;this.__init(element,options)},$.Tooltipster.prototype={__init:function(origin,options){var self=this,initialTitle,selector,$el;if(self._$origin=$(origin),self.__options=$.extend(!0,{},defaults,options),self.__optionsFormat(),!env.IE||env.IE>=self.__options.IEmin){if(initialTitle=null,self._$origin.data("tooltipster-initialTitle")===undefined&&(initialTitle=self._$origin.attr("title"),initialTitle===undefined&&(initialTitle=null),self._$origin.data("tooltipster-initialTitle",initialTitle)),self.__options.content!==null?self.__contentSet(self.__options.content):(selector=self._$origin.attr("data-tooltip-content"),selector&&($el=$(selector)),$el&&$el[0]?self.__contentSet($el.first()):self.__contentSet(initialTitle)),self._$origin.removeAttr("title").addClass("tooltipstered"),self.__prepareOrigin(),self.__prepareGC(),$.each(self.__options.plugins,function(i,pluginName){self._plug(pluginName)}),env.hasTouchCapability)$(env.window.document.body).on("touchmove."+self.__namespace+"-triggerOpen",function(event){self._touchRecordEvent(event)});self._on("created",function(){self.__prepareTooltip()})._on("repositioned",function(e){self.__lastPosition=e.position})}else self.__options.disabled=!0},__contentInsert:function(){var self=this,$el=self._$tooltip.find(".tooltipster-content"),formattedContent=self.__Content,format=function(content){formattedContent=content};return self._trigger({type:"format",content:self.__Content,format:format}),self.__options.functionFormat&&(formattedContent=self.__options.functionFormat.call(self,self,{origin:self._$origin[0]},self.__Content)),typeof formattedContent!="string"||self.__options.contentAsHTML?$el.empty().append(formattedContent):$el.text(formattedContent),self},__contentSet:function(content){return content instanceof $&&this.__options.contentCloning&&(content=content.clone(!0)),this.__Content=content,this._trigger({type:"updated",content:content}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.");},__geometry:function(){var self=this,$target=self._$origin,originIsArea=self._$origin.is("area"),mapName,shape,coords,i,areaNumber,edit;originIsArea&&(mapName=self._$origin.parent().attr("name"),$target=$('img[usemap="#'+mapName+'"]'));var bcr=$target[0].getBoundingClientRect(),$document=$(env.window.document),$window=$(env.window),$parent=$target,geo={available:{document:null,window:null},document:{size:{height:$document.height(),width:$document.width()}},window:{scroll:{left:env.window.scrollX||env.window.document.documentElement.scrollLeft,top:env.window.scrollY||env.window.document.documentElement.scrollTop},size:{height:$window.height(),width:$window.width()}},origin:{fixedLineage:!1,offset:{},size:{height:bcr.bottom-bcr.top,width:bcr.right-bcr.left},usemapImage:originIsArea?$target[0]:null,windowOffset:{bottom:bcr.bottom,left:bcr.left,right:bcr.right,top:bcr.top}}},geoFixed=!1;if(originIsArea&&(shape=self._$origin.attr("shape"),coords=self._$origin.attr("coords"),coords&&(coords=coords.split(","),$.map(coords,function(val,i){coords[i]=parseInt(val)})),shape!="default"))switch(shape){case"circle":var circleCenterLeft=coords[0],circleCenterTop=coords[1],circleRadius=coords[2],areaTopOffset=circleCenterTop-circleRadius,areaLeftOffset=circleCenterLeft-circleRadius;geo.origin.size.height=circleRadius*2;geo.origin.size.width=geo.origin.size.height;geo.origin.windowOffset.left+=areaLeftOffset;geo.origin.windowOffset.top+=areaTopOffset;break;case"rect":var areaLeft=coords[0],areaTop=coords[1],areaRight=coords[2],areaBottom=coords[3];geo.origin.size.height=areaBottom-areaTop;geo.origin.size.width=areaRight-areaLeft;geo.origin.windowOffset.left+=areaLeft;geo.origin.windowOffset.top+=areaTop;break;case"poly":var areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0,arrayAlternate="even";for(i=0;i<coords.length;i++)areaNumber=coords[i],arrayAlternate=="even"?(areaNumber>areaGreatestX&&(areaGreatestX=areaNumber,i===0&&(areaSmallestX=areaGreatestX)),areaNumber<areaSmallestX&&(areaSmallestX=areaNumber),arrayAlternate="odd"):(areaNumber>areaGreatestY&&(areaGreatestY=areaNumber,i==1&&(areaSmallestY=areaGreatestY)),areaNumber<areaSmallestY&&(areaSmallestY=areaNumber),arrayAlternate="even");geo.origin.size.height=areaGreatestY-areaSmallestY;geo.origin.size.width=areaGreatestX-areaSmallestX;geo.origin.windowOffset.left+=areaSmallestX;geo.origin.windowOffset.top+=areaSmallestY;break}for(edit=function(r){geo.origin.size.height=r.height;geo.origin.windowOffset.left=r.left;geo.origin.windowOffset.top=r.top;geo.origin.size.width=r.width},self._trigger({type:"geometry",edit:edit,geometry:{height:geo.origin.size.height,left:geo.origin.windowOffset.left,top:geo.origin.windowOffset.top,width:geo.origin.size.width}}),geo.origin.windowOffset.right=geo.origin.windowOffset.left+geo.origin.size.width,geo.origin.windowOffset.bottom=geo.origin.windowOffset.top+geo.origin.size.height,geo.origin.offset.left=geo.origin.windowOffset.left+geo.window.scroll.left,geo.origin.offset.top=geo.origin.windowOffset.top+geo.window.scroll.top,geo.origin.offset.bottom=geo.origin.offset.top+geo.origin.size.height,geo.origin.offset.right=geo.origin.offset.left+geo.origin.size.width,geo.available.document={bottom:{height:geo.document.size.height-geo.origin.offset.bottom,width:geo.document.size.width},left:{height:geo.document.size.height,width:geo.origin.offset.left},right:{height:geo.document.size.height,width:geo.document.size.width-geo.origin.offset.right},top:{height:geo.origin.offset.top,width:geo.document.size.width}},geo.available.window={bottom:{height:Math.max(geo.window.size.height-Math.max(geo.origin.windowOffset.bottom,0),0),width:geo.window.size.width},left:{height:geo.window.size.height,width:Math.max(geo.origin.windowOffset.left,0)},right:{height:geo.window.size.height,width:Math.max(geo.window.size.width-Math.max(geo.origin.windowOffset.right,0),0)},top:{height:Math.max(geo.origin.windowOffset.top,0),width:geo.window.size.width}};$parent[0].tagName.toLowerCase()!="html";){if($parent.css("position")=="fixed"){geo.origin.fixedLineage=!0;break}$parent=$parent.parent()}return geo},__optionsFormat:function(){return typeof this.__options.animationDuration=="number"&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),typeof this.__options.delay=="number"&&(this.__options.delay=[this.__options.delay,this.__options.delay]),typeof this.__options.delayTouch=="number"&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),typeof this.__options.theme=="string"&&(this.__options.theme=[this.__options.theme]),this.__options.parent===null?this.__options.parent=$(env.window.document.body):typeof this.__options.parent=="string"&&(this.__options.parent=$(this.__options.parent)),this.__options.trigger=="hover"?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):this.__options.trigger=="click"&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var self=this;return self.__options.selfDestruction?self.__garbageCollector=setInterval(function(){var now=(new Date).getTime();self.__touchEvents=$.grep(self.__touchEvents,function(event,i){return now-event.time>6e4});bodyContains(self._$origin)||self.close(function(){self.destroy()})},2e4):clearInterval(self.__garbageCollector),self},__prepareOrigin:function(){var self=this,eventNames;if(self._$origin.off("."+self.__namespace+"-triggerOpen"),env.hasTouchCapability)self._$origin.on("touchstart."+self.__namespace+"-triggerOpen touchend."+self.__namespace+"-triggerOpen touchcancel."+self.__namespace+"-triggerOpen",function(event){self._touchRecordEvent(event)});if(self.__options.triggerOpen.click||self.__options.triggerOpen.tap&&env.hasTouchCapability){eventNames="";self.__options.triggerOpen.click&&(eventNames+="click."+self.__namespace+"-triggerOpen ");self.__options.triggerOpen.tap&&env.hasTouchCapability&&(eventNames+="touchend."+self.__namespace+"-triggerOpen");self._$origin.on(eventNames,function(event){self._touchIsMeaningfulEvent(event)&&self._open(event)})}if(self.__options.triggerOpen.mouseenter||self.__options.triggerOpen.touchstart&&env.hasTouchCapability){eventNames="";self.__options.triggerOpen.mouseenter&&(eventNames+="mouseenter."+self.__namespace+"-triggerOpen ");self.__options.triggerOpen.touchstart&&env.hasTouchCapability&&(eventNames+="touchstart."+self.__namespace+"-triggerOpen");self._$origin.on(eventNames,function(event){(self._touchIsTouchEvent(event)||!self._touchIsEmulatedEvent(event))&&(self.__pointerIsOverOrigin=!0,self._openShortly(event))})}if(self.__options.triggerClose.mouseleave||self.__options.triggerClose.touchleave&&env.hasTouchCapability){eventNames="";self.__options.triggerClose.mouseleave&&(eventNames+="mouseleave."+self.__namespace+"-triggerOpen ");self.__options.triggerClose.touchleave&&env.hasTouchCapability&&(eventNames+="touchend."+self.__namespace+"-triggerOpen touchcancel."+self.__namespace+"-triggerOpen");self._$origin.on(eventNames,function(event){self._touchIsMeaningfulEvent(event)&&(self.__pointerIsOverOrigin=!1)})}return self},__prepareTooltip:function(){var self=this,p=self.__options.interactive?"auto":"";return self._$tooltip.attr("id",self.__namespace).css({"pointer-events":p,zIndex:self.__options.zIndex}),$.each(self.__previousThemes,function(i,theme){self._$tooltip.removeClass(theme)}),$.each(self.__options.theme,function(i,theme){self._$tooltip.addClass(theme)}),self.__previousThemes=$.merge([],self.__options.theme),self},__scrollHandler:function(event){var self=this,geo,overflows,offsetLeft,offsetTop;return self.__options.triggerClose.scroll?self._close(event):bodyContains(self._$origin)&&bodyContains(self._$tooltip)&&(geo=null,event.target===env.window.document?self.__Geometry.origin.fixedLineage||self.__options.repositionOnScroll&&self.reposition(event):(geo=self.__geometry(),overflows=!1,self._$origin.css("position")!="fixed"&&self.__$originParents.each(function(i,el){var $el=$(el),overflowX=$el.css("overflow-x"),overflowY=$el.css("overflow-y"),bcr;return(overflowX!="visible"||overflowY!="visible")&&((bcr=el.getBoundingClientRect(),overflowX!="visible"&&(geo.origin.windowOffset.left<bcr.left||geo.origin.windowOffset.right>bcr.right))||overflowY!="visible"&&(geo.origin.windowOffset.top<bcr.top||geo.origin.windowOffset.bottom>bcr.bottom))?(overflows=!0,!1):$el.css("position")=="fixed"?!1:void 0}),overflows?self._$tooltip.css("visibility","hidden"):(self._$tooltip.css("visibility","visible"),self.__options.repositionOnScroll?self.reposition(event):(offsetLeft=geo.origin.offset.left-self.__Geometry.origin.offset.left,offsetTop=geo.origin.offset.top-self.__Geometry.origin.offset.top,self._$tooltip.css({left:self.__lastPosition.coord.left+offsetLeft,top:self.__lastPosition.coord.top+offsetTop})))),self._trigger({type:"scroll",event:event,geo:geo})),self},__stateSet:function(state){return this.__state=state,this._trigger({type:"state",state:state}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,$.each(this.__timeouts.close,function(i,timeout){clearTimeout(timeout)}),this.__timeouts.close=[],this},__trackerStart:function(){var self=this,$content=self._$tooltip.find(".tooltipster-content");return self.__options.trackTooltip&&(self.__contentBcr=$content[0].getBoundingClientRect()),self.__tracker=setInterval(function(){var g,identical,currentBcr;bodyContains(self._$origin)&&bodyContains(self._$tooltip)?(self.__options.trackOrigin&&(g=self.__geometry(),identical=!1,areEqual(g.origin.size,self.__Geometry.origin.size)&&(self.__Geometry.origin.fixedLineage?areEqual(g.origin.windowOffset,self.__Geometry.origin.windowOffset)&&(identical=!0):areEqual(g.origin.offset,self.__Geometry.origin.offset)&&(identical=!0)),identical||(self.__options.triggerClose.mouseleave?self._close():self.reposition())),self.__options.trackTooltip&&(currentBcr=$content[0].getBoundingClientRect(),(currentBcr.height!==self.__contentBcr.height||currentBcr.width!==self.__contentBcr.width)&&(self.reposition(),self.__contentBcr=currentBcr))):self._close()},self.__options.trackerInterval),self},_close:function(event,callback,force){var self=this,ok=!0,finishCallbacks,finish;if(self._trigger({type:"close",event:event,stop:function(){ok=!1}}),ok||force)if(callback&&self.__callbacks.close.push(callback),self.__callbacks.open=[],self.__timeoutsClear(),finishCallbacks=function(){$.each(self.__callbacks.close,function(i,c){c.call(self,self,{event:event,origin:self._$origin[0]})});self.__callbacks.close=[]},self.__state!="closed"){var necessary=!0,d=new Date,now=d.getTime(),newClosingTime=now+self.__options.animationDuration[1];self.__state=="disappearing"&&newClosingTime>self.__closingTime&&self.__options.animationDuration[1]>0&&(necessary=!1);necessary&&(self.__closingTime=newClosingTime,self.__state!="disappearing"&&self.__stateSet("disappearing"),finish=function(){clearInterval(self.__tracker);self._trigger({type:"closing",event:event});self._$tooltip.off("."+self.__namespace+"-triggerClose").removeClass("tooltipster-dying");$(env.window).off("."+self.__namespace+"-triggerClose");self.__$originParents.each(function(i,el){$(el).off("scroll."+self.__namespace+"-triggerClose")});self.__$originParents=null;$(env.window.document.body).off("."+self.__namespace+"-triggerClose");self._$origin.off("."+self.__namespace+"-triggerClose");self._off("dismissable");self.__stateSet("closed");self._trigger({type:"after",event:event});self.__options.functionAfter&&self.__options.functionAfter.call(self,self,{event:event,origin:self._$origin[0]});finishCallbacks()},env.hasTransitions?(self._$tooltip.css({"-moz-animation-duration":self.__options.animationDuration[1]+"ms","-ms-animation-duration":self.__options.animationDuration[1]+"ms","-o-animation-duration":self.__options.animationDuration[1]+"ms","-webkit-animation-duration":self.__options.animationDuration[1]+"ms","animation-duration":self.__options.animationDuration[1]+"ms","transition-duration":self.__options.animationDuration[1]+"ms"}),self._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),self.__options.animationDuration[1]>0&&self._$tooltip.delay(self.__options.animationDuration[1]),self._$tooltip.queue(finish)):self._$tooltip.stop().fadeOut(self.__options.animationDuration[1],finish))}else finishCallbacks();return self},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(event,callback){var self=this,ok,extraTime,finish,timeout;if(!self.__destroying&&bodyContains(self._$origin)&&self.__enabled&&(ok=!0,self.__state=="closed"&&(self._trigger({type:"before",event:event,stop:function(){ok=!1}}),ok&&self.__options.functionBefore&&(ok=self.__options.functionBefore.call(self,self,{event:event,origin:self._$origin[0]}))),ok!==!1&&self.__Content!==null)){if(callback&&self.__callbacks.open.push(callback),self.__callbacks.close=[],self.__timeoutsClear(),finish=function(){self.__state!="stable"&&self.__stateSet("stable");$.each(self.__callbacks.open,function(i,c){c.call(self,self,{origin:self._$origin[0],tooltip:self._$tooltip[0]})});self.__callbacks.open=[]},self.__state!=="closed")extraTime=0,self.__state==="disappearing"?(self.__stateSet("appearing"),env.hasTransitions?(self._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),self.__options.animationDuration[0]>0&&self._$tooltip.delay(self.__options.animationDuration[0]),self._$tooltip.queue(finish)):self._$tooltip.stop().fadeIn(finish)):self.__state=="stable"&&finish();else{self.__stateSet("appearing");extraTime=self.__options.animationDuration[0];self.__contentInsert();self.reposition(event,!0);env.hasTransitions?(self._$tooltip.addClass("tooltipster-"+self.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":self.__options.animationDuration[0]+"ms","-ms-animation-duration":self.__options.animationDuration[0]+"ms","-o-animation-duration":self.__options.animationDuration[0]+"ms","-webkit-animation-duration":self.__options.animationDuration[0]+"ms","animation-duration":self.__options.animationDuration[0]+"ms","transition-duration":self.__options.animationDuration[0]+"ms"}),setTimeout(function(){self.__state!="closed"&&(self._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),self.__options.animationDuration[0]>0&&self._$tooltip.delay(self.__options.animationDuration[0]),self._$tooltip.queue(finish))},0)):self._$tooltip.css("display","none").fadeIn(self.__options.animationDuration[0],finish);self.__trackerStart();$(env.window).on("resize."+self.__namespace+"-triggerClose",function(e){var $ae=$(document.activeElement);($ae.is("input")||$ae.is("textarea"))&&$.contains(self._$tooltip[0],$ae[0])||self.reposition(e)}).on("scroll."+self.__namespace+"-triggerClose",function(e){self.__scrollHandler(e)});if(self.__$originParents=self._$origin.parents(),self.__$originParents.each(function(i,parent){$(parent).on("scroll."+self.__namespace+"-triggerClose",function(e){self.__scrollHandler(e)})}),self.__options.triggerClose.mouseleave||self.__options.triggerClose.touchleave&&env.hasTouchCapability){self._on("dismissable",function(event){event.dismissable?event.delay?(timeout=setTimeout(function(){self._close(event.event)},event.delay),self.__timeouts.close.push(timeout)):self._close(event):clearTimeout(timeout)});var $elements=self._$origin,eventNamesIn="",eventNamesOut="",timeout=null;self.__options.interactive&&($elements=$elements.add(self._$tooltip));self.__options.triggerClose.mouseleave&&(eventNamesIn+="mouseenter."+self.__namespace+"-triggerClose ",eventNamesOut+="mouseleave."+self.__namespace+"-triggerClose ");self.__options.triggerClose.touchleave&&env.hasTouchCapability&&(eventNamesIn+="touchstart."+self.__namespace+"-triggerClose",eventNamesOut+="touchend."+self.__namespace+"-triggerClose touchcancel."+self.__namespace+"-triggerClose");$elements.on(eventNamesOut,function(event){if(self._touchIsTouchEvent(event)||!self._touchIsEmulatedEvent(event)){var delay=event.type=="mouseleave"?self.__options.delay:self.__options.delayTouch;self._trigger({delay:delay[1],dismissable:!0,event:event,type:"dismissable"})}}).on(eventNamesIn,function(event){(self._touchIsTouchEvent(event)||!self._touchIsEmulatedEvent(event))&&self._trigger({dismissable:!1,event:event,type:"dismissable"})})}if(self.__options.triggerClose.originClick)self._$origin.on("click."+self.__namespace+"-triggerClose",function(event){self._touchIsTouchEvent(event)||self._touchIsEmulatedEvent(event)||self._close(event)});(self.__options.triggerClose.click||self.__options.triggerClose.tap&&env.hasTouchCapability)&&setTimeout(function(){if(self.__state!="closed"){var eventNames="",$body=$(env.window.document.body);self.__options.triggerClose.click&&(eventNames+="click."+self.__namespace+"-triggerClose ");self.__options.triggerClose.tap&&env.hasTouchCapability&&(eventNames+="touchend."+self.__namespace+"-triggerClose");$body.on(eventNames,function(event){self._touchIsMeaningfulEvent(event)&&(self._touchRecordEvent(event),self.__options.interactive&&$.contains(self._$tooltip[0],event.target)||self._close(event))});if(self.__options.triggerClose.tap&&env.hasTouchCapability)$body.on("touchstart."+self.__namespace+"-triggerClose",function(event){self._touchRecordEvent(event)})}},0);self._trigger("ready");self.__options.functionReady&&self.__options.functionReady.call(self,self,{origin:self._$origin[0],tooltip:self._$tooltip[0]})}self.__options.timer>0&&(timeout=setTimeout(function(){self._close()},self.__options.timer+extraTime),self.__timeouts.close.push(timeout))}return self},_openShortly:function(event){var self=this,ok=!0,delay;return self.__state!="stable"&&self.__state!="appearing"&&(self.__timeouts.open||(self._trigger({type:"start",event:event,stop:function(){ok=!1}}),ok&&(delay=event.type.indexOf("touch")==0?self.__options.delayTouch:self.__options.delay,delay[0]?self.__timeouts.open=setTimeout(function(){self.__timeouts.open=null;self.__pointerIsOverOrigin&&self._touchIsMeaningfulEvent(event)?(self._trigger("startend"),self._open(event)):self._trigger("startcancel")},delay[0]):(self._trigger("startend"),self._open(event))))),self},_optionsExtract:function(pluginName,defaultOptions){var self=this,options=$.extend(!0,{},defaultOptions),pluginOptions=self.__options[pluginName];return pluginOptions||(pluginOptions={},$.each(defaultOptions,function(optionName,value){var o=self.__options[optionName];o!==undefined&&(pluginOptions[optionName]=o)})),$.each(options,function(optionName,value){pluginOptions[optionName]!==undefined&&(typeof value!="object"||value instanceof Array||value==null||typeof pluginOptions[optionName]!="object"||pluginOptions[optionName]instanceof Array||pluginOptions[optionName]==null?options[optionName]=pluginOptions[optionName]:$.extend(options[optionName],pluginOptions[optionName]))}),options},_plug:function(pluginName){var plugin=$.tooltipster._plugin(pluginName);if(plugin)plugin.instance&&$.tooltipster.__bridge(plugin.instance,this,plugin.name);else throw new Error('The "'+pluginName+'" plugin is not defined');return this},_touchIsEmulatedEvent:function(event){for(var e,isEmulated=!1,now=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--)if(e=this.__touchEvents[i],now-e.time<500)e.target===event.target&&(isEmulated=!0);else break;return isEmulated},_touchIsMeaningfulEvent:function(event){return this._touchIsTouchEvent(event)&&!this._touchSwiped(event.target)||!this._touchIsTouchEvent(event)&&!this._touchIsEmulatedEvent(event)},_touchIsTouchEvent:function(event){return event.type.indexOf("touch")==0},_touchRecordEvent:function(event){return this._touchIsTouchEvent(event)&&(event.time=(new Date).getTime(),this.__touchEvents.push(event)),this},_touchSwiped:function(target){for(var e,swiped=!1,i=this.__touchEvents.length-1;i>=0;i--)if(e=this.__touchEvents[i],e.type=="touchmove"){swiped=!0;break}else if(e.type=="touchstart"&&target===e.target)break;return swiped},_trigger:function(){var args=Array.prototype.slice.apply(arguments);return typeof args[0]=="string"&&(args[0]={type:args[0]}),args[0].instance=this,args[0].origin=this._$origin?this._$origin[0]:null,args[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,args),$.tooltipster._trigger.apply($.tooltipster,args),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,args),this},_unplug:function(pluginName){var self=this,plugin;return self[pluginName]&&(plugin=$.tooltipster._plugin(pluginName),plugin.instance&&$.each(plugin.instance,function(methodName,fn){self[methodName]&&self[methodName].bridged===self[pluginName]&&delete self[methodName]}),self[pluginName].__destroy&&self[pluginName].__destroy(),delete self[pluginName]),self},close:function(callback){return this.__destroyed?this.__destroyError():this._close(null,callback),this},content:function(content){var self=this,animation;return content===undefined?self.__Content:(self.__destroyed?self.__destroyError():(self.__contentSet(content),self.__Content!==null?self.__state!=="closed"&&(self.__contentInsert(),self.reposition(),self.__options.updateAnimation&&(env.hasTransitions?(animation=self.__options.updateAnimation,self._$tooltip.addClass("tooltipster-update-"+animation),setTimeout(function(){self.__state!="closed"&&self._$tooltip.removeClass("tooltipster-update-"+animation)},1e3)):self._$tooltip.fadeTo(200,.5,function(){self.__state!="closed"&&self._$tooltip.fadeTo(200,1)}))):self._close()),self)},destroy:function(){var self=this,ns,title;return self.__destroyed?self.__destroyError():(self.__state!="closed"?self.option("animationDuration",0)._close(null,null,!0):self.__timeoutsClear(),self._trigger("destroy"),self.__destroyed=!0,self._$origin.removeData(self.__namespace).off("."+self.__namespace+"-triggerOpen"),$(env.window.document.body).off("."+self.__namespace+"-triggerOpen"),ns=self._$origin.data("tooltipster-ns"),ns&&(ns.length===1?(title=null,self.__options.restoration=="previous"?title=self._$origin.data("tooltipster-initialTitle"):self.__options.restoration=="current"&&(title=typeof self.__Content=="string"?self.__Content:$("<div><\/div>").append(self.__Content).html()),title&&self._$origin.attr("title",title),self._$origin.removeClass("tooltipstered"),self._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(ns=$.grep(ns,function(el,i){return el!==self.__namespace}),self._$origin.data("tooltipster-ns",ns))),self._trigger("destroyed"),self._off(),self.off(),self.__Content=null,self.__$emitterPrivate=null,self.__$emitterPublic=null,self.__options.parent=null,self._$origin=null,self._$tooltip=null,$.tooltipster.__instancesLatestArr=$.grep($.tooltipster.__instancesLatestArr,function(el,i){return self!==el}),clearInterval(self.__garbageCollector)),self},disable:function(){if(this.__destroyed)this.__destroyError();else return this._close(),this.__enabled=!1,this;return this},elementOrigin:function(){if(this.__destroyed)this.__destroyError();else return this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(callback){return this.close(callback)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(callback){return this.__destroyed?this.__destroyError():this._open(null,callback),this},option:function(o,val){return val===undefined?this.__options[o]:(this.__destroyed?this.__destroyError():(this.__options[o]=val,this.__optionsFormat(),$.inArray(o,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),o==="selfDestruction"&&this.__prepareGC()),this)},reposition:function(event,tooltipIsDetached){var self=this;return self.__destroyed?self.__destroyError():self.__state!="closed"&&bodyContains(self._$origin)&&(tooltipIsDetached||bodyContains(self._$tooltip))&&(tooltipIsDetached||self._$tooltip.detach(),self.__Geometry=self.__geometry(),self._trigger({type:"reposition",event:event,helper:{geo:self.__Geometry}})),self},show:function(callback){return this.open(callback)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:this.__state!=="closed",state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},$.fn.tooltipster=function(){var args=Array.prototype.slice.apply(arguments),contentCloningWarning="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.",v;if(this.length===0)return this;else if(typeof args[0]=="string")return v="#*$~&",this.each(function(){var ns=$(this).data("tooltipster-ns"),self=ns?$(this).data(ns[0]):null,resp;if(self){if(typeof self[args[0]]=="function")this.length>1&&args[0]=="content"&&(args[1]instanceof $||typeof args[1]=="object"&&args[1]!=null&&args[1].tagName)&&!self.__options.contentCloning&&self.__options.debug&&console.log(contentCloningWarning),resp=self[args[0]](args[1],args[2]);else throw new Error('Unknown method "'+args[0]+'"');if(resp!==self||args[0]==="instance")return v=resp,!1}else throw new Error("You called Tooltipster's \""+args[0]+'" method on an uninitialized element');}),v!=="#*$~&"?v:this;else{$.tooltipster.__instancesLatestArr=[];var multipleIsSet=args[0]&&args[0].multiple!==undefined,multiple=multipleIsSet&&args[0].multiple||!multipleIsSet&&defaults.multiple,contentIsSet=args[0]&&args[0].content!==undefined,content=contentIsSet&&args[0].content||!contentIsSet&&defaults.content,contentCloningIsSet=args[0]&&args[0].contentCloning!==undefined,contentCloning=contentCloningIsSet&&args[0].contentCloning||!contentCloningIsSet&&defaults.contentCloning,debugIsSet=args[0]&&args[0].debug!==undefined,debug=debugIsSet&&args[0].debug||!debugIsSet&&defaults.debug;return this.length>1&&(content instanceof $||typeof content=="object"&&content!=null&&content.tagName)&&!contentCloning&&debug&&console.log(contentCloningWarning),this.each(function(){var go=!1,$this=$(this),ns=$this.data("tooltipster-ns"),obj=null;ns?multiple?go=!0:debug&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):go=!0;go&&(obj=new $.Tooltipster(this,args[0]),ns||(ns=[]),ns.push(obj.__namespace),$this.data("tooltipster-ns",ns),$this.data(obj.__namespace,obj),obj.__options.functionInit&&obj.__options.functionInit.call(obj,obj,{origin:this}),obj._trigger("init"));$.tooltipster.__instancesLatestArr.push(obj)}),this}},Ruler.prototype={__init:function($tooltip){this.__$tooltip=$tooltip;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=$('<div class="tooltipster-ruler"><\/div>').append(this.__$tooltip).appendTo(env.window.document.body)},__forceRedraw:function(){var $p=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo($p)},constrain:function(width,height){return this.constraints={width:width,height:height},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:width}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){var tooltipBcr,result;if(this.__forceRedraw(),tooltipBcr=this.__$tooltip[0].getBoundingClientRect(),result={size:{height:tooltipBcr.height||tooltipBcr.bottom-tooltipBcr.top,width:tooltipBcr.width||tooltipBcr.right-tooltipBcr.left}},this.constraints){var $content=this.__$tooltip.find(".tooltipster-content"),height=this.__$tooltip.outerHeight(),contentBcr=$content[0].getBoundingClientRect(),fits={height:height<=this.constraints.height,width:tooltipBcr.width<=this.constraints.width&&contentBcr.width>=$content[0].scrollWidth-1};result.fits=fits.height&&fits.width}return env.IE&&env.IE<=11&&result.size.width!==env.window.document.documentElement.clientWidth&&(result.size.width=Math.ceil(result.size.width)+1),result}},uA=navigator.userAgent.toLowerCase(),uA.indexOf("msie")!=-1?env.IE=parseInt(uA.split("msie")[1]):uA.toLowerCase().indexOf("trident")!==-1&&uA.indexOf(" rv:11")!==-1?env.IE=11:uA.toLowerCase().indexOf("edge/")!=-1&&(env.IE=parseInt(uA.toLowerCase().split("edge/")[1])),pluginName="tooltipster.sideTip",$.tooltipster._plugin({name:pluginName,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(instance){var self=this;self.__instance=instance;self.__namespace="tooltipster-sideTip-"+Math.round(Math.random()*1e6);self.__previousState="closed";self.__options;self.__optionsFormat();self.__instance._on("state."+self.__namespace,function(event){event.state=="closed"?self.__close():event.state=="appearing"&&self.__previousState=="closed"&&self.__create();self.__previousState=event.state});self.__instance._on("options."+self.__namespace,function(){self.__optionsFormat()});self.__instance._on("reposition."+self.__namespace,function(e){self.__reposition(e.event,e.helper)})},__close:function(){this.__instance.content()instanceof $&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var $html=$('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"><\/div><\/div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"><\/div><div class="tooltipster-arrow-background"><\/div><\/div><\/div><\/div>');this.__options.arrow||$html.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&$html.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&$html.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=$html;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var self=this,opposites;self.__options=self.__instance._optionsExtract(pluginName,self.__defaults());self.__options.position&&(self.__options.side=self.__options.position);typeof self.__options.distance!="object"&&(self.__options.distance=[self.__options.distance]);self.__options.distance.length<4&&(self.__options.distance[1]===undefined&&(self.__options.distance[1]=self.__options.distance[0]),self.__options.distance[2]===undefined&&(self.__options.distance[2]=self.__options.distance[0]),self.__options.distance[3]===undefined&&(self.__options.distance[3]=self.__options.distance[1]),self.__options.distance={top:self.__options.distance[0],right:self.__options.distance[1],bottom:self.__options.distance[2],left:self.__options.distance[3]});typeof self.__options.side=="string"&&(opposites={top:"bottom",right:"left",bottom:"top",left:"right"},self.__options.side=[self.__options.side,opposites[self.__options.side]],self.__options.side[0]=="left"||self.__options.side[0]=="right"?self.__options.side.push("top","bottom"):self.__options.side.push("right","left"));$.tooltipster._env.IE===6&&self.__options.arrow!==!0&&(self.__options.arrow=!1)},__reposition:function(event,helper){var self=this,finalResult,targets=self.__targetFind(helper),testResults=[],finalResultClone,result,arrowCoord,maxVal,originParentOffset;self.__instance._$tooltip.detach();var $clone=self.__instance._$tooltip.clone(),ruler=$.tooltipster._getRuler($clone),satisfied=!1,animation=self.__instance.option("animation");animation&&$clone.removeClass("tooltipster-"+animation);$.each(["window","document"],function(i,container){var takeTest=null,i,distance,side;if(self.__instance._trigger({container:container,helper:helper,satisfied:satisfied,takeTest:function(bool){takeTest=bool},results:testResults,type:"positionTest"}),takeTest==!0||takeTest!=!1&&satisfied==!1&&(container!="window"||self.__options.viewportAware))for(i=0;i<self.__options.side.length;i++)distance={horizontal:0,vertical:0},side=self.__options.side[i],side=="top"||side=="bottom"?distance.vertical=self.__options.distance[side]:distance.horizontal=self.__options.distance[side],self.__sideChange($clone,side),$.each(["natural","constrained"],function(i,mode){if(takeTest=null,self.__instance._trigger({container:container,event:event,helper:helper,mode:mode,results:testResults,satisfied:satisfied,side:side,takeTest:function(bool){takeTest=bool},type:"positionTest"}),takeTest==!0||takeTest!=!1&&satisfied==!1){var testResult={container:container,distance:distance,fits:null,mode:mode,outerSize:null,side:side,size:null,target:targets[side],whole:null},rulerConfigured=mode=="natural"?ruler.free():ruler.constrain(helper.geo.available[container][side].width-distance.horizontal,helper.geo.available[container][side].height-distance.vertical),rulerResults=rulerConfigured.measure();if(testResult.size=rulerResults.size,testResult.outerSize={height:rulerResults.size.height+distance.vertical,width:rulerResults.size.width+distance.horizontal},testResult.fits=mode=="natural"?helper.geo.available[container][side].width>=testResult.outerSize.width&&helper.geo.available[container][side].height>=testResult.outerSize.height?!0:!1:rulerResults.fits,container=="window"&&(testResult.whole=testResult.fits?side=="top"||side=="bottom"?helper.geo.origin.windowOffset.right>=self.__options.minIntersection&&helper.geo.window.size.width-helper.geo.origin.windowOffset.left>=self.__options.minIntersection:helper.geo.origin.windowOffset.bottom>=self.__options.minIntersection&&helper.geo.window.size.height-helper.geo.origin.windowOffset.top>=self.__options.minIntersection:!1),testResults.push(testResult),testResult.whole)satisfied=!0;else if(testResult.mode=="natural"&&(testResult.fits||testResult.size.width<=helper.geo.available[container][side].width))return!1}})});self.__instance._trigger({edit:function(r){testResults=r},event:event,helper:helper,results:testResults,type:"positionTested"});testResults.sort(function(a,b){var ai,bi;return a.whole&&!b.whole?-1:!a.whole&&b.whole?1:a.whole&&b.whole?(ai=self.__options.side.indexOf(a.side),bi=self.__options.side.indexOf(b.side),ai<bi?-1:ai>bi?1:a.mode=="natural"?-1:1):a.fits&&!b.fits?-1:!a.fits&&b.fits?1:a.fits&&b.fits?(ai=self.__options.side.indexOf(a.side),bi=self.__options.side.indexOf(b.side),ai<bi?-1:ai>bi?1:a.mode=="natural"?-1:1):a.container=="document"&&a.side=="bottom"&&a.mode=="natural"?-1:1});finalResult=testResults[0];finalResult.coord={};switch(finalResult.side){case"left":case"right":finalResult.coord.top=Math.floor(finalResult.target-finalResult.size.height/2);break;case"bottom":case"top":finalResult.coord.left=Math.floor(finalResult.target-finalResult.size.width/2);break}switch(finalResult.side){case"left":finalResult.coord.left=helper.geo.origin.windowOffset.left-finalResult.outerSize.width;break;case"right":finalResult.coord.left=helper.geo.origin.windowOffset.right+finalResult.distance.horizontal;break;case"top":finalResult.coord.top=helper.geo.origin.windowOffset.top-finalResult.outerSize.height;break;case"bottom":finalResult.coord.top=helper.geo.origin.windowOffset.bottom+finalResult.distance.vertical;break}finalResult.container=="window"?finalResult.side=="top"||finalResult.side=="bottom"?finalResult.coord.left<0?finalResult.coord.left=helper.geo.origin.windowOffset.right-this.__options.minIntersection>=0?0:helper.geo.origin.windowOffset.right-this.__options.minIntersection-1:finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width&&(finalResult.coord.left=helper.geo.origin.windowOffset.left+this.__options.minIntersection<=helper.geo.window.size.width?helper.geo.window.size.width-finalResult.size.width:helper.geo.origin.windowOffset.left+this.__options.minIntersection+1-finalResult.size.width):finalResult.coord.top<0?finalResult.coord.top=helper.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?0:helper.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:finalResult.coord.top>helper.geo.window.size.height-finalResult.size.height&&(finalResult.coord.top=helper.geo.origin.windowOffset.top+this.__options.minIntersection<=helper.geo.window.size.height?helper.geo.window.size.height-finalResult.size.height:helper.geo.origin.windowOffset.top+this.__options.minIntersection+1-finalResult.size.height):(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width&&(finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width),finalResult.coord.left<0&&(finalResult.coord.left=0));self.__sideChange($clone,finalResult.side);helper.tooltipClone=$clone[0];helper.tooltipParent=self.__instance.option("parent").parent[0];helper.mode=finalResult.mode;helper.whole=finalResult.whole;helper.origin=self.__instance._$origin[0];helper.tooltip=self.__instance._$tooltip[0];delete finalResult.container;delete finalResult.fits;delete finalResult.mode;delete finalResult.outerSize;delete finalResult.whole;finalResult.distance=finalResult.distance.horizontal||finalResult.distance.vertical;finalResultClone=$.extend(!0,{},finalResult);self.__instance._trigger({edit:function(result){finalResult=result},event:event,helper:helper,position:finalResultClone,type:"position"});self.__options.functionPosition&&(result=self.__options.functionPosition.call(self,self.__instance,helper,finalResultClone),result&&(finalResult=result));ruler.destroy();finalResult.side=="top"||finalResult.side=="bottom"?(arrowCoord={prop:"left",val:finalResult.target-finalResult.coord.left},maxVal=finalResult.size.width-this.__options.minIntersection):(arrowCoord={prop:"top",val:finalResult.target-finalResult.coord.top},maxVal=finalResult.size.height-this.__options.minIntersection);arrowCoord.val<this.__options.minIntersection?arrowCoord.val=this.__options.minIntersection:arrowCoord.val>maxVal&&(arrowCoord.val=maxVal);originParentOffset=helper.geo.origin.fixedLineage?helper.geo.origin.windowOffset:{left:helper.geo.origin.windowOffset.left+helper.geo.window.scroll.left,top:helper.geo.origin.windowOffset.top+helper.geo.window.scroll.top};finalResult.coord={left:originParentOffset.left+(finalResult.coord.left-helper.geo.origin.windowOffset.left),top:originParentOffset.top+(finalResult.coord.top-helper.geo.origin.windowOffset.top)};self.__sideChange(self.__instance._$tooltip,finalResult.side);helper.geo.origin.fixedLineage?self.__instance._$tooltip.css("position","fixed"):self.__instance._$tooltip.css("position","");self.__instance._$tooltip.css({left:finalResult.coord.left,top:finalResult.coord.top,height:finalResult.size.height,width:finalResult.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(arrowCoord.prop,arrowCoord.val);self.__instance._$tooltip.appendTo(self.__instance.option("parent"));self.__instance._trigger({type:"repositioned",event:event,position:finalResult})},__sideChange:function($obj,side){$obj.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+side)},__targetFind:function(helper){var target={},rects=this.__instance._$origin[0].getClientRects(),opacity,targetRect;return rects.length>1&&(opacity=this.__instance._$origin.css("opacity"),opacity==1&&(this.__instance._$origin.css("opacity",.99),rects=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))),rects.length<2?(target.top=Math.floor(helper.geo.origin.windowOffset.left+helper.geo.origin.size.width/2),target.bottom=target.top,target.left=Math.floor(helper.geo.origin.windowOffset.top+helper.geo.origin.size.height/2),target.right=target.left):(targetRect=rects[0],target.top=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2),targetRect=rects.length>2?rects[Math.ceil(rects.length/2)-1]:rects[0],target.right=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2),targetRect=rects[rects.length-1],target.bottom=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2),targetRect=rects.length>2?rects[Math.ceil((rects.length+1)/2)-1]:rects[rects.length-1],target.left=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2)),target}}}),$}),function($){var initialized=!1;$.fn.jScroll=function(options,shouldScroll,bottomScrollSelector){function location($element){this.getMargin=function($window){var min=$element.parent().offset().top,max=$element.parent().height()-$element.outerHeight(),margin=parseInt($element.css("margin-top"),10)||0;return $window.scrollTop()+opts.top>=min&&(margin=margin+opts.top+$window.scrollTop()-min),margin>max&&max>0&&(margin=max),margin};this.getBottomMargin=function($element,$bottom){var curPos=$element.position().top+$element.outerHeight();return bottomPos=$bottom.position().top,bottomPos-curPos};this.getStringMargin=function($window){return{marginTop:this.getMargin($window)+"px"}}}var opts;if(!initialized){var previousScrollHeight=document.documentElement.scrollHeight,timeout=null,jScrollDOMSubtreeModified=function(){if(timeout==null){var scrollHeight=document.documentElement.scrollHeight;timeout=setTimeout(function(){previousScrollHeight!=scrollHeight&&$(window).trigger("scroll");previousScrollHeight=scrollHeight;timeout=null},200)}};$(document).on("DOMSubtreeModified",jScrollDOMSubtreeModified);initialized=!0}return opts=$.extend({},$.fn.jScroll.defaults,options),typeof shouldScroll!="undefined"&&$.isFunction(shouldScroll)||(shouldScroll=function(){return!0}),this.each(function(){var $element=$(this),$window=$(window),locator=new location($element),hasBottom=!1,$bottom=$(bottomScrollSelector);$bottom.length>0&&(hasBottom=!0);$window.scroll(function(){var margin,bottomMargin;shouldScroll()==!0&&(opts.speed=="fixed"?(margin=locator.getMargin($window),margin>0&&!$element.hasClass("fixed-filter")?($element.addClass("fixed-filter"),$element.removeClass("bottom-filter"),$("body").addClass("fixed-filter")):margin<=0&&$element.hasClass("fixed-filter")&&($element.removeClass("fixed-filter"),$("body").removeClass("fixed-filter")),hasBottom&&(bottomMargin=locator.getBottomMargin($element,$bottom),bottomMargin<=0&&!$element.hasClass("bottom-filter")?($element.addClass("bottom-filter"),$element.removeClass("fixed-filter")):bottomMargin>0&&$element.removeClass("bottom-filter"))):$element.stop().animate(locator.getStringMargin($window),opts.speed))})})};$.fn.jScroll.defaults={speed:"slow",top:10}}(jQuery);
/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.13
 *
 * Requires: jQuery 1.2.3 ~ 1.8.2
 */
(function($){$.fn.extend({actual:function(method,options){var tmp,style,$hidden,actual;if(!this[method])throw'$.actual => The jQuery method "'+method+'" you called does not exist';var defaults={absolute:!0,clone:!1,includeMargin:!1},configs=$.extend(defaults,options),$target=this.eq(0),fix,restore;return configs.clone===!0?(fix=function(){var style="position: absolute !important; top: -1000 !important; ";$target=$target.clone().attr("style",style).appendTo("body")},restore=function(){$target.remove()}):(tmp=[],style="",fix=function(){$hidden=$target.parents().addBack().filter(":hidden");style+="visibility: hidden !important; display: block !important; ";configs.absolute===!0&&(style+="position: absolute !important; ");$hidden.each(function(){var $this=$(this),tempStyle=$this.attr("style");tmp.push(tempStyle);$this.attr("style",style+tempStyle)})},restore=function(){$hidden.each(function(i){var $this=$(this),_tmp=tmp[i];_tmp===undefined?$this.removeAttr("style"):$this.attr("style",_tmp)})}),fix(),actual=/(outer)/g.test(method)?$target[method](configs.includeMargin):$target[method](),restore(),actual}})})(jQuery);typeof UseMapbox=="undefined"&&(UseMapbox=!1),function(LiquidSpace){var MapMapboxBounds=function(){function MapMapboxBounds(sw,ne){var bounds=new mapboxgl.LngLatBounds;sw&&bounds.extend(new mapboxgl.LngLat(sw.longitude,sw.latitude));ne&&bounds.extend(new mapboxgl.LngLat(ne.longitude,ne.latitude));this.extend=function(latitude,longitude){bounds.extend(new mapboxgl.LngLat(longitude,latitude))};this.getBounds=function(){return bounds};this.getCenter=function(){var center=bounds.getCenter();return new LiquidSpace.MapPoint(center.lat,center.lng)};this.getNorthEast=function(){var northEast=bounds.getNorthEast();return new LiquidSpace.MapPoint(northEast.lat,northEast.lng)};this.getSouthWest=function(){var northEast=bounds.getSouthWest();return new LiquidSpace.MapPoint(northEast.lat,northEast.lng)};this.isEmpty=function(){return bounds.isEmpty()}}return MapMapboxBounds}(),MapMapboxMarker,MapGoogleBounds,MapGoogleMarker,MapPoint,MapCommon,Geocoder,Mapbox;LiquidSpace.MapMapboxBounds=MapMapboxBounds;MapMapboxMarker=function(){function MapMapboxMarker(marker){this.setHover=function(hover){var element=marker&&marker.getElement();element&&(hover?element.classList.add("mapbox-marker--hover"):element.classList.remove("mapbox-marker--hover"))};this.remove=function(){marker.remove()};this.setPosition=function(location){location&&isNumber(location.longitude)&&isNumber(location.latitude)&&marker.setLngLat([location.longitude,location.latitude])};this.getPosition=function(){var lngLat=marker.getLngLat();return new LiquidSpace.MapPoint(lngLat.lat,lngLat.lng)};this.setVisible=function(visible){var element=marker&&marker.getElement();element&&(visible?element.classList.remove("mapbox-marker--hidden"):element.classList.add("mapbox-marker--hidden"))};this.setIcon=function(icon){var element=marker&&marker.getElement(),classNamesToRemove,i;if(element){for(classNamesToRemove=element.className.split(" ").filter(function(cn){return cn.lastIndexOf("mapbox-marker-icon-",0)===0}),i=0;i<classNamesToRemove.length;i++)element.classList.remove(classNamesToRemove[i]);element.classList.add("mapbox-marker-icon-"+icon)}};this.getInstace=function(){return marker};this.on=function(type,listener){marker.on(type,listener)}}return MapMapboxMarker}();LiquidSpace.MapMapboxMarker=MapMapboxMarker;MapGoogleBounds=function(){function MapGoogleBounds(sw,ne){var bounds=new google.maps.LatLngBounds(new google.maps.LatLng(sw.latitude,sw.longitude),new google.maps.LatLng(ne.latitude,ne.longitude));this.extend=function(latitude,longitude){bounds.extend(new google.maps.LatLng(latitude,longitude))};this.getBounds=function(){return bounds};this.getCenter=function(){var center=bounds.getCenter();return new MapPoint(center.lat(),center.lng())};this.getNorthEast=function(){var northEast=bounds.getNorthEast();return new MapPoint(northEast.lat(),northEast.lng())};this.getSouthWest=function(){var northEast=bounds.getSouthWest();return new MapPoint(northEast.lat(),northEast.lng())};this.isEmpty=function(){return bounds.isEmpty()}}return MapGoogleBounds}();LiquidSpace.MapGoogleBounds=MapGoogleBounds;MapGoogleMarker=function(){function MapGoogleMarker(marker){this.setHover=function(hover){hover?marker&&marker.icon&&(marker.initialMarker||(marker.initialMarker=marker.icon),marker.icon.overIcon&&marker.setIcon(marker.icon.overIcon),marker.initialZIndex||(marker.initialZIndex=marker.zIndex),marker.setZIndex(9999)):marker&&marker.icon&&(marker.setIcon(marker.initialMarker?marker.initialMarker:marker.icon),marker.setZIndex(marker.initialZIndex?marker.initialZIndex:marker.zIndex))};this.remove=function(){marker.setMap(null)};this.setPosition=function(location){marker.setPosition(new google.maps.LatLng(location.latitude,location.longitude))};this.getPosition=function(){var lngLat=marker.getPosition();return new LiquidSpace.MapPoint(lngLat.lat(),lngLat.lng())};this.setVisible=function(visible){marker.setVisible(visible)};this.setIcon=function(iconName){var pins=LiquidSpace.MapCommon.getGooglePins(),icon=pins[iconName]||pins.teardrop;marker.setIcon(icon);marker.initialMarker=icon};this.getInstace=function(){return marker};this.on=function(type,listener){google.maps.event.addListener(marker,type,listener)}}return MapGoogleMarker}();LiquidSpace.MapGoogleMarker=MapGoogleMarker;LiquidSpace.MapBounds=UseMapbox?LiquidSpace.MapMapboxBounds:LiquidSpace.MapGoogleBounds;MapPoint=function(){function MapPoint(latitude,longitude){this.latitude=parseFloat(latitude);this.longitude=parseFloat(longitude)}return MapPoint}();LiquidSpace.MapPoint=MapPoint,function(MapCommon){function getDistance(point1,point2){var coordinates=[[point1.longitude,point1.latitude],[point2.longitude,point2.latitude]];return turf.lineDistance({type:"Feature",geometry:{type:"LineString",coordinates:coordinates},properties:null})}function getGooglePins(){if(_googleMapsPins===null){var pinCanvas={width:414,height:88};_googleMapsPins={teardrop:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(60,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},orangeteardrop:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},favorited:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(90,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(30,0),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},ocean:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(60,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(60,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},charcoal:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(218,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},charcoalFavorited:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(248,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(30,0),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},grey:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(278,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(278,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},greyFavorited:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(308,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(30,38),origin:new google.maps.Point(308,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},streetView:{url:"/content/images/manage/spr-pins2-VM.png",size:new google.maps.Size(28,35),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(13,30),overIcon:{url:"/content/images/manage/spr-pins2-VM.png",size:new google.maps.Size(28,35),origin:new google.maps.Point(28,0),anchor:new google.maps.Point(15,30)},tooltipMarginTop:-32},exactLocation:{url:"/content/images/srp/locationOnMap.png",size:new google.maps.Size(26,26),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(13,13),tooltipMarginTop:-26},dot:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(182,11),anchor:new google.maps.Point(8,8),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(162,11),anchor:new google.maps.Point(8,8)},tooltipMarginTop:-3},orangedot:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(162,11),anchor:new google.maps.Point(8,8),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(162,61),anchor:new google.maps.Point(8,8)},tooltipMarginTop:-3},greyDot:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(142,11),anchor:new google.maps.Point(8,8),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(142,61),anchor:new google.maps.Point(8,8)},tooltipMarginTop:-3},darkocean:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(338,11),anchor:new google.maps.Point(8,8),overIcon:{url:"/content/images/icons/v4/spr-MapPins3.png",scaledSize:new google.maps.Size(pinCanvas.width,pinCanvas.height),size:new google.maps.Size(16,16),origin:new google.maps.Point(338,61),anchor:new google.maps.Point(8,8)},tooltipMarginTop:-3},restaurant:{url:"/content/images/srp/amenities-icon2.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(50,0),anchor:new google.maps.Point(14,14),overIcon:{url:"/content/images/srp/amenities-icon2.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(75,0),anchor:new google.maps.Point(14,14)},tooltipMarginTop:-10},coffee:{url:"/content/images/srp/amenities-icon2.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(14,14),overIcon:{url:"/content/images/srp/amenities-icon2.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(25,0),anchor:new google.maps.Point(14,14)},tooltipMarginTop:-10},transit:{url:"/content/images/srp/amenities-icon2.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(100,0),anchor:new google.maps.Point(14,14),overIcon:{url:"/content/images/srp/amenities-icon2.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(125,0),anchor:new google.maps.Point(14,14)},tooltipMarginTop:-10}}}return _googleMapsPins||{}}MapCommon.getDistance=getDistance;var _googleMapsPins=null;MapCommon.getGooglePins=getGooglePins}(MapCommon=LiquidSpace.MapCommon||(LiquidSpace.MapCommon={}));Geocoder=function(){function Geocoder(){this.geocode=function(request,callback){$.ajax({url:"/geocoder/geocode",type:"POST",contentType:"application/json",data:JSON.stringify(request),success:function(data){$.isFunction(callback)&&callback(data.results,data.status)}})};this.lsgeocode=function(request,callback){$.ajax({url:"/geocoder/lsgeocode",type:"POST",contentType:"application/json",data:JSON.stringify(request),success:function(data){$.isFunction(callback)&&callback(data)}})};this.getPlacePredictions=function(request,callback){request=$.extend({sessionToken:LiquidSpace.Geocoder.sessionToken},request);$.ajax({url:"/geocoder/getPlacePredictions",type:"POST",contentType:"application/json",data:JSON.stringify(request),success:function(data){$.isFunction(callback)&&callback(data.predictions,data.status)}})};this.getDetails=function(request,callback){request=$.extend({sessionToken:LiquidSpace.Geocoder.sessionToken},request);$.ajax({url:"/geocoder/getPlaceDetails",type:"POST",contentType:"application/json",data:JSON.stringify(request),success:function(data){LiquidSpace.Geocoder.sessionToken=Guid.NewGuid();$.isFunction(callback)&&callback(data.result,data.status)}})}}return Geocoder.sessionToken=Guid&&Guid.NewGuid(),Geocoder}();LiquidSpace.Geocoder=Geocoder;Mapbox=function(){function Mapbox(params){params=$.extend({mapOptions:null,showZoomControls:!0,onLoad:function(){}},params);params.mapOptions=$.extend({container:"map_canvas",zoom:8,style:"mapbox://styles/mapbox/streets-v9",scrollZoom:!1,minZoom:2,maxZoom:21,dragPan:!0},params.mapOptions);var _self=this;typeof MapboxAPIKey!="undefined"&&(mapboxgl.accessToken=MapboxAPIKey);this.map=new mapboxgl.Map(params.mapOptions);this.map.on("load",function(){var layers=_self.map.getStyle().layers,labelLayerId,i;if(layers!=null)for(i=0;i<layers.length;i++)if(layers[i].type==="symbol"&&layers[i].layout["text-field"]){labelLayerId=layers[i].id;break}_self.map.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},labelLayerId);$.isFunction(params.onLoad)&&params.onLoad()});params.showZoomControls&&this.map.addControl(new mapboxgl.NavigationControl({showCompass:!1}),"top-left");this.setZoom=function(zoom){_self.map.setZoom(zoom)};this.fitBoundsInternalTriggered=!1;this.fitBounds=function(lat,lng,options){var dLat,dLong;if(options=$.extend({animate:!1},options),!_self.latlngbounds.isEmpty()){var southWest=_self.latlngbounds.getSouthWest(),northEast=_self.latlngbounds.getNorthEast(),center=_self.latlngbounds.getCenter();Math.abs(northEast.latitude-southWest.latitude)<.001||Math.abs(northEast.longitude-southWest.longitude)<.001?(_self.showMapCenter(center.latitude,center.longitude),_self.setZoom(16)):(lat!=null&&lng!=null&&lat!=0&&lng!=0&&(dLat=center.latitude-lat,dLong=center.longitude-lng,_self.latlngbounds.extend(southWest.latitude-2*dLat,southWest.longitude-2*dLong),_self.latlngbounds.extend(northEast.latitude-2*dLat,northEast.longitude-2*dLong)),_self.fitBoundsInternalTriggered=!0,_self.map.fitBounds(_self.latlngbounds.getBounds(),{padding:45,animate:!!options.animate}))}};this.fitBoundsSilent=function(bounds,options){options=$.extend({animate:!1},options);_self.map.fitBounds(bounds.getBounds(),{animate:!!options.animate})};this.markers=[];this.latlngbounds=new MapMapboxBounds;this.clearMarkers=function(){for(var i in _self.markers)_self.removeMarker(_self.markers[i],!0);_self.markers=[];_self.latlngbounds=new LiquidSpace.MapMapboxBounds};this.removeMarker=function(marker,skipSplicing){if(typeof marker.remove=="function"&&marker.remove(),!skipSplicing){var index=_self.markers.indexOf(marker);index>-1&&_self.markers.splice(index,1)}};this.pins={teardrop:{anchor:"bottom",offset:new mapboxgl.Point(0,0)},dot:{anchor:"top-left",offset:new mapboxgl.Point(-8,-8)},restaurant:{anchor:"top-left",offset:new mapboxgl.Point(-12.5,-12.5)},coffee:{anchor:"top-left",offset:new mapboxgl.Point(-12.5,-12.5)},transit:{anchor:"top-left",offset:new mapboxgl.Point(-12.5,-12.5)},exactLocation:{anchor:"top-left",offset:new mapboxgl.Point(-13,-13)}};this.addMarker=function(options){var icon,marker,mapMapboxMarker;if(options=$.extend({latitude:null,longitude:null,draggable:!1,ignoreMapBounds:!1,extendBounds:!0,icon:null,tooltipsterOptions:null,className:null,onClick:null,title:null,titleCloseOnMouseLeave:!1,showContentByDefault:!1,appendInfoBoxToElementSelector:null},options),icon=options.icon&&_self.pins[options.icon]||_self.pins.teardrop,options.latitude!=null&&options.latitude!=0||options.longitude!=0&&options.longitude!=null){var lngLat=new mapboxgl.LngLat(options.longitude,options.latitude),div=document.createElement("div"),className="mapbox-marker mapbox-marker-icon-"+options.icon;return options.className&&(className+=" "+options.className),div.className=className,marker=new mapboxgl.Marker({element:div,anchor:icon.anchor,offset:icon.offset,draggable:options.draggable}).setLngLat(lngLat).addTo(_self.map),options.tooltipsterOptions&&options.tooltipsterOptions.content?$(div).tooltipster($.extend({IEmin:10,contentAsHTML:!0,interactive:!0,theme:"tooltipster-templated"},options.tooltipsterOptions)):options.title&&$(div).tooltipster({IEmin:10,contentAsHTML:!0,interactive:!0,theme:"tooltipster-templated",content:options.title}),options.extendBounds&&_self.latlngbounds.extend(lngLat.lat,lngLat.lng),options.ignoreMapBounds||_self.fitBounds(),mapMapboxMarker=new MapMapboxMarker(marker),_self.markers.push(mapMapboxMarker),mapMapboxMarker}else return null};this.showMapCenter=function(latitude,longitude,options){options=$.extend({animate:!1},options);latitude&&longitude&&_self.map.flyTo({center:new mapboxgl.LngLat(longitude,latitude),animate:!!options.animate})};this.setZoomSilently=function(zoom){_self.ignoreZoomEvent=!0;_self.map.setZoom(zoom)};this.getDistanceFromCenter=function(point){var mapCenter=_self.map.getCenter();return _self.getDistance(point,new MapPoint(mapCenter.lat,mapCenter.lng))};this.getDistance=function(point1,point2){var coordinates=[[point1.longitude,point1.latitude],[point2.longitude,point2.latitude]];return turf.lineDistance({type:"Feature",geometry:{type:"LineString",coordinates:coordinates},properties:null})};this.getCenter=function(){var center=_self.map.getCenter();return new LiquidSpace.MapPoint(center.lat,center.lng)};this.getZoom=function(){return _self.map.getZoom()};this.getDisplayRadius=function(){var bounds=_self.map.getBounds();if(bounds){var center=bounds.getCenter(),ne=bounds.getNorthEast(),r=3963,lat1=center.lat/57.2958,lon1=center.lng/57.2958,lat2=ne.lat/57.2958,lon2=ne.lng/57.2958,dis=r*Math.acos(Math.sin(lat1)*Math.sin(lat2)+Math.cos(lat1)*Math.cos(lat2)*Math.cos(lon2-lon1));return dis*1610}else return 0}}return Mapbox}();LiquidSpace.Mapbox=Mapbox}(LiquidSpace||(LiquidSpace={})),function(){var boxedString=Object("a"),splitString=boxedString[0]!=="a"||!(0 in boxedString),_toString=Object.prototype.toString,isFunction=function(val){return Object.prototype.toString.call(val)==="[object Function]"},isRegex=function(val){return Object.prototype.toString.call(val)==="[object RegExp]"},isArray=function(obj){return _toString.call(obj)==="[object Array]"},isString=function(obj){return _toString.call(obj)==="[object String]"},toObject=function(o){if(o==null)throw new TypeError("can't convert "+o+" to object");return Object(o)};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in this&&this[from]===elt)return from;return-1});Array.prototype.filter||(Array.prototype.filter=function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=[],value,thisp=arguments[1],i;if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(i=0;i<length;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result});Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1],i;if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1});Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1],i;if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(i=0;i<length;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result});String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(searchString,position){return position=position||0,this.lastIndexOf(searchString,position)===position}});String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(searchString,position){var subjectString=this.toString(),lastIndex;return(position===undefined||position>subjectString.length)&&(position=subjectString.length),position-=searchString.length,lastIndex=subjectString.indexOf(searchString,position),lastIndex!==-1&&lastIndex===position}});Array.prototype.find||(Array.prototype.find=function(predicate){var i;if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof predicate!="function")throw new TypeError("predicate must be a function");var list=Object(this),length=list.length>>>0,thisArg=arguments[1],value;for(i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return value;return undefined})}();clientside_error_count=0;window.onerror=function(msg,url,line,column,error){if(clientside_error_count++,clientside_error_count<=10&&window.navigator.userAgent.indexOf("Baiduspider")==-1){var message="JavaScript error: "+msg+" url: "+url+" line: "+line+" column: "+column+" error_count:"+clientside_error_count;error&&(message+=" stack_trace:"+error.stack);jQuery.ajax({url:"/Error/LogJsError",type:"POST",async:!0,cache:!1,data:{message:message}})}};window.console&&console.log||function(){for(var noop=function(){},methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],length=methods.length,console=window.console={};length--;)console[methods[length]]=noop}();jQuery.cachedScript=function(url,callback){return jQuery.ajax({dataType:"script",cache:!0,url:url,success:callback})};$.maxZIndex=$.fn.maxZIndex=function(opt){var def={inc:10,group:"*"},zmax;return($.extend(def,opt),zmax=0,$(def.group).each(function(){var cur=parseInt($(this).css("z-index"));zmax=cur>zmax?cur:zmax}),!this.jquery)?zmax:this.each(function(){zmax+=def.inc;$(this).css("z-index",zmax)})};window.LSHelper=window.LSHelper||{};LSHelper.storage=function(storage){var _self=this;this.setExpiration=function(key,date){storage&&storage.setItem(key+"-expiration",JSON.stringify(date))};this.getExpiration=function(key){return this.get(key+"-expiration")};this.set=function(key,value,expiration){if(storage){expiration&&this.setExpiration(key,expiration);try{storage.setItem(key,JSON.stringify(value))}catch(e){if(e.name==="QUOTA_EXCEEDED_ERR"||e.name==="QuotaExceededError"||e.name=="NS_ERROR_DOM_QUOTA_REACHED")storage.clear(),storage.setItem(key,JSON.stringify(value));else throw e;}}};this.get=function(key,checkExpiration){var exp,item;return storage?checkExpiration==!0&&(exp=this.getExpiration(key),exp==null||new Date(exp).getTime()-(new Date).getTime()<0)?null:(item=storage.getItem(key),item&&item.length>0?JSON.parse(item):null):null}};LSHelper.sessionStorage=new LSHelper.storage(sessionStorage);LSHelper.localStorage=new LSHelper.storage(localStorage);LSHelper.ga={trackMonthlyRequest:function(action,label,isMonthly){var actionLabel="Undefined";switch(action){case"Inquire":case 0:actionLabel="Inquire";break;case"Tour":case 1:actionLabel="Tour";break;case"Book":case 2:actionLabel="Book";break;case"MessageHost":case 3:actionLabel=isMonthly===!0?"MessageHost-Monthly":"MessageHost";break;default:actionLabel="Undefined";break}typeof ga=="function"&&(ga("send","event",{eventCategory:"Request",eventAction:actionLabel,eventLabel:label}),typeof dataLayer=="object"&&(dataLayer.push({MonthlyRequestType:actionLabel}),dataLayer.push({event:"trackMonthlyRequestConversion"})))},trackVPV:function(params){params=$.extend({pageName:"",attempt:0,totalAttempts:3},params);typeof ga=="function"?params.pageName&&ga("send","pageview",{page:params.pageName}):params.attempt<params.totalAttempts&&(params.attempt++,setTimeout(function(){LSHelper.ga.trackVPV(params)},700))}};LSHelper.UI={showError:function(obj){DEBUG&&(obj.css="error-dialog-debug "+(obj.css||""));var $errorWrapper=$('<div class="error-dialog-wrapper"><div class="error-dialog '+(obj.css||"")+'"><div class="error-dialog-close"><\/div><div class="error-dialog-title h2">'+obj.title+'<\/div ><div class="error-dialog-content h5"><\/div><\/div><\/div>');$errorWrapper.find(".error-dialog-content").html(obj.content);$errorWrapper.find(".error-dialog-close").click(function(){$errorWrapper.remove()});$("body").append($errorWrapper)},datePickerP:function(params){var extendedParams={elem:null,onSelect:null,anyDateChecked:null,anyDateText:null,btnImage:null,onClose:null,buttonText:null,cssClass:null,enableAnyDate:null,showOn:"both",minDate:null,currentDate:null,useInputMask:null,beforeShowDay:null,buttonImageOnly:!0};$.extend(extendedParams,params);LSHelper.UI.datePicker(extendedParams.elem,extendedParams.onSelect,extendedParams.anyDateChecked,extendedParams.anyDateText,extendedParams.btnImage,extendedParams.onClose,extendedParams.buttonText,extendedParams.cssClass,extendedParams.enableAnyDate,extendedParams.showOn,extendedParams.minDate,extendedParams.currentDate,extendedParams.useInputMask,extendedParams.beforeShowDay,extendedParams.buttonImageOnly)},datePicker:function(elem,onSelect,anyDateChecked,anyDateText,btnImage,onClose,buttonText,cssClass,enableAnyDate,showOn,minDate,currentDate,useInputMask,beforeShowDay,buttonImageOnly){function setDynamicDatePicker(date){var $trigger=$("#"+triggerId),pos=calculatePosition(date);$trigger.find(".dymanic-month").css("background-position",pos.month.x+"px "+pos.month.y+"px");$trigger.find(".dymanic-day").css("background-position",pos.day.x+"px "+pos.day.y+"px")}var isDynamicImage,triggerId,$elem,initialPos,$trigger;btnImage==null&&(btnImage="/Content/images/srp/calendar-icon-2.png");isDynamicImage=!1;triggerId="dtrigger-"+(new Date).getTime();btnImage=="dynamic"&&(btnImage="",isDynamicImage=!0);anyDateChecked==null&&(anyDateChecked=function(){});anyDateText==null&&(anyDateText="Anytime this week");enableAnyDate==null&&(enableAnyDate=!0);buttonImageOnly==null&&(buttonImageOnly=!0);var addAnyDateCheckbox=function(inst){setTimeout(function(){var $widget=$(inst).datepicker("widget"),buttonPane,checked;if($widget.find(".ui-corner-all").removeClass("ui-corner-all"),buttonPane=$("#"+inst.id).datepicker("widget").find(".ui-datepicker-calendar"),typeof dateText=="undefined"&&(dateText="Any Date"),checked=$("#StartTime").val()==dateText?"checked":"",enableAnyDate){buttonPane.after("<div class='hr datepicker-hr'><\/div><div class='any-date-link'>"+anyDateText+"<\/div>");buttonPane.next().next().on("click",function(){$("#"+inst.id).datepicker("hide");setDynamicDatePicker(new Date);anyDateChecked()})}},1)},adjustPane=function(inst){setTimeout(function(){var $widget=$(inst).datepicker("widget");$widget.removeClass("ui-corner-all").addClass("search-datepicker "+cssClass).attr("target-id","#"+inst.id);$widget.css("left",Math.floor(parseInt($widget.css("left")))+"px")})},calculatePosition=function(date){var dayYoffset=-66,getYoffset=function(num){return Math.floor(num/6)*-20},getXoffset=function(num){return num%6*-40},month=date.getMonth(),day=date.getDate();return{month:{x:getXoffset(month),y:getYoffset(month)},day:{x:getXoffset(day-1),y:dayYoffset+getYoffset(day-1)}}};$elem=$(elem);$elem.datepicker({option:$.datepicker.regional["en-US"],dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"m/d/yy",showOn:showOn||"button",buttonImage:btnImage,buttonImageOnly:buttonImageOnly,buttonText:buttonText,minDate:minDate?minDate:(new Date).getUTCHours()>12?0:-1,beforeShowDay:beforeShowDay,beforeShow:function(input,inst){adjustPane(inst);addAnyDateCheckbox(inst);$(".ui-autocomplete:visible").hide()},onSelect:function(dateText,inst){isDynamicImage&&setDynamicDatePicker(Date.fromISO(dateText));onSelect!=null&&onSelect(dateText,inst)},onChangeMonthYear:function(year,month,inst){addAnyDateCheckbox(inst)},onClose:onClose});isDynamicImage&&(initialPos=calculatePosition(currentDate||new Date),$trigger=$('<div class="ui-datepicker-trigger dymanic-trigger" id="'+triggerId+'"><div class="dymanic-month" style="background-position: '+initialPos.month.x+"px "+initialPos.month.y+'px;"><\/div><div class="dymanic-day" style="background-position: '+initialPos.day.x+"px "+initialPos.day.y+'px;"><\/div><\/div>'),$trigger.click(function(){$elem.datepicker("show")}),$elem.after($trigger))}};LSHelper.Friends={currentUserId:null,list:[],getFriends:function(requestNumber,loadVenues){var containsObject=function(obj,list){for(var i=0;i<list.length;i++)if(list[i].Email===obj.Email&&list[i].VenueId===obj.VenueId)return!0;return!1};requestNumber==undefined&&(requestNumber=0);$.ajax({async:!0,data:{requestNumber:requestNumber,totalEmailCount:LSHelper.Friends.list.length,loadVenues:loadVenues},url:"/Calendar/GetFriends",type:"POST",success:function(result){result&&result.success==!0&&(result.userId&&result.userId!=LSHelper.Friends.currentUserId&&(LSHelper.Friends.list=[],LSHelper.Friends.currentUserId=result.userId),$(result.emails).each(function(i,val){containsObject(val,LSHelper.Friends.list)||LSHelper.Friends.list.push(val)}),result.continueRequest&&(requestNumber++,LSHelper.Friends.getFriends(requestNumber)))},error:function(){}})},initAutocomplete:function(params){var targetPropertySelector=params.targetPropertySelector||"data-autocomplete-target",opts=$.extend({blockWrapperSelector:"",targetPropertySelector:targetPropertySelector,idSelector:"["+targetPropertySelector+'="Id"]',nameSelector:"["+targetPropertySelector+'="Name"]',firstNameSelector:"["+targetPropertySelector+'="FirstName"]',lastNameSelector:"["+targetPropertySelector+'="LastName"]',emailSelector:"["+targetPropertySelector+'="Email"]',companySelector:"["+targetPropertySelector+'="Company"]',phoneSelector:"["+targetPropertySelector+'="Phone"]',venueSelector:"["+targetPropertySelector+'="Venue"]',maxDisplay:10,mode:"startsWith"},params);$("["+targetPropertySelector+"]").not(".ui-autocomplete-input").each(function(i,el){var $el=$(el);$el.autocomplete({delay:0,appendTo:"body",open:function(event,ui){$el.autocomplete("instance").classesElementLookup["ui-autocomplete"].maxZIndex()},close:function(){$el.autocomplete("instance").classesElementLookup["ui-autocomplete"].css("z-index",1)},focus:function(event,ui){$(this).val(ui.item.value);event.preventDefault()},select:function(event,ui){for(var $wrapper=opts.blockWrapperSelector?$(this).parents(opts.blockWrapperSelector):$(this),targetProperty=$(this).attr(opts.targetPropertySelector),selectedObject={},j=0;j<LSHelper.Friends.list.length;j++)if(LSHelper.Friends.list[j][targetProperty]&&LSHelper.Friends.list[j][targetProperty].toLowerCase()==ui.item.value.toLowerCase()){selectedObject=LSHelper.Friends.list[j];break}$wrapper.find(opts.idSelector).val(selectedObject.Id).change();$wrapper.find(opts.nameSelector).val(selectedObject.Name).change();$wrapper.find(opts.firstNameSelector).val(selectedObject.FirstName).change();$wrapper.find(opts.lastNameSelector).val(selectedObject.LastName).change();$wrapper.find(opts.emailSelector).val(selectedObject.Email).change();$wrapper.find(opts.companySelector).val(selectedObject.Company).change();$wrapper.find(opts.phoneSelector).val(selectedObject.Phone).change();$wrapper.find(opts.venueSelector).val(selectedObject.VenueId).change();event.preventDefault()},source:function(request,response){for(var curdisplay=0,targetProperty=$el.attr(opts.targetPropertySelector),sortArray=[],j=0;j<LSHelper.Friends.list.length;j++)sortArray.push(LSHelper.Friends.list[j][targetProperty]);var term=request.term.toLowerCase(),comparer=opts.mode=="contains"?function(val){return val.toLowerCase().indexOf(term)>-1&&term!=""}:function(val){return val.toLowerCase().indexOf(term)==0&&term!=""},data=sortArray.filter(function(val){var result=!1;return val&&(result=comparer(val),result&&curdisplay++,curdisplay>opts.maxDisplay&&(result=!1)),result});response(data)}}).autocomplete("widget")})}};LSHelper.Autocomplete={init:function(params){var targetClassSelector=params.targetClassSelector||"autocomplete",opts=$.extend({dataSourceUrl:"",targetClassSelector:targetClassSelector,maxDisplay:10,mode:"startsWith",koSetter:undefined,appendTo:"body",requestParams:null},params),inputsForAutocomplete;opts.dataSourceUrl!=""&&(inputsForAutocomplete=$("."+targetClassSelector),inputsForAutocomplete.length)&&$("."+targetClassSelector).not(".ui-autocomplete-input").each(function(i,el){var $el=$(el);$el.autocomplete({delay:500,appendTo:opts.appendTo,focus:function(event,ui){$(this).val(ui.item.value);opts.koSetter&&typeof opts.koSetter=="function"&&opts.koSetter(ui.item.value);event.preventDefault()},source:function(request,response){var term=request.term.toLowerCase(),data;term.length&&(data={term:term},opts.requestParams&&(data=$.extend(data,opts.requestParams)),$.ajax({url:opts.dataSourceUrl,data:data,traditional:!0,type:"GET",success:function(result){response(result)},error:function(){}}))}}).autocomplete("widget").removeClass("ui-corner-all")})}};LSHelper.CitiesAutocomplete={init:function(params){if(params=$.extend({supportedCountries:window.SupportedCountries||[]},params),params.inputSelector){params.supportedCountries&&(params.supportedCountries=params.supportedCountries.map(function(x){return x.toLowerCase()}));var distinct=function(arr){for(var u={},a=[],i=0,l=arr.length;i<l;++i)u.hasOwnProperty(arr[i].value)||(a.push(arr[i]),u[arr[i].value]=1);return a};$(params.inputSelector).autocomplete({source:function(request,response){LSHelper.google.geocode(request.term,function(results,status){for(var item,citiesList=[],i=0;i<results.length;i++)item=results[i],item.label=item.label.replace(/, USA/gi,""),item.value=item.value.replace(/, USA/gi,""),params.supportedCountries&&item.locality&&item.country&&params.supportedCountries.indexOf(item.country.toLowerCase())>-1&&citiesList.push(item);LiquidSpace&&LiquidSpace.Search&&LiquidSpace.Search.VenueData&&(LiquidSpace.Search.VenueData.init(),LiquidSpace.Search.VenueData.cities&&(citiesList=citiesList.concat(LiquidSpace.Search.VenueData.cities.filter(function(element){return element.toLowerCase().indexOf(request.term.toLowerCase())>-1}).map(function(element){return{label:element,value:element}}))));citiesList=distinct(citiesList);response(citiesList)})},select:function(event,ui){if(event.preventDefault(),typeof params.onSelectCallback=="function")params.onSelectCallback(event,ui)},focus:function(){return!1}})}}};LSHelper.Favorites={memberId:null,processEvent:function(event,workspaceId,venueId,callback){return event.stopPropagation(),LSHelper.Favorites.process(event.target||event.srcElement,workspaceId,venueId,callback),!1},process:function(elem,workspaceId,venueId,callback,showToast){LiquidSpace.Favorites.favorite({elem:elem,workspaceId:workspaceId,venueId:venueId,callback:callback,showToast:showToast})},share:function(params){var messageArguments,dialogParams;if(params=$.extend({url:"",title:"Share",onClose:null,onOpen:function($dialog){}},params),window.EMBEDDED){messageArguments=$.extend({},params);delete messageArguments.onClose;delete messageArguments.onOpen;parent.postMessage({actionName:"ls-share",arguments:messageArguments},"*");return}document.notLoggedInCallBack=function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){LSHelper.Favorites.share(params)},onlyHeaderReload:!0,signInMessage:"Sign In to share your favorites",joinMessage:"Join us to share your favorites"})};dialogParams={dialogOptions:{resizable:!1,modal:!0,width:600,heigth:"auto",position:"center",title:params.title,dialogClass:"favorite-share-dialog",open:function(event){$.validator.unobtrusive.parse($("#shareForm"));document.notLoggedInCallBack=null;$("#copyme").copy({copy:function(){return $("#sharelink").val()},beforeCopy:function(){$(".copy-success").hide()},afterCopy:function(){$(".copy-success").show()}});$.isFunction(params.onOpen)&&params.onOpen($(event.target))}},onclose:function(){$.isFunction(params.onClose)&&params.onClose()},divId:"shareFavorites",url:params.url};LSHelper.HelperLib.showDialog(dialogParams)}};LSHelper.Home={showVideoDialog:function(){var dialogParams={dialogOptions:{resizable:!1,modal:!0,width:680,minHeight:200,position:"center",title:"Watch Video",open:function(){}},onclose:function(){},html:$("#watchVideo").html(),divId:"watchVideoDialog"};LSHelper.HelperLib.showDialog(dialogParams)}};LSHelper.SessionCoupon={cookieName:"session.coupon",couponUrlParam:"coupon",trackCoupon:function(){var couponCode=LSHelper.HelperLib.getURLParameter(LSHelper.SessionCoupon.couponUrlParam);LSHelper.SessionCoupon.validateCoupon(couponCode,function(coupon){coupon.valid&&LSHelper.SessionCoupon.saveCouponCookie(coupon.couponCode,coupon.expiration)})},validateCoupon:function(couponCode,callback){if(couponCode){var _callback=callback&&$.isFunction(callback)?callback:function(){};$.ajax({type:"POST",data:{code:couponCode},url:GetUrl("ValidatePromotion","Promotion"),success:function(data){_callback(data)},error:function(request,status,error){_callback({valid:!1,couponCode:couponCode,expiration:undefined,errorMessage:request.responseText})}})}},saveCouponCookie:function(couponCode,expiration){couponCode&&expiration?$.cookie(LSHelper.SessionCoupon.cookieName,couponCode,{expires:expiration,path:"/"}):couponCode&&$.cookie(LSHelper.SessionCoupon.cookieName,couponCode,{path:"/"})},removeCouponCookie:function(){$.removeCookie(LSHelper.SessionCoupon.cookieName)},getCouponFromCookie:function(){return $.cookie(LSHelper.SessionCoupon.cookieName)}};LSHelper.google={alreadyInitialized:!1,loadInitialized:!1,func:[],infoboxLoaded:!1,infoboxRequested:!1,infoboxLoad:function(callback){$.cachedScript("/Content/Scripts/GoogleMaps/infobox.js",function(){LSHelper.google.infoboxLoaded=!0;$.isFunction(callback)&&callback()})},callback:function(){var f=function(){LSHelper.google.alreadyInitialized=!0;$.each(LSHelper.google.func,function(i,val){val()})};LSHelper.google.infoboxRequested&&!LSHelper.google.infoboxLoaded?LSHelper.google.infoboxLoad(f):f()},loadScript:function(){$.cachedScript("https://maps.googleapis.com/maps/api/js?v=3&callback=LSHelper.google.callback&libraries=places,geometry&language=en&key="+GoogleAPIKey)},init:function(param){var options={callback:function(){},loadInfobox:!1};$.isFunction(param)?options.callback=param:options=$.extend(options,param);LSHelper.google.infoboxRequested|=options.loadInfobox;LSHelper.google.loadInitialized==!1?(LSHelper.google.func.push(options.callback),LSHelper.google.loadInitialized=!0,$(function(){LSHelper.google.loadScript()})):LSHelper.google.alreadyInitialized==!1?LSHelper.google.func.push(options.callback):LSHelper.google.infoboxRequested&&!LSHelper.google.infoboxLoaded?LSHelper.google.infoboxLoad(options.callback):options.callback()},closeInfoWindow:function(){typeof model!="undefined"&&model.map!=null&&model.map.closeInfoWindows!=null?model.map.closeInfoWindows():$(document).trigger("closeInfoWindow")},eliminateDuplicates:function(arr){for(var compareCities=function(a,b){var nameA=a.label.replace(/, USA/gi,"").toLowerCase(),nameB=b.label.replace(/, USA/gi,"").toLowerCase();return nameA<nameB?1:nameA>nameB?-1:a.latitude!=null?1:b.latitude!=null?-1:0},len=arr.length,out=[],obj={},i=0;i<len;i++)arr[i].label&&(obj[arr[i].label.replace(/, USA/gi,"")]=arr[i]);for(i in obj)out.push(obj[i]);return out},geocode:function(str,callback){var geocoder=new LiquidSpace.Geocoder,removeZip=!(!isNaN(parseFloat(str))&&isFinite(str));geocoder.geocode({address:str},function(results,status){var result=$.map(results,function(item){for(var addr,label,country="",state="",state_name="",street_address="",locality="",postal_code="",route="",street_number="",i=0;i<item.address_components.length;i++){if(addr=item.address_components[i],addr.types[0]=="country"){country=addr.short_name;continue}if(addr.types[0]=="administrative_area_level_1"){state=addr.short_name;state_name=addr.long_name;continue}if(addr.types[0]=="street_address"){street_address=addr.long_name;continue}if(addr.types[0]=="street_number"){street_number=addr.long_name;continue}if(addr.types[0]=="route"){route=addr.long_name;continue}if(addr.types[0]=="locality"){locality=addr.long_name;continue}if(addr.types[0]=="postal_code"){postal_code=addr.long_name;continue}}return label=postal_code&&postal_code.length>0&&removeZip?item.formatted_address.replace(" "+postal_code,""):item.formatted_address,{label:label,value:label,latitude:item.geometry.location.lat,longitude:item.geometry.location.lng,street_address:street_address,street_number:street_number,route:route,locality:locality,postal_code:removeZip==!1?postal_code:"",country:country,state:state,state_name:state_name,extended:!1,location_type:item.geometry}});result=LSHelper.google.eliminateDuplicates(result);callback(result)})}};LSHelper.recaptcha={alreadyInitialized:!1,func:[],init:function(callback){LSHelper.recaptcha.alreadyInitialized?callback():LSHelper.recaptcha.func.push(callback)},callback:function(){LSHelper.recaptcha.alreadyInitialized=!0;$.each(LSHelper.recaptcha.func,function(i,val){val()})}};recaptchaOnloadCallback=LSHelper.recaptcha.callback,function(LSHelper){var Sso;(function(Sso){function popupSsoLogin(url,width,height){return LSHelper.Sso.popupSsoLoginCommon(url,!0,width,height)}function addParamToUrl(url,samlParam){return url+(url.indexOf("?")<0?"?":"&")+samlParam}function popupSsoLoginCommon(url,setRememberMe,width,height){var $rememberMe,newwin;width=width==undefined?700:width;height=height==undefined?700:height;var left=(screen.width-width)/2,top=(screen.height-height)/2,params="width="+width+", height="+height;return params+=", top="+top+", left="+left,params+=", directories=no",params+=", location=no",params+=", menubar=no",params+=", resizable=yes",params+=", scrollbars=yes",params+=", status=no",params+=", toolbar=no",setRememberMe&&($rememberMe=$("#RememberMe"),$rememberMe.length>0&&(url=url+"&rememberMe="+$rememberMe.is(":checked"))),newwin=window.open(url,"ssoLoginWindow",params),window.focus&&newwin&&newwin.focus(),newwin}Sso.popupSsoLogin=popupSsoLogin;Sso.addParamToUrl=addParamToUrl;Sso.popupSsoLoginCommon=popupSsoLoginCommon})(Sso=LSHelper.Sso||(LSHelper.Sso={}))}(LSHelper||(LSHelper={}));LSHelper.Venue={noPhotoConfirmation:function(params){var options=$.extend({},{memberId:null,venueId:null},params),isSelfEdit=User.id==options.memberId,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:540,heigth:"auto",position:"center",title:""},divId:"noPhotoDialog",url:"/ManageVenue/NoPhotoConfirmation/"+(options.venueId||"")+"?memberId="+(options.memberId||"")};LSHelper.HelperLib.showDialog(dialogParams)},showAdminProfile:function(params){var options=$.extend({},{memberId:null,venueId:null,onOpen:function(){}},params),isSelfEdit=User.id==options.memberId,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:540,heigth:"auto",position:"center",title:isSelfEdit?"My Profile":"Host Profile",open:function(){options.onOpen()}},divId:"editAdminDialog",url:"/ManageVenue/EditVenueAdmin/"+(options.venueId||"")+"?memberId="+(options.memberId||"")};LSHelper.HelperLib.showDialog(dialogParams)},BulkImportSuccess:function(inData,document,queryUrl,cancelUrl,successFunc){jQuery("#bulkImportStatus",document).show().html(inData.StatusMessage);jQuery("#bulkImportLog",document).show().html(inData.ImportLog);var cancelButton=jQuery("#bulkInputCancel",document);cancelButton.is(":visible")||cancelButton.show().unbind("click").click(function(){return jQuery.ajax({url:cancelUrl,async:!0,cache:!1,data:{venueId:inData.EntityId,memberId:inData.EntityId,importId:inData.ImportId,importEntityType:inData.ImportEntityType}}),!1});inData.Ended||inData.Cancelled?(typeof successFunc!="undefined"&&$.isFunction(successFunc)&&successFunc(),cancelButton.unbind("click").hide()):setTimeout(function(){jQuery.ajax({url:queryUrl,async:!0,cache:!1,data:{venueId:inData.EntityId,memberId:inData.EntityId,importId:inData.ImportId,importEntityType:inData.ImportEntityType},success:function(result){LSHelper.Venue.BulkImportSuccess(result,document,queryUrl,cancelUrl,successFunc)},error:function(xhr,ajaxOptions,thrownError){LSHelper.Venue.BulkImportSuccess(inData,document,queryUrl,cancelUrl,successFunc)}})},3e3)}};LSHelper.Account={registerTermsOfUse:function(hideButtons,content,onOpenCallback,onCloseCallback){var dialogOptions={resizable:!1,height:"auto",width:400,modal:!0,position:"center",title:"Terms of Use",open:onOpenCallback};return hideButtons!=undefined&&hideButtons||(dialogOptions.buttons={Agree:function(){jQuery("form").submit();jQuery(this).dialog("close")},Cancel:function(){jQuery("#registerNotConfirmed").show();jQuery(this).dialog("close")}}),LSHelper.HelperLib.showDialog({onclose:function(){onCloseCallback&&$.isFunction(onCloseCallback)&&onCloseCallback()},html:content,dialogOptions:dialogOptions,divId:"termsOfUseContainer"}),jQuery(".terms_and_conditions").scrollTop(0),!1},trackSignInPopup:function(){var message="/account/signin-popup";typeof ga=="function"&&ga("send","pageview",{page:message})},popUpSignIn:function(params){var options=$.extend({},{onCloseCallback:function(){},onLogInSuccessCallback:function(){},onlyHeaderReload:undefined,redirectUrl:undefined,joinMessage:undefined,signInMessage:undefined,popupParams:{},userName:undefined},params),data=$.extend({returnUrl:window.location.toString(),regType:null,additionalRegData:"",email:"",supressEmail:!1},options.popupParams);LSHelper.HelperLib.blockUI();$.ajax({url:"/Account/LogonPopupDialog",type:"POST",data:JSON.stringify(data),contentType:"application/json",success:function(result){jQuery("#SignInDialog").remove();var $dialog=$('<div id="SignInDialog" style="display: none;">'+result+"<\/div>");options.joinMessage&&$($dialog).find(".join-welcome").html(options.joinMessage);options.signInMessage&&$($dialog).find(".signin-welcome").html(options.signInMessage);jQuery("body").append($dialog);LSHelper.Account.popUpSignInInline(options);window.mmenuClose()},complete:function(){LSHelper.HelperLib.unblockUI()}})},reloadHeader:function(querystring,callback){$("header").length>0&&$.get("/Account/HeaderMenu"+(querystring||""),function(data){$("header").html(data);$(document).trigger("headerReloaded");$.isFunction(callback)&&callback()})},popUpSignInInline:function(options){var divId,dialogParams;LSHelper.Account.trackSignInPopup();LSHelper.Account.onLogInSuccessCallback=undefined;divId="SignInDialog";this.popUpRedirectUrl=options.redirectUrl;options.onlyHeaderReload!=undefined&&options.onlyHeaderReload!=null&&(this.onlyHeaderReload=options.onlyHeaderReload);options.onLogInSuccessCallback&&$.isFunction(options.onLogInSuccessCallback)&&(LSHelper.Account.onLogInSuccessCallback=options.onLogInSuccessCallback);$("#SignInDialog .input-validation-error").addClass("input-validation-valid");$("#SignInDialog .input-validation-error").removeClass("input-validation-error");$("#SignInDialog .field-validation-error").addClass("field-validation-valid");$("#SignInDialog .field-validation-error").removeClass("field-validation-error");$("#SignInDialog .validation-summary-errors").addClass("validation-summary-valid");$("#SignInDialog .validation-summary-errors").removeClass("validation-summary-errors");dialogParams={dialogOptions:{resizable:!1,modal:!0,width:document.body.clientWidth<322?document.body.clientWidth-2:380,heigth:"auto",position:"center",dialogClass:"noTitleStuff",open:function(){options.userName&&$("#SignInDialog #userNameInput").val(options.userName);$("#SignInDialog #UserName").focus();FloatlabelInit()}},onclose:function(){options.onCloseCallback&&$.isFunction(options.onCloseCallback)&&options.onCloseCallback()},divId:"SignInDialog",useDivId:divId,roundedBorders:!1};LSHelper.HelperLib.showDialog(dialogParams)},popUpJoin:function(elem,url){if(LSHelper.Account.getJoinDataObject&&$.isFunction(LSHelper.Account.getJoinDataObject)&&LSHelper.Account.onLogInSuccessCallback&&$.isFunction(LSHelper.Account.onLogInSuccessCallback)){var joinData=LSHelper.Account.getJoinDataObject();window.location=url+"&encRetUrl="+encodeURIComponent(location.href)+"&encCallback="+encodeURIComponent(JSON.stringify(joinData))}else window.location=url},logoff:function(redirectToSignIn){LSHelper.HelperLib.blockUI();$.ajax({url:"/Account/Logoff",async:!0,data:{redirectToSignIn:redirectToSignIn},success:function(result){if(result.ssoUrl&&result.ssoUrl.length>0){var logoutIframe=jQuery("#logoutIframe");logoutIframe.length==0?jQuery("body").append('<iframe style="position:absolute; left:-10000px; visible:hidden;" src="'+result.ssoUrl+'" id="logoutIframe"/>'):logoutIframe.attr("src",result.ssoUrl);setTimeout(function(){LSHelper.Account.ssoLogoffComplete(result.Url)},3e3)}else window.location=result.Url},complete:function(){LSHelper.HelperLib.unblockUI()}})},ssoLogoffComplete:function(returnUrl){window.location=returnUrl},getMemberId:function(){var mid="";return $.ajax({type:"POST",data:{},async:!1,url:"/Member/GetMemberId",success:function(result){result!=undefined&&result.memberId!=undefined&&result.memberId!=""&&(mid=result.memberId)},error:function(){}}),mid}};LSHelper.Resource={deleteResource:function(id,actionUrl,venueId){var data={};data=venueId!=undefined?{SelectedResourceId:id,SelectedVenueId:venueId}:{id:id};LSHelper.Dialog.deleteDialog("Are you sure you want to delete this amenity?",actionUrl,data,function(res){window.viewModel_resourceGrid.dataSource.remove(window.viewModel_resourceGrid.selectedItem())})}};LSHelper.StaticPage={deleteStaticPage:function(id,actionUrl,grid){var data={id:id};LSHelper.Dialog.deleteDialog("Are you sure you want to delete this page?",actionUrl,data,function(res){grid.dataSource.remove(grid.selectedItem())})},cloneStaticPage:function(id){console.log()}};LSHelper.WorkspaceScenario={deleteWorkspaceScenario:function(id,instanceId,type,actionUrl){var data={};type=="workspace"?data={SelectedWorkspaceScenarioId:id,SelectedWorkspaceId:instanceId}:type=="venue"&&(data={SelectedWorkspaceScenarioId:id,SelectedVenueId:instanceId});LSHelper.Dialog.deleteDialog("Are you sure you want to delete this workspace scenario?",actionUrl,data,function(res){window.location.reload()})}},function(LSHelper){var Member;(function(Member){function setTrimmedValue(selector,elemToSkip,val){$(selector).not(elemToSkip).each(function(){$.trim($(this).val()+"").length==0&&$(this).val(val)})}function setEmailFocus(elem,classToProcess){$.browser.msie||(LSHelper.Member.setTrimmedValue(elem,null,""),LSHelper.Member.setTrimmedValue(classToProcess,elem," "))}function invitePeople(formId,replaceElem,url,onsuccess,ssoData,populateFunc,errorFunc){if(LSHelper.Member.setTrimmedValue(".emailTextBox",null,""),$(formId).valid()==!0&&(ssoData==null||ssoData.length>0)){var data=$(formId).formToArray(!0);data.push({name:"ssoProfiles",value:JSON.stringify(ssoData)});LSHelper.HelperLib.blockUI(formId);$.ajax({type:"POST",url:url,data:data,async:!0,success:function(result){LSHelper.HelperLib.unblockUI(formId);$(formId).find(".field-validation-error.additionalError").html("");result.Error||result.Data?(result.Data&&populateFunc(result),result.Error&&($(formId).find(".field-validation-error.additionalError").html(result.Error),typeof errorFunc!="undefined"&&$.isFunction(errorFunc)&&errorFunc())):(replaceElem.html(result),$.validator.unobtrusive.parseDynamicContent(formId));typeof onsuccess!="undefined"&&$.isFunction(onsuccess)&&onsuccess()},error:function(xhr,ajaxOptions,thrownError){LSHelper.HelperLib.unblockUI(formId)}})}ssoData!=null&&ssoData.length==0&&$(formId).find(".field-validation-error.additionalError").html("You need to select at least one person without invitation.")}function editCalendatUserProfile(memberId,actionUrl,callbackFunction,position,venueId,allowPendingVisas){var url,dialogParams;(position==undefined||position==null)&&(position="top");url=actionUrl+"/"+memberId+"?venueId="+venueId;typeof allowPendingVisas!="undefined"&&allowPendingVisas&&(url=url+"&allowPendingVisas=true");dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:position,title:"Edit Member Profile"},onclose:callbackFunction,divId:"EditMemberDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)}Member.setTrimmedValue=setTrimmedValue;Member.setEmailFocus=setEmailFocus;Member.invitePeople=invitePeople;Member.editCalendatUserProfile=editCalendatUserProfile})(Member=LSHelper.Member||(LSHelper.Member={}))}(LSHelper||(LSHelper={}));LSHelper.Dialog={deleteDialog:function(title,postUrl,data,onSuccess,contentType){LSHelper.Dialog.confirmDialog(title,function(){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:postUrl,data:data,contentType:contentType,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Are you sure?")},editDialog:function(title,getUrl,postUrl,onSuccess,onDialogOpen){var dialogId=(new Date).getTime(),dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:"center",title:title,buttons:{Save:function(){if(jQuery("#"+dialogId).find("form:first").valid()){var dialogData=$("#"+dialogId).formToArray(!0);LSHelper.HelperLib.blockUI($("#"+dialogId).parent());$.ajax({type:"POST",url:postUrl,data:dialogData,async:!0,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)?($("#"+dialogId).dialog("close"),onSuccess(result)):result.Result&&(result.Result=="true"||result.Result==!0)?$("#"+dialogId).dialog("close"):($("#"+dialogId).html(result.RenderedViews[0]),LSHelper.HelperLib.unblockUI("#"+dialogId))},error:function(xhr,ajaxOptions,thrownError){LSHelper.HelperLib.unblockUI($("#"+dialogId).parent())}})}},Cancel:function(){jQuery(this).dialog("close")}},dialogButtons:{},create:function(event,ui){},open:function(){onDialogOpen&&jQuery.isFunction(onDialogOpen)&&onDialogOpen()}},divId:dialogId,url:getUrl};LSHelper.HelperLib.showDialog(dialogParams)},confirmDialog:function(text,okFunction,title,isDiscardChanges,okButtonText,cancelFunc,cancelButtonText,divId,width,noClose){(okButtonText==undefined||okButtonText=="")&&(okButtonText="OK");(cancelButtonText==undefined||cancelButtonText=="")&&(cancelButtonText="Cancel");isDiscardChanges==undefined&&(isDiscardChanges=!1);var dialogOptions={resizable:!1,height:"auto",width:document.body.clientWidth<404?document.body.clientWidth-4:width||400,modal:!0,position:"center",title:title,close:function(event,ui){cancelFunc!=null&&event&&(event.originalEvent&&event.originalEvent.type=="keydown"&&event.originalEvent.key=="Escape"||$(event.currentTarget).hasClass("ui-dialog-titlebar-close"))&&cancelFunc()}};noClose&&(dialogOptions.dialogClass="no-close",dialogOptions.closeOnEscape=!1);dialogOptions.buttons=isDiscardChanges?{"Discard Changes":function(){okFunction();jQuery(this).dialog("close")},"Continue Editing":function(){jQuery(this).dialog("close")}}:[{text:okButtonText,click:function(){okFunction();jQuery(this).dialog("close")},"class":"ocean-button"},{text:cancelButtonText,click:function(){cancelFunc!=null&&cancelFunc();jQuery(this).dialog("close")},"class":"ocean-inverted-button"}];LSHelper.HelperLib.showDialog({html:text,dialogOptions:dialogOptions,divId:divId==null?"confirmDialog":divId})},alertDialog:function(text,title,okFunction,getUrl,onclose,okText){(title==undefined||title=="")&&(title="We're Sorry");var dialogOptions={resizable:!1,height:"auto",width:document.body.clientWidth<404?document.body.clientWidth-4:400,modal:!0,position:"center",title:title};dialogOptions.buttons={OK:{text:okText||"OK",click:function(){jQuery(this).dialog("close");okFunction!=undefined&&okFunction()}}};LSHelper.HelperLib.showDialog({html:text,url:getUrl,dialogOptions:dialogOptions,divId:"alertDialog",onclose:onclose})},exceptionDialogClose:function(item,doNotTriggerEvent,e){$(item).closest(".error-dialog-wrapper").remove();e||(e=window.event);e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0);doNotTriggerEvent||$(document).trigger("exceptionDialogClosed")},continueExistingSYSDialog:function(text,continueExistingFunction,getUrl){var dialogOptions={resizable:!1,height:"auto",width:400,modal:!0,position:"center",title:"Share Your Space"};dialogOptions.buttons={"Continue Existing":function(){jQuery(this).dialog("close");continueExistingFunction!=undefined&&continueExistingFunction()},"Start New":function(){jQuery(this).dialog("close")}};dialogOptions.create=function(event,ui){var parentDialog=jQuery(event.target).parent(".ui-dialog");parentDialog.find("button:first").addClass("orange-button")};LSHelper.HelperLib.showDialog({html:text,url:getUrl,dialogOptions:dialogOptions,divId:"continueExistingSYSDialogWrapper"})}};LSHelper.Calendar={reservationSourceNames:{Calendar:{LS:"CAL",GA:"Calendar"},CalendarDirect:{LS:"CAL",GA:"Calendar-Direct"},MPPWorkspaces:{LS:"MPP-Workspaces",GA:"MPP-Workspaces"},MPPReservations:{LS:"MPP-Reservations",GA:"MPP-Reservations"},VPP:{LS:"VPP",GA:"VPP"},WPP:{LS:"WPP",GA:"WPP"},XPP:{LS:"XPP",GA:"XPP"},HomePage:{LS:"HomePage",GA:"HomePage"},ReservationConfirmation:{LS:"ReservationConfirmation",GA:"ReservationConfirmation"},Campaign:{LS:"Campaign",GA:"Campaign"},FindSpace:{LS:"FindSpace",GA:"FindSpace"},Recommendations:{LS:"Recommendations",GA:"Recommendations"},Search:function(page,position,isWorm,isFeatured,isVPP){if(isWorm&&isVPP)return{LS:"VPP-Worm",GA:"VPP-Worm"};var label="SRP-"+(isWorm?"Worm":isFeatured?"Feat":"Pos"),pos=isFeatured?position:zeroPad(position,4),gap="&page="+page+"&position="+position+(isFeatured?"&featured=true":"");return{LS:label+pos,GA:"SRP",GAPosition:gap}},TenantPP:{LS:"TenantProfilePage",GA:"TenantProfilePage"},Messenger:{LS:"Messenger",GA:"Messenger"},Manual:{LS:"Manual",GA:"Manual"},MessengerNextSteps:{LS:"MessengerNextSteps",GS:"messenger-confirm-popup"},ManageReservations:{LS:"VenueManageReservations",GS:"VenueManageReservations"},MyLiquidSpaceCalendar:{LS:"MyLiquidSpaceCalendar",GS:"MyLiquidSpaceCalendar"},Dashboard:{LS:"VenueManageDashboard",GS:"VenueManageDashboard"}},defaults:{ev:{},position:"center",userId:undefined,onClose:undefined,daysAhead:0,reservationName:"LiquidSpacing",currentVenueDate:undefined,successCallBack:undefined,errorCallback:undefined,basedOnReservationId:undefined,notLoggedInCallBack:undefined,skipCurrentUtcOverride:!1,selectedAmenityIds:undefined,guestCount:undefined,confirmationCallback:undefined,reservationSourcePage:undefined,occurrenceDate:undefined,applyDate:undefined,exactDateAndTimeSpecified:!1},scheduleTour:function(params){var messageArguments,dialogParams;if(params=$.extend({workspaceRequestType:Enum.WorkspaceRequestType.Tour,venueId:null,workspaceId:null,tourDate:null,desksQuantity:null,combineIntoLastMessageHostLead:null,messengerChainId:null,workflowId:null,onOpen:function($dialog){}},params),window.EMBEDDED){messageArguments=$.extend({},params);delete messageArguments.onOpen;delete messageArguments.$dialog;parent.postMessage({actionName:"ls-scheduleTour",arguments:messageArguments},"*");return}params.sourcePage&&!params.ev.id&&LSHelper.Calendar.trackScheduleTourClick(params.sourcePage.GA,params.sourcePage.GAPosition);dialogParams={onError:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530;$("#scheduleTourDialogContent").remove()},dialogOptions:{resizable:!1,modal:!0,width:480,heigth:"auto",position:"center",dialogClass:"scht-dialog",title:"Schedule a Tour",open:function(){LSHelper.HelperLib.unblockUI();var $dlg=$("#scheduleTourDialogContent");if(params.onOpen!=null)params.onOpen($dlg);$.validator.unobtrusive.parseDynamicContent($dlg.find("form"))}},onclose:function(){},divId:"scheduleTourDialogContent",data:{workspaceRequestType:params.workspaceRequestType,venueId:params.venueId,workspaceId:params.workspaceId,tourDate:LSHelper.Calendar.toServerString(params.tourDate),desksQuantity:params.desksQuantity,combineIntoLastMessageHostLead:params.combineIntoLastMessageHostLead,messengerChainId:params.messengerChainId,workflowId:params.workflowId},url:GetUrl("Dialog","WorkspaceRequest")};LSHelper.HelperLib.showDialog(dialogParams)},workspaceRequestDialog:function(params){var messageArguments,opts,title,dialogParams;if(window.EMBEDDED){messageArguments=$.extend({},params);parent.postMessage({actionName:"ls-workspaceRequestDialog",arguments:messageArguments},"*");LSHelper.HelperLib.unblockUI();return}opts=$.extend({venueId:null,workspaceId:null,inStartDate:null,onOpen:null,isTourRequest:!1,bookingMethod:null,desksQuantity:null},params);title="Request Space";opts.isTourRequest?title="Schedule a Tour":opts.bookingMethod=="RequestToBook"?title="Request to Book":opts.bookingMethod=="InquireNow"&&(title="Inquire Now");dialogParams={overflow:"overflow:visible;",onError:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530;$("#workspaceRequestDialogContent").remove()},dialogOptions:{resizable:!1,modal:!0,width:580,heigth:"auto",position:"center",dialogClass:"workspaceRequestDialog",title:title,open:function(){LSHelper.HelperLib.unblockUI();$(document).trigger("workspaceRequestDialogOpened");var $dlg=$("#workspaceRequestDialogContent");if(opts.onOpen!=null)opts.onOpen($dlg);$.validator.unobtrusive.parseDynamicContent($dlg.find("form"))}},onclose:function(){},divId:"workspaceRequestDialogContent",data:{venueId:opts.venueId,workspaceId:opts.workspaceId,inStartDate:LSHelper.Calendar.toServerString(opts.inStartDate),requestType:opts.requestType,isTourRequest:opts.isTourRequest,desksQuantity:opts.desksQuantity},url:GetUrl("WorkspaceRequestDialog","Venues")};LSHelper.HelperLib.showDialog(dialogParams)},editReservation:function(params){var ev=params.ev;ev.id?LSHelper.Calendar.getReservationDetails(params):(LSHelper.HelperLib.blockUI(),$.ajax({url:"/Calendar/NeedToDoRequest",data:{venueId:ev.venue_id,workspaceId:ev.workspace_id,userId:params.userId},type:"POST",success:function(response){if(response.isException){LSHelper.HelperLib.unblockUI();LSHelper.UI.showError(response);return}response.needToDoRequest?response.bookingMethod=="RequestToBook"?LSHelper.Calendar.scheduleTour({venueId:ev.venue_id,workspaceId:ev.workspace_id,scheduleTour:ev.start_date,onOpen:params.onOpen}):LSHelper.Calendar.workspaceRequestDialog({venueId:ev.venue_id,workspaceId:ev.workspace_id,inStartDate:ev.start_date,bookingMethod:response.bookingMethod,desksQuantity:params.request&&typeof params.request.quantity=="number"?params.request.quantity:1,onOpen:params.onOpen}):LSHelper.Calendar.getReservationDetails(params)}}))},getReservationDetails:function(params){var opts,data,request,dialogParams;if(window.EMBEDDED){console.warn("Trying to perform unsafe action");return}if(opts=$.extend({},LSHelper.Calendar.defaults,params),data=$.extend({},{memberListDataId:"memberListDataInputBIN"+(opts.ev.workspace_id?opts.ev.workspace_id.replace(/-/g,""):null),id:opts.ev.id,workspaceId:opts.ev.workspace_id,venueId:opts.ev.venue_id,startDate:LSHelper.Calendar.toServerString(opts.ev.start_date),endDate:LSHelper.Calendar.toServerString(opts.ev.end_date),userId:opts.userId==undefined?$("#userId").val():opts.userId,daysAhead:opts.daysAhead,reservationName:opts.reservationName,currentVenueDate:opts.currentVenueDate,basedOnReservationId:opts.basedOnReservationId,skipCurrentUtcOverride:opts.skipCurrentUtcOverride,cookiePromotionCode:LSHelper.SessionCoupon.getCouponFromCookie(),guestCount:opts.guestCount,reservationSourcePage:opts.reservationSourcePage.LS,occurrenceDate:opts.occurrenceDate,applyDate:opts.applyDate,reservationReferenceId:opts.reservationReferenceId,exactDateAndTimeSpecified:opts.exactDateAndTimeSpecified},opts.searchFilter,opts.request),typeof UseReservationDialog!="undefined"&&UseReservationDialog)return request=$.extend({},data,{startDate:opts.ev.start_date,endDate:opts.ev.end_date}),new LiquidSpace.Reservation.Dialog(request,{onOpen:function(){LSHelper.HelperLib.unblockUI();$(document).trigger("editReservationDialogOpened")},onClose:function(){if(opts.successCallBack!=null&&$.isFunction(opts.successCallBack)&&opts.successCallBack(opts.userId),opts.onClose&&jQuery.isFunction(opts.onClose))opts.onClose(opts.ev,!0,$("#waiting-div").hasClass("confirmed"))},confirmationCallback:opts.confirmationCallback});opts.reservationSourcePage&&!opts.ev.id&&opts.ev.workspace&&LSHelper.Calendar.trackBookItNowClick(opts.reservationSourcePage.GA,opts.reservationSourcePage.GAPosition,opts.ev.workspace.ReservationMethod===2);document.confirmationCallback=function(changedUserId){var finalUserId=changedUserId?changedUserId:opts.userId;$.isFunction(opts.confirmationCallback)&&opts.confirmationCallback(finalUserId);params.userId=finalUserId;LSHelper.Calendar.editReservation(params)};document.notLoggedInCallBack=opts.notLoggedInCallBack||function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){params.userId=userId;LSHelper.Calendar.editReservation(params)},onlyHeaderReload:!0,joinMessage:"As a next step to your new office, join our community."})};dialogParams={overflow:"overflow:visible;",onError:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530||opts.errorCallback!=null&&$.isFunction(opts.errorCallback)&&opts.errorCallback()},dialogOptions:{resizable:!1,modal:!0,width:"auto",heigth:"auto",position:"center",dialogClass:"editReservationDialog",open:function(event){LSHelper.HelperLib.unblockUI();$(document).trigger("editReservationDialogOpened");$("#reservationName").focus();opts.selectedAmenityIds&&$.each(opts.selectedAmenityIds,function(index,value){$('.reservation-amenity[data-resource-id="'+value+'"]').attr("checked","checked")});FloatlabelInit();$.isFunction(params.onOpen)&&params.onOpen($(event.target))}},onclose:function(){if($(document).unbind("recurrenceRuleChanged.reservation"),LSHelper.Calendar.trackCalendarReservation(opts.ev.venue_id),opts.successCallBack!=null&&$.isFunction(opts.successCallBack)&&opts.successCallBack(opts.userId),opts.onClose&&jQuery.isFunction(opts.onClose))opts.onClose(opts.ev,!0,$("#waiting-div").hasClass("confirmed"));document.SSO_logon_Completed_Temp&&(document.SSO_logon_Completed=document.SSO_logon_Completed_Temp)},divId:"editReservationDialog",data:data,url:GetUrl("GetReservationDetails","Calendar")};LSHelper.HelperLib.showDialog(dialogParams)},stopAutoRenew:function(params){var options=$.extend({reservationId:null,memberId:null,onSuccessFunc:null,divId:"stopAutoRenewDialog",init:function(){options.$dialog=$("#"+options.divId);options.$yesButton=options.$dialog.find(".yes-button");options.$noButton=options.$dialog.find(".no-button");options.$yesButton.click(function(){if($("#doNotRenewSuperUserForm").valid()){var formData=$("#doNotRenewSuperUserForm").serializeArray();LSHelper.HelperLib.blockUI();$.ajax({url:"/Calendar/StopAutoRenew",data:formData,type:"POST",success:function(response){if(response.isException){LSHelper.UI.showError(response);return}$.isFunction(options.onSuccessFunc)&&options.onSuccessFunc();options.$dialog.dialog("close")},complete:function(){LSHelper.HelperLib.unblockUI()}})}});options.$noButton.click(function(){options.$dialog.dialog("close")})}},params);LSHelper.HelperLib.showDialog({divId:options.divId,dialogOptions:{minWidth:500,modal:!0,title:"Are You Sure?",resizable:!1,open:function(){options.init()}},roundedBorders:!1,url:"/Calendar/StopAutoRenewDialog/",data:{reservationId:options.reservationId,memberId:options.memberId}})},changePaymentMethod:function(params){var options=$.extend({reservationId:null},params);LSHelper.HelperLib.showDialog({divId:"changePaymentMethodDialog",dialogOptions:{minWidth:500,modal:!0,title:"Change Payment Method",resizable:!1,dialogClass:"changePaymentMethodDialog",open:function(){}},roundedBorders:!1,url:"/Calendar/ChangePaymentMethodDialog/",data:{reservationId:options.reservationId}})},showVenueHouseRules:function(params){var options=$.extend({},{venueName:null,rules:null,BINmode:!1,acceptCallback:function($dialog){$dialog.dialog("close")},cancelCallback:function($dialog){$dialog.dialog("close")},isMobileView:!1},params),dialogParams={dialogOptions:{position:{my:options.isMobileView?"top":"center",at:options.isMobileView?"top":"center",of:window},resizable:!1,modal:!0,width:580,heigth:"auto",title:"Please review and accept "+(options.venueName?options.venueName+"'s ":"")+"House Rules",dialogClass:"houseRulesDialog",open:function(){var $dialog=$(".ui-dialog #HouseRulesDialog"),rulesWrapperHeight;options.rules&&$(".rules-wrapper").html(options.rules);$(".ui-dialog #HouseRulesDialog .rules-accept-btn").bind("click",function(){options.acceptCallback($dialog)});$(".ui-dialog #HouseRulesDialog .rules-cancel-btn").bind("click",function(){options.cancelCallback($dialog)});options.BINmode?$(".ui-dialog #HouseRulesDialog .show-on-bin").show():$(".ui-dialog #HouseRulesDialog .show-on-bin").hide();options.isMobileView&&(rulesWrapperHeight=$(window).height(),rulesWrapperHeight-=$dialog.parent().find(".ui-dialog-titlebar").outerHeight(!0)||0,rulesWrapperHeight-=$dialog.outerHeight(!0)-$dialog.height(),options.BINmode&&($dialog.find(".house-rules-buttons").css("margin","10px 0"),$dialog.find(".house-rules-buttons .rules-accept-btn").css("width","49%").css("float","left"),$dialog.find(".house-rules-buttons .rules-cancel-btn").css("width","49%").css("float","right"),rulesWrapperHeight-=$dialog.find(".accept-text").outerHeight(!0)||0,rulesWrapperHeight-=$dialog.find(".house-rules-buttons").outerHeight(!0)||0),rulesWrapperHeight-=$dialog.find(".rules-wrapper").outerHeight(!0)-$dialog.find(".rules-wrapper").height(),$dialog.find(".rules-wrapper").height(rulesWrapperHeight),$dialog.find(".rules-wrapper").css("max-height","none"))}},useDivId:"HouseRulesDialog",roundedBorders:!1,onclose:function(){$(".ui-dialog #HouseRulesDialog .rules-accept-btn").unbind("click");$(".ui-dialog #HouseRulesDialog .rules-cancel-btn").unbind("click")}};LSHelper.HelperLib.showDialog(dialogParams)},toServerString:function(date){return date?date.toServerString():null},trackCalendarReservation:function(page){page==undefined&&(page="ReservationDialogUnknown");var message="/calendar/IndexByVenue/"+page;typeof ga=="function"&&ga("send","pageview",{page:message})},trackAdWordsConversion:function(totalPrice,isSignedIn,isCreditCardBilled,reservationId){var google_conversion_id=1019535038,google_conversion_label="GBFZCKKFigQQvr2T5gM",google_conversion_value=totalPrice;if(isCreditCardBilled===!0){isSignedIn===!0&&(google_conversion_label="cusKCKqEigQQvr2T5gM");var ticks=Math.floor(1e9*Math.random()),imageSource="https://www.googleadservices.com/pagead/conversion/"+google_conversion_id+"/?label="+google_conversion_label+"&value="+google_conversion_value+"&script=0&ticks="+ticks,image=new Image(1,1);image.src=imageSource;$("body").append(image);$('<img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=l4x3r&p_id=Twitter" />').appendTo("body");$('<img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=l4x3r&p_id=Twitter" />').appendTo("body");typeof dataLayer=="object"&&(dataLayer.push({ReservationId:reservationId}),dataLayer.push({ReservationTotalPrice:totalPrice}),dataLayer.push({event:"trackReservationConversion"}))}},trackCalendarReservationTransaction:function(gaAccount,gaDomain,reservationEvent,isNewReservation,isSignedIn){var isCreditCardBilled=reservationEvent.scenario.toLowerCase()=="creditcard";isSignedIn===!0&&window.location.pathname.toLowerCase().indexOf("/calendar")==0&&LSHelper.Calendar.trackAdWordsConversion(reservationEvent.totalPrice,isSignedIn,isCreditCardBilled,reservationEvent.reservationId);typeof ga=="function"&&isCreditCardBilled&&(isNewReservation?(ga("ecommerce:addTransaction",{id:reservationEvent.reservationId,affiliation:reservationEvent.venueName,revenue:reservationEvent.totalPrice,shipping:"",tax:""}),ga("ecommerce:addItem",{id:reservationEvent.reservationId,sku:reservationEvent.workspaceName,name:reservationEvent.venueName,category:reservationEvent.reservationMethod,price:reservationEvent.unitPrice,quantity:reservationEvent.units}),ga("ecommerce:send"),ga("send","event",{eventCategory:"Reservation",eventAction:"Create",eventLabel:reservationEvent.venueName+" - "+reservationEvent.workspaceName})):ga("send","event",{eventCategory:"Reservation",eventAction:"Edit",eventLabel:reservationEvent.venueName+" - "+reservationEvent.workspaceName}))},trackSYSConversion:function(venueId){typeof dataLayer=="object"&&(dataLayer.push({VenueId:venueId}),dataLayer.push({event:"trackSYSConversion"}))},trackCalendarReservationCoupon:function(couponRedeemMessage){typeof ga=="function"&&ga("send","event",{eventCategory:"Promotion Coupon",eventAction:"Redeem",eventLabel:couponRedeemMessage})},trackBookItNowClick:function(source,position,isMonthly){if(typeof ga=="function"){source==undefined&&(source="Unknown");position==undefined&&(position="");var message="/vpv/BookItNowClick?source="+source+position+"&monthly="+isMonthly;ga("send","pageview",{page:message})}},trackScheduleTourClick:function(source,position){if(typeof ga=="function"){source==undefined&&(source="Unknown");position==undefined&&(position="");var message="/vpv/ScheduleTour?source="+source+position;ga("send","pageview",{page:message})}},trackCalendarReservationRecurringWarning:function(){typeof ga=="function"&&ga("send","pageview",{page:"/vpv/BookItNowRecurringWarning"})},trackCalendarReservationRecurringError:function(){typeof ga=="function"&&ga("send","pageview",{page:"/vpv/BookItNowRecurringError"})},trackCalendarViewSwitchEvents:function(viewType){typeof ga=="function"&&viewType.length>0&&ga("send","pageview",{page:"/vpv/calendar/"+viewType})},memberVisaStatus:function(userId,venueId){$.get("/Calendar/VisaStatus",{userId:userId,venueId:venueId},function(data){$("#visaStatusContent").html(data)})}};LSHelper.HelperLib={getURLParameter:function(name){return decodeURIComponent((new RegExp("[?|&]"+name+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},setDeleteIcon:function($image,defUrl,actionUrl){$image=$($image);var $icon=$image.prev(".delete-icon");$image.attr("src")!=defUrl?($icon.length==0&&($icon=$image.before('<span class="delete-icon"><\/span>').prev()),$icon.css("left",$image.width()-10).css("margin-top",-7).click(function(){LSHelper.Dialog.confirmDialog("Image will be deleted. Are you sure?",function(){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:actionUrl,success:function(data){$image.attr("src",defUrl);$image.load(function(){LSHelper.HelperLib.setDeleteIcon($image,defUrl,actionUrl)})},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Image will be deleted.")})):$icon.remove()},getUrlVars:function(){var vars={},parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars},updateQueryStringParameter:function(uri,key,value){var re=new RegExp("([?&])"+key+"=.*?(&|$)","i"),separator=uri.indexOf("?")!==-1?"&":"?";return uri.match(re)?uri.replace(re,"$1"+key+"="+value+"$2"):uri+separator+key+"="+value},getHashSafe:function(){var arr=window.location.href.split("#");return arr!=null&&arr.length>1?arr[1]:null},navigateToAnchor:function(params){var hash,$anchor,scrollToHash,offset;params=$.extend({customHashRules:{}},params);hash=window.location.hash;hash.length>0&&($anchor=$("[data-anchor=\\"+hash+"]"),$anchor.length>0&&(scrollToHash=!0,params.customHashRules[hash]&&$.isFunction(params.customHashRules[hash])&&(scrollToHash=params.customHashRules[hash]()),scrollToHash&&(offset=$anchor.offset(),$(window).scrollTop(offset.top))))},blockUI:function(elem){elem?($(elem).attr("disabled","disabled"),$(elem).find(":button").button({disabled:!0}),$(elem).find(":input").attr("disabled","disabled"),$(elem).find("a.ui-button").addClass("disabled"),$(elem).find(".clickable").attr("disabled","disabled")):$.blockUI({ignoreIfBlocked:!0,message:null,css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"4px","-moz-border-radius":"4px",opacity:.25,color:"#737373"},baseZ:9999999})},unblockUI:function(elem){elem?($(elem).removeAttr("disabled"),$(elem).find(":button").button({disabled:!1}),$(elem).find(":input").removeAttr("disabled"),$(elem).find("a.ui-button").removeClass("disabled"),$(elem).find(".clickable").removeAttr("disabled")):$.unblockUI()},encodeDataForPaymentGateway:function(formId,braintree){var $newForm=$(formId).clone(),$selectsToFix=$newForm.find("select"),$textAreaToFix;return $.each($(formId).find("select"),function(i,val){$($selectsToFix[i]).val($(val).val())}),$textAreaToFix=$newForm.find("textarea"),$.each($(formId).find("textarea"),function(i,val){$($textAreaToFix[i]).val($(val).val())}),$.each($newForm.find("[data-encrypted-name]"),function(i,val){$(val).val(braintree.encrypt($(val).val()))}),$newForm.formToArray(!0)},submitAjaxForm:function(formId,targetToReplaceId,onSuccess,onFailure,replaceTatgetOnFailure,urlToSubmit,formData,onComplete){if(replaceTatgetOnFailure==undefined&&(replaceTatgetOnFailure=!0),$(formId).valid()){var url=$(formId).attr("action");urlToSubmit!=undefined&&(url=urlToSubmit);jQuery.ajax({type:"POST",url:url,data:formData!=null?formData:$(formId).formToArray(!0),async:!0,success:function(response){if(response.isException){LSHelper.UI.showError(response);onFailure!=undefined&&onFailure(response);return}response===!0||response.toString().toLowerCase()==="true"||response.Result&&response.Result==!0?onSuccess!=undefined&&onSuccess(response):(targetToReplaceId!=undefined&&targetToReplaceId!=""&&targetToReplaceId!=null&&$(targetToReplaceId).html(response),onFailure!=undefined&&onFailure(response))},error:function(xhr,textStatus,errorThrown){var response={};try{response=eval("("+xhr.responseText+")")}catch(ex){}targetToReplaceId!=undefined&&targetToReplaceId!=""&&replaceTatgetOnFailure&&$(targetToReplaceId).html(xhr.response);onFailure!=undefined&&onFailure(response.content)},complete:function(){onComplete!=undefined&&onComplete()}})}else onFailure!=undefined&&onFailure()},submitObjectAsForm:function(obj,formConfiguration,addParamsToQueryString){var defaultConfiguration={action:"",method:"POST"},configuration=$.extend({},defaultConfiguration,formConfiguration),firstSymbol,$form,property;addParamsToQueryString&&(firstSymbol="?",configuration.action.indexOf("?")>0&&(firstSymbol="&"),configuration.action+=firstSymbol+$.param(obj));$form=$("<form/>",{action:configuration.action,method:configuration.method});for(property in obj)obj.hasOwnProperty(property)&&$form.append($("<input>",{name:property,value:obj[property],type:"hidden"}));$("body").append($form);$form.submit()},FillParallelDropDown:function(url,destElem,dataValue,onSuccess){destElem.attr("disabled","disabled");jQuery.ajax({type:"POST",url:url,async:!0,data:dataValue,success:function(result){destElem.removeAttr("disabled");var resultValue=eval(result);LSHelper.HelperLib.FillDropDownWithJSon(destElem,resultValue);onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(resultValue)},error:function(XMLHttpRequest,textStatus,errorThrown){destElem.removeAttr("disabled")}})},fillDropDownWithObject:function(destObject,dataObject,desiredValue,propertySelector,propertyFilter){var listItems="<option value=''>Not Selected<\/option>";for(var i in dataObject)(propertyFilter===undefined||propertyFilter(dataObject[i]))&&(listItems+="<option value='"+i+"'"+(desiredValue==i?" selected ":"")+">"+(propertySelector===undefined?dataObject[i]:propertySelector(dataObject[i]))+"<\/option>");$(destObject).html(listItems)},FillDropDownWithJSon:function(destElem,inData){var optionList="";for(var i in inData)optionList+="<option value='"+inData[i].Value+"'>"+inData[i].Text+"<\/option>";destElem.html(optionList)},popUp:function(elem,content,showCloseBtn,css){var $wrappper,$closeBtn,offset;return $(".popUp-wrapper").length?($wrappper=$(".popUp-wrapper"),$wrappper.removeAttr("style"),$wrappper.find(".popUp-content").html(content)):($wrappper=$('<div class="popUp-wrapper"><div class="popUp-content">'+content+'<\/div><div class="popUp-extender"><img src="/Content/images/icons/map-popup-bottom2.png" alt="" /><\/div><\/div>'),showCloseBtn&&($closeBtn=$('<div class="popUp-close">&nbsp;<\/div>'),$closeBtn.bind("click",function(){$(this).parent().hide()}),$wrappper.append($closeBtn)),$wrappper.appendTo("body")),offset=$(elem).offset(),css&&$wrappper.css(css),$wrappper.css({top:offset.top-$wrappper.height()-10+"px",left:offset.left-$wrappper.width()/2+$(elem).width()/2+"px"}),$wrappper.show(),$wrappper},showDialog:function(options){var overflow,div,opts,commonOpen,f;if(options)if(overflow=options.overflow==null?"overflow:hidden;":options.overflow,div=null,options.useDivId?div=$("#"+options.useDivId):($("#"+options.divId).length!=0&&$("#"+options.divId).remove(),$("body").append('<div style="'+overflow+'height:0px;visibility:hidden;" id="'+options.divId+'"><\/div>'),div=$("#"+options.divId)),opts=$.extend({},{close:function(){$.isFunction(options.onclose)&&options.onclose();options.useDivId||div.remove()}},options.dialogOptions),opts.position&&opts.position!="center"||(opts.position={collision:"none",using:function(pos){var topOffset=$(this).css(pos).offset().top,windowTop=$(window).scrollTop();topOffset<windowTop&&$(this).css("top",windowTop)}}),commonOpen=function(){var $dialog=div.closest(".ui-dialog");$dialog.find(".ui-dialog-buttonpane").find("button:first").addClass("orange-button");$dialog.find(".ui-dialog-titlebar-close").removeAttr("title");div.css("visibility","visible")},$.isFunction(opts.open)?(f=opts.open,opts.open=function(ev,item){commonOpen();setTimeout(function(){$(document).unbind("mousedown.dialog-overlay").unbind("mouseup.dialog-overlay")},100);f(ev)}):opts.open=function(ev,item){commonOpen()},opts.closeText||(opts.closeText=""),options.predraw&&div.dialog(opts),options.url)LSHelper.HelperLib.blockUI(),div.load(options.url,options.data,function(responseText,textStatus,xhr){xhr.status==530&&typeof document.notLoggedInCallBack!="undefined"&&document.notLoggedInCallBack!=null&&$.isFunction(document.notLoggedInCallBack)||LSHelper.HelperLib.unblockUI();var obj=null;try{if(obj=$.parseJSON(xhr.responseText),obj!=null&&obj.isException&&(xhr._exceptionProcessed=!0,LSHelper.UI.showError(obj),options.onError!=null&&$.isFunction(options.onError)))options.onError(obj.content,obj.title,xhr)}catch(ex){}if(obj==null)if(textStatus=="error"){if(options.onError!=null&&$.isFunction(options.onError))options.onError(responseText,textStatus,xhr)}else options.predraw||(div.dialog(opts),div.offset().left<0&&div.parent(".ui-dialog").css("left",""))});else if(options.html){$.isFunction(opts.preOpen)&&opts.preOpen(null,$("#"+options.divId));try{$(options.html).show()}catch(ex){}div.empty().append(options.html);div.find("button, input:submit, input:button, .dhx_btn_set").button();$.isFunction(opts.afterOpen)&&opts.afterOpen(div);options.predraw||div.dialog(opts)}else options.useDivId&&div.dialog(opts)},autoEllipseTextShowDetails:function(item){var div=$(item).closest(".short-content");div.hide();div.next().show()},autoEllipseTextHideDetails:function(item){var div=$(item).closest(".full-content");div.hide();div.prev().show()},autoEllipse:function(params){params=$.extend({selector:null,inwidth:null,inheight:null,position:null,queueProcessing:null,isForPopUp:null,showMoreButton:null,showMoreButtonTitle:null,showMoreButtonAction:null,showMoreButtonLink:null,showEllipses:null,strPostProcess:null},params);LSHelper.HelperLib.autoEllipseText(params.selector,params.inwidth,params.inheight,params.position,params.queueProcessing,params.isForPopUp,params.showMoreButton,params.showMoreButtonTitle,params.showMoreButtonAction,params.showMoreButtonLink,params.showEllipses,params.strPostProcess)},autoEllipseText:function(selector,inwidth,inheight,position,queueProcessing,isForPopUp,showMoreButton,showMoreButtonTitle,showMoreButtonAction,showMoreButtonLink,showEllipses,strPostProcess){function getWidthHeightFromClassName(str){var index=str.indexOf("autoEllipseText"),result={width:inwidth,height:inheight},temp,xIndex;return index!=-1&&(temp=str.substring(index+15,str.length),xIndex=temp.indexOf("x"),xIndex!=-1?(result.width=parseInt(temp.substring(0,xIndex)),result.height=parseInt(temp.substring(xIndex+1,temp.length))):result.width=parseInt(temp)),result}var getStyle,$selector;if(queueProcessing==undefined&&(queueProcessing=!0),isForPopUp==undefined&&(isForPopUp=!0),showMoreButton==undefined&&(showMoreButton=!1),showEllipses==undefined&&(showEllipses=!1),getStyle=function(el,styleProp){var camelize=function(str){return str.replace(/\-(\w)/g,function(str,letter){return letter.toUpperCase()})};return el.currentStyle?el.currentStyle[camelize(styleProp)]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(el,null).getPropertyValue(styleProp):el.style[camelize(styleProp)]},$selector=$(selector),$selector.length!=0){var fs=getStyle($selector[0],"font-size"),ff=getStyle($selector[0],"font-family"),fw=getStyle($selector[0],"font-weight"),ln=getStyle($selector[0],"line-height");ln=(isNaN(parseInt(ln))?parseInt(fs)+2:parseInt(ln))+"px";var cssStr="font-size:"+fs+";font-family:"+ff+";font-weight:"+fw+";line-height:"+ln+";",myEllipsis=new FastEllipsis(cssStr),text_replacement="^see_more^",dim=getWidthHeightFromClassName($($(selector)[0]).attr("class")),assignFromDim=inwidth==undefined&&inheight==undefined,width=assignFromDim?dim.width:inwidth,height=assignFromDim?dim.height:inheight,completed_class="autoellipse-completed";$.each($(selector),function(i,val){var $val=$(val),h=height==null?1:Math.floor(height/parseInt(ln)),aText,wasEllipserApplied;if(!$val.hasClass(completed_class)){var originalString=$val.html(),ellipsed=myEllipsis.ellipseIt(originalString,h,width,showMoreButton?text_replacement:"..."),$span=null;showMoreButton&&((showMoreButtonTitle==undefined||showMoreButtonTitle=="")&&(showMoreButtonTitle="See more"),(showMoreButtonAction==undefined||showMoreButtonAction=="")&&(showMoreButtonAction="LSHelper.HelperLib.autoEllipseTextShowDetails(this); return false;"),(showMoreButtonLink==undefined||showMoreButtonLink=="")&&(showMoreButtonLink="#"),aText='<a class="expand-link" href="'+showMoreButtonLink+'" onclick="'+showMoreButtonAction+'">'+showMoreButtonTitle+"<\/a>",ellipsed=ellipsed.replace(text_replacement,aText));wasEllipserApplied=ellipsed!=$val.html();try{$val.data("tooltipsterContent")&&$val.tooltipster("destroy")}catch(ex){}wasEllipserApplied&&($span=height==undefined?$('<span class="short-content" style="white-space:nowrap;">'+ellipsed+"<\/span>"):$('<span class="short-content" style="white-space:normal;display: inline-block;">'+ellipsed+"<\/span>"),$val.html(""),$val.append($span),isForPopUp?($val.css("cursor","help"),position==undefined?$val.tooltipster({content:originalString}):$val.tooltipster({content:originalString})):showMoreButton&&$span.after("<div style='display:none;' class='full-content'>"+originalString+" <a class='expand-link' href='#' onclick='LSHelper.HelperLib.autoEllipseTextHideDetails(this);return false;'>See less<\/a><\/div>"));strPostProcess!=null&&$.isFunction(strPostProcess)&&strPostProcess($val);$val.addClass(completed_class);$val.css("visibility","visible")}})}},radioButtonListChangeState:function(selector,obj){$(selector).next().css("font-weight","normal");$(obj).next().css("font-weight","bold")},downloadFile:function(fileUrl){var downloadIframe=jQuery("#downloadframe");return downloadIframe.length==0?jQuery("body").append('<iframe style="position:absolute; left:-10000px; visible:hidden;" src="'+fileUrl+'" id="downloadframe" />'):downloadIframe.attr("src",fileUrl),!1},fixDisabledCheckboxes:function(){jQuery(":disabled:checkbox").each(function(){var checkboxElem=jQuery(this);jQuery(':hidden[name="'+checkboxElem.attr("name")+'"]').val(checkboxElem.is(":checked"))})},sendFormToLink:function(formId,link){var destForm=jQuery("#"+formId),destLink=jQuery(link);destForm.attr("action",destLink.attr("href"));destForm.submit()},changeDisabled:function(obj){$(obj).attr("disabled")?$(obj).removeAttr("disabled"):$(obj).attr("disabled","disabled")},changeReadonly:function(obj){$(obj).attr("readonly")?$(obj).removeAttr("readonly"):$(obj).attr("readonly","readonly")},closedClicked:function(elem,id,messageType,defaultValueOpening,defaultValueClosing){var timeElem=$("#time"+id),open=$(".opened"+id)[0],close=$(".closed"+id)[0];switch(messageType){case 0:$("#closed"+id).html("CLOSED");$(elem).is(":checked")&&$(open).removeAttr("checked");break;case 1:$("#closed"+id).html("Open 24 hours");$(elem).is(":checked")&&$(close).removeAttr("checked");break}timeElem.css("display","none");$("#closed"+id).css("display","none");$("#closed"+id).next().css("display","none");$(elem).is(":checked")?($("#closed"+id).css("display","inline"),timeElem.children().attr("disabled","disabled")):(timeElem.css("display","inline"),$("#closed"+id).next().css("display","inline"),timeElem.children().removeAttr("disabled"),timeElem.find('[name$="OffsetToOpening"]').val()==timeElem.find('[name$="OffsetToClosing"]').val()&&(timeElem.find('[name$="OffsetToOpening"]').val(defaultValueOpening),timeElem.find('[name$="OffsetToClosing"]').val(defaultValueClosing)))},validateEmail:function(value){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value)},tmplFormatDate:function(str,format,useClientTime,uriEncode){var date,res;return uriEncode==undefined&&(uriEncode=!1),useClientTime==undefined&&(useClientTime=!1),format==undefined&&(format="g"),date=Date.fromISO(str),isNaN(date)&&(date=parseJsonDate(str)),date!=undefined?(useClientTime&&(date=date.addMinutes((new Date).getTimezoneOffset())),res=date.cformat(format),uriEncode&&(res=encodeURIComponent(res)),res):""},tryGetDate:function(strDate){var startDate=strDate?Date.fromISO(strDate):!1;return isNaN(startDate)&&(startDate=parseJsonDate(strDate)),startDate||(startDate=null),startDate},addMinutesToDate:function(date,minutes){return new Date(date.getTime()+parseInt(minutes)*6e4)},adjustEndDateMidnight:function(endTimeDate){var midnight=new Date(endTimeDate);return midnight.setHours(0,0,0,0),endTimeDate.getTime()==midnight.getTime()&&(endTimeDate=endTimeDate.addMinutes(-1)),endTimeDate},openElementContent:function(elem,selectorId){var $p,setCoord;selectorId||(selectorId="priceRatesInfo");$p=$("#"+selectorId);$p.appendTo(document.body);setCoord=function(){var _offset=$(elem).offset(),_w=$p.width(),_h=$p.height(),_l;$.browser.msie&&$p.find(".elem-extender").css("margin-top","-3px");_l=Math.round(_offset.left-_w/2)+7;$p.css("top",_offset.top-_h-10).css("left",_l>0?_l<$(window).width()-_w?_l:$(window).width()-_w:0)};setCoord();$p.show();$(document).bind("scroll."+selectorId,function(){setTimeout(setCoord,1)})},closeElementContent:function(selectorId){$(document).unbind("scroll."+selectorId);$("#"+selectorId).hide()},inputFocus:function(elem,defaultText){$(elem).val()==defaultText&&($(elem).val(""),$(elem).addClass("focused"))},inputFocusOut:function(elem,defaultText){$(elem).val()==""&&($(elem).val(defaultText),$(elem).removeClass("focused"))},openSharePopup:function(href,title){title=title||"LiquidSpace - Share";var w=500,h=500,left=window.screen.width/2-w/2,top=window.screen.height/2-h/2,shareWindow=window.open(href,"_blank","height="+h+",width="+w+",left="+left+",top="+top);shareWindow.document.title=title},elementOrParentIsFixed:function(element){var $element=$(element),$checkElements=$element.add($element.parents()),isFixed=!1;return $checkElements.each(function(){if($(this).css("position")==="fixed")return isFixed=!0,!1}),isFixed},isNullOrEmpty:function(value){return value===null||value===""}};LSHelper.Workspace={rebuildAvailabilityWorm:function(parentSelector,topoffset){topoffset||(topoffset=0);parentSelector=parentSelector?parentSelector+" ":"";$(parentSelector+".availability-worm-square-timeline").mouseover(function(){var $worm=$(".worm-square-tooltip"),topcoord;$worm.appendTo(document.body);topcoord=$(this).offset().top;$(document).unbind("mousemove.worm");$(document).bind("mousemove.worm",function(e){$worm.css({left:e.pageX-59,top:topcoord-67-topoffset})}).trigger("mousemove.worm");$worm.show()});$(parentSelector+".availability-worm-square-timeline").mouseout(function(){$(".worm-square-tooltip").hide();$(document).unbind("mousemove.worm")});$(parentSelector+".half-hour").mouseover(function(){var $hourSquare=$($(this).parent()),hourOrder=parseInt($hourSquare.attr("data-order")),hour=(hourOrder+3)%12,isFirstHour=$(this).hasClass("first-half"),hourString,hourclass;if(hour==0&&(hour=12),hourString=hour+":"+(isFirstHour?"00":"30")+" "+(hourOrder>8?"pm":"am"),$(".worm-square-tooltip-time").text(hourString),$(this).hasClass("hour-square-wrapper-busy")){$(".worm-square-tooltip-label").text("Your Meeting");return}if(hourclass=$hourSquare.attr("class").split(" ")[1].split("-")[isFirstHour?0:1],hourclass.indexOf("own")>=0){$(".worm-square-tooltip-label").text("Your Reservation");return}if(hourclass.indexOf("booked")>=0){$(".worm-square-tooltip-label").text("Booked");return}if(hourclass.indexOf("available")>=0){$(".worm-square-tooltip-label").text("Available");return}if(hourclass.indexOf("closed")>=0){$(".worm-square-tooltip-label").text("Closed");return}})},quickLook:function(params){var options={workspaceId:null,venueId:null,bookItFunction:function(){LSHelper.Calendar.editReservation({ev:{id:"",workspace_id:options.workspaceId,venue_id:options.venueId},reservationSourcePage:LSHelper.Calendar.reservationSourceNames.Calendar})},autoClose:!0};$.extend(options,params);LSHelper.HelperLib.showDialog({divId:"workspaceQuickLook",dialogOptions:{dialogClass:"noTitleStuff",modal:!0,minWidth:560,title:"Quick Look",resizable:!1,open:function(){$("#workspaceQuickLook .book-it-button").click(function(){options.autoClose&&$("#workspaceQuickLook").dialog("close");options.bookItFunction()})},close:function(){$("#priceRatesInfo").hide()}},roundedBorders:!1,url:"/Workspace/QuickLook/",data:{workspaceId:options.workspaceId,venueId:options.venueId}})},toggleRatesDisplay:function(elem,event){event&&event.stopPropagation();var $elem=$(elem),$wrapper=$elem.next(),expandedClass="expanded";$wrapper.hasClass(expandedClass)?($elem.html("Show Rates"),$wrapper.removeClass(expandedClass)):($elem.html("Hide Rates"),$wrapper.addClass(expandedClass))}};LSHelper.Diagnostics={console:{stopPoll:!1},consolePoller:function(queryUrl,parentSelector){if(!LSHelper.Diagnostics.console.stopPoll){var parentElement=jQuery(parentSelector);setTimeout(function(){jQuery.ajax({url:queryUrl,async:!0,cache:!1,dataType:"json",success:function(result){parentElement.find(".consoleLine").remove();for(var lineNdx=0;lineNdx<result.length;lineNdx++)parentElement.append("<div class='consoleLine'><span class='consoleTaskTime'>"+result[lineNdx].CreateTime+"<\/span><span class='consoleTaskName'>"+result[lineNdx].TaskName+"&gt;<\/span><span>"+result[lineNdx].Text+"<\/span><\/div>");LSHelper.Diagnostics.consolePoller(queryUrl,parentSelector)}})},3e3)}},runConsoleTask:function(url){jQuery.ajax({url:url,async:!0,cache:!1})}};LSHelper.Reservation={confirmationMessage:function(isMonthly){var cancellationPolicyLink="/Terms/Hourly-Space-License-Agreement",cancellationPolicyText="24 Hour Cancellation Policy";return isMonthly&&(cancellationPolicyLink="/Terms/Monthly-Space-License-Agreement",cancellationPolicyText="Flexible Cancellation Policy"),'This reservation will be deleted immediately. Information about refunds is available on <a href="'+cancellationPolicyLink+'" target="_blank">'+cancellationPolicyText+"<\/a> page."},deleteReservation:function(resId,onSuccess,onError,occurrenceDate,applyDate,recurrentEditType,beforeActionFunc,isMonthly,memberId,IsCreditCardPayment,isVenueAdmin,organizerName){var message,title,yesButton,noButton;IsCreditCardPayment&&isVenueAdmin?(organizerName=organizerName||"Organizer",message=organizerName+" paid for this reservation with LiquidSpace and is expecting this space.<br /><br />If "+organizerName+" called you to cancel, then it's ok to cancel. Otherwise, please move the customer to a better space. <a href='https://support.liquidspace.com/hc/en-us/articles/204185129-Editing-Guest-Reservations' target='_blank'>Learn how.<\/a><br /><br />If you have no alternative, <a href='mailto:support@liquidspace.com' target='_blank'>contact support<\/a> immediately.",title="Wait! Don't leave "+organizerName+" without a space...",yesButton="Cancel Reservation",noButton="Don't Cancel Reservation"):(message=LSHelper.Reservation.confirmationMessage(isMonthly),title="Are You Sure You Want to Cancel?",yesButton="Yes",noButton="No");LSHelper.Dialog.confirmDialog(message,function(){beforeActionFunc&&jQuery.isFunction(beforeActionFunc)&&beforeActionFunc();LSHelper.Reservation.deleteAction(resId,onSuccess,onError,!1,occurrenceDate,applyDate,memberId)},title,null,yesButton,null,noButton,null,485)},deleteAction:function(reservationId,onSuccess,onError,async,occurrenceDate,applyDate,memberId){async=async==null?!0:async;async||LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:"/Calendar/DeleteReservation",data:{id:reservationId,occurrenceDate:occurrenceDate,applyDate:applyDate,memberId:memberId},async:!0,success:function(result){if(result.isException){LSHelper.UI.showError(result);onError&&jQuery.isFunction(onError)&&onError();return}onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){onError&&jQuery.isFunction(onError)&&onError()},complete:function(){async||LSHelper.HelperLib.unblockUI()}})},checkIn:function(reservationId,memberId,wasCheckInConfirmed,onSuccess,onError,throwException,occurrenceDate){throwException==null&&(throwException=!0);$.ajax({type:"POST",url:"/Calendar/CheckInReservation",data:{id:reservationId,checkInMemberId:memberId,throwException:throwException,wasCheckInConfirmed:wasCheckInConfirmed,occurrenceDate:occurrenceDate},async:!0,success:function(result){$.unblockUI();onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){$.unblockUI();onError&&jQuery.isFunction(onError)&&onError()}})},checkout:function(reservationId,checkOutMemberId,onStart,onSuccess,onError,occurrenceDate){onStart&&jQuery.isFunction(onStart)&&onStart();$.ajax({type:"POST",url:"/Calendar/CheckOutReservation/",data:{id:reservationId,checkOutMemberId:checkOutMemberId,occurrenceDate:occurrenceDate},async:!0,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){onError&&jQuery.isFunction(onError)&&onError()}})},undocheckinout:function(reservationId,checkInOutMemberId,currentState,onStart,onSuccess,onError,occurrenceDate){onStart&&jQuery.isFunction(onStart)&&onStart();$.ajax({type:"POST",url:"/Calendar/UndoCheckInOutReservation/",data:{id:reservationId,checkInOutMemberId:checkInOutMemberId,currentState:currentState,occurrenceDate:occurrenceDate},async:!0,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){onError&&jQuery.isFunction(onError)&&onError()}})},RecurrenceEditTypes:{AllEvents:1,SingleEvent:2,AllFollowing:3},RecurrentDialogModes:{edit:"edit",del:"del"},showRecurrentDialog:function(mode,callback){var recurrenceDialogViewModel,dialogParams;$.isFunction(callback)&&(LSHelper.Reservation.RecurrentDialogModes[mode]||(mode=LSHelper.Reservation.RecurrentDialogModes.edit),recurrenceDialogViewModel={mode:ko.observable(mode)},recurrenceDialogViewModel.texts=ko.computed(function(){var result={};switch(recurrenceDialogViewModel.mode()){case LSHelper.Reservation.RecurrentDialogModes.edit:result={title:"Edit recurring reservation",caption:"Would you like to change only this reservation or all reservations in the series?",all:"All reservations in the series will be changed (Any changes made to other reservations will be kept).",single:"All other reservations in the series will remain the same.",allfollowing:"This and all the following reservations will be changed."};break;case LSHelper.Reservation.RecurrentDialogModes.del:result={title:"Delete recurring reservation",caption:"Would you like to delete only this reservation or all reservations in the series?",all:"All reservations in the series will be deleted.",single:"All other reservations in the series will remain.",allfollowing:"This and all the following reservations will be deleted."};break}return result}),dialogParams={overflow:"overflow:visible;",dialogOptions:{title:recurrenceDialogViewModel.texts().title,resizable:!1,modal:!0,width:"500px",heigth:"auto",position:"center",open:function(){var $content=$("#bin-recurrence-popup"),$rDialog=$content.hasClass("ui-dialog")?$content:$content.parent(),elem=this;$content.show();recurrenceDialogViewModel.callback=function(_mode){$rDialog.dialog("close");callback(elem,{recurrenceEditType:_mode})};recurrenceDialogViewModel.close=function(){$rDialog.dialog("close")};ko.cleanNode($content[0]);ko.applyBindings(recurrenceDialogViewModel,$content[0])}}},dialogParams.url="/Calendar/RecurrenceDialog",LSHelper.HelperLib.showDialog(dialogParams))},quickLook:function(params){var options={reservationId:null,occurrenceDate:null,divId:"reservationQuickLook",checkInFunction:function(){options.$dialog.dialog("close");LSHelper.Reservation.checkIn(options.reservationId)},checkOutFunction:function(){options.$dialog.dialog("close");LSHelper.Reservation.checkout(options.reservationId)},editFunction:function(){options.$dialog.dialog("close");LSHelper.Calendar.editReservation({ev:{id:options.reservationId},reservationSourcePage:LSHelper.Calendar.reservationSourceNames.Calendar})},deleteFunction:function(){options.$dialog.dialog("close");deleteReservation(options.reservationId)},stopAutoRenewSuccessFunc:function(){},init:function(){options.$dialog=$("#"+options.divId);options.$checkInButton=options.$dialog.find(".check-in-button");options.$checkOutButton=options.$dialog.find(".check-out-button");options.$editButton=options.$dialog.find(".edit-button");options.$deleteButton=options.$dialog.find(".delete-button");options.$stopAutoRenew=options.$dialog.find(".stop-renew-button");options.$extendButton=options.$dialog.find(".extend-button");options.$checkInButton.click(function(){options.checkInFunction()});options.$checkOutButton.click(function(){options.checkOutFunction()});options.$editButton.click(function(){options.editFunction()});options.$deleteButton.click(function(){options.deleteFunction()});options.$stopAutoRenew.click(function(){var opt={reservationId:options.reservationId,memberId:options.memberId,onSuccessFunc:function(){options.$stopAutoRenew.attr("disabled","disabled");options.stopAutoRenewSuccessFunc&&jQuery.isFunction(options.stopAutoRenewSuccessFunc)&&options.stopAutoRenewSuccessFunc()}};LSHelper.Calendar.stopAutoRenew(opt)});options.$extendButton.click(function(){LiquidSpace.Reservation.Extend({reservationId:options.reservationId,extendedCallback:function(){options.$extendButton.attr("disabled","disabled")}})})},refresh:function(success){$.ajax({url:"/Calendar/QuickLook/",type:"POST",data:{reservationId:options.reservationId,occurrenceDate:options.occurrenceDate},success:function(result){options.$dialog.html(result);options.$dialog.find(".buttons button").button();options.init();$.isFunction(success)&&success()}})}};if($.extend(options,params),!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(options.reservationId))throw"Invalid reservationId at "+window.location.toString();return LSHelper.HelperLib.showDialog({divId:options.divId,dialogOptions:{modal:!0,minWidth:580,title:"Reservation Details",resizable:!1,open:function(){options.init()}},roundedBorders:!1,url:"/Calendar/QuickLook/",data:{reservationId:options.reservationId,occurrenceDate:options.occurrenceDate}}),options}};LSHelper.MemberGroup={deleteGroupElement:function(item,id,groupId,confirmMessageStart,actionURL,gridElement){LSHelper.Dialog.confirmDialog(confirmMessageStart+", are you sure?",function(){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:actionURL,data:{id:id,groupId:groupId},success:function(result){gridElement.dataSource.remove(gridElement.selectedItem())},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Are you sure?")},resendInvite:function(item,groupId,memberId){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:GetUrl("ResendInvite","MemberGroup"),data:{groupId:groupId,memberId:memberId},success:function(result){LSHelper.HelperLib.unblockUI();var title="Resend Invite";result.success?LSHelper.Dialog.alertDialog("Success!",title):LSHelper.Dialog.alertDialog(result.errors&&result.errors.join(", "),title)}})}};LSHelper.Report={changeDropDownStatus:function(elem){var parentForm=$(elem).closest("form");elem.checked&&parentForm.find(".dateRangeItem").each(function(index,dateRangeElem){var currentElement=$(dateRangeElem);currentElement.attr("id")==$(elem).val()?(currentElement.find("input,select").removeAttr("disabled"),jQuery("#StartDate,#EndDate").datepicker("disable")):(currentElement.find("input,select").attr("disabled","disabled"),jQuery("#StartDate,#EndDate").datepicker("enable"))})},showReportDialog:function(url,refreshGridUrl,reportIndexUrl,doNotRedirect,useUrlForPost){var isCheckBoxSelected=function(){var memberGroupSection=$("#memberGroupCheckBoxes");return memberGroupSection.length>0?$(".mgcheckbox:checked").length>0?($("#memberGroupsValidator").addClass("field-validation-valid"),!0):($("#memberGroupsValidator").removeClass("field-validation-valid"),$("#memberGroupsValidator > span").removeAttr("style"),!1):!0},dataFunc=function(){var $form=$("#runReportDialog"),$dialog=$("#runReportDialog").parent(),parameterForm=$form.find("form"),data=[];parameterForm.length>0&&(data=$form.formToArray(!0));LSHelper.HelperLib.blockUI($dialog);doNotRedirect&&(data[data.length]={name:"doNotRedirect",value:!0});$.ajax({type:"POST",url:useUrlForPost==null||useUrlForPost==!1?GetUrl("RunReport","Report"):url,data:data,async:!0,success:function(result){result=="true"||result==!0?reportIndexUrl!=null?window.location=reportIndexUrl:(setTimeout(function(){LSHelper.Report.refreshGrid(refreshGridUrl)},2e3),$form.dialog("close")):(LSHelper.HelperLib.unblockUI($dialog),$form.html(result))},error:function(xhr,ajaxOptions,thrownError){LSHelper.HelperLib.unblockUI($dialog)}})},dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:"center",title:"Run report parameters",buttons:[{text:"Run Report","class":"ocean-button",click:function(){setTimeout(function(){if($("#reportParametersForm").length==0)dataFunc();else{var formIsValid=$("#reportParametersForm").valid(),memberGroupSelected=isCheckBoxSelected();formIsValid&&memberGroupSelected&&dataFunc()}},1)}},{text:"Cancel",click:function(){jQuery(this).dialog("close")}}]},divId:"runReportDialog",overflow:"overflow:visible;",url:url};LSHelper.HelperLib.showDialog(dialogParams)},refreshGrid:function(refreshGridUrl,model){model==null&&(model=window.viewModel_reportGrid);$("#refreshButton").button({disabled:!0});$.ajax({type:"POST",url:refreshGridUrl,async:!0,success:function(result){model.dataSource(eval(result));$("#refreshButton").button({disabled:!1})},error:function(xhr,ajaxOptions,thrownError){$("#refreshButton").button({disabled:!1})}})}};LSHelper.Connections={followVenueProfile:function(params){document.notLoggedInCallBack=function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){LSHelper.Connections.followVenueProfile(params)},onlyHeaderReload:!0,signInMessage:"Great "+params.venueFormat+"! Sign In to follow this "+params.venueFormat+".",joinMessage:"To keep track and share your followings, join our community.",popupParams:{mode:params.signInPopUpMode||"join",regType:"FollowVenue",additionalRegData:params.venueId}})};$.ajax({url:"/My/FollowVenueProfile",data:{venueId:params.venueId,memberId:params.memberId,sendSync:params.sendSync},type:"POST",success:function(data){data&&data.success&&params.callback&&$.isFunction(params.callback)&&params.callback()},complete:function(){params.completeCallback&&$.isFunction(params.completeCallback)&&params.completeCallback()}})},removeConnection:function(params){$.ajax({url:"/My/Unfollow",data:{targetId:params.targetId,memberId:params.memberId,sendSync:params.sendSync},type:"POST",success:function(data){data&&data.success&&params.callback&&$.isFunction(params.callback)&&params.callback()},complete:function(){params.completeCallback&&$.isFunction(params.completeCallback)&&params.completeCallback()}})},action:function(button,memberId,targetUserId,unfollowAfterCallback,followAfterCallback){var buttonwrapper=$(button).parent();if(!$(buttonwrapper).hasClass("ui-state-disabled")&&!$(buttonwrapper).hasClass("pending")){$(buttonwrapper).addClass("ui-state-disabled");var _unfollowAfterCallback=function(result){$(buttonwrapper).removeClass("following");$(buttonwrapper).removeClass("mutual");$(buttonwrapper).addClass("follow");unfollowAfterCallback!=undefined&&$.isFunction(unfollowAfterCallback)&&unfollowAfterCallback(result);$(buttonwrapper).removeClass("ui-state-disabled")},_followAfterCallback=function(result){$(buttonwrapper).removeClass("follow");result!=undefined?result.Pending?$(buttonwrapper).addClass("pending"):($(buttonwrapper).addClass("following"),result.MutualApproval&&$(buttonwrapper).addClass("mutual")):$(buttonwrapper).addClass("following");followAfterCallback!=undefined&&$.isFunction(followAfterCallback)&&followAfterCallback(result);$(buttonwrapper).removeClass("ui-state-disabled")},_remindAfterCallback=function(result){$(buttonwrapper).removeClass("remind");result!=undefined&&$(buttonwrapper).addClass("pending")};$(buttonwrapper).hasClass("following")?this.unfollow(button,memberId,targetUserId,undefined,_unfollowAfterCallback):$(buttonwrapper).hasClass("follow")?this.follow(button,memberId,targetUserId,undefined,_followAfterCallback):$(buttonwrapper).hasClass("remind")&&this.remind(button,memberId,targetUserId,undefined,_remindAfterCallback)}},cancelPending:function(button,memberId,targetUserId,beforeCallback,afterCallback){this.unfollow(button,memberId,targetUserId,beforeCallback,afterCallback)},approve:function(button,memberId,targetUserId,beforeCallback,afterCallback){var buttonwrapper=$(button).parent();$(buttonwrapper).hasClass("ui-state-disabled")||($(buttonwrapper).addClass("ui-state-disabled"),beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback(),$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Approve",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result);$(buttonwrapper).removeClass("ui-state-disabled")},error:function(xhr,ajaxOptions,thrownError){$(buttonwrapper).removeClass("ui-state-disabled")}}))},decline:function(button,memberId,targetUserId,beforeCallback,afterCallback){var buttonwrapper=$(button).parent();$(buttonwrapper).hasClass("ui-state-disabled")||($(buttonwrapper).addClass("ui-state-disabled"),beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback(),$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Decline",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result)},error:function(xhr,ajaxOptions,thrownError){$(buttonwrapper).removeClass("ui-state-disabled")}}))}};LSHelper.Resizer={resizeUploadButtonText:function(buttonId){$("#"+buttonId).width()<70?($("#"+buttonId+" div.qq-upload-button .qq-upload-button-text").addClass("qq-upload-button-text-light"),$("#"+buttonId+" div.qq-upload-button .qq-upload-button-text").removeClass("qq-upload-button-text"),$("#"+buttonId+" div.qq-upload-button .qq-upload-button-text-light").attr("title","Upload Image")):($("#"+buttonId+" div.qq-upload-button .qq-upload-button-text-light").addClass("qq-upload-button-text"),$("#"+buttonId+" div.qq-upload-button .qq-upload-button-text-light").removeClass("qq-upload-button-text-light"))}};LSHelper.Constants={reservationSearchDaysAhead:function(){return 7}};LSHelper.SpaceExpert={requestDialogId:"space-expert-dialog",openRequestDialog:function(sourceType,currentCollectionSavedSearchId){var $dialog=$('<div data-bind="component: { name: \'space-expert-dialog\', params: $data }" class="sed-content"><\/div>').dialog({width:480,minHeight:715,title:"",resizable:!1,modal:!0,dialogClass:"space-expert-dialog",close:function(){$(this).dialog("destroy").remove()}});$dialog.parent().lsLoading("set");ko.applyBindings({sourceType:sourceType,currentCollectionSavedSearchId:currentCollectionSavedSearchId,$dialog:$dialog},$dialog[0])},showSuccessAlert:function(title,text,dialogId){var $dialog=$('<div data-bind="component: { name: \'space-expert-success-alert\', params: $data }" id="'+(dialogId||"space-expert-success-alert")+'"><\/div>').dialog({width:480,height:"auto",title:title,resizable:!1,modal:!0,dialogClass:"space-expert-success-alert",close:function(){$(this).dialog("destroy").remove()}});ko.applyBindings({text:text},$dialog[0])}};LSHelper.AltSpace={dialogId:"as-request-dialog",successDialogId:"as-request-success-dialog",openAltSpaceLeadDialog:function(email){var $dialog=$('<div data-bind="component: { name: \'altspace-lead-dialog\', params: $data }" class="ald-content"><\/div>').dialog({width:490,minHeight:640,title:"",resizable:!1,modal:!0,dialogClass:"altspace-lead-dialog",close:function(){$(this).dialog("destroy").remove()}});$dialog.parent().lsLoading("set");ko.applyBindings({email:email,$dialog:$dialog},$dialog[0])},openAltSpaceRequestDialog:function(email,requestType,kitType){var title,dialogOptions;switch(requestType){case Enum.AltSpaceRequestType.ForBuildingOwners:title="Enhances the marketability of your existing vacancies";break;case Enum.AltSpaceRequestType.ForBrokers:title="Learn about the altSpace Office Suite Options";break;case Enum.AltSpaceRequestType.KitOfParts:if(kitType!=undefined){title="Interested in "+Enum.KitType.describe(kitType)+"?";break}case Enum.AltSpaceRequestType.ForCompanies:default:title="Interested in altSpace?"}dialogOptions={resizable:!1,height:"auto",width:480,modal:!0,position:"center",title:title};LSHelper.HelperLib.showDialog({url:"/AltSpace/Dialog",data:{email:email,requestType:requestType,kitType:kitType},divId:LSHelper.AltSpace.dialogId,dialogOptions:dialogOptions,overflow:"overflow:visible;"})},closeAltSpaceRequestDialog:function(){$("#"+LSHelper.AltSpace.dialogId).dialog("close")},openAltSpaceRequestSuccessDialog:function(requestType){var title=requestType==Enum.AltSpaceRequestType.ForCompanies?"Thank you!":requestType==Enum.AltSpaceRequestType.ForBuildingOwners?"Thank you!":requestType==Enum.AltSpaceRequestType.ForBrokers?"We got your request for altSpace!":"We got your request for altSpace!";LSHelper.HelperLib.showDialog({dialogOptions:{resizable:!1,modal:!0,width:490,heigth:"auto",position:"center",open:function(){LSHelper.HelperLib.unblockUI()},close:function(){},dialogClass:"asds",title:title},divId:LSHelper.AltSpace.successDialogId,url:GetUrl("SuccessPopup","AltSpace"),data:{requestType:requestType}})},closeAltSpaceRequestSuccessDialog:function(){$("#"+LSHelper.AltSpace.successDialogId).dialog("close")}};LSHelper.Enterprise={dialogId:"enterprise-request-dialog",successDialogId:"enterprise-request-success-dialog",openEnterpriseRequestDialog:function(email,source){var openDialogPrivate=function(dealId){var dialogOptions={resizable:!1,height:"auto",width:480,modal:!0,position:"center",title:"Request a Demo"};LSHelper.HelperLib.showDialog({url:GetUrl("RequestDialog","Enterprise"),data:{email:email,dealId:dealId,source:source},divId:LSHelper.Enterprise.dialogId,dialogOptions:dialogOptions,overflow:"overflow:visible;"})},data;email?(LSHelper.HelperLib.blockUI(),data={email:email,source:source},$.ajax({url:GetUrl("CreateRequest","Enterprise"),type:"POST",data:JSON.stringify(data),contentType:"application/json",success:function(res){!res.success;openDialogPrivate(res.dealId)},complete:function(){LSHelper.HelperLib.unblockUI()}})):openDialogPrivate()},closeEnterpriseRequestDialog:function(){$("#"+LSHelper.Enterprise.dialogId).dialog("close")},openEnterpriseRequestSuccessDialog:function(){var title="Thank you! We got your request.",text="Space Expert here. We got your request and will reach out to you within 24 hours.";LSHelper.SpaceExpert.showSuccessAlert(title,text,LSHelper.Enterprise.successDialogId)},closeAltSpaceRequestSuccessDialog:function(){$("#"+LSHelper.Enterprise.successDialogId).dialog("close")}};IE6=navigator.userAgent.indexOf("MSIE 6")>=0?!0:!1;$(function(){$(function(){$("ul.dropdown li").hover(function(){$("ul:first",this).css("visibility","visible")},function(){$("ul:first",this).css("visibility","hidden")});$("ul.dropdown li ul li").hover(function(){var offset=$(this).offset(),offset2=$("#topNavigationWrap").offset();$("ul:first",this).css("margin-top",offset.top-offset2.top-45)});$("ul.dropdown li ul li:has(ul)").find("a:first").append(" &raquo; ")})}),function($){$.fn.autoResize=function(options){var settings=$.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:2,limit:1e3},options);return this.filter("textarea").each(function(){if(!$(this).hasClass("autoResizeApplied")){var textarea=$(this).css({resize:"none","overflow-y":"hidden"}),origHeight=textarea.height(),clone=function(){var props=["height","width","lineHeight","textDecoration","letterSpacing"],propOb={};return $.each(props,function(i,prop){propOb[prop]=textarea.css(prop)}),textarea.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(propOb).attr("tabIndex","-1").addClass("autoResizeApplied").insertBefore(textarea)}(),lastScrollTop=null,updateSize=function(){clone.height(0).val($(this).val()).scrollTop(1e4);var scrollTop=Math.max(clone.scrollTop(),origHeight)+settings.extraSpace,toChange=$(this).add(clone);if(lastScrollTop!==scrollTop){if(lastScrollTop=scrollTop,scrollTop>=settings.limit){$(this).css("overflow-y","");return}settings.onResize.call(this);settings.animate&&textarea.css("display")==="block"?toChange.stop().animate({height:scrollTop},settings.animateDuration,settings.animateCallback):toChange.height(scrollTop)}};$(this).addClass("autoResizeApplied");textarea.unbind(".dynSiz").bind("keyup.dynSiz",updateSize).bind("keydown.dynSiz",updateSize).bind("change.dynSiz",updateSize)}}),this.change(),this}}(jQuery);JSON||(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c=="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];value&&typeof value=="object"&&typeof value.toJSON=="function"&&(value=value.toJSON(key));typeof rep=="function"&&(value=rep.call(holder,key,value));switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],Object.prototype.toString.apply(value)==="[object Array]"){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&typeof rep=="object")for(length=rep.length,i=0;i<length;i+=1)typeof rep[i]=="string"&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="",typeof space=="number")for(i=0;i<space;i+=1)indent+=" ";else typeof space=="string"&&(indent=space);if(rep=replacer,replacer&&typeof replacer!="function"&&(typeof replacer!="object"||typeof replacer.length!="number"))throw new Error("JSON.stringify");return str("",{"":value})});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value=="object")for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),v!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}();Number.prototype.formatMoney=function(c,d,t){var n=this,c=isNaN(c=Math.abs(c))?2:c,d=d==undefined?",":d,t=t==undefined?".":t,s=n<0?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};Number.prototype.formatMoneyWithoutZeros=function(c,d,t){return c!=0&&this%1==0&&(c=0),this.formatMoney(c,d,t)};Number.prototype.toLocaleFixed=function(n){return this.toLocaleString(undefined,{minimumFractionDigits:n,maximumFractionDigits:n})},function($){function _printElement(element,opts){var $elementToPrint=$(element),html=_getMarkup($elementToPrint,opts),popupOrIframe=null,documentToWriteTo=null,printElementID,iframe;opts.printMode.toLowerCase()=="popup"?(popupOrIframe=window.open("","printElementWindow","width=650,height=440,scrollbars=yes"),documentToWriteTo=popup.document):(printElementID="printElement_"+(Math.random()*99999).toString(),iframe=document.createElement("IFRAME"),$(iframe).attr({style:opts.iframeElementOptions.styleToAdd,id:printElementID,className:opts.iframeElementOptions.classNameToAdd}),document.body.appendChild(iframe),documentToWriteTo=iframe.contentWindow.document,iframe=document.frames?document.frames[printElementID]:document.getElementById(printElementID),popupOrIframe=iframe.contentWindow||iframe);documentToWriteTo.open();documentToWriteTo.write(html);documentToWriteTo.close();popupOrIframe.focus()}function _getMarkup(element,opts){var $elementToPrint=$(element),html=[],x;if(html.push("<html><head><title>"+opts.pageTitle+"<\/title>"),opts.overrideElementCSSstring&&opts.overrideElementCSSstring.length>0&&html.push('<style type="text/css">'+opts.overrideElementCSSstring+"<\/style>"),opts.overrideElementCSS&&opts.overrideElementCSS.length>0)for(x=0;x<opts.overrideElementCSS.length;x++)html.push('<link type="text/css" rel="stylesheet" href="'+opts.overrideElementCSS[x]+'" >');else $(document).find("link ").filter(function(){return $(this).attr("rel").toLowerCase()=="stylesheet"}).each(function(){html.push('<link type="text/css" rel="stylesheet" href="'+$(this).attr("href")+'" >')});return html.push('<\/head><body onload="printPage();" style="'+opts.printBodyOptions.styleToAdd+'" class="'+opts.printBodyOptions.classNameToAdd+'">'),html.push('<div class="'+$elementToPrint.attr("class")+'">'+$elementToPrint.html()+"<\/div>"),html.push('<script type="text/javascript">function printPage() { focus();print();'+(opts.leaveOpen?"":"close();")+"}<\/script><\/body><\/html>"),html.join("")}$.fn.printElement=function(options){var mainOptions=$.extend({},$.fn.printElement.defaults,options);return $("[id^='printElement_']").remove(),this.each(function(){var opts=$.meta?$.extend({},mainOptions,$this.data()):mainOptions;_printElement($(this),opts)})};$.fn.printElement.defaults={printMode:"iframe",pageTitle:"",overrideElementCSSstring:"",overrideElementCSS:[],printBodyOptions:{styleToAdd:"padding:10px;margin:10px;",classNameToAdd:""},leaveOpen:!1,iframeElementOptions:{styleToAdd:"position:absolute;width:0px;height:0px;",classNameToAdd:""}}}(jQuery),function($){jQuery.fn.extend({lazyLoad:function(callback){var d=$(window).data("lazyloaders");d||(d=[]);this.each(function(){this.callback=callback;$(this).addClass("lazy-load-processed");d.push(this)});$(window).data("lazyloaders",d);$(d).each(function(i){this&&$.inviewport(this,{threshold:0})&&$(this).showComment()})},showComment:function(){return this.each(function(){this.callback&&$.isFunction(this.callback)&&this.callback(this);var child=$(this).contents().filter(function(){return this.nodeType===8});child!=null&&child.length>0&&child[0].nodeType===8&&(this.innerHTML="",$(this).replaceWith(child[0].nodeValue))})}});$(function(){var scrolling=!1;$(window).scroll(function(){scrolling||setTimeout(function(){var d=$(window).data("lazyloaders");if(!d||!d.length){scrolling=!1;return}$(d).each(function(ind){this&&$.inviewport(this,{threshold:0})&&$(this).showComment()});scrolling=!1},100)});$(window).trigger("scroll")});$.belowthefold=function(element,settings){var fold=$(window).height()+$(window).scrollTop();return fold<=$(element).offset().top-settings.threshold};$.abovethetop=function(element,settings){var top=$(window).scrollTop();return top>=$(element).offset().top+$(element).height()-settings.threshold};$.rightofscreen=function(element,settings){var fold=$(window).width()+$(window).scrollLeft();return fold<=$(element).offset().left-settings.threshold};$.leftofscreen=function(element,settings){var left=$(window).scrollLeft();return left>=$(element).offset().left+$(element).width()-settings.threshold};$.inviewport=function(element,settings){return!$.rightofscreen(element,settings)&&!$.leftofscreen(element,settings)&&!$.belowthefold(element,settings)&&!$.abovethetop(element,settings)};$.extend($.expr[":"],{"below-the-fold":function(a,i,m){return $.belowthefold(a,{threshold:0})},"above-the-top":function(a,i,m){return $.abovethetop(a,{threshold:0})},"left-of-screen":function(a,i,m){return $.leftofscreen(a,{threshold:0})},"right-of-screen":function(a,i,m){return $.rightofscreen(a,{threshold:0})},"in-viewport":function(a,i,m){return $.inviewport(a,{threshold:0})}})}(jQuery),function($){$.fn.lsLoading=function(action,params){var options=$.extend({},$.fn.lsLoading.defaults,params);return this.each(function(){var $this=$(this),screenHeight,elemHeight,loader,activityHeight;action==="set"?$this.hasClass("reloading")||(screenHeight=$(window).height(),elemHeight=$this.height(),$this.addClass("reloading"),loader=$('<div class="ls-loading"><\/div>'),screenHeight<elemHeight&&(activityHeight=screenHeight/2-34,loader.css("top",activityHeight)),options.theme&&loader.addClass(options.theme),$this.append(loader)):action==="remove"&&($this.removeClass("reloading"),$this.find(".ls-loading").remove())}),this};$.fn.lsLoading.defaults={theme:null}}(jQuery);
/*!
 * clipboard.js v1.5.16
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 */
(function(f){if(typeof exports=="object"&&typeof module!="undefined")module.exports=f();else if(typeof define=="function"&&define.amd)define([],f);else{var g;g=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;g.Clipboard=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){var a,f,l;if(!n[o]){if(!t[o]){if(a=typeof require=="function"&&require,!u&&a)return a(o,!0);if(i)return i(o,!0);f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i=typeof require=="function"&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function closest(element,selector){while(element&&element.nodeType!==DOCUMENT_NODE_TYPE){if(element.matches(selector))return element;element=element.parentNode}}var DOCUMENT_NODE_TYPE=9,proto;Element&&!Element.prototype.matches&&(proto=Element.prototype,proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector);module.exports=closest},{}],2:[function(require,module,exports){function delegate(element,selector,type,callback,useCapture){var listenerFn=listener.apply(this,arguments);return element.addEventListener(type,listenerFn,useCapture),{destroy:function(){element.removeEventListener(type,listenerFn,useCapture)}}}function listener(element,selector,type,callback){return function(e){e.delegateTarget=closest(e.target,selector);e.delegateTarget&&callback.call(element,e)}}var closest=require("./closest");module.exports=delegate},{"./closest":1}],3:[function(require,module,exports){exports.node=function(value){return value!==undefined&&value instanceof HTMLElement&&value.nodeType===1};exports.nodeList=function(value){var type=Object.prototype.toString.call(value);return value!==undefined&&(type==="[object NodeList]"||type==="[object HTMLCollection]")&&"length"in value&&(value.length===0||exports.node(value[0]))};exports.string=function(value){return typeof value=="string"||value instanceof String};exports.fn=function(value){var type=Object.prototype.toString.call(value);return type==="[object Function]"}},{}],4:[function(require,module,exports){function listen(target,type,callback){if(!target&&!type&&!callback)throw new Error("Missing required arguments");if(!is.string(type))throw new TypeError("Second argument must be a String");if(!is.fn(callback))throw new TypeError("Third argument must be a Function");if(is.node(target))return listenNode(target,type,callback);else if(is.nodeList(target))return listenNodeList(target,type,callback);else if(is.string(target))return listenSelector(target,type,callback);else throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}function listenNode(node,type,callback){return node.addEventListener(type,callback),{destroy:function(){node.removeEventListener(type,callback)}}}function listenNodeList(nodeList,type,callback){return Array.prototype.forEach.call(nodeList,function(node){node.addEventListener(type,callback)}),{destroy:function(){Array.prototype.forEach.call(nodeList,function(node){node.removeEventListener(type,callback)})}}}function listenSelector(selector,type,callback){return delegate(document.body,selector,type,callback)}var is=require("./is"),delegate=require("delegate");module.exports=listen},{"./is":3,delegate:2}],5:[function(require,module,exports){function select(element){var selectedText,selection,range;return element.nodeName==="SELECT"?(element.focus(),selectedText=element.value):element.nodeName==="INPUT"||element.nodeName==="TEXTAREA"?(element.focus(),element.setSelectionRange(0,element.value.length),selectedText=element.value):(element.hasAttribute("contenteditable")&&element.focus(),selection=window.getSelection(),range=document.createRange(),range.selectNodeContents(element),selection.removeAllRanges(),selection.addRange(range),selectedText=selection.toString()),selectedText}module.exports=select},{}],6:[function(require,module,exports){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});return(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx}),this},once:function(name,callback,ctx){function listener(){self.off(name,listener);callback.apply(ctx,arguments)}var self=this;listener._=callback;return this.on(name,listener,ctx)},emit:function(name){var data=[].slice.call(arguments,1),evtArr=((this.e||(this.e={}))[name]||[]).slice(),i=0,len=evtArr.length;for(i;i<len;i++)evtArr[i].fn.apply(evtArr[i].ctx,data);return this},off:function(name,callback){var e=this.e||(this.e={}),evts=e[name],liveEvents=[],i,len;if(evts&&callback)for(i=0,len=evts.length;i<len;i++)evts[i].fn!==callback&&evts[i].fn._!==callback&&liveEvents.push(evts[i]);return liveEvents.length?e[name]=liveEvents:delete e[name],this}};module.exports=E},{}],7:[function(require,module,exports){(function(global,factory){if(typeof define=="function"&&define.amd)define(["module","select"],factory);else if(typeof exports!="undefined")factory(module,require("select"));else{var mod={exports:{}};factory(mod,global.select);global.clipboardAction=mod.exports}})(this,function(module,_select){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}var _select2=_interopRequireDefault(_select),_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ClipboardAction=function(){function ClipboardAction(options){_classCallCheck(this,ClipboardAction);this.resolveOptions(options);this.initSelection()}return _createClass(ClipboardAction,[{key:"resolveOptions",value:function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=options.action;this.emitter=options.emitter;this.target=options.target;this.text=options.text;this.trigger=options.trigger;this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var _this=this,isRTL=document.documentElement.getAttribute("dir")=="rtl",yPosition;this.removeFake();this.fakeHandlerCallback=function(){return _this.removeFake()};this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[isRTL?"right":"left"]="-9999px";yPosition=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,yPosition));this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;this.trigger.parentElement.appendChild(this.fakeElem);this.selectedText=_select2.default(this.fakeElem);this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(this.fakeElem.parentElement.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=_select2.default(this.target);this.copyText()}},{key:"copyText",value:function(){var succeeded=void 0;try{succeeded=document.execCommand(this.action)}catch(err){succeeded=!1}this.handleResult(succeeded)}},{key:"handleResult",value:function(succeeded){this.emitter.emit(succeeded?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var action=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"copy";if(this._action=action,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(target){if(target!==undefined)if(target&&(typeof target=="undefined"?"undefined":_typeof(target))==="object"&&target.nodeType===1){if(this.action==="copy"&&target.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(target.hasAttribute("readonly")||target.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=target}else throw new Error('Invalid "target" value, use a valid Element');},get:function(){return this._target}}]),ClipboardAction}();module.exports=ClipboardAction})},{select:5}],8:[function(require,module,exports){(function(global,factory){if(typeof define=="function"&&define.amd)define(["module","./clipboard-action","tiny-emitter","good-listener"],factory);else if(typeof exports!="undefined")factory(module,require("./clipboard-action"),require("tiny-emitter"),require("good-listener"));else{var mod={exports:{}};factory(mod,global.clipboardAction,global.tinyEmitter,global.goodListener);global.clipboard=mod.exports}})(this,function(module,_clipboardAction,_tinyEmitter,_goodListener){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return call&&(typeof call=="object"||typeof call=="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getAttributeValue(suffix,element){var attribute="data-clipboard-"+suffix;if(element.hasAttribute(attribute))return element.getAttribute(attribute)}var _clipboardAction2=_interopRequireDefault(_clipboardAction),_tinyEmitter2=_interopRequireDefault(_tinyEmitter),_goodListener2=_interopRequireDefault(_goodListener),_createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Clipboard=function(_Emitter){function Clipboard(trigger,options){_classCallCheck(this,Clipboard);var _this=_possibleConstructorReturn(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return _this.resolveOptions(options),_this.listenClick(trigger),_this}return _inherits(Clipboard,_Emitter),_createClass(Clipboard,[{key:"resolveOptions",value:function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=typeof options.action=="function"?options.action:this.defaultAction;this.target=typeof options.target=="function"?options.target:this.defaultTarget;this.text=typeof options.text=="function"?options.text:this.defaultText}},{key:"listenClick",value:function(trigger){var _this2=this;this.listener=_goodListener2.default(trigger,"click",function(e){return _this2.onClick(e)})}},{key:"onClick",value:function(e){var trigger=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new _clipboardAction2.default({action:this.action(trigger),target:this.target(trigger),text:this.text(trigger),trigger:trigger,emitter:this})}},{key:"defaultAction",value:function(trigger){return getAttributeValue("action",trigger)}},{key:"defaultTarget",value:function(trigger){var selector=getAttributeValue("target",trigger);if(selector)return document.querySelector(selector)}},{key:"defaultText",value:function(trigger){return getAttributeValue("text",trigger)}},{key:"destroy",value:function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),Clipboard}(_tinyEmitter2.default);module.exports=Clipboard})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function($){$.fn.copy=function(params){if(typeof params=="object"&&!params.length){var settings=$.extend({copy:null,beforeCopy:null,afterCopy:null},params);return this.each(function(){var o=$(this),clipboard;if(typeof settings.copy=="string"||$.isFunction(settings.copy)){clipboard=new Clipboard(o[0],{text:function(){return typeof settings.copy=="string"&&settings.copy||$.isFunction(settings.copy)&&settings.copy()}});o.one(function(){$.isFunction(settings.beforeCopy)&&settings.beforeCopy()});clipboard.on("success",function(){setTimeout(function(){$.isFunction(settings.afterCopy)&&settings.afterCopy()},1)});clipboard.on("error",function(){window.prompt("Copy to clipboard: Ctrl+C, Enter",typeof settings.copy=="string"&&settings.copy||$.isFunction(settings.copy)&&settings.copy());$.isFunction(settings.afterCopy)&&settings.afterCopy()})}})}}}(jQuery);
/*!
 * Knockout JavaScript library v3.4.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){var DEBUG=!1;(function(undefined){var window=this||eval("this"),document=window.document,navigator=window.navigator,jQueryInstance=window.jQuery,JSON=window.JSON;(function(factory){typeof define=="function"&&define.amd?define(["exports","require"],factory):typeof exports=="object"&&typeof module=="object"?factory(module.exports||exports):factory(window.ko={})})(function(koExports,amdRequire){function valuesArePrimitiveAndEqual(a,b){var oldValueIsPrimitive=a===null||typeof a in primitiveTypes;return oldValueIsPrimitive?a===b:!1}function throttle(callback,timeout){var timeoutInstance;return function(){timeoutInstance||(timeoutInstance=ko.utils.setTimeout(function(){timeoutInstance=undefined;callback()},timeout))}}function debounce(callback,timeout){var timeoutInstance;return function(){clearTimeout(timeoutInstance);timeoutInstance=ko.utils.setTimeout(callback,timeout)}}function applyExtenders(requestedExtenders){var target=this;return requestedExtenders&&ko.utils.objectForEach(requestedExtenders,function(key,value){var extenderHandler=ko.extenders[key];typeof extenderHandler=="function"&&(target=extenderHandler(target,value)||target)}),target}function limitNotifySubscribers(value,event){event&&event!==defaultEvent?event==="beforeChange"?this._limitBeforeChange(value):this._origNotifySubscribers(value,event):this._limitChange(value)}function computedDisposeDependencyCallback(id,entryToDispose){entryToDispose!==null&&entryToDispose.dispose&&entryToDispose.dispose()}function computedBeginDependencyDetectionCallback(subscribable,id){var computedObservable=this.computedObservable,state=computedObservable[computedState];state.isDisposed||(this.disposalCount&&this.disposalCandidates[id]?(computedObservable.addDependencyTracking(id,subscribable,this.disposalCandidates[id]),this.disposalCandidates[id]=null,--this.disposalCount):state.dependencyTracking[id]||computedObservable.addDependencyTracking(id,subscribable,state.isSleeping?{_target:subscribable}:computedObservable.subscribeToDependency(subscribable)))}function makeEventHandlerShortcut(eventName){ko.bindingHandlers[eventName]={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var newValueAccessor=function(){var result={};return result[eventName]=valueAccessor(),result};return ko.bindingHandlers.event.init.call(this,element,newValueAccessor,allBindings,viewModel,bindingContext)}}}function makeWithIfBinding(bindingKey,isWith,isNot,makeContextCallback){ko.bindingHandlers[bindingKey]={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var didDisplayOnLastUpdate,savedNodes;return ko.computed(function(){var dataValue=ko.utils.unwrapObservable(valueAccessor()),shouldDisplay=!isNot!=!dataValue,isFirstRender=!savedNodes,needsRefresh=isFirstRender||isWith||shouldDisplay!==didDisplayOnLastUpdate;needsRefresh&&(isFirstRender&&ko.computedContext.getDependenciesCount()&&(savedNodes=ko.utils.cloneNodes(ko.virtualElements.childNodes(element),!0)),shouldDisplay?(isFirstRender||ko.virtualElements.setDomNodeChildren(element,ko.utils.cloneNodes(savedNodes)),ko.applyBindingsToDescendants(makeContextCallback?makeContextCallback(bindingContext,dataValue):bindingContext,element)):ko.virtualElements.emptyNode(element),didDisplayOnLastUpdate=shouldDisplay)},null,{disposeWhenNodeIsRemoved:element}),{controlsDescendantBindings:!0}}};ko.expressionRewriting.bindingRewriteValidators[bindingKey]=!1;ko.virtualElements.allowedBindings[bindingKey]=!0}var ko=typeof koExports!="undefined"?koExports:{},primitiveTypes,defaultEvent,ko_subscribable_fn,observableLatestValue,observableFn,protoProperty,arrayChangeEventName,computedState,protoProp,attrHtmlToJavascriptMap,classesWrittenByBindingKey,hasfocusUpdatingProperty,hasfocusLastValue,captionPlaceholder;ko.exportSymbol=function(koPath,object){for(var tokens=koPath.split("."),target=ko,i=0;i<tokens.length-1;i++)target=target[tokens[i]];target[tokens[tokens.length-1]]=object};ko.exportProperty=function(owner,publicName,object){owner[publicName]=object};ko.version="3.4.0";ko.exportSymbol("version",ko.version);ko.options={deferUpdates:!1,useOnlyNativeEvents:!1};ko.utils=function(){function objectForEach(obj,action){for(var prop in obj)obj.hasOwnProperty(prop)&&action(prop,obj[prop])}function extend(target,source){if(source)for(var prop in source)source.hasOwnProperty(prop)&&(target[prop]=source[prop]);return target}function setPrototypeOf(obj,proto){return obj.__proto__=proto,obj}function isClickOnCheckableElement(element,eventType){if(ko.utils.tagNameLower(element)!=="input"||!element.type||eventType.toLowerCase()!="click")return!1;var inputType=element.type;return inputType=="checkbox"||inputType=="radio"}function toggleDomNodeCssClass(node,classNames,shouldHaveClass){var addOrRemoveFn;classNames&&(typeof node.classList=="object"?(addOrRemoveFn=node.classList[shouldHaveClass?"add":"remove"],ko.utils.arrayForEach(classNames.match(cssClassNameRegex),function(className){addOrRemoveFn.call(node.classList,className)})):typeof node.className.baseVal=="string"?toggleObjectClassPropertyString(node.className,"baseVal",classNames,shouldHaveClass):toggleObjectClassPropertyString(node,"className",classNames,shouldHaveClass))}function toggleObjectClassPropertyString(obj,prop,classNames,shouldHaveClass){var currentClassNames=obj[prop].match(cssClassNameRegex)||[];ko.utils.arrayForEach(classNames.match(cssClassNameRegex),function(className){ko.utils.addOrRemoveItem(currentClassNames,className,shouldHaveClass)});obj[prop]=currentClassNames.join(" ")}var canSetPrototype={__proto__:[]}instanceof Array,canUseSymbols=!DEBUG&&typeof Symbol=="function",knownEvents={},knownEventTypesByEventName={},keyEventTypeName=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents",cssClassNameRegex;knownEvents[keyEventTypeName]=["keyup","keydown","keypress"];knownEvents.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];objectForEach(knownEvents,function(eventType,knownEventsForType){if(knownEventsForType.length)for(var i=0,j=knownEventsForType.length;i<j;i++)knownEventTypesByEventName[knownEventsForType[i]]=eventType});var eventsThatMustBeRegisteredUsingAttachEvent={propertychange:!0},ieVersion=document&&function(){for(var version=3,div=document.createElement("div"),iElems=div.getElementsByTagName("i");div.innerHTML="<!--[if gt IE "+ ++version+"]><i><\/i><![endif]-->",iElems[0];);return version>4?version:undefined}(),isIe6=ieVersion===6,isIe7=ieVersion===7;return cssClassNameRegex=/\S+/g,{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(array,action){for(var i=0,j=array.length;i<j;i++)action(array[i],i)},arrayIndexOf:function(array,item){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(array,item);for(var i=0,j=array.length;i<j;i++)if(array[i]===item)return i;return-1},arrayFirst:function(array,predicate,predicateOwner){for(var i=0,j=array.length;i<j;i++)if(predicate.call(predicateOwner,array[i],i))return array[i];return null},arrayRemoveItem:function(array,itemToRemove){var index=ko.utils.arrayIndexOf(array,itemToRemove);index>0?array.splice(index,1):index===0&&array.shift()},arrayGetDistinctValues:function(array){var result,i,j;for(array=array||[],result=[],i=0,j=array.length;i<j;i++)ko.utils.arrayIndexOf(result,array[i])<0&&result.push(array[i]);return result},arrayMap:function(array,mapping){var result,i,j;for(array=array||[],result=[],i=0,j=array.length;i<j;i++)result.push(mapping(array[i],i));return result},arrayFilter:function(array,predicate){var result,i,j;for(array=array||[],result=[],i=0,j=array.length;i<j;i++)predicate(array[i],i)&&result.push(array[i]);return result},arrayPushAll:function(array,valuesToPush){if(valuesToPush instanceof Array)array.push.apply(array,valuesToPush);else for(var i=0,j=valuesToPush.length;i<j;i++)array.push(valuesToPush[i]);return array},addOrRemoveItem:function(array,value,included){var existingEntryIndex=ko.utils.arrayIndexOf(ko.utils.peekObservable(array),value);existingEntryIndex<0?included&&array.push(value):included||array.splice(existingEntryIndex,1)},canSetPrototype:canSetPrototype,extend:extend,setPrototypeOf:setPrototypeOf,setPrototypeOfOrExtend:canSetPrototype?setPrototypeOf:extend,objectForEach:objectForEach,objectMap:function(source,mapping){var target,prop;if(!source)return source;target={};for(prop in source)source.hasOwnProperty(prop)&&(target[prop]=mapping(source[prop],prop,source));return target},emptyDomNode:function(domNode){while(domNode.firstChild)ko.removeNode(domNode.firstChild)},moveCleanedNodesToContainerElement:function(nodes){for(var nodesArray=ko.utils.makeArray(nodes),templateDocument=nodesArray[0]&&nodesArray[0].ownerDocument||document,container=templateDocument.createElement("div"),i=0,j=nodesArray.length;i<j;i++)container.appendChild(ko.cleanNode(nodesArray[i]));return container},cloneNodes:function(nodesArray,shouldCleanNodes){for(var clonedNode,i=0,j=nodesArray.length,newNodesArray=[];i<j;i++)clonedNode=nodesArray[i].cloneNode(!0),newNodesArray.push(shouldCleanNodes?ko.cleanNode(clonedNode):clonedNode);return newNodesArray},setDomNodeChildren:function(domNode,childNodes){if(ko.utils.emptyDomNode(domNode),childNodes)for(var i=0,j=childNodes.length;i<j;i++)domNode.appendChild(childNodes[i])},replaceDomNodes:function(nodeToReplaceOrNodeArray,newNodesArray){var nodesToReplaceArray=nodeToReplaceOrNodeArray.nodeType?[nodeToReplaceOrNodeArray]:nodeToReplaceOrNodeArray,insertionPoint,parent,i,j;if(nodesToReplaceArray.length>0){for(insertionPoint=nodesToReplaceArray[0],parent=insertionPoint.parentNode,i=0,j=newNodesArray.length;i<j;i++)parent.insertBefore(newNodesArray[i],insertionPoint);for(i=0,j=nodesToReplaceArray.length;i<j;i++)ko.removeNode(nodesToReplaceArray[i])}},fixUpContinuousNodeArray:function(continuousNodeArray,parentNode){if(continuousNodeArray.length){for(parentNode=parentNode.nodeType===8&&parentNode.parentNode||parentNode;continuousNodeArray.length&&continuousNodeArray[0].parentNode!==parentNode;)continuousNodeArray.splice(0,1);while(continuousNodeArray.length>1&&continuousNodeArray[continuousNodeArray.length-1].parentNode!==parentNode)continuousNodeArray.length--;if(continuousNodeArray.length>1){var current=continuousNodeArray[0],last=continuousNodeArray[continuousNodeArray.length-1];for(continuousNodeArray.length=0;current!==last;)continuousNodeArray.push(current),current=current.nextSibling;continuousNodeArray.push(last)}}return continuousNodeArray},setOptionNodeSelectionState:function(optionNode,isSelected){ieVersion<7?optionNode.setAttribute("selected",isSelected):optionNode.selected=isSelected},stringTrim:function(string){return string===null||string===undefined?"":string.trim?string.trim():string.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(string,startsWith){return(string=string||"",startsWith.length>string.length)?!1:string.substring(0,startsWith.length)===startsWith},domNodeIsContainedBy:function(node,containedByNode){if(node===containedByNode)return!0;if(node.nodeType===11)return!1;if(containedByNode.contains)return containedByNode.contains(node.nodeType===3?node.parentNode:node);if(containedByNode.compareDocumentPosition)return(containedByNode.compareDocumentPosition(node)&16)==16;while(node&&node!=containedByNode)node=node.parentNode;return!!node},domNodeIsAttachedToDocument:function(node){return ko.utils.domNodeIsContainedBy(node,node.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(nodes){return!!ko.utils.arrayFirst(nodes,ko.utils.domNodeIsAttachedToDocument)},tagNameLower:function(element){return element&&element.tagName&&element.tagName.toLowerCase()},catchFunctionErrors:function(delegate){return ko.onError?function(){try{return delegate.apply(this,arguments)}catch(e){ko.onError&&ko.onError(e);throw e;}}:delegate},setTimeout:function(handler,timeout){return setTimeout(ko.utils.catchFunctionErrors(handler),timeout)},deferError:function(error){setTimeout(function(){ko.onError&&ko.onError(error);throw error;},0)},registerEventHandler:function(element,eventType,handler){var wrappedHandler=ko.utils.catchFunctionErrors(handler),mustUseAttachEvent=ieVersion&&eventsThatMustBeRegisteredUsingAttachEvent[eventType],attachEventHandler,attachEventName;if(ko.options.useOnlyNativeEvents||mustUseAttachEvent||!jQueryInstance)if(mustUseAttachEvent||typeof element.addEventListener!="function")if(typeof element.attachEvent!="undefined")attachEventHandler=function(event){wrappedHandler.call(element,event)},attachEventName="on"+eventType,element.attachEvent(attachEventName,attachEventHandler),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){element.detachEvent(attachEventName,attachEventHandler)});else throw new Error("Browser doesn't support addEventListener or attachEvent");else element.addEventListener(eventType,wrappedHandler,!1);else jQueryInstance(element).bind(eventType,wrappedHandler)},triggerEvent:function(element,eventType){var useClickWorkaround,eventCategory,event;if(!(element&&element.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(useClickWorkaround=isClickOnCheckableElement(element,eventType),ko.options.useOnlyNativeEvents||!jQueryInstance||useClickWorkaround)if(typeof document.createEvent=="function")if(typeof element.dispatchEvent=="function")eventCategory=knownEventTypesByEventName[eventType]||"HTMLEvents",event=document.createEvent(eventCategory),event.initEvent(eventType,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,element),element.dispatchEvent(event);else throw new Error("The supplied element doesn't support dispatchEvent");else if(useClickWorkaround&&element.click)element.click();else if(typeof element.fireEvent!="undefined")element.fireEvent("on"+eventType);else throw new Error("Browser doesn't support triggering events");else jQueryInstance(element).trigger(eventType)},unwrapObservable:function(value){return ko.isObservable(value)?value():value},peekObservable:function(value){return ko.isObservable(value)?value.peek():value},toggleDomNodeCssClass:toggleDomNodeCssClass,setTextContent:function(element,textContent){var value=ko.utils.unwrapObservable(textContent),innerTextNode;(value===null||value===undefined)&&(value="");innerTextNode=ko.virtualElements.firstChild(element);!innerTextNode||innerTextNode.nodeType!=3||ko.virtualElements.nextSibling(innerTextNode)?ko.virtualElements.setDomNodeChildren(element,[element.ownerDocument.createTextNode(value)]):innerTextNode.data=value;ko.utils.forceRefresh(element)},setElementName:function(element,name){if(element.name=name,ieVersion<=7)try{element.mergeAttributes(document.createElement("<input name='"+element.name+"'/>"),!1)}catch(e){}},forceRefresh:function(node){if(ieVersion>=9){var elem=node.nodeType==1?node:node.parentNode;elem.style&&(elem.style.zoom=elem.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(selectElement){if(ieVersion){var originalWidth=selectElement.style.width;selectElement.style.width=0;selectElement.style.width=originalWidth}},range:function(min,max){var result,i;for(min=ko.utils.unwrapObservable(min),max=ko.utils.unwrapObservable(max),result=[],i=min;i<=max;i++)result.push(i);return result},makeArray:function(arrayLikeObject){for(var result=[],i=0,j=arrayLikeObject.length;i<j;i++)result.push(arrayLikeObject[i]);return result},createSymbolOrString:function(identifier){return canUseSymbols?Symbol(identifier):identifier},isIe6:isIe6,isIe7:isIe7,ieVersion:ieVersion,getFormFields:function(form,fieldName){for(var fields=ko.utils.makeArray(form.getElementsByTagName("input")).concat(ko.utils.makeArray(form.getElementsByTagName("textarea"))),isMatchingField=typeof fieldName=="string"?function(field){return field.name===fieldName}:function(field){return fieldName.test(field.name)},matches=[],i=fields.length-1;i>=0;i--)isMatchingField(fields[i])&&matches.push(fields[i]);return matches},parseJson:function(jsonString){return typeof jsonString=="string"&&(jsonString=ko.utils.stringTrim(jsonString),jsonString)?JSON&&JSON.parse?JSON.parse(jsonString):new Function("return "+jsonString)():null},stringifyJson:function(data,replacer,space){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(ko.utils.unwrapObservable(data),replacer,space)},postJson:function(urlOrForm,data,options){var originalForm,i,fields,j,form,key,input;options=options||{};var params=options.params||{},includeFields=options.includeFields||this.fieldsIncludedWithJsonPost,url=urlOrForm;if(typeof urlOrForm=="object"&&ko.utils.tagNameLower(urlOrForm)==="form")for(originalForm=urlOrForm,url=originalForm.action,i=includeFields.length-1;i>=0;i--)for(fields=ko.utils.getFormFields(originalForm,includeFields[i]),j=fields.length-1;j>=0;j--)params[fields[j].name]=fields[j].value;data=ko.utils.unwrapObservable(data);form=document.createElement("form");form.style.display="none";form.action=url;form.method="post";for(key in data)input=document.createElement("input"),input.type="hidden",input.name=key,input.value=ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key])),form.appendChild(input);objectForEach(params,function(key,value){var input=document.createElement("input");input.type="hidden";input.name=key;input.value=value;form.appendChild(input)});document.body.appendChild(form);options.submitter?options.submitter(form):form.submit();setTimeout(function(){form.parentNode.removeChild(form)},0)}}}();ko.exportSymbol("utils",ko.utils);ko.exportSymbol("utils.arrayForEach",ko.utils.arrayForEach);ko.exportSymbol("utils.arrayFirst",ko.utils.arrayFirst);ko.exportSymbol("utils.arrayFilter",ko.utils.arrayFilter);ko.exportSymbol("utils.arrayGetDistinctValues",ko.utils.arrayGetDistinctValues);ko.exportSymbol("utils.arrayIndexOf",ko.utils.arrayIndexOf);ko.exportSymbol("utils.arrayMap",ko.utils.arrayMap);ko.exportSymbol("utils.arrayPushAll",ko.utils.arrayPushAll);ko.exportSymbol("utils.arrayRemoveItem",ko.utils.arrayRemoveItem);ko.exportSymbol("utils.extend",ko.utils.extend);ko.exportSymbol("utils.fieldsIncludedWithJsonPost",ko.utils.fieldsIncludedWithJsonPost);ko.exportSymbol("utils.getFormFields",ko.utils.getFormFields);ko.exportSymbol("utils.peekObservable",ko.utils.peekObservable);ko.exportSymbol("utils.postJson",ko.utils.postJson);ko.exportSymbol("utils.parseJson",ko.utils.parseJson);ko.exportSymbol("utils.registerEventHandler",ko.utils.registerEventHandler);ko.exportSymbol("utils.stringifyJson",ko.utils.stringifyJson);ko.exportSymbol("utils.range",ko.utils.range);ko.exportSymbol("utils.toggleDomNodeCssClass",ko.utils.toggleDomNodeCssClass);ko.exportSymbol("utils.triggerEvent",ko.utils.triggerEvent);ko.exportSymbol("utils.unwrapObservable",ko.utils.unwrapObservable);ko.exportSymbol("utils.objectForEach",ko.utils.objectForEach);ko.exportSymbol("utils.addOrRemoveItem",ko.utils.addOrRemoveItem);ko.exportSymbol("utils.setTextContent",ko.utils.setTextContent);ko.exportSymbol("unwrap",ko.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(object){var originalFunction=this,partialArgs;return arguments.length===1?function(){return originalFunction.apply(object,arguments)}:(partialArgs=Array.prototype.slice.call(arguments,1),function(){var args=partialArgs.slice(0);return args.push.apply(args,arguments),originalFunction.apply(object,args)})});ko.utils.domData=new function(){function getAll(node,createIfNotFound){var dataStoreKey=node[dataStoreKeyExpandoPropertyName],hasExistingDataStore=dataStoreKey&&dataStoreKey!=="null"&&dataStore[dataStoreKey];if(!hasExistingDataStore){if(!createIfNotFound)return undefined;dataStoreKey=node[dataStoreKeyExpandoPropertyName]="ko"+uniqueId++;dataStore[dataStoreKey]={}}return dataStore[dataStoreKey]}var uniqueId=0,dataStoreKeyExpandoPropertyName="__ko__"+(new Date).getTime(),dataStore={};return{get:function(node,key){var allDataForNode=getAll(node,!1);return allDataForNode===undefined?undefined:allDataForNode[key]},set:function(node,key,value){if(value!==undefined||getAll(node,!1)!==undefined){var allDataForNode=getAll(node,!0);allDataForNode[key]=value}},clear:function(node){var dataStoreKey=node[dataStoreKeyExpandoPropertyName];return dataStoreKey?(delete dataStore[dataStoreKey],node[dataStoreKeyExpandoPropertyName]=null,!0):!1},nextKey:function(){return uniqueId+++dataStoreKeyExpandoPropertyName}}};ko.exportSymbol("utils.domData",ko.utils.domData);ko.exportSymbol("utils.domData.clear",ko.utils.domData.clear);ko.utils.domNodeDisposal=new function(){function getDisposeCallbacksCollection(node,createIfNotFound){var allDisposeCallbacks=ko.utils.domData.get(node,domDataKey);return allDisposeCallbacks===undefined&&createIfNotFound&&(allDisposeCallbacks=[],ko.utils.domData.set(node,domDataKey,allDisposeCallbacks)),allDisposeCallbacks}function destroyCallbacksCollection(node){ko.utils.domData.set(node,domDataKey,undefined)}function cleanSingleNode(node){var callbacks=getDisposeCallbacksCollection(node,!1),i;if(callbacks)for(callbacks=callbacks.slice(0),i=0;i<callbacks.length;i++)callbacks[i](node);ko.utils.domData.clear(node);ko.utils.domNodeDisposal.cleanExternalData(node);cleanableNodeTypesWithDescendants[node.nodeType]&&cleanImmediateCommentTypeChildren(node)}function cleanImmediateCommentTypeChildren(nodeWithChildren){for(var child,nextChild=nodeWithChildren.firstChild;child=nextChild;)nextChild=child.nextSibling,child.nodeType===8&&cleanSingleNode(child)}var domDataKey=ko.utils.domData.nextKey(),cleanableNodeTypes={1:!0,8:!0,9:!0},cleanableNodeTypesWithDescendants={1:!0,9:!0};return{addDisposeCallback:function(node,callback){if(typeof callback!="function")throw new Error("Callback must be a function");getDisposeCallbacksCollection(node,!0).push(callback)},removeDisposeCallback:function(node,callback){var callbacksCollection=getDisposeCallbacksCollection(node,!1);callbacksCollection&&(ko.utils.arrayRemoveItem(callbacksCollection,callback),callbacksCollection.length==0&&destroyCallbacksCollection(node))},cleanNode:function(node){var descendants,i,j;if(cleanableNodeTypes[node.nodeType]&&(cleanSingleNode(node),cleanableNodeTypesWithDescendants[node.nodeType]))for(descendants=[],ko.utils.arrayPushAll(descendants,node.getElementsByTagName("*")),i=0,j=descendants.length;i<j;i++)cleanSingleNode(descendants[i]);return node},removeNode:function(node){ko.cleanNode(node);node.parentNode&&node.parentNode.removeChild(node)},cleanExternalData:function(node){jQueryInstance&&typeof jQueryInstance.cleanData=="function"&&jQueryInstance.cleanData([node])}}};ko.cleanNode=ko.utils.domNodeDisposal.cleanNode;ko.removeNode=ko.utils.domNodeDisposal.removeNode;ko.exportSymbol("cleanNode",ko.cleanNode);ko.exportSymbol("removeNode",ko.removeNode);ko.exportSymbol("utils.domNodeDisposal",ko.utils.domNodeDisposal);ko.exportSymbol("utils.domNodeDisposal.addDisposeCallback",ko.utils.domNodeDisposal.addDisposeCallback);ko.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",ko.utils.domNodeDisposal.removeDisposeCallback),function(){function getWrap(tags){var m=tags.match(/^<([a-z]+)[ >]/);return m&&lookup[m[1]]||none}function simpleHtmlParse(html,documentContext){documentContext||(documentContext=document);var windowContext=documentContext.parentWindow||documentContext.defaultView||window,tags=ko.utils.stringTrim(html).toLowerCase(),div=documentContext.createElement("div"),wrap=getWrap(tags),depth=wrap[0],markup="ignored<div>"+wrap[1]+html+wrap[2]+"<\/div>";for(typeof windowContext.innerShiv=="function"?div.appendChild(windowContext.innerShiv(markup)):(mayRequireCreateElementHack&&documentContext.appendChild(div),div.innerHTML=markup,mayRequireCreateElementHack&&div.parentNode.removeChild(div));depth--;)div=div.lastChild;return ko.utils.makeArray(div.lastChild.childNodes)}function jQueryHtmlParse(html,documentContext){var elems,elem;if(jQueryInstance.parseHTML)return jQueryInstance.parseHTML(html,documentContext)||[];else{if(elems=jQueryInstance.clean([html],documentContext),elems&&elems[0]){for(elem=elems[0];elem.parentNode&&elem.parentNode.nodeType!==11;)elem=elem.parentNode;elem.parentNode&&elem.parentNode.removeChild(elem)}return elems}}var none=[0,"",""],table=[1,"<table>","<\/table>"],tbody=[2,"<table><tbody>","<\/tbody><\/table>"],tr=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],select=[1,"<select multiple='multiple'>","<\/select>"],lookup={thead:table,tbody:table,tfoot:table,tr:tbody,td:tr,th:tr,option:select,optgroup:select},mayRequireCreateElementHack=ko.utils.ieVersion<=8;ko.utils.parseHtmlFragment=function(html,documentContext){return jQueryInstance?jQueryHtmlParse(html,documentContext):simpleHtmlParse(html,documentContext)};ko.utils.setHtml=function(node,html){var parsedNodes,i;if(ko.utils.emptyDomNode(node),html=ko.utils.unwrapObservable(html),html!==null&&html!==undefined)if(typeof html!="string"&&(html=html.toString()),jQueryInstance)jQueryInstance(node).html(html);else for(parsedNodes=ko.utils.parseHtmlFragment(html,node.ownerDocument),i=0;i<parsedNodes.length;i++)node.appendChild(parsedNodes[i])}}();ko.exportSymbol("utils.parseHtmlFragment",ko.utils.parseHtmlFragment);ko.exportSymbol("utils.setHtml",ko.utils.setHtml);ko.memoization=function(){function randomMax8HexChars(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function generateRandomId(){return randomMax8HexChars()+randomMax8HexChars()}function findMemoNodes(rootNode,appendToArray){var memoId;if(rootNode)if(rootNode.nodeType==8)memoId=ko.memoization.parseMemoText(rootNode.nodeValue),memoId!=null&&appendToArray.push({domNode:rootNode,memoId:memoId});else if(rootNode.nodeType==1)for(var i=0,childNodes=rootNode.childNodes,j=childNodes.length;i<j;i++)findMemoNodes(childNodes[i],appendToArray)}var memos={};return{memoize:function(callback){if(typeof callback!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var memoId=generateRandomId();return memos[memoId]=callback,"<!--[ko_memo:"+memoId+"]-->"},unmemoize:function(memoId,callbackParams){var callback=memos[memoId];if(callback===undefined)throw new Error("Couldn't find any memo with ID "+memoId+". Perhaps it's already been unmemoized.");try{return callback.apply(null,callbackParams||[]),!0}finally{delete memos[memoId]}},unmemoizeDomNodeAndDescendants:function(domNode,extraCallbackParamsArray){var memos=[],i,j,node,combinedParams;for(findMemoNodes(domNode,memos),i=0,j=memos.length;i<j;i++)node=memos[i].domNode,combinedParams=[node],extraCallbackParamsArray&&ko.utils.arrayPushAll(combinedParams,extraCallbackParamsArray),ko.memoization.unmemoize(memos[i].memoId,combinedParams),node.nodeValue="",node.parentNode&&node.parentNode.removeChild(node)},parseMemoText:function(memoText){var match=memoText.match(/^\[ko_memo\:(.*?)\]$/);return match?match[1]:null}}}();ko.exportSymbol("memoization",ko.memoization);ko.exportSymbol("memoization.memoize",ko.memoization.memoize);ko.exportSymbol("memoization.unmemoize",ko.memoization.unmemoize);ko.exportSymbol("memoization.parseMemoText",ko.memoization.parseMemoText);ko.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",ko.memoization.unmemoizeDomNodeAndDescendants);ko.tasks=function(){function processTasks(){var mark,countMarks,task;if(taskQueueLength)for(mark=taskQueueLength,countMarks=0;nextIndexToProcess<taskQueueLength;)if(task=taskQueue[nextIndexToProcess++]){if(nextIndexToProcess>mark){if(++countMarks>=5e3){nextIndexToProcess=taskQueueLength;ko.utils.deferError(Error("'Too much recursion' after processing "+countMarks+" task groups."));break}mark=taskQueueLength}try{task()}catch(ex){ko.utils.deferError(ex)}}}function scheduledProcess(){processTasks();nextIndexToProcess=taskQueueLength=taskQueue.length=0}function scheduleTaskProcessing(){ko.tasks.scheduler(scheduledProcess)}var scheduler,taskQueue=[],taskQueueLength=0,nextHandle=1,nextIndexToProcess=0;return scheduler=window.MutationObserver?function(callback){var div=document.createElement("div");return new MutationObserver(callback).observe(div,{attributes:!0}),function(){div.classList.toggle("foo")}}(scheduledProcess):document&&"onreadystatechange"in document.createElement("script")?function(callback){var script=document.createElement("script");script.onreadystatechange=function(){script.onreadystatechange=null;document.documentElement.removeChild(script);script=null;callback()};document.documentElement.appendChild(script)}:function(callback){setTimeout(callback,0)},{scheduler:scheduler,schedule:function(func){return taskQueueLength||scheduleTaskProcessing(),taskQueue[taskQueueLength++]=func,nextHandle++},cancel:function(handle){var index=handle-(nextHandle-taskQueueLength);index>=nextIndexToProcess&&index<taskQueueLength&&(taskQueue[index]=null)},resetForTesting:function(){var length=taskQueueLength-nextIndexToProcess;return nextIndexToProcess=taskQueueLength=taskQueue.length=0,length},runEarly:processTasks}}();ko.exportSymbol("tasks",ko.tasks);ko.exportSymbol("tasks.schedule",ko.tasks.schedule);ko.exportSymbol("tasks.runEarly",ko.tasks.runEarly);ko.extenders={throttle:function(target,timeout){target.throttleEvaluation=timeout;var writeTimeoutInstance=null;return ko.dependentObservable({read:target,write:function(value){clearTimeout(writeTimeoutInstance);writeTimeoutInstance=ko.utils.setTimeout(function(){target(value)},timeout)}})},rateLimit:function(target,options){var timeout,method,limitFunction;typeof options=="number"?timeout=options:(timeout=options.timeout,method=options.method);target._deferUpdates=!1;limitFunction=method=="notifyWhenChangesStop"?debounce:throttle;target.limit(function(callback){return limitFunction(callback,timeout)})},deferred:function(target,options){if(options!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");target._deferUpdates||(target._deferUpdates=!0,target.limit(function(callback){var handle;return function(){ko.tasks.cancel(handle);handle=ko.tasks.schedule(callback);target.notifySubscribers(undefined,"dirty")}}))},notify:function(target,notifyWhen){target.equalityComparer=notifyWhen=="always"?null:valuesArePrimitiveAndEqual}};primitiveTypes={undefined:1,boolean:1,number:1,string:1};ko.exportSymbol("extenders",ko.extenders);ko.subscription=function(target,callback,disposeCallback){this._target=target;this.callback=callback;this.disposeCallback=disposeCallback;this.isDisposed=!1;ko.exportProperty(this,"dispose",this.dispose)};ko.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};ko.subscribable=function(){ko.utils.setPrototypeOfOrExtend(this,ko_subscribable_fn);ko_subscribable_fn.init(this)};defaultEvent="change";ko_subscribable_fn={init:function(instance){instance._subscriptions={};instance._versionNumber=1},subscribe:function(callback,callbackTarget,event){var self=this,boundCallback,subscription;return event=event||defaultEvent,boundCallback=callbackTarget?callback.bind(callbackTarget):callback,subscription=new ko.subscription(self,boundCallback,function(){ko.utils.arrayRemoveItem(self._subscriptions[event],subscription);self.afterSubscriptionRemove&&self.afterSubscriptionRemove(event)}),self.beforeSubscriptionAdd&&self.beforeSubscriptionAdd(event),self._subscriptions[event]||(self._subscriptions[event]=[]),self._subscriptions[event].push(subscription),subscription},notifySubscribers:function(valueToNotify,event){if(event=event||defaultEvent,event===defaultEvent&&this.updateVersion(),this.hasSubscriptionsForEvent(event))try{ko.dependencyDetection.begin();for(var a=this._subscriptions[event].slice(0),i=0,subscription;subscription=a[i];++i)subscription.isDisposed||subscription.callback(valueToNotify)}finally{ko.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(versionToCheck){return this.getVersion()!==versionToCheck},updateVersion:function(){++this._versionNumber},limit:function(limitFunction){var self=this,selfIsObservable=ko.isObservable(self),ignoreBeforeChange,previousValue,pendingValue,beforeChange="beforeChange",finish;self._origNotifySubscribers||(self._origNotifySubscribers=self.notifySubscribers,self.notifySubscribers=limitNotifySubscribers);finish=limitFunction(function(){self._notificationIsPending=!1;selfIsObservable&&pendingValue===self&&(pendingValue=self());ignoreBeforeChange=!1;self.isDifferent(previousValue,pendingValue)&&self._origNotifySubscribers(previousValue=pendingValue)});self._limitChange=function(value){self._notificationIsPending=ignoreBeforeChange=!0;pendingValue=value;finish()};self._limitBeforeChange=function(value){ignoreBeforeChange||(previousValue=value,self._origNotifySubscribers(value,beforeChange))}},hasSubscriptionsForEvent:function(event){return this._subscriptions[event]&&this._subscriptions[event].length},getSubscriptionsCount:function(event){if(event)return this._subscriptions[event]&&this._subscriptions[event].length||0;else{var total=0;return ko.utils.objectForEach(this._subscriptions,function(eventName,subscriptions){eventName!=="dirty"&&(total+=subscriptions.length)}),total}},isDifferent:function(oldValue,newValue){return!this.equalityComparer||!this.equalityComparer(oldValue,newValue)},extend:applyExtenders};ko.exportProperty(ko_subscribable_fn,"subscribe",ko_subscribable_fn.subscribe);ko.exportProperty(ko_subscribable_fn,"extend",ko_subscribable_fn.extend);ko.exportProperty(ko_subscribable_fn,"getSubscriptionsCount",ko_subscribable_fn.getSubscriptionsCount);ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(ko_subscribable_fn,Function.prototype);ko.subscribable.fn=ko_subscribable_fn;ko.isSubscribable=function(instance){return instance!=null&&typeof instance.subscribe=="function"&&typeof instance.notifySubscribers=="function"};ko.exportSymbol("subscribable",ko.subscribable);ko.exportSymbol("isSubscribable",ko.isSubscribable);ko.computedContext=ko.dependencyDetection=function(){function getId(){return++lastId}function begin(options){outerFrames.push(currentFrame);currentFrame=options}function end(){currentFrame=outerFrames.pop()}var outerFrames=[],currentFrame,lastId=0;return{begin:begin,end:end,registerDependency:function(subscribable){if(currentFrame){if(!ko.isSubscribable(subscribable))throw new Error("Only subscribable things can act as dependencies");currentFrame.callback.call(currentFrame.callbackTarget,subscribable,subscribable._id||(subscribable._id=getId()))}},ignore:function(callback,callbackTarget,callbackArgs){try{return begin(),callback.apply(callbackTarget,callbackArgs||[])}finally{end()}},getDependenciesCount:function(){if(currentFrame)return currentFrame.computed.getDependenciesCount()},isInitial:function(){if(currentFrame)return currentFrame.isInitial}}}();ko.exportSymbol("computedContext",ko.computedContext);ko.exportSymbol("computedContext.getDependenciesCount",ko.computedContext.getDependenciesCount);ko.exportSymbol("computedContext.isInitial",ko.computedContext.isInitial);ko.exportSymbol("ignoreDependencies",ko.ignoreDependencies=ko.dependencyDetection.ignore);observableLatestValue=ko.utils.createSymbolOrString("_latestValue");ko.observable=function(initialValue){function observable(){return arguments.length>0?(observable.isDifferent(observable[observableLatestValue],arguments[0])&&(observable.valueWillMutate(),observable[observableLatestValue]=arguments[0],observable.valueHasMutated()),this):(ko.dependencyDetection.registerDependency(observable),observable[observableLatestValue])}return observable[observableLatestValue]=initialValue,ko.utils.canSetPrototype||ko.utils.extend(observable,ko.subscribable.fn),ko.subscribable.fn.init(observable),ko.utils.setPrototypeOfOrExtend(observable,observableFn),ko.options.deferUpdates&&ko.extenders.deferred(observable,!0),observable};observableFn={equalityComparer:valuesArePrimitiveAndEqual,peek:function(){return this[observableLatestValue]},valueHasMutated:function(){this.notifySubscribers(this[observableLatestValue])},valueWillMutate:function(){this.notifySubscribers(this[observableLatestValue],"beforeChange")}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(observableFn,ko.subscribable.fn);protoProperty=ko.observable.protoProperty="__ko_proto__";observableFn[protoProperty]=ko.observable;ko.hasPrototype=function(instance,prototype){return instance===null||instance===undefined||instance[protoProperty]===undefined?!1:instance[protoProperty]===prototype?!0:ko.hasPrototype(instance[protoProperty],prototype)};ko.isObservable=function(instance){return ko.hasPrototype(instance,ko.observable)};ko.isWriteableObservable=function(instance){return typeof instance=="function"&&instance[protoProperty]===ko.observable?!0:typeof instance=="function"&&instance[protoProperty]===ko.dependentObservable&&instance.hasWriteFunction?!0:!1};ko.exportSymbol("observable",ko.observable);ko.exportSymbol("isObservable",ko.isObservable);ko.exportSymbol("isWriteableObservable",ko.isWriteableObservable);ko.exportSymbol("isWritableObservable",ko.isWriteableObservable);ko.exportSymbol("observable.fn",observableFn);ko.exportProperty(observableFn,"peek",observableFn.peek);ko.exportProperty(observableFn,"valueHasMutated",observableFn.valueHasMutated);ko.exportProperty(observableFn,"valueWillMutate",observableFn.valueWillMutate);ko.observableArray=function(initialValues){if(initialValues=initialValues||[],typeof initialValues!="object"||!("length"in initialValues))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var result=ko.observable(initialValues);return ko.utils.setPrototypeOfOrExtend(result,ko.observableArray.fn),result.extend({trackArrayChanges:!0})};ko.observableArray.fn={remove:function(valueOrPredicate){for(var value,underlyingArray=this.peek(),removedValues=[],predicate=typeof valueOrPredicate=="function"&&!ko.isObservable(valueOrPredicate)?valueOrPredicate:function(value){return value===valueOrPredicate},i=0;i<underlyingArray.length;i++)value=underlyingArray[i],predicate(value)&&(removedValues.length===0&&this.valueWillMutate(),removedValues.push(value),underlyingArray.splice(i,1),i--);return removedValues.length&&this.valueHasMutated(),removedValues},removeAll:function(arrayOfValues){if(arrayOfValues===undefined){var underlyingArray=this.peek(),allValues=underlyingArray.slice(0);return this.valueWillMutate(),underlyingArray.splice(0,underlyingArray.length),this.valueHasMutated(),allValues}return arrayOfValues?this.remove(function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0}):[]},destroy:function(valueOrPredicate){var underlyingArray=this.peek(),predicate=typeof valueOrPredicate=="function"&&!ko.isObservable(valueOrPredicate)?valueOrPredicate:function(value){return value===valueOrPredicate},i,value;for(this.valueWillMutate(),i=underlyingArray.length-1;i>=0;i--)value=underlyingArray[i],predicate(value)&&(underlyingArray[i]._destroy=!0);this.valueHasMutated()},destroyAll:function(arrayOfValues){return arrayOfValues===undefined?this.destroy(function(){return!0}):arrayOfValues?this.destroy(function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0}):[]},indexOf:function(item){var underlyingArray=this();return ko.utils.arrayIndexOf(underlyingArray,item)},replace:function(oldItem,newItem){var index=this.indexOf(oldItem);index>=0&&(this.valueWillMutate(),this.peek()[index]=newItem,this.valueHasMutated())}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(ko.observableArray.fn,ko.observable.fn);ko.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(methodName){ko.observableArray.fn[methodName]=function(){var underlyingArray=this.peek(),methodCallResult;return this.valueWillMutate(),this.cacheDiffForKnownOperation(underlyingArray,methodName,arguments),methodCallResult=underlyingArray[methodName].apply(underlyingArray,arguments),this.valueHasMutated(),methodCallResult===underlyingArray?this:methodCallResult}});ko.utils.arrayForEach(["slice"],function(methodName){ko.observableArray.fn[methodName]=function(){var underlyingArray=this();return underlyingArray[methodName].apply(underlyingArray,arguments)}});ko.exportSymbol("observableArray",ko.observableArray);arrayChangeEventName="arrayChange";ko.extenders.trackArrayChanges=function(target,options){function trackChanges(){var underlyingNotifySubscribersFunction,previousContents;trackingChanges||(trackingChanges=!0,underlyingNotifySubscribersFunction=target.notifySubscribers,target.notifySubscribers=function(valueToNotify,event){return event&&event!==defaultEvent||++pendingNotifications,underlyingNotifySubscribersFunction.apply(this,arguments)},previousContents=[].concat(target.peek()||[]),cachedDiff=null,arrayChangeSubscription=target.subscribe(function(currentContents){if(currentContents=[].concat(currentContents||[]),target.hasSubscriptionsForEvent(arrayChangeEventName))var changes=getChanges(previousContents,currentContents);previousContents=currentContents;cachedDiff=null;pendingNotifications=0;changes&&changes.length&&target.notifySubscribers(changes,arrayChangeEventName)}))}function getChanges(previousContents,currentContents){return(!cachedDiff||pendingNotifications>1)&&(cachedDiff=ko.utils.compareArrays(previousContents,currentContents,target.compareArrayOptions)),cachedDiff}if(target.compareArrayOptions={},options&&typeof options=="object"&&ko.utils.extend(target.compareArrayOptions,options),target.compareArrayOptions.sparse=!0,!target.cacheDiffForKnownOperation){var trackingChanges=!1,cachedDiff=null,arrayChangeSubscription,pendingNotifications=0,underlyingBeforeSubscriptionAddFunction=target.beforeSubscriptionAdd,underlyingAfterSubscriptionRemoveFunction=target.afterSubscriptionRemove;target.beforeSubscriptionAdd=function(event){underlyingBeforeSubscriptionAddFunction&&underlyingBeforeSubscriptionAddFunction.call(target,event);event===arrayChangeEventName&&trackChanges()};target.afterSubscriptionRemove=function(event){underlyingAfterSubscriptionRemoveFunction&&underlyingAfterSubscriptionRemoveFunction.call(target,event);event!==arrayChangeEventName||target.hasSubscriptionsForEvent(arrayChangeEventName)||(arrayChangeSubscription.dispose(),trackingChanges=!1)};target.cacheDiffForKnownOperation=function(rawArray,operationName,args){function pushDiff(status,value,index){return diff[diff.length]={status:status,value:value,index:index}}var index,argsIndex;if(trackingChanges&&!pendingNotifications){var diff=[],arrayLength=rawArray.length,argsLength=args.length,offset=0;switch(operationName){case"push":offset=arrayLength;case"unshift":for(index=0;index<argsLength;index++)pushDiff("added",args[index],offset+index);break;case"pop":offset=arrayLength-1;case"shift":arrayLength&&pushDiff("deleted",rawArray[offset],offset);break;case"splice":var startIndex=Math.min(Math.max(0,args[0]<0?arrayLength+args[0]:args[0]),arrayLength),endDeleteIndex=argsLength===1?arrayLength:Math.min(startIndex+(args[1]||0),arrayLength),endAddIndex=startIndex+argsLength-2,endIndex=Math.max(endDeleteIndex,endAddIndex),additions=[],deletions=[];for(index=startIndex,argsIndex=2;index<endIndex;++index,++argsIndex)index<endDeleteIndex&&deletions.push(pushDiff("deleted",rawArray[index],index)),index<endAddIndex&&additions.push(pushDiff("added",args[argsIndex],index));ko.utils.findMovesInArrayComparison(deletions,additions);break;default:return}cachedDiff=diff}}}};computedState=ko.utils.createSymbolOrString("_state");ko.computed=ko.dependentObservable=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget,options){function computedObservable(){if(arguments.length>0){if(typeof writeFunction=="function")writeFunction.apply(state.evaluatorFunctionTarget,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}else return ko.dependencyDetection.registerDependency(computedObservable),(state.isStale||state.isSleeping&&computedObservable.haveDependenciesChanged())&&computedObservable.evaluateImmediate(),state.latestValue}if(typeof evaluatorFunctionOrOptions=="object"?options=evaluatorFunctionOrOptions:(options=options||{},evaluatorFunctionOrOptions&&(options.read=evaluatorFunctionOrOptions)),typeof options.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var writeFunction=options.write,state={latestValue:undefined,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:options.read,evaluatorFunctionTarget:evaluatorFunctionTarget||options.owner,disposeWhenNodeIsRemoved:options.disposeWhenNodeIsRemoved||options.disposeWhenNodeIsRemoved||null,disposeWhen:options.disposeWhen||options.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return computedObservable[computedState]=state,computedObservable.hasWriteFunction=typeof writeFunction=="function",ko.utils.canSetPrototype||ko.utils.extend(computedObservable,ko.subscribable.fn),ko.subscribable.fn.init(computedObservable),ko.utils.setPrototypeOfOrExtend(computedObservable,computedFn),options.pure?(state.pure=!0,state.isSleeping=!0,ko.utils.extend(computedObservable,pureComputedOverrides)):options.deferEvaluation&&ko.utils.extend(computedObservable,deferEvaluationOverrides),ko.options.deferUpdates&&ko.extenders.deferred(computedObservable,!0),DEBUG&&(computedObservable._options=options),state.disposeWhenNodeIsRemoved&&(state.suppressDisposalUntilDisposeWhenReturnsFalse=!0,state.disposeWhenNodeIsRemoved.nodeType||(state.disposeWhenNodeIsRemoved=null)),state.isSleeping||options.deferEvaluation||computedObservable.evaluateImmediate(),state.disposeWhenNodeIsRemoved&&computedObservable.isActive()&&ko.utils.domNodeDisposal.addDisposeCallback(state.disposeWhenNodeIsRemoved,state.domNodeDisposalCallback=function(){computedObservable.dispose()}),computedObservable};var computedFn={equalityComparer:valuesArePrimitiveAndEqual,getDependenciesCount:function(){return this[computedState].dependenciesCount},addDependencyTracking:function(id,target,trackingObj){if(this[computedState].pure&&target===this)throw Error("A 'pure' computed must not be called recursively");this[computedState].dependencyTracking[id]=trackingObj;trackingObj._order=this[computedState].dependenciesCount++;trackingObj._version=target.getVersion()},haveDependenciesChanged:function(){var id,dependency,dependencyTracking=this[computedState].dependencyTracking;for(id in dependencyTracking)if(dependencyTracking.hasOwnProperty(id)&&(dependency=dependencyTracking[id],dependency._target.hasChanged(dependency._version)))return!0},markDirty:function(){this._evalDelayed&&!this[computedState].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[computedState].isStale||this[computedState].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(target){if(target._deferUpdates&&!this[computedState].disposeWhenNodeIsRemoved){var dirtySub=target.subscribe(this.markDirty,this,"dirty"),changeSub=target.subscribe(this.respondToChange,this);return{_target:target,dispose:function(){dirtySub.dispose();changeSub.dispose()}}}else return target.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var computedObservable=this,throttleEvaluationTimeout=computedObservable.throttleEvaluation;throttleEvaluationTimeout&&throttleEvaluationTimeout>=0?(clearTimeout(this[computedState].evaluationTimeoutInstance),this[computedState].evaluationTimeoutInstance=ko.utils.setTimeout(function(){computedObservable.evaluateImmediate(!0)},throttleEvaluationTimeout)):computedObservable._evalDelayed?computedObservable._evalDelayed():computedObservable.evaluateImmediate(!0)},evaluateImmediate:function(notifyChange){var computedObservable=this,state=computedObservable[computedState],disposeWhen=state.disposeWhen;if(!state.isBeingEvaluated&&!state.isDisposed){if(state.disposeWhenNodeIsRemoved&&!ko.utils.domNodeIsAttachedToDocument(state.disposeWhenNodeIsRemoved)||disposeWhen&&disposeWhen()){if(!state.suppressDisposalUntilDisposeWhenReturnsFalse){computedObservable.dispose();return}}else state.suppressDisposalUntilDisposeWhenReturnsFalse=!1;state.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(notifyChange)}finally{state.isBeingEvaluated=!1}state.dependenciesCount||computedObservable.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(notifyChange){var computedObservable=this,state=computedObservable[computedState],isInitial=state.pure?undefined:!state.dependenciesCount,dependencyDetectionContext={computedObservable:computedObservable,disposalCandidates:state.dependencyTracking,disposalCount:state.dependenciesCount},newValue;ko.dependencyDetection.begin({callbackTarget:dependencyDetectionContext,callback:computedBeginDependencyDetectionCallback,computed:computedObservable,isInitial:isInitial});state.dependencyTracking={};state.dependenciesCount=0;newValue=this.evaluateImmediate_CallReadThenEndDependencyDetection(state,dependencyDetectionContext);computedObservable.isDifferent(state.latestValue,newValue)&&(state.isSleeping||computedObservable.notifySubscribers(state.latestValue,"beforeChange"),state.latestValue=newValue,state.isSleeping?computedObservable.updateVersion():notifyChange&&computedObservable.notifySubscribers(state.latestValue));isInitial&&computedObservable.notifySubscribers(state.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(state,dependencyDetectionContext){try{var readFunction=state.readFunction;return state.evaluatorFunctionTarget?readFunction.call(state.evaluatorFunctionTarget):readFunction()}finally{ko.dependencyDetection.end();dependencyDetectionContext.disposalCount&&!state.isSleeping&&ko.utils.objectForEach(dependencyDetectionContext.disposalCandidates,computedDisposeDependencyCallback);state.isStale=!1}},peek:function(){var state=this[computedState];return(state.isStale&&!state.dependenciesCount||state.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),state.latestValue},limit:function(limitFunction){ko.subscribable.fn.limit.call(this,limitFunction);this._evalDelayed=function(){this._limitBeforeChange(this[computedState].latestValue);this[computedState].isStale=!0;this._limitChange(this)}},dispose:function(){var state=this[computedState];!state.isSleeping&&state.dependencyTracking&&ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependency.dispose&&dependency.dispose()});state.disposeWhenNodeIsRemoved&&state.domNodeDisposalCallback&&ko.utils.domNodeDisposal.removeDisposeCallback(state.disposeWhenNodeIsRemoved,state.domNodeDisposalCallback);state.dependencyTracking=null;state.dependenciesCount=0;state.isDisposed=!0;state.isStale=!1;state.isSleeping=!1;state.disposeWhenNodeIsRemoved=null}},pureComputedOverrides={beforeSubscriptionAdd:function(event){var computedObservable=this,state=computedObservable[computedState],dependeciesOrder;!state.isDisposed&&state.isSleeping&&event=="change"&&(state.isSleeping=!1,state.isStale||computedObservable.haveDependenciesChanged()?(state.dependencyTracking=null,state.dependenciesCount=0,state.isStale=!0,computedObservable.evaluateImmediate()):(dependeciesOrder=[],ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependeciesOrder[dependency._order]=id}),ko.utils.arrayForEach(dependeciesOrder,function(id,order){var dependency=state.dependencyTracking[id],subscription=computedObservable.subscribeToDependency(dependency._target);subscription._order=order;subscription._version=dependency._version;state.dependencyTracking[id]=subscription})),state.isDisposed||computedObservable.notifySubscribers(state.latestValue,"awake"))},afterSubscriptionRemove:function(event){var state=this[computedState];state.isDisposed||event!="change"||this.hasSubscriptionsForEvent("change")||(ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependency.dispose&&(state.dependencyTracking[id]={_target:dependency._target,_order:dependency._order,_version:dependency._version},dependency.dispose())}),state.isSleeping=!0,this.notifySubscribers(undefined,"asleep"))},getVersion:function(){var state=this[computedState];return state.isSleeping&&(state.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),ko.subscribable.fn.getVersion.call(this)}},deferEvaluationOverrides={beforeSubscriptionAdd:function(event){(event=="change"||event=="beforeChange")&&this.peek()}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(computedFn,ko.subscribable.fn);protoProp=ko.observable.protoProperty;ko.computed[protoProp]=ko.observable;computedFn[protoProp]=ko.computed;ko.isComputed=function(instance){return ko.hasPrototype(instance,ko.computed)};ko.isPureComputed=function(instance){return ko.hasPrototype(instance,ko.computed)&&instance[computedState]&&instance[computedState].pure};ko.exportSymbol("computed",ko.computed);ko.exportSymbol("dependentObservable",ko.computed);ko.exportSymbol("isComputed",ko.isComputed);ko.exportSymbol("isPureComputed",ko.isPureComputed);ko.exportSymbol("computed.fn",computedFn);ko.exportProperty(computedFn,"peek",computedFn.peek);ko.exportProperty(computedFn,"dispose",computedFn.dispose);ko.exportProperty(computedFn,"isActive",computedFn.isActive);ko.exportProperty(computedFn,"getDependenciesCount",computedFn.getDependenciesCount);ko.pureComputed=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget){return typeof evaluatorFunctionOrOptions=="function"?ko.computed(evaluatorFunctionOrOptions,evaluatorFunctionTarget,{pure:!0}):(evaluatorFunctionOrOptions=ko.utils.extend({},evaluatorFunctionOrOptions),evaluatorFunctionOrOptions.pure=!0,ko.computed(evaluatorFunctionOrOptions,evaluatorFunctionTarget))};ko.exportSymbol("pureComputed",ko.pureComputed),function(){function mapJsObjectGraph(rootObject,mapInputCallback,visitedObjects){var canHaveProperties,outputProperties;return(visitedObjects=visitedObjects||new objectLookup,rootObject=mapInputCallback(rootObject),canHaveProperties=typeof rootObject=="object"&&rootObject!==null&&rootObject!==undefined&&!(rootObject instanceof RegExp)&&!(rootObject instanceof Date)&&!(rootObject instanceof String)&&!(rootObject instanceof Number)&&!(rootObject instanceof Boolean),!canHaveProperties)?rootObject:(outputProperties=rootObject instanceof Array?[]:{},visitedObjects.save(rootObject,outputProperties),visitPropertiesOrArrayEntries(rootObject,function(indexer){var propertyValue=mapInputCallback(rootObject[indexer]),previouslyMappedValue;switch(typeof propertyValue){case"boolean":case"number":case"string":case"function":outputProperties[indexer]=propertyValue;break;case"object":case"undefined":previouslyMappedValue=visitedObjects.get(propertyValue);outputProperties[indexer]=previouslyMappedValue!==undefined?previouslyMappedValue:mapJsObjectGraph(propertyValue,mapInputCallback,visitedObjects);break}}),outputProperties)}function visitPropertiesOrArrayEntries(rootObject,visitorCallback){var i,propertyName;if(rootObject instanceof Array){for(i=0;i<rootObject.length;i++)visitorCallback(i);typeof rootObject.toJSON=="function"&&visitorCallback("toJSON")}else for(propertyName in rootObject)visitorCallback(propertyName)}function objectLookup(){this.keys=[];this.values=[]}var maxNestedObservableDepth=10;ko.toJS=function(rootObject){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return mapJsObjectGraph(rootObject,function(valueToMap){for(var i=0;ko.isObservable(valueToMap)&&i<maxNestedObservableDepth;i++)valueToMap=valueToMap();return valueToMap})};ko.toJSON=function(rootObject,replacer,space){var plainJavaScriptObject=ko.toJS(rootObject);return ko.utils.stringifyJson(plainJavaScriptObject,replacer,space)};objectLookup.prototype={constructor:objectLookup,save:function(key,value){var existingIndex=ko.utils.arrayIndexOf(this.keys,key);existingIndex>=0?this.values[existingIndex]=value:(this.keys.push(key),this.values.push(value))},get:function(key){var existingIndex=ko.utils.arrayIndexOf(this.keys,key);return existingIndex>=0?this.values[existingIndex]:undefined}}}();ko.exportSymbol("toJS",ko.toJS);ko.exportSymbol("toJSON",ko.toJSON),function(){var hasDomDataExpandoProperty="__ko__hasDomDataOptionValue__";ko.selectExtensions={readValue:function(element){switch(ko.utils.tagNameLower(element)){case"option":return element[hasDomDataExpandoProperty]===!0?ko.utils.domData.get(element,ko.bindingHandlers.options.optionValueDomDataKey):ko.utils.ieVersion<=7?element.getAttributeNode("value")&&element.getAttributeNode("value").specified?element.value:element.text:element.value;case"select":return element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex]):undefined;default:return element.value}},writeValue:function(element,value,allowUnset){var selection,i,n,optionValue;switch(ko.utils.tagNameLower(element)){case"option":switch(typeof value){case"string":ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,undefined);hasDomDataExpandoProperty in element&&delete element[hasDomDataExpandoProperty];element.value=value;break;default:ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,value);element[hasDomDataExpandoProperty]=!0;element.value=typeof value=="number"?value:"";break}break;case"select":for((value===""||value===null)&&(value=undefined),selection=-1,i=0,n=element.options.length;i<n;++i)if(optionValue=ko.selectExtensions.readValue(element.options[i]),optionValue==value||optionValue==""&&value===undefined){selection=i;break}(allowUnset||selection>=0||value===undefined&&element.size>1)&&(element.selectedIndex=selection);break;default:(value===null||value===undefined)&&(value="");element.value=value;break}}}}();ko.exportSymbol("selectExtensions",ko.selectExtensions);ko.exportSymbol("selectExtensions.readValue",ko.selectExtensions.readValue);ko.exportSymbol("selectExtensions.writeValue",ko.selectExtensions.writeValue);ko.expressionRewriting=function(){function getWriteableValue(expression){if(ko.utils.arrayIndexOf(javaScriptReservedWords,expression)>=0)return!1;var match=expression.match(javaScriptAssignmentTarget);return match===null?!1:match[1]?"Object("+match[1]+")"+match[2]:expression}function parseObjectLiteral(objectLiteralString){var str=ko.utils.stringTrim(objectLiteralString),i,tok,c,match;str.charCodeAt(0)===123&&(str=str.slice(1,-1));var result=[],toks=str.match(bindingToken),key,values=[],depth=0;if(toks)for(toks.push(","),i=0;tok=toks[i];++i){if(c=tok.charCodeAt(0),c===44){if(depth<=0){result.push(key&&values.length?{key:key,value:values.join("")}:{unknown:key||values.join("")});key=depth=0;values=[];continue}}else if(c===58){if(!depth&&!key&&values.length===1){key=values.pop();continue}}else c===47&&i&&tok.length>1?(match=toks[i-1].match(divisionLookBehind),match&&!keywordRegexLookBehind[match[0]]&&(str=str.substr(str.indexOf(tok)+1),toks=str.match(bindingToken),toks.push(","),i=-1,tok="/")):c===40||c===123||c===91?++depth:c===41||c===125||c===93?--depth:key||values.length||c!==34&&c!==39||(tok=tok.slice(1,-1));values.push(tok)}return result}function preProcessBindings(bindingsStringOrKeyValueArray,bindingOptions){function processKeyValue(key,val){function callPreprocessHook(obj){return obj&&obj.preprocess?val=obj.preprocess(val,key,processKeyValue):!0}var writableVal;if(!bindingParams){if(!callPreprocessHook(ko.getBindingHandler(key)))return;twoWayBindings[key]&&(writableVal=getWriteableValue(val))&&propertyAccessorResultStrings.push("'"+key+"':function(_z){"+writableVal+"=_z}")}makeValueAccessors&&(val="function(){return "+val+" }");resultStrings.push("'"+key+"':"+val)}bindingOptions=bindingOptions||{};var resultStrings=[],propertyAccessorResultStrings=[],makeValueAccessors=bindingOptions.valueAccessors,bindingParams=bindingOptions.bindingParams,keyValueArray=typeof bindingsStringOrKeyValueArray=="string"?parseObjectLiteral(bindingsStringOrKeyValueArray):bindingsStringOrKeyValueArray;return ko.utils.arrayForEach(keyValueArray,function(keyValue){processKeyValue(keyValue.key||keyValue.unknown,keyValue.value)}),propertyAccessorResultStrings.length&&processKeyValue("_ko_property_writers","{"+propertyAccessorResultStrings.join(",")+" }"),resultStrings.join(",")}var javaScriptReservedWords=["true","false","null","undefined"],javaScriptAssignmentTarget=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,stringDouble='"(?:[^"\\\\]|\\\\.)*"',stringSingle="'(?:[^'\\\\]|\\\\.)*'",stringRegexp="/(?:[^/\\\\]|\\\\.)*/w*",specials=",\"'{}()/:[\\]",everyThingElse="[^\\s:,/][^"+specials+"]*[^\\s"+specials+"]",oneNotSpace="[^\\s]",bindingToken=RegExp(stringDouble+"|"+stringSingle+"|"+stringRegexp+"|"+everyThingElse+"|"+oneNotSpace,"g"),divisionLookBehind=/[\])"'A-Za-z0-9_$]+$/,keywordRegexLookBehind={"in":1,"return":1,"typeof":1},twoWayBindings={};return{bindingRewriteValidators:[],twoWayBindings:twoWayBindings,parseObjectLiteral:parseObjectLiteral,preProcessBindings:preProcessBindings,keyValueArrayContainsKey:function(keyValueArray,key){for(var i=0;i<keyValueArray.length;i++)if(keyValueArray[i].key==key)return!0;return!1},writeValueToProperty:function(property,allBindings,key,value,checkIfDifferent){if(property&&ko.isObservable(property))ko.isWriteableObservable(property)&&(!checkIfDifferent||property.peek()!==value)&&property(value);else{var propWriters=allBindings.get("_ko_property_writers");propWriters&&propWriters[key]&&propWriters[key](value)}}}}();ko.exportSymbol("expressionRewriting",ko.expressionRewriting);ko.exportSymbol("expressionRewriting.bindingRewriteValidators",ko.expressionRewriting.bindingRewriteValidators);ko.exportSymbol("expressionRewriting.parseObjectLiteral",ko.expressionRewriting.parseObjectLiteral);ko.exportSymbol("expressionRewriting.preProcessBindings",ko.expressionRewriting.preProcessBindings);ko.exportSymbol("expressionRewriting._twoWayBindings",ko.expressionRewriting.twoWayBindings);ko.exportSymbol("jsonExpressionRewriting",ko.expressionRewriting);ko.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",ko.expressionRewriting.preProcessBindings),function(){function isStartComment(node){return node.nodeType==8&&startCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue)}function isEndComment(node){return node.nodeType==8&&endCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue)}function getVirtualChildren(startComment,allowUnbalanced){for(var currentNode=startComment,depth=1,children=[];currentNode=currentNode.nextSibling;){if(isEndComment(currentNode)&&(depth--,depth===0))return children;children.push(currentNode);isStartComment(currentNode)&&depth++}if(!allowUnbalanced)throw new Error("Cannot find closing comment tag to match: "+startComment.nodeValue);return null}function getMatchingEndComment(startComment,allowUnbalanced){var allVirtualChildren=getVirtualChildren(startComment,allowUnbalanced);return allVirtualChildren?allVirtualChildren.length>0?allVirtualChildren[allVirtualChildren.length-1].nextSibling:startComment.nextSibling:null}function getUnbalancedChildTags(node){var childNode=node.firstChild,captureRemaining=null,matchingEndComment;if(childNode)do captureRemaining?captureRemaining.push(childNode):isStartComment(childNode)?(matchingEndComment=getMatchingEndComment(childNode,!0),matchingEndComment?childNode=matchingEndComment:captureRemaining=[childNode]):isEndComment(childNode)&&(captureRemaining=[childNode]);while(childNode=childNode.nextSibling);return captureRemaining}var commentNodesHaveTextProperty=document&&document.createComment("test").text==="<!--test-->",startCommentRegex=commentNodesHaveTextProperty?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,endCommentRegex=commentNodesHaveTextProperty?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,htmlTagsWithOptionallyClosingChildren={ul:!0,ol:!0};ko.virtualElements={allowedBindings:{},childNodes:function(node){return isStartComment(node)?getVirtualChildren(node):node.childNodes},emptyNode:function(node){var virtualChildren,i,j;if(isStartComment(node))for(virtualChildren=ko.virtualElements.childNodes(node),i=0,j=virtualChildren.length;i<j;i++)ko.removeNode(virtualChildren[i]);else ko.utils.emptyDomNode(node)},setDomNodeChildren:function(node,childNodes){var endCommentNode,i,j;if(isStartComment(node))for(ko.virtualElements.emptyNode(node),endCommentNode=node.nextSibling,i=0,j=childNodes.length;i<j;i++)endCommentNode.parentNode.insertBefore(childNodes[i],endCommentNode);else ko.utils.setDomNodeChildren(node,childNodes)},prepend:function(containerNode,nodeToPrepend){isStartComment(containerNode)?containerNode.parentNode.insertBefore(nodeToPrepend,containerNode.nextSibling):containerNode.firstChild?containerNode.insertBefore(nodeToPrepend,containerNode.firstChild):containerNode.appendChild(nodeToPrepend)},insertAfter:function(containerNode,nodeToInsert,insertAfterNode){insertAfterNode?isStartComment(containerNode)?containerNode.parentNode.insertBefore(nodeToInsert,insertAfterNode.nextSibling):insertAfterNode.nextSibling?containerNode.insertBefore(nodeToInsert,insertAfterNode.nextSibling):containerNode.appendChild(nodeToInsert):ko.virtualElements.prepend(containerNode,nodeToInsert)},firstChild:function(node){return isStartComment(node)?!node.nextSibling||isEndComment(node.nextSibling)?null:node.nextSibling:node.firstChild},nextSibling:function(node){return(isStartComment(node)&&(node=getMatchingEndComment(node)),node.nextSibling&&isEndComment(node.nextSibling))?null:node.nextSibling},hasBindingValue:isStartComment,virtualNodeBindingValue:function(node){var regexMatch=(commentNodesHaveTextProperty?node.text:node.nodeValue).match(startCommentRegex);return regexMatch?regexMatch[1]:null},normaliseVirtualElementDomStructure:function(elementVerified){var childNode,unbalancedTags,nodeToInsertBefore,i;if(htmlTagsWithOptionallyClosingChildren[ko.utils.tagNameLower(elementVerified)]&&(childNode=elementVerified.firstChild,childNode))do if(childNode.nodeType===1&&(unbalancedTags=getUnbalancedChildTags(childNode),unbalancedTags))for(nodeToInsertBefore=childNode.nextSibling,i=0;i<unbalancedTags.length;i++)nodeToInsertBefore?elementVerified.insertBefore(unbalancedTags[i],nodeToInsertBefore):elementVerified.appendChild(unbalancedTags[i]);while(childNode=childNode.nextSibling)}}}();ko.exportSymbol("virtualElements",ko.virtualElements);ko.exportSymbol("virtualElements.allowedBindings",ko.virtualElements.allowedBindings);ko.exportSymbol("virtualElements.emptyNode",ko.virtualElements.emptyNode);ko.exportSymbol("virtualElements.insertAfter",ko.virtualElements.insertAfter);ko.exportSymbol("virtualElements.prepend",ko.virtualElements.prepend);ko.exportSymbol("virtualElements.setDomNodeChildren",ko.virtualElements.setDomNodeChildren),function(){function createBindingsStringEvaluatorViaCache(bindingsString,cache,options){var cacheKey=bindingsString+(options&&options.valueAccessors||"");return cache[cacheKey]||(cache[cacheKey]=createBindingsStringEvaluator(bindingsString,options))}function createBindingsStringEvaluator(bindingsString,options){var rewrittenBindings=ko.expressionRewriting.preProcessBindings(bindingsString,options),functionBody="with($context){with($data||{}){return{"+rewrittenBindings+"}}}";return new Function("$context","$element",functionBody)}var defaultBindingAttributeName="data-bind";ko.bindingProvider=function(){this.bindingCache={}};ko.utils.extend(ko.bindingProvider.prototype,{nodeHasBindings:function(node){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName)!=null||ko.components.getComponentNameForNode(node);case 8:return ko.virtualElements.hasBindingValue(node);default:return!1}},getBindings:function(node,bindingContext){var bindingsString=this.getBindingsString(node,bindingContext),parsedBindings=bindingsString?this.parseBindingsString(bindingsString,bindingContext,node):null;return ko.components.addBindingsForCustomElement(parsedBindings,node,bindingContext,!1)},getBindingAccessors:function(node,bindingContext){var bindingsString=this.getBindingsString(node,bindingContext),parsedBindings=bindingsString?this.parseBindingsString(bindingsString,bindingContext,node,{valueAccessors:!0}):null;return ko.components.addBindingsForCustomElement(parsedBindings,node,bindingContext,!0)},getBindingsString:function(node,bindingContext){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName);case 8:return ko.virtualElements.virtualNodeBindingValue(node);default:return null}},parseBindingsString:function(bindingsString,bindingContext,node,options){try{var bindingFunction=createBindingsStringEvaluatorViaCache(bindingsString,this.bindingCache,options);return bindingFunction(bindingContext,node)}catch(ex){ex.message="Unable to parse bindings.\nBindings value: "+bindingsString+"\nMessage: "+ex.message;throw ex;}}});ko.bindingProvider.instance=new ko.bindingProvider}();ko.exportSymbol("bindingProvider",ko.bindingProvider),function(){function makeValueAccessor(value){return function(){return value}}function evaluateValueAccessor(valueAccessor){return valueAccessor()}function makeAccessorsFromFunction(callback){return ko.utils.objectMap(ko.dependencyDetection.ignore(callback),function(value,key){return function(){return callback()[key]}})}function makeBindingAccessors(bindings,context,node){return typeof bindings=="function"?makeAccessorsFromFunction(bindings.bind(null,context,node)):ko.utils.objectMap(bindings,makeValueAccessor)}function getBindingsAndMakeAccessors(node,context){return makeAccessorsFromFunction(this.getBindings.bind(this,node,context))}function validateThatBindingIsAllowedForVirtualElements(bindingName){var validator=ko.virtualElements.allowedBindings[bindingName];if(!validator)throw new Error("The binding '"+bindingName+"' cannot be used with virtual elements");}function applyBindingsToDescendantsInternal(bindingContext,elementOrVirtualElement,bindingContextsMayDifferFromDomParentElement){var currentChild,nextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement),provider=ko.bindingProvider.instance,preprocessNode=provider.preprocessNode;if(preprocessNode){while(currentChild=nextInQueue)nextInQueue=ko.virtualElements.nextSibling(currentChild),preprocessNode.call(provider,currentChild);nextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement)}while(currentChild=nextInQueue)nextInQueue=ko.virtualElements.nextSibling(currentChild),applyBindingsToNodeAndDescendantsInternal(bindingContext,currentChild,bindingContextsMayDifferFromDomParentElement)}function applyBindingsToNodeAndDescendantsInternal(bindingContext,nodeVerified,bindingContextMayDifferFromDomParentElement){var shouldBindDescendants=!0,isElement=nodeVerified.nodeType===1,shouldApplyBindings;isElement&&ko.virtualElements.normaliseVirtualElementDomStructure(nodeVerified);shouldApplyBindings=isElement&&bindingContextMayDifferFromDomParentElement||ko.bindingProvider.instance.nodeHasBindings(nodeVerified);shouldApplyBindings&&(shouldBindDescendants=applyBindingsToNodeInternal(nodeVerified,null,bindingContext,bindingContextMayDifferFromDomParentElement).shouldBindDescendants);shouldBindDescendants&&!bindingDoesNotRecurseIntoElementTypes[ko.utils.tagNameLower(nodeVerified)]&&applyBindingsToDescendantsInternal(bindingContext,nodeVerified,!isElement)}function topologicalSortBindings(bindings){var result=[],bindingsConsidered={},cyclicDependencyStack=[];return ko.utils.objectForEach(bindings,function pushBinding(bindingKey){if(!bindingsConsidered[bindingKey]){var binding=ko.getBindingHandler(bindingKey);binding&&(binding.after&&(cyclicDependencyStack.push(bindingKey),ko.utils.arrayForEach(binding.after,function(bindingDependencyKey){if(bindings[bindingDependencyKey])if(ko.utils.arrayIndexOf(cyclicDependencyStack,bindingDependencyKey)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+cyclicDependencyStack.join(", "));else pushBinding(bindingDependencyKey)}),cyclicDependencyStack.length--),result.push({key:bindingKey,handler:binding}));bindingsConsidered[bindingKey]=!0}}),result}function applyBindingsToNodeInternal(node,sourceBindings,bindingContext,bindingContextMayDifferFromDomParentElement){var alreadyBound=ko.utils.domData.get(node,boundElementDomDataKey),bindings,bindingHandlerThatControlsDescendantBindings,getValueAccessor,orderedBindings;if(!sourceBindings){if(alreadyBound)throw Error("You cannot apply bindings multiple times to the same element.");ko.utils.domData.set(node,boundElementDomDataKey,!0)}if(!alreadyBound&&bindingContextMayDifferFromDomParentElement&&ko.storedBindingContextForNode(node,bindingContext),sourceBindings&&typeof sourceBindings!="function")bindings=sourceBindings;else{var provider=ko.bindingProvider.instance,getBindings=provider.getBindingAccessors||getBindingsAndMakeAccessors,bindingsUpdater=ko.dependentObservable(function(){return bindings=sourceBindings?sourceBindings(bindingContext,node):getBindings.call(provider,node,bindingContext),bindings&&bindingContext._subscribable&&bindingContext._subscribable(),bindings},null,{disposeWhenNodeIsRemoved:node});bindings&&bindingsUpdater.isActive()||(bindingsUpdater=null)}if(bindings){getValueAccessor=bindingsUpdater?function(bindingKey){return function(){return evaluateValueAccessor(bindingsUpdater()[bindingKey])}}:function(bindingKey){return bindings[bindingKey]};function allBindings(){return ko.utils.objectMap(bindingsUpdater?bindingsUpdater():bindings,evaluateValueAccessor)}allBindings.get=function(key){return bindings[key]&&evaluateValueAccessor(getValueAccessor(key))};allBindings.has=function(key){return key in bindings};orderedBindings=topologicalSortBindings(bindings);ko.utils.arrayForEach(orderedBindings,function(bindingKeyAndHandler){var handlerInitFn=bindingKeyAndHandler.handler.init,handlerUpdateFn=bindingKeyAndHandler.handler.update,bindingKey=bindingKeyAndHandler.key;node.nodeType===8&&validateThatBindingIsAllowedForVirtualElements(bindingKey);try{typeof handlerInitFn=="function"&&ko.dependencyDetection.ignore(function(){var initResult=handlerInitFn(node,getValueAccessor(bindingKey),allBindings,bindingContext.$data,bindingContext);if(initResult&&initResult.controlsDescendantBindings){if(bindingHandlerThatControlsDescendantBindings!==undefined)throw new Error("Multiple bindings ("+bindingHandlerThatControlsDescendantBindings+" and "+bindingKey+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");bindingHandlerThatControlsDescendantBindings=bindingKey}});typeof handlerUpdateFn=="function"&&ko.dependentObservable(function(){handlerUpdateFn(node,getValueAccessor(bindingKey),allBindings,bindingContext.$data,bindingContext)},null,{disposeWhenNodeIsRemoved:node})}catch(ex){ex.message='Unable to process binding "'+bindingKey+": "+bindings[bindingKey]+'"\nMessage: '+ex.message;throw ex;}})}return{shouldBindDescendants:bindingHandlerThatControlsDescendantBindings===undefined}}function getBindingContext(viewModelOrBindingContext){return viewModelOrBindingContext&&viewModelOrBindingContext instanceof ko.bindingContext?viewModelOrBindingContext:new ko.bindingContext(viewModelOrBindingContext)}var bindingDoesNotRecurseIntoElementTypes,boundElementDomDataKey,storedBindingContextDomDataKey;ko.bindingHandlers={};bindingDoesNotRecurseIntoElementTypes={script:!0,textarea:!0,template:!0};ko.getBindingHandler=function(bindingKey){return ko.bindingHandlers[bindingKey]};ko.bindingContext=function(dataItemOrAccessor,parentContext,dataItemAlias,extendCallback){function updateContext(){var dataItemOrObservable=isFunc?dataItemOrAccessor():dataItemOrAccessor,dataItem=ko.utils.unwrapObservable(dataItemOrObservable);return parentContext?(parentContext._subscribable&&parentContext._subscribable(),ko.utils.extend(self,parentContext),subscribable&&(self._subscribable=subscribable)):(self.$parents=[],self.$root=dataItem,self.ko=ko),self.$rawData=dataItemOrObservable,self.$data=dataItem,dataItemAlias&&(self[dataItemAlias]=dataItem),extendCallback&&extendCallback(self,parentContext,dataItem),self.$data}function disposeWhen(){return nodes&&!ko.utils.anyDomNodeIsAttachedToDocument(nodes)}var self=this,isFunc=typeof dataItemOrAccessor=="function"&&!ko.isObservable(dataItemOrAccessor),nodes,subscribable=ko.dependentObservable(updateContext,null,{disposeWhen:disposeWhen,disposeWhenNodeIsRemoved:!0});subscribable.isActive()&&(self._subscribable=subscribable,subscribable.equalityComparer=null,nodes=[],subscribable._addNode=function(node){nodes.push(node);ko.utils.domNodeDisposal.addDisposeCallback(node,function(node){ko.utils.arrayRemoveItem(nodes,node);nodes.length||(subscribable.dispose(),self._subscribable=subscribable=undefined)})})};ko.bindingContext.prototype.createChildContext=function(dataItemOrAccessor,dataItemAlias,extendCallback){return new ko.bindingContext(dataItemOrAccessor,this,dataItemAlias,function(self,parentContext){self.$parentContext=parentContext;self.$parent=parentContext.$data;self.$parents=(parentContext.$parents||[]).slice(0);self.$parents.unshift(self.$parent);extendCallback&&extendCallback(self)})};ko.bindingContext.prototype.extend=function(properties){return new ko.bindingContext(this._subscribable||this.$data,this,null,function(self,parentContext){self.$rawData=parentContext.$rawData;ko.utils.extend(self,typeof properties=="function"?properties():properties)})};boundElementDomDataKey=ko.utils.domData.nextKey();storedBindingContextDomDataKey=ko.utils.domData.nextKey();ko.storedBindingContextForNode=function(node,bindingContext){if(arguments.length==2)ko.utils.domData.set(node,storedBindingContextDomDataKey,bindingContext),bindingContext._subscribable&&bindingContext._subscribable._addNode(node);else return ko.utils.domData.get(node,storedBindingContextDomDataKey)};ko.applyBindingAccessorsToNode=function(node,bindings,viewModelOrBindingContext){return node.nodeType===1&&ko.virtualElements.normaliseVirtualElementDomStructure(node),applyBindingsToNodeInternal(node,bindings,getBindingContext(viewModelOrBindingContext),!0)};ko.applyBindingsToNode=function(node,bindings,viewModelOrBindingContext){var context=getBindingContext(viewModelOrBindingContext);return ko.applyBindingAccessorsToNode(node,makeBindingAccessors(bindings,context,node),context)};ko.applyBindingsToDescendants=function(viewModelOrBindingContext,rootNode){(rootNode.nodeType===1||rootNode.nodeType===8)&&applyBindingsToDescendantsInternal(getBindingContext(viewModelOrBindingContext),rootNode,!0)};ko.applyBindings=function(viewModelOrBindingContext,rootNode){if(!jQueryInstance&&window.jQuery&&(jQueryInstance=window.jQuery),rootNode&&rootNode.nodeType!==1&&rootNode.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");rootNode=rootNode||window.document.body;applyBindingsToNodeAndDescendantsInternal(getBindingContext(viewModelOrBindingContext),rootNode,!0)};ko.contextFor=function(node){switch(node.nodeType){case 1:case 8:var context=ko.storedBindingContextForNode(node);if(context)return context;if(node.parentNode)return ko.contextFor(node.parentNode);break}return undefined};ko.dataFor=function(node){var context=ko.contextFor(node);return context?context.$data:undefined};ko.exportSymbol("bindingHandlers",ko.bindingHandlers);ko.exportSymbol("applyBindings",ko.applyBindings);ko.exportSymbol("applyBindingsToDescendants",ko.applyBindingsToDescendants);ko.exportSymbol("applyBindingAccessorsToNode",ko.applyBindingAccessorsToNode);ko.exportSymbol("applyBindingsToNode",ko.applyBindingsToNode);ko.exportSymbol("contextFor",ko.contextFor);ko.exportSymbol("dataFor",ko.dataFor)}(),function(undefined){function getObjectOwnProperty(obj,propName){return obj.hasOwnProperty(propName)?obj[propName]:undefined}function loadComponentAndNotify(componentName,callback){var subscribable=getObjectOwnProperty(loadingSubscribablesCache,componentName),completedAsync;subscribable?subscribable.subscribe(callback):(subscribable=loadingSubscribablesCache[componentName]=new ko.subscribable,subscribable.subscribe(callback),beginLoadingComponent(componentName,function(definition,config){var isSynchronousComponent=!!(config&&config.synchronous);loadedDefinitionsCache[componentName]={definition:definition,isSynchronousComponent:isSynchronousComponent};delete loadingSubscribablesCache[componentName];completedAsync||isSynchronousComponent?subscribable.notifySubscribers(definition):ko.tasks.schedule(function(){subscribable.notifySubscribers(definition)})}),completedAsync=!0)}function beginLoadingComponent(componentName,callback){getFirstResultFromLoaders("getConfig",[componentName],function(config){config?getFirstResultFromLoaders("loadComponent",[componentName,config],function(definition){callback(definition,config)}):callback(null,null)})}function getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders){var currentCandidateLoader,methodInstance,wasAborted,synchronousReturnValue;if(candidateLoaders||(candidateLoaders=ko.components.loaders.slice(0)),currentCandidateLoader=candidateLoaders.shift(),currentCandidateLoader)if(methodInstance=currentCandidateLoader[methodName],methodInstance){if(wasAborted=!1,synchronousReturnValue=methodInstance.apply(currentCandidateLoader,argsExceptCallback.concat(function(result){wasAborted?callback(null):result!==null?callback(result):getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders)})),synchronousReturnValue!==undefined&&(wasAborted=!0,!currentCandidateLoader.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders);else callback(null)}var loadingSubscribablesCache={},loadedDefinitionsCache={};ko.components={get:function(componentName,callback){var cachedDefinition=getObjectOwnProperty(loadedDefinitionsCache,componentName);cachedDefinition?cachedDefinition.isSynchronousComponent?ko.dependencyDetection.ignore(function(){callback(cachedDefinition.definition)}):ko.tasks.schedule(function(){callback(cachedDefinition.definition)}):loadComponentAndNotify(componentName,callback)},clearCachedDefinition:function(componentName){delete loadedDefinitionsCache[componentName]},_getFirstResultFromLoaders:getFirstResultFromLoaders};ko.components.loaders=[];ko.exportSymbol("components",ko.components);ko.exportSymbol("components.get",ko.components.get);ko.exportSymbol("components.clearCachedDefinition",ko.components.clearCachedDefinition)}(),function(undefined){function resolveConfig(componentName,errorCallback,config,callback){var result={},makeCallBackWhenZero=2,tryIssueCallback=function(){--makeCallBackWhenZero==0&&callback(result)},templateConfig=config.template,viewModelConfig=config.viewModel;templateConfig?possiblyGetConfigFromAmd(errorCallback,templateConfig,function(loadedConfig){ko.components._getFirstResultFromLoaders("loadTemplate",[componentName,loadedConfig],function(resolvedTemplate){result.template=resolvedTemplate;tryIssueCallback()})}):tryIssueCallback();viewModelConfig?possiblyGetConfigFromAmd(errorCallback,viewModelConfig,function(loadedConfig){ko.components._getFirstResultFromLoaders("loadViewModel",[componentName,loadedConfig],function(resolvedViewModel){result[createViewModelKey]=resolvedViewModel;tryIssueCallback()})}):tryIssueCallback()}function resolveTemplate(errorCallback,templateConfig,callback){var element,elemInstance;typeof templateConfig=="string"?callback(ko.utils.parseHtmlFragment(templateConfig)):templateConfig instanceof Array?callback(templateConfig):isDocumentFragment(templateConfig)?callback(ko.utils.makeArray(templateConfig.childNodes)):templateConfig.element?(element=templateConfig.element,isDomElement(element)?callback(cloneNodesFromTemplateSourceElement(element)):typeof element=="string"?(elemInstance=document.getElementById(element),elemInstance?callback(cloneNodesFromTemplateSourceElement(elemInstance)):errorCallback("Cannot find element with ID "+element)):errorCallback("Unknown element type: "+element)):errorCallback("Unknown template value: "+templateConfig)}function resolveViewModel(errorCallback,viewModelConfig,callback){if(typeof viewModelConfig=="function")callback(function(params){return new viewModelConfig(params)});else if(typeof viewModelConfig[createViewModelKey]=="function")callback(viewModelConfig[createViewModelKey]);else if("instance"in viewModelConfig){var fixedInstance=viewModelConfig.instance;callback(function(params,componentInfo){return fixedInstance})}else"viewModel"in viewModelConfig?resolveViewModel(errorCallback,viewModelConfig.viewModel,callback):errorCallback("Unknown viewModel value: "+viewModelConfig)}function cloneNodesFromTemplateSourceElement(elemInstance){switch(ko.utils.tagNameLower(elemInstance)){case"script":return ko.utils.parseHtmlFragment(elemInstance.text);case"textarea":return ko.utils.parseHtmlFragment(elemInstance.value);case"template":if(isDocumentFragment(elemInstance.content))return ko.utils.cloneNodes(elemInstance.content.childNodes)}return ko.utils.cloneNodes(elemInstance.childNodes)}function isDomElement(obj){return window.HTMLElement?obj instanceof HTMLElement:obj&&obj.tagName&&obj.nodeType===1}function isDocumentFragment(obj){return window.DocumentFragment?obj instanceof DocumentFragment:obj&&obj.nodeType===11}function possiblyGetConfigFromAmd(errorCallback,config,callback){typeof config.require=="string"?amdRequire||window.require?(amdRequire||window.require)([config.require],callback):errorCallback("Uses require, but no AMD loader is present"):callback(config)}function makeErrorCallback(componentName){return function(message){throw new Error("Component '"+componentName+"': "+message);}}var defaultConfigRegistry={},createViewModelKey;ko.components.register=function(componentName,config){if(!config)throw new Error("Invalid configuration for "+componentName);if(ko.components.isRegistered(componentName))throw new Error("Component "+componentName+" is already registered");defaultConfigRegistry[componentName]=config};ko.components.isRegistered=function(componentName){return defaultConfigRegistry.hasOwnProperty(componentName)};ko.components.unregister=function(componentName){delete defaultConfigRegistry[componentName];ko.components.clearCachedDefinition(componentName)};ko.components.defaultLoader={getConfig:function(componentName,callback){var result=defaultConfigRegistry.hasOwnProperty(componentName)?defaultConfigRegistry[componentName]:null;callback(result)},loadComponent:function(componentName,config,callback){var errorCallback=makeErrorCallback(componentName);possiblyGetConfigFromAmd(errorCallback,config,function(loadedConfig){resolveConfig(componentName,errorCallback,loadedConfig,callback)})},loadTemplate:function(componentName,templateConfig,callback){resolveTemplate(makeErrorCallback(componentName),templateConfig,callback)},loadViewModel:function(componentName,viewModelConfig,callback){resolveViewModel(makeErrorCallback(componentName),viewModelConfig,callback)}};createViewModelKey="createViewModel";ko.exportSymbol("components.register",ko.components.register);ko.exportSymbol("components.isRegistered",ko.components.isRegistered);ko.exportSymbol("components.unregister",ko.components.unregister);ko.exportSymbol("components.defaultLoader",ko.components.defaultLoader);ko.components.loaders.push(ko.components.defaultLoader);ko.components._allRegisteredComponents=defaultConfigRegistry}(),function(undefined){function getComponentParamsFromCustomElement(elem,bindingContext){var paramsAttribute=elem.getAttribute("params");if(paramsAttribute){var params=nativeBindingProviderInstance.parseBindingsString(paramsAttribute,bindingContext,elem,{valueAccessors:!0,bindingParams:!0}),rawParamComputedValues=ko.utils.objectMap(params,function(paramValue,paramName){return ko.computed(paramValue,null,{disposeWhenNodeIsRemoved:elem})}),result=ko.utils.objectMap(rawParamComputedValues,function(paramValueComputed,paramName){var paramValue=paramValueComputed.peek();return paramValueComputed.isActive()?ko.computed({read:function(){return ko.utils.unwrapObservable(paramValueComputed())},write:ko.isWriteableObservable(paramValue)&&function(value){paramValueComputed()(value)},disposeWhenNodeIsRemoved:elem}):paramValue});return result.hasOwnProperty("$raw")||(result.$raw=rawParamComputedValues),result}else return{$raw:{}}}ko.components.getComponentNameForNode=function(node){var tagNameLower=ko.utils.tagNameLower(node);if(ko.components.isRegistered(tagNameLower)&&(tagNameLower.indexOf("-")!=-1||""+node=="[object HTMLUnknownElement]"||ko.utils.ieVersion<=8&&node.tagName===tagNameLower))return tagNameLower};ko.components.addBindingsForCustomElement=function(allBindings,node,bindingContext,valueAccessors){var componentName,componentBindingValue;if(node.nodeType===1&&(componentName=ko.components.getComponentNameForNode(node),componentName)){if(allBindings=allBindings||{},allBindings.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');componentBindingValue={name:componentName,params:getComponentParamsFromCustomElement(node,bindingContext)};allBindings.component=valueAccessors?function(){return componentBindingValue}:componentBindingValue}return allBindings};var nativeBindingProviderInstance=new ko.bindingProvider;ko.utils.ieVersion<9&&(ko.components.register=function(originalFunction){return function(componentName){return document.createElement(componentName),originalFunction.apply(this,arguments)}}(ko.components.register),document.createDocumentFragment=function(originalFunction){return function(){var newDocFrag=originalFunction(),allComponents=ko.components._allRegisteredComponents;for(var componentName in allComponents)allComponents.hasOwnProperty(componentName)&&newDocFrag.createElement(componentName);return newDocFrag}}(document.createDocumentFragment))}(),function(undefined){function cloneTemplateIntoElement(componentName,componentDefinition,element){var template=componentDefinition.template,clonedNodesArray;if(!template)throw new Error("Component '"+componentName+"' has no template");clonedNodesArray=ko.utils.cloneNodes(template);ko.virtualElements.setDomNodeChildren(element,clonedNodesArray)}function createViewModel(componentDefinition,element,originalChildNodes,componentParams){var componentViewModelFactory=componentDefinition.createViewModel;return componentViewModelFactory?componentViewModelFactory.call(componentDefinition,componentParams,{element:element,templateNodes:originalChildNodes}):componentParams}var componentLoadingOperationUniqueId=0;ko.bindingHandlers.component={init:function(element,valueAccessor,ignored1,ignored2,bindingContext){var currentViewModel,currentLoadingOperationId,disposeAssociatedComponentViewModel=function(){var currentViewModelDispose=currentViewModel&&currentViewModel.dispose;typeof currentViewModelDispose=="function"&&currentViewModelDispose.call(currentViewModel);currentViewModel=null;currentLoadingOperationId=null},originalChildNodes=ko.utils.makeArray(ko.virtualElements.childNodes(element));return ko.utils.domNodeDisposal.addDisposeCallback(element,disposeAssociatedComponentViewModel),ko.computed(function(){var value=ko.utils.unwrapObservable(valueAccessor()),componentName,componentParams,loadingOperationId;if(typeof value=="string"?componentName=value:(componentName=ko.utils.unwrapObservable(value.name),componentParams=ko.utils.unwrapObservable(value.params)),!componentName)throw new Error("No component name specified");loadingOperationId=currentLoadingOperationId=++componentLoadingOperationUniqueId;ko.components.get(componentName,function(componentDefinition){if(currentLoadingOperationId===loadingOperationId){if(disposeAssociatedComponentViewModel(),!componentDefinition)throw new Error("Unknown component '"+componentName+"'");cloneTemplateIntoElement(componentName,componentDefinition,element);var componentViewModel=createViewModel(componentDefinition,element,originalChildNodes,componentParams),childBindingContext=bindingContext.createChildContext(componentViewModel,undefined,function(ctx){ctx.$component=componentViewModel;ctx.$componentTemplateNodes=originalChildNodes});currentViewModel=componentViewModel;ko.applyBindingsToDescendants(childBindingContext,element)}})},null,{disposeWhenNodeIsRemoved:element}),{controlsDescendantBindings:!0}}};ko.virtualElements.allowedBindings.component=!0}();attrHtmlToJavascriptMap={"class":"className","for":"htmlFor"};ko.bindingHandlers.attr={update:function(element,valueAccessor,allBindings){var value=ko.utils.unwrapObservable(valueAccessor())||{};ko.utils.objectForEach(value,function(attrName,attrValue){attrValue=ko.utils.unwrapObservable(attrValue);var toRemove=attrValue===!1||attrValue===null||attrValue===undefined;toRemove&&element.removeAttribute(attrName);ko.utils.ieVersion<=8&&attrName in attrHtmlToJavascriptMap?(attrName=attrHtmlToJavascriptMap[attrName],toRemove?element.removeAttribute(attrName):element[attrName]=attrValue):toRemove||element.setAttribute(attrName,attrValue.toString());attrName==="name"&&ko.utils.setElementName(element,toRemove?"":attrValue.toString())})}},function(){ko.bindingHandlers.checked={after:["value","attr"],init:function(element,valueAccessor,allBindings){function updateModel(){var isChecked=element.checked,elemValue=useCheckedValue?checkedValue():isChecked,modelValue,writableValue;ko.computedContext.isInitial()||(!isRadio||isChecked)&&(modelValue=ko.dependencyDetection.ignore(valueAccessor),valueIsArray?(writableValue=rawValueIsNonArrayObservable?modelValue.peek():modelValue,oldElemValue!==elemValue?(isChecked&&(ko.utils.addOrRemoveItem(writableValue,elemValue,!0),ko.utils.addOrRemoveItem(writableValue,oldElemValue,!1)),oldElemValue=elemValue):ko.utils.addOrRemoveItem(writableValue,elemValue,isChecked),rawValueIsNonArrayObservable&&ko.isWriteableObservable(modelValue)&&modelValue(writableValue)):ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,"checked",elemValue,!0))}function updateView(){var modelValue=ko.utils.unwrapObservable(valueAccessor());element.checked=valueIsArray?ko.utils.arrayIndexOf(modelValue,checkedValue())>=0:isCheckbox?modelValue:checkedValue()===modelValue}var checkedValue=ko.pureComputed(function(){if(allBindings.has("checkedValue"))return ko.utils.unwrapObservable(allBindings.get("checkedValue"));else if(allBindings.has("value"))return ko.utils.unwrapObservable(allBindings.get("value"));return element.value}),isCheckbox=element.type=="checkbox",isRadio=element.type=="radio";if(isCheckbox||isRadio){var rawValue=valueAccessor(),valueIsArray=isCheckbox&&ko.utils.unwrapObservable(rawValue)instanceof Array,rawValueIsNonArrayObservable=!(valueIsArray&&rawValue.push&&rawValue.splice),oldElemValue=valueIsArray?checkedValue():undefined,useCheckedValue=isRadio||valueIsArray;isRadio&&!element.name&&ko.bindingHandlers.uniqueName.init(element,function(){return!0});ko.computed(updateModel,null,{disposeWhenNodeIsRemoved:element});ko.utils.registerEventHandler(element,"click",updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element});rawValue=undefined}}};ko.expressionRewriting.twoWayBindings.checked=!0;ko.bindingHandlers.checkedValue={update:function(element,valueAccessor){element.value=ko.utils.unwrapObservable(valueAccessor())}}}();classesWrittenByBindingKey="__ko__cssValue";ko.bindingHandlers.css={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());value!==null&&typeof value=="object"?ko.utils.objectForEach(value,function(className,shouldHaveClass){shouldHaveClass=ko.utils.unwrapObservable(shouldHaveClass);ko.utils.toggleDomNodeCssClass(element,className,shouldHaveClass)}):(value=ko.utils.stringTrim(String(value||"")),ko.utils.toggleDomNodeCssClass(element,element[classesWrittenByBindingKey],!1),element[classesWrittenByBindingKey]=value,ko.utils.toggleDomNodeCssClass(element,value,!0))}};ko.bindingHandlers.enable={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());value&&element.disabled?element.removeAttribute("disabled"):value||element.disabled||(element.disabled=!0)}};ko.bindingHandlers.disable={update:function(element,valueAccessor){ko.bindingHandlers.enable.update(element,function(){return!ko.utils.unwrapObservable(valueAccessor())})}};ko.bindingHandlers.event={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var eventsToHandle=valueAccessor()||{};ko.utils.objectForEach(eventsToHandle,function(eventName){typeof eventName=="string"&&ko.utils.registerEventHandler(element,eventName,function(event){var handlerReturnValue,handlerFunction=valueAccessor()[eventName],argsForHandler,bubble;if(handlerFunction){try{argsForHandler=ko.utils.makeArray(arguments);viewModel=bindingContext.$data;argsForHandler.unshift(viewModel);handlerReturnValue=handlerFunction.apply(viewModel,argsForHandler)}finally{handlerReturnValue!==!0&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}bubble=allBindings.get(eventName+"Bubble")!==!1;bubble||(event.cancelBubble=!0,event.stopPropagation&&event.stopPropagation())}})})}};ko.bindingHandlers.foreach={makeTemplateValueAccessor:function(valueAccessor){return function(){var modelValue=valueAccessor(),unwrappedValue=ko.utils.peekObservable(modelValue);return!unwrappedValue||typeof unwrappedValue.length=="number"?{foreach:modelValue,templateEngine:ko.nativeTemplateEngine.instance}:(ko.utils.unwrapObservable(modelValue),{foreach:unwrappedValue.data,as:unwrappedValue.as,includeDestroyed:unwrappedValue.includeDestroyed,afterAdd:unwrappedValue.afterAdd,beforeRemove:unwrappedValue.beforeRemove,afterRender:unwrappedValue.afterRender,beforeMove:unwrappedValue.beforeMove,afterMove:unwrappedValue.afterMove,templateEngine:ko.nativeTemplateEngine.instance})}},init:function(element,valueAccessor,allBindings,viewModel,bindingContext){return ko.bindingHandlers.template.init(element,ko.bindingHandlers.foreach.makeTemplateValueAccessor(valueAccessor))},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){return ko.bindingHandlers.template.update(element,ko.bindingHandlers.foreach.makeTemplateValueAccessor(valueAccessor),allBindings,viewModel,bindingContext)}};ko.expressionRewriting.bindingRewriteValidators.foreach=!1;ko.virtualElements.allowedBindings.foreach=!0;hasfocusUpdatingProperty="__ko_hasfocusUpdating";hasfocusLastValue="__ko_hasfocusLastValue";ko.bindingHandlers.hasfocus={init:function(element,valueAccessor,allBindings){var handleElementFocusChange=function(isFocused){var ownerDoc,active,modelValue;if(element[hasfocusUpdatingProperty]=!0,ownerDoc=element.ownerDocument,"activeElement"in ownerDoc){try{active=ownerDoc.activeElement}catch(e){active=ownerDoc.body}isFocused=active===element}modelValue=valueAccessor();ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,"hasfocus",isFocused,!0);element[hasfocusLastValue]=isFocused;element[hasfocusUpdatingProperty]=!1},handleElementFocusIn=handleElementFocusChange.bind(null,!0),handleElementFocusOut=handleElementFocusChange.bind(null,!1);ko.utils.registerEventHandler(element,"focus",handleElementFocusIn);ko.utils.registerEventHandler(element,"focusin",handleElementFocusIn);ko.utils.registerEventHandler(element,"blur",handleElementFocusOut);ko.utils.registerEventHandler(element,"focusout",handleElementFocusOut)},update:function(element,valueAccessor){var value=!!ko.utils.unwrapObservable(valueAccessor());element[hasfocusUpdatingProperty]||element[hasfocusLastValue]===value||(value?element.focus():element.blur(),!value&&element[hasfocusLastValue]&&element.ownerDocument.body.focus(),ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,value?"focusin":"focusout"]))}};ko.expressionRewriting.twoWayBindings.hasfocus=!0;ko.bindingHandlers.hasFocus=ko.bindingHandlers.hasfocus;ko.expressionRewriting.twoWayBindings.hasFocus=!0;ko.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor){ko.utils.setHtml(element,valueAccessor())}};makeWithIfBinding("if");makeWithIfBinding("ifnot",!1,!0);makeWithIfBinding("with",!0,!1,function(bindingContext,dataValue){return bindingContext.createChildContext(dataValue)});captionPlaceholder={};ko.bindingHandlers.options={init:function(element){if(ko.utils.tagNameLower(element)!=="select")throw new Error("options binding applies only to SELECT elements");while(element.length>0)element.remove(0);return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindings){function selectedOptions(){return ko.utils.arrayFilter(element.options,function(node){return node.selected})}function applyToObject(object,predicate,defaultValue){var predicateType=typeof predicate;return predicateType=="function"?predicate(object):predicateType=="string"?object[predicate]:defaultValue}function optionForArrayItem(arrayEntry,index,oldOptions){var option,optionValue,optionText;return oldOptions.length&&(previousSelectedValues=!valueAllowUnset&&oldOptions[0].selected?[ko.selectExtensions.readValue(oldOptions[0])]:[],itemUpdate=!0),option=element.ownerDocument.createElement("option"),arrayEntry===captionPlaceholder?(ko.utils.setTextContent(option,allBindings.get("optionsCaption")),ko.selectExtensions.writeValue(option,undefined)):(optionValue=applyToObject(arrayEntry,allBindings.get("optionsValue"),arrayEntry),ko.selectExtensions.writeValue(option,ko.utils.unwrapObservable(optionValue)),optionText=applyToObject(arrayEntry,allBindings.get("optionsText"),optionValue),ko.utils.setTextContent(option,optionText)),[option]}function setSelectionCallback(arrayEntry,newOptions){if(itemUpdate&&valueAllowUnset)ko.selectExtensions.writeValue(element,ko.utils.unwrapObservable(allBindings.get("value")),!0);else if(previousSelectedValues.length){var isSelected=ko.utils.arrayIndexOf(previousSelectedValues,ko.selectExtensions.readValue(newOptions[0]))>=0;ko.utils.setOptionNodeSelectionState(newOptions[0],isSelected);itemUpdate&&!isSelected&&ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,"change"])}}var selectWasPreviouslyEmpty=element.length==0,multiple=element.multiple,previousScrollTop=!selectWasPreviouslyEmpty&&multiple?element.scrollTop:null,unwrappedArray=ko.utils.unwrapObservable(valueAccessor()),valueAllowUnset=allBindings.get("valueAllowUnset")&&allBindings.has("value"),includeDestroyed=allBindings.get("optionsIncludeDestroyed"),arrayToDomNodeChildrenOptions={},captionValue,filteredArray,previousSelectedValues=[],itemUpdate,callback;valueAllowUnset||(multiple?previousSelectedValues=ko.utils.arrayMap(selectedOptions(),ko.selectExtensions.readValue):element.selectedIndex>=0&&previousSelectedValues.push(ko.selectExtensions.readValue(element.options[element.selectedIndex])));unwrappedArray&&(typeof unwrappedArray.length=="undefined"&&(unwrappedArray=[unwrappedArray]),filteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){return includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item._destroy)}),allBindings.has("optionsCaption")&&(captionValue=ko.utils.unwrapObservable(allBindings.get("optionsCaption")),captionValue!==null&&captionValue!==undefined&&filteredArray.unshift(captionPlaceholder)));itemUpdate=!1;arrayToDomNodeChildrenOptions.beforeRemove=function(option){element.removeChild(option)};callback=setSelectionCallback;allBindings.has("optionsAfterRender")&&typeof allBindings.get("optionsAfterRender")=="function"&&(callback=function(arrayEntry,newOptions){setSelectionCallback(arrayEntry,newOptions);ko.dependencyDetection.ignore(allBindings.get("optionsAfterRender"),null,[newOptions[0],arrayEntry!==captionPlaceholder?arrayEntry:undefined])});ko.utils.setDomNodeChildrenFromArrayMapping(element,filteredArray,optionForArrayItem,arrayToDomNodeChildrenOptions,callback);ko.dependencyDetection.ignore(function(){if(valueAllowUnset)ko.selectExtensions.writeValue(element,ko.utils.unwrapObservable(allBindings.get("value")),!0);else{var selectionChanged;selectionChanged=multiple?previousSelectedValues.length&&selectedOptions().length<previousSelectedValues.length:previousSelectedValues.length&&element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex])!==previousSelectedValues[0]:previousSelectedValues.length||element.selectedIndex>=0;selectionChanged&&ko.utils.triggerEvent(element,"change")}});ko.utils.ensureSelectElementIsRenderedCorrectly(element);previousScrollTop&&Math.abs(previousScrollTop-element.scrollTop)>20&&(element.scrollTop=previousScrollTop)}};ko.bindingHandlers.options.optionValueDomDataKey=ko.utils.domData.nextKey();ko.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(element,valueAccessor,allBindings){ko.utils.registerEventHandler(element,"change",function(){var value=valueAccessor(),valueToWrite=[];ko.utils.arrayForEach(element.getElementsByTagName("option"),function(node){node.selected&&valueToWrite.push(ko.selectExtensions.readValue(node))});ko.expressionRewriting.writeValueToProperty(value,allBindings,"selectedOptions",valueToWrite)})},update:function(element,valueAccessor){if(ko.utils.tagNameLower(element)!="select")throw new Error("values binding applies only to SELECT elements");var newValue=ko.utils.unwrapObservable(valueAccessor()),previousScrollTop=element.scrollTop;newValue&&typeof newValue.length=="number"&&ko.utils.arrayForEach(element.getElementsByTagName("option"),function(node){var isSelected=ko.utils.arrayIndexOf(newValue,ko.selectExtensions.readValue(node))>=0;node.selected!=isSelected&&ko.utils.setOptionNodeSelectionState(node,isSelected)});element.scrollTop=previousScrollTop}};ko.expressionRewriting.twoWayBindings.selectedOptions=!0;ko.bindingHandlers.style={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()||{});ko.utils.objectForEach(value,function(styleName,styleValue){styleValue=ko.utils.unwrapObservable(styleValue);(styleValue===null||styleValue===undefined||styleValue===!1)&&(styleValue="");element.style[styleName]=styleValue})}};ko.bindingHandlers.submit={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){if(typeof valueAccessor()!="function")throw new Error("The value for a submit binding must be a function");ko.utils.registerEventHandler(element,"submit",function(event){var handlerReturnValue,value=valueAccessor();try{handlerReturnValue=value.call(bindingContext.$data,element)}finally{handlerReturnValue!==!0&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}})}};ko.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor){ko.utils.setTextContent(element,valueAccessor())}};ko.virtualElements.allowedBindings.text=!0,function(){if(window&&window.navigator)var parseVersion=function(matches){if(matches)return parseFloat(matches[1])},operaVersion=window.opera&&window.opera.version&&parseInt(window.opera.version()),userAgent=window.navigator.userAgent,safariVersion=parseVersion(userAgent.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),firefoxVersion=parseVersion(userAgent.match(/Firefox\/([^ ]*)/));if(ko.utils.ieVersion<10)var selectionChangeRegisteredName=ko.utils.domData.nextKey(),selectionChangeHandlerName=ko.utils.domData.nextKey(),selectionChangeHandler=function(event){var target=this.activeElement,handler=target&&ko.utils.domData.get(target,selectionChangeHandlerName);handler&&handler(event)},registerForSelectionChangeEvent=function(element,handler){var ownerDoc=element.ownerDocument;ko.utils.domData.get(ownerDoc,selectionChangeRegisteredName)||(ko.utils.domData.set(ownerDoc,selectionChangeRegisteredName,!0),ko.utils.registerEventHandler(ownerDoc,"selectionchange",selectionChangeHandler));ko.utils.domData.set(element,selectionChangeHandlerName,handler)};ko.bindingHandlers.textInput={init:function(element,valueAccessor,allBindings){var previousElementValue=element.value,timeoutHandle,elementValueBeforeEvent,updateModel=function(event){clearTimeout(timeoutHandle);elementValueBeforeEvent=timeoutHandle=undefined;var elementValue=element.value;previousElementValue!==elementValue&&(DEBUG&&event&&(element._ko_textInputProcessedEvent=event.type),previousElementValue=elementValue,ko.expressionRewriting.writeValueToProperty(valueAccessor(),allBindings,"textInput",elementValue))},deferUpdateModel=function(event){if(!timeoutHandle){elementValueBeforeEvent=element.value;var handler=DEBUG?updateModel.bind(element,{type:event.type}):updateModel;timeoutHandle=ko.utils.setTimeout(handler,4)}},ieUpdateModel=ko.utils.ieVersion==9?deferUpdateModel:updateModel,updateView=function(){var modelValue=ko.utils.unwrapObservable(valueAccessor());if((modelValue===null||modelValue===undefined)&&(modelValue=""),elementValueBeforeEvent!==undefined&&modelValue===elementValueBeforeEvent){ko.utils.setTimeout(updateView,4);return}element.value!==modelValue&&(previousElementValue=modelValue,element.value=modelValue)},onEvent=function(event,handler){ko.utils.registerEventHandler(element,event,handler)};DEBUG&&ko.bindingHandlers.textInput._forceUpdateOn?ko.utils.arrayForEach(ko.bindingHandlers.textInput._forceUpdateOn,function(eventName){eventName.slice(0,5)=="after"?onEvent(eventName.slice(5),deferUpdateModel):onEvent(eventName,updateModel)}):ko.utils.ieVersion<10?(onEvent("propertychange",function(event){event.propertyName==="value"&&ieUpdateModel(event)}),ko.utils.ieVersion==8&&(onEvent("keyup",updateModel),onEvent("keydown",updateModel)),ko.utils.ieVersion>=8&&(registerForSelectionChangeEvent(element,ieUpdateModel),onEvent("dragend",deferUpdateModel))):(onEvent("input",updateModel),safariVersion<5&&ko.utils.tagNameLower(element)==="textarea"?(onEvent("keydown",deferUpdateModel),onEvent("paste",deferUpdateModel),onEvent("cut",deferUpdateModel)):operaVersion<11?onEvent("keydown",deferUpdateModel):firefoxVersion<4&&(onEvent("DOMAutoComplete",updateModel),onEvent("dragdrop",updateModel),onEvent("drop",updateModel)));onEvent("change",updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element})}};ko.expressionRewriting.twoWayBindings.textInput=!0;ko.bindingHandlers.textinput={preprocess:function(value,name,addBinding){addBinding("textInput",value)}}}();ko.bindingHandlers.uniqueName={init:function(element,valueAccessor){if(valueAccessor()){var name="ko_unique_"+ ++ko.bindingHandlers.uniqueName.currentIndex;ko.utils.setElementName(element,name)}}};ko.bindingHandlers.uniqueName.currentIndex=0;ko.bindingHandlers.value={after:["options","foreach"],init:function(element,valueAccessor,allBindings){var valueUpdateHandler,ieAutoCompleteHackNeeded,updateFromModel;if(element.tagName.toLowerCase()=="input"&&(element.type=="checkbox"||element.type=="radio")){ko.applyBindingAccessorsToNode(element,{checkedValue:valueAccessor});return}var eventsToCatch=["change"],requestedEventsToCatch=allBindings.get("valueUpdate"),propertyChangedFired=!1,elementValueBeforeEvent=null;requestedEventsToCatch&&(typeof requestedEventsToCatch=="string"&&(requestedEventsToCatch=[requestedEventsToCatch]),ko.utils.arrayPushAll(eventsToCatch,requestedEventsToCatch),eventsToCatch=ko.utils.arrayGetDistinctValues(eventsToCatch));valueUpdateHandler=function(){elementValueBeforeEvent=null;propertyChangedFired=!1;var modelValue=valueAccessor(),elementValue=ko.selectExtensions.readValue(element);ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,"value",elementValue)};ieAutoCompleteHackNeeded=ko.utils.ieVersion&&element.tagName.toLowerCase()=="input"&&element.type=="text"&&element.autocomplete!="off"&&(!element.form||element.form.autocomplete!="off");ieAutoCompleteHackNeeded&&ko.utils.arrayIndexOf(eventsToCatch,"propertychange")==-1&&(ko.utils.registerEventHandler(element,"propertychange",function(){propertyChangedFired=!0}),ko.utils.registerEventHandler(element,"focus",function(){propertyChangedFired=!1}),ko.utils.registerEventHandler(element,"blur",function(){propertyChangedFired&&valueUpdateHandler()}));ko.utils.arrayForEach(eventsToCatch,function(eventName){var handler=valueUpdateHandler;ko.utils.stringStartsWith(eventName,"after")&&(handler=function(){elementValueBeforeEvent=ko.selectExtensions.readValue(element);ko.utils.setTimeout(valueUpdateHandler,0)},eventName=eventName.substring(5));ko.utils.registerEventHandler(element,eventName,handler)});updateFromModel=function(){var newValue=ko.utils.unwrapObservable(valueAccessor()),elementValue=ko.selectExtensions.readValue(element),valueHasChanged,allowUnset,applyValueAction;if(elementValueBeforeEvent!==null&&newValue===elementValueBeforeEvent){ko.utils.setTimeout(updateFromModel,0);return}valueHasChanged=newValue!==elementValue;valueHasChanged&&(ko.utils.tagNameLower(element)==="select"?(allowUnset=allBindings.get("valueAllowUnset"),applyValueAction=function(){ko.selectExtensions.writeValue(element,newValue,allowUnset)},applyValueAction(),allowUnset||newValue===ko.selectExtensions.readValue(element)?ko.utils.setTimeout(applyValueAction,0):ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,"change"])):ko.selectExtensions.writeValue(element,newValue))};ko.computed(updateFromModel,null,{disposeWhenNodeIsRemoved:element})},update:function(){}};ko.expressionRewriting.twoWayBindings.value=!0;ko.bindingHandlers.visible={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()),isCurrentlyVisible=!(element.style.display=="none");value&&!isCurrentlyVisible?element.style.display="":!value&&isCurrentlyVisible&&(element.style.display="none")}};makeEventHandlerShortcut("click");ko.templateEngine=function(){};ko.templateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options,templateDocument){throw new Error("Override renderTemplateSource");};ko.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(script){throw new Error("Override createJavaScriptEvaluatorBlock");};ko.templateEngine.prototype.makeTemplateSource=function(template,templateDocument){if(typeof template=="string"){templateDocument=templateDocument||document;var elem=templateDocument.getElementById(template);if(!elem)throw new Error("Cannot find template with ID "+template);return new ko.templateSources.domElement(elem)}else if(template.nodeType==1||template.nodeType==8)return new ko.templateSources.anonymousTemplate(template);else throw new Error("Unknown template type: "+template);};ko.templateEngine.prototype.renderTemplate=function(template,bindingContext,options,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument);return this.renderTemplateSource(templateSource,bindingContext,options,templateDocument)};ko.templateEngine.prototype.isTemplateRewritten=function(template,templateDocument){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(template,templateDocument).data("isRewritten")};ko.templateEngine.prototype.rewriteTemplate=function(template,rewriterCallback,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument),rewritten=rewriterCallback(templateSource.text());templateSource.text(rewritten);templateSource.data("isRewritten",!0)};ko.exportSymbol("templateEngine",ko.templateEngine);ko.templateRewriting=function(){function validateDataBindValuesForRewriting(keyValueArray){for(var key,validator,possibleErrorMessage,allValidators=ko.expressionRewriting.bindingRewriteValidators,i=0;i<keyValueArray.length;i++)if(key=keyValueArray[i].key,allValidators.hasOwnProperty(key))if(validator=allValidators[key],typeof validator=="function"){if(possibleErrorMessage=validator(keyValueArray[i].value),possibleErrorMessage)throw new Error(possibleErrorMessage);}else if(!validator)throw new Error("This template engine does not support the '"+key+"' binding within its templates");}function constructMemoizedTagReplacement(dataBindAttributeValue,tagToRetain,nodeName,templateEngine){var dataBindKeyValueArray=ko.expressionRewriting.parseObjectLiteral(dataBindAttributeValue),rewrittenDataBindAttributeValue,applyBindingsToNextSiblingScript;return validateDataBindValuesForRewriting(dataBindKeyValueArray),rewrittenDataBindAttributeValue=ko.expressionRewriting.preProcessBindings(dataBindKeyValueArray,{valueAccessors:!0}),applyBindingsToNextSiblingScript="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+rewrittenDataBindAttributeValue+" } })()},'"+nodeName.toLowerCase()+"')",templateEngine.createJavaScriptEvaluatorBlock(applyBindingsToNextSiblingScript)+tagToRetain}var memoizeDataBindingAttributeSyntaxRegex=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,memoizeVirtualContainerBindingSyntaxRegex=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(template,templateEngine,templateDocument){templateEngine.isTemplateRewritten(template,templateDocument)||templateEngine.rewriteTemplate(template,function(htmlString){return ko.templateRewriting.memoizeBindingAttributeSyntax(htmlString,templateEngine)},templateDocument)},memoizeBindingAttributeSyntax:function(htmlString,templateEngine){return htmlString.replace(memoizeDataBindingAttributeSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[4],arguments[1],arguments[2],templateEngine)}).replace(memoizeVirtualContainerBindingSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[1],"<!-- ko -->","#comment",templateEngine)})},applyMemoizedBindingsToNextSibling:function(bindings,nodeName){return ko.memoization.memoize(function(domNode,bindingContext){var nodeToBind=domNode.nextSibling;nodeToBind&&nodeToBind.nodeName.toLowerCase()===nodeName&&ko.applyBindingAccessorsToNode(nodeToBind,bindings,bindingContext)})}}}();ko.exportSymbol("__tr_ambtns",ko.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function getTemplateDomData(element){return ko.utils.domData.get(element,templatesDomDataKey)||{}}function setTemplateDomData(element,data){ko.utils.domData.set(element,templatesDomDataKey,data)}var dataDomDataPrefix,templatesDomDataKey;ko.templateSources={};var templateScript=1,templateTextArea=2,templateTemplate=3,templateElement=4;ko.templateSources.domElement=function(element){if(this.domElement=element,element){var tagNameLower=ko.utils.tagNameLower(element);this.templateType=tagNameLower==="script"?templateScript:tagNameLower==="textarea"?templateTextArea:tagNameLower=="template"&&element.content&&element.content.nodeType===11?templateTemplate:templateElement}};ko.templateSources.domElement.prototype.text=function(){var elemContentsProperty=this.templateType===templateScript?"text":this.templateType===templateTextArea?"value":"innerHTML",valueToWrite;if(arguments.length==0)return this.domElement[elemContentsProperty];else valueToWrite=arguments[0],elemContentsProperty==="innerHTML"?ko.utils.setHtml(this.domElement,valueToWrite):this.domElement[elemContentsProperty]=valueToWrite};dataDomDataPrefix=ko.utils.domData.nextKey()+"_";ko.templateSources.domElement.prototype.data=function(key){if(arguments.length===1)return ko.utils.domData.get(this.domElement,dataDomDataPrefix+key);else ko.utils.domData.set(this.domElement,dataDomDataPrefix+key,arguments[1])};templatesDomDataKey=ko.utils.domData.nextKey();ko.templateSources.domElement.prototype.nodes=function(){var element=this.domElement,templateData,containerData,valueToWrite;if(arguments.length==0)return templateData=getTemplateDomData(element),containerData=templateData.containerData,containerData||(this.templateType===templateTemplate?element.content:this.templateType===templateElement?element:undefined);else valueToWrite=arguments[0],setTemplateDomData(element,{containerData:valueToWrite})};ko.templateSources.anonymousTemplate=function(element){this.domElement=element};ko.templateSources.anonymousTemplate.prototype=new ko.templateSources.domElement;ko.templateSources.anonymousTemplate.prototype.constructor=ko.templateSources.anonymousTemplate;ko.templateSources.anonymousTemplate.prototype.text=function(){var templateData,valueToWrite;if(arguments.length==0)return templateData=getTemplateDomData(this.domElement),templateData.textData===undefined&&templateData.containerData&&(templateData.textData=templateData.containerData.innerHTML),templateData.textData;else valueToWrite=arguments[0],setTemplateDomData(this.domElement,{textData:valueToWrite})};ko.exportSymbol("templateSources",ko.templateSources);ko.exportSymbol("templateSources.domElement",ko.templateSources.domElement);ko.exportSymbol("templateSources.anonymousTemplate",ko.templateSources.anonymousTemplate)}(),function(){function invokeForEachNodeInContinuousRange(firstNode,lastNode,action){for(var node,nextInQueue=firstNode,firstOutOfRangeNode=ko.virtualElements.nextSibling(lastNode);nextInQueue&&(node=nextInQueue)!==firstOutOfRangeNode;)nextInQueue=ko.virtualElements.nextSibling(node),action(node,nextInQueue)}function activateBindingsOnContinuousNodeArray(continuousNodeArray,bindingContext){if(continuousNodeArray.length){var firstNode=continuousNodeArray[0],lastNode=continuousNodeArray[continuousNodeArray.length-1],parentNode=firstNode.parentNode,provider=ko.bindingProvider.instance,preprocessNode=provider.preprocessNode;if(preprocessNode){if(invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node,nextNodeInRange){var nodePreviousSibling=node.previousSibling,newNodes=preprocessNode.call(provider,node);newNodes&&(node===firstNode&&(firstNode=newNodes[0]||nextNodeInRange),node===lastNode&&(lastNode=newNodes[newNodes.length-1]||nodePreviousSibling))}),continuousNodeArray.length=0,!firstNode)return;firstNode===lastNode?continuousNodeArray.push(firstNode):(continuousNodeArray.push(firstNode,lastNode),ko.utils.fixUpContinuousNodeArray(continuousNodeArray,parentNode))}invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node){(node.nodeType===1||node.nodeType===8)&&ko.applyBindings(bindingContext,node)});invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node){(node.nodeType===1||node.nodeType===8)&&ko.memoization.unmemoizeDomNodeAndDescendants(node,[bindingContext])});ko.utils.fixUpContinuousNodeArray(continuousNodeArray,parentNode)}}function getFirstNodeFromPossibleArray(nodeOrNodeArray){return nodeOrNodeArray.nodeType?nodeOrNodeArray:nodeOrNodeArray.length>0?nodeOrNodeArray[0]:null}function executeTemplate(targetNodeOrNodeArray,renderMode,template,bindingContext,options){var renderedNodesArray,haveAddedNodesToParent;options=options||{};var firstTargetNode=targetNodeOrNodeArray&&getFirstNodeFromPossibleArray(targetNodeOrNodeArray),templateDocument=(firstTargetNode||template||{}).ownerDocument,templateEngineToUse=options.templateEngine||_templateEngine;if(ko.templateRewriting.ensureTemplateIsRewritten(template,templateEngineToUse,templateDocument),renderedNodesArray=templateEngineToUse.renderTemplate(template,bindingContext,options,templateDocument),typeof renderedNodesArray.length!="number"||renderedNodesArray.length>0&&typeof renderedNodesArray[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");haveAddedNodesToParent=!1;switch(renderMode){case"replaceChildren":ko.virtualElements.setDomNodeChildren(targetNodeOrNodeArray,renderedNodesArray);haveAddedNodesToParent=!0;break;case"replaceNode":ko.utils.replaceDomNodes(targetNodeOrNodeArray,renderedNodesArray);haveAddedNodesToParent=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+renderMode);}return haveAddedNodesToParent&&(activateBindingsOnContinuousNodeArray(renderedNodesArray,bindingContext),options.afterRender&&ko.dependencyDetection.ignore(options.afterRender,null,[renderedNodesArray,bindingContext.$data])),renderedNodesArray}function resolveTemplateName(template,data,context){return ko.isObservable(template)?template():typeof template=="function"?template(data,context):template}function disposeOldComputedAndStoreNewOne(element,newComputed){var oldComputed=ko.utils.domData.get(element,templateComputedDomDataKey);oldComputed&&typeof oldComputed.dispose=="function"&&oldComputed.dispose();ko.utils.domData.set(element,templateComputedDomDataKey,newComputed&&newComputed.isActive()?newComputed:undefined)}var _templateEngine,templateComputedDomDataKey;ko.setTemplateEngine=function(templateEngine){if(templateEngine!=undefined&&!(templateEngine instanceof ko.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");_templateEngine=templateEngine};ko.renderTemplate=function(template,dataOrBindingContext,options,targetNodeOrNodeArray,renderMode){if(options=options||{},(options.templateEngine||_templateEngine)==undefined)throw new Error("Set a template engine before calling renderTemplate");if(renderMode=renderMode||"replaceChildren",targetNodeOrNodeArray){var firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray),whenToDispose=function(){return!firstTargetNode||!ko.utils.domNodeIsAttachedToDocument(firstTargetNode)},activelyDisposeWhenNodeIsRemoved=firstTargetNode&&renderMode=="replaceNode"?firstTargetNode.parentNode:firstTargetNode;return ko.dependentObservable(function(){var bindingContext=dataOrBindingContext&&dataOrBindingContext instanceof ko.bindingContext?dataOrBindingContext:new ko.bindingContext(ko.utils.unwrapObservable(dataOrBindingContext)),templateName=resolveTemplateName(template,bindingContext.$data,bindingContext),renderedNodesArray=executeTemplate(targetNodeOrNodeArray,renderMode,templateName,bindingContext,options);renderMode=="replaceNode"&&(targetNodeOrNodeArray=renderedNodesArray,firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray))},null,{disposeWhen:whenToDispose,disposeWhenNodeIsRemoved:activelyDisposeWhenNodeIsRemoved})}else return ko.memoization.memoize(function(domNode){ko.renderTemplate(template,dataOrBindingContext,options,domNode,"replaceNode")})};ko.renderTemplateForEach=function(template,arrayOrObservableArray,options,targetNode,parentBindingContext){var arrayItemContext,executeTemplateForArrayItem=function(arrayValue,index){arrayItemContext=parentBindingContext.createChildContext(arrayValue,options.as,function(context){context.$index=index});var templateName=resolveTemplateName(template,arrayValue,arrayItemContext);return executeTemplate(null,"ignoreTargetNode",templateName,arrayItemContext,options)},activateBindingsCallback=function(arrayValue,addedNodesArray,index){activateBindingsOnContinuousNodeArray(addedNodesArray,arrayItemContext);options.afterRender&&options.afterRender(addedNodesArray,arrayValue);arrayItemContext=null};return ko.dependentObservable(function(){var unwrappedArray=ko.utils.unwrapObservable(arrayOrObservableArray)||[],filteredArray;typeof unwrappedArray.length=="undefined"&&(unwrappedArray=[unwrappedArray]);filteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){return options.includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item._destroy)});ko.dependencyDetection.ignore(ko.utils.setDomNodeChildrenFromArrayMapping,null,[targetNode,filteredArray,executeTemplateForArrayItem,options,activateBindingsCallback])},null,{disposeWhenNodeIsRemoved:targetNode})};templateComputedDomDataKey=ko.utils.domData.nextKey();ko.bindingHandlers.template={init:function(element,valueAccessor){var bindingValue=ko.utils.unwrapObservable(valueAccessor()),nodes,templateNodes,container;if(typeof bindingValue=="string"||bindingValue.name)ko.virtualElements.emptyNode(element);else if("nodes"in bindingValue){if(nodes=bindingValue.nodes||[],ko.isObservable(nodes))throw new Error('The "nodes" option must be a plain, non-observable array.');container=ko.utils.moveCleanedNodesToContainerElement(nodes);new ko.templateSources.anonymousTemplate(element).nodes(container)}else templateNodes=ko.virtualElements.childNodes(element),container=ko.utils.moveCleanedNodesToContainerElement(templateNodes),new ko.templateSources.anonymousTemplate(element).nodes(container);return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=valueAccessor(),dataValue,options=ko.utils.unwrapObservable(value),shouldDisplay=!0,templateComputed=null,templateName,dataArray,innerBindingContext;typeof options=="string"?(templateName=value,options={}):(templateName=options.name,"if"in options&&(shouldDisplay=ko.utils.unwrapObservable(options["if"])),shouldDisplay&&"ifnot"in options&&(shouldDisplay=!ko.utils.unwrapObservable(options.ifnot)),dataValue=ko.utils.unwrapObservable(options.data));"foreach"in options?(dataArray=shouldDisplay&&options.foreach||[],templateComputed=ko.renderTemplateForEach(templateName||element,dataArray,options,element,bindingContext)):shouldDisplay?(innerBindingContext="data"in options?bindingContext.createChildContext(dataValue,options.as):bindingContext,templateComputed=ko.renderTemplate(templateName||element,innerBindingContext,options,element)):ko.virtualElements.emptyNode(element);disposeOldComputedAndStoreNewOne(element,templateComputed)}};ko.expressionRewriting.bindingRewriteValidators.template=function(bindingValue){var parsedBindingValue=ko.expressionRewriting.parseObjectLiteral(bindingValue);return parsedBindingValue.length==1&&parsedBindingValue[0].unknown?null:ko.expressionRewriting.keyValueArrayContainsKey(parsedBindingValue,"name")?null:"This template engine does not support anonymous templates nested within its templates"};ko.virtualElements.allowedBindings.template=!0}();ko.exportSymbol("setTemplateEngine",ko.setTemplateEngine);ko.exportSymbol("renderTemplate",ko.renderTemplate);ko.utils.findMovesInArrayComparison=function(left,right,limitFailedCompares){if(left.length&&right.length)for(var l,r,leftItem,rightItem,failedCompares=l=0;(!limitFailedCompares||failedCompares<limitFailedCompares)&&(leftItem=left[l]);++l){for(r=0;rightItem=right[r];++r)if(leftItem.value===rightItem.value){leftItem.moved=rightItem.index;rightItem.moved=leftItem.index;right.splice(r,1);failedCompares=r=0;break}failedCompares+=r}};ko.utils.compareArrays=function(){function compareArrays(oldArray,newArray,options){return options=typeof options=="boolean"?{dontLimitMoves:options}:options||{},oldArray=oldArray||[],newArray=newArray||[],oldArray.length<newArray.length?compareSmallArrayToBigArray(oldArray,newArray,statusNotInOld,statusNotInNew,options):compareSmallArrayToBigArray(newArray,oldArray,statusNotInNew,statusNotInOld,options)}function compareSmallArrayToBigArray(smlArray,bigArray,statusNotInSml,statusNotInBig,options){for(var myMin=Math.min,myMax=Math.max,editDistanceMatrix=[],smlIndexMax=smlArray.length,bigIndex,bigIndexMax=bigArray.length,compareRange=bigIndexMax-smlIndexMax||1,maxDistance=smlIndexMax+bigIndexMax+1,thisRow,lastRow,bigIndexMaxForRow,bigIndexMinForRow,northDistance,westDistance,smlIndex=0;smlIndex<=smlIndexMax;smlIndex++)for(lastRow=thisRow,editDistanceMatrix.push(thisRow=[]),bigIndexMaxForRow=myMin(bigIndexMax,smlIndex+compareRange),bigIndexMinForRow=myMax(0,smlIndex-1),bigIndex=bigIndexMinForRow;bigIndex<=bigIndexMaxForRow;bigIndex++)bigIndex?smlIndex?smlArray[smlIndex-1]===bigArray[bigIndex-1]?thisRow[bigIndex]=lastRow[bigIndex-1]:(northDistance=lastRow[bigIndex]||maxDistance,westDistance=thisRow[bigIndex-1]||maxDistance,thisRow[bigIndex]=myMin(northDistance,westDistance)+1):thisRow[bigIndex]=bigIndex+1:thisRow[bigIndex]=smlIndex+1;var editScript=[],meMinusOne,notInSml=[],notInBig=[];for(smlIndex=smlIndexMax,bigIndex=bigIndexMax;smlIndex||bigIndex;)meMinusOne=editDistanceMatrix[smlIndex][bigIndex]-1,bigIndex&&meMinusOne===editDistanceMatrix[smlIndex][bigIndex-1]?notInSml.push(editScript[editScript.length]={status:statusNotInSml,value:bigArray[--bigIndex],index:bigIndex}):smlIndex&&meMinusOne===editDistanceMatrix[smlIndex-1][bigIndex]?notInBig.push(editScript[editScript.length]={status:statusNotInBig,value:smlArray[--smlIndex],index:smlIndex}):(--bigIndex,--smlIndex,options.sparse||editScript.push({status:"retained",value:bigArray[bigIndex]}));return ko.utils.findMovesInArrayComparison(notInBig,notInSml,!options.dontLimitMoves&&smlIndexMax*10),editScript.reverse()}var statusNotInOld="added",statusNotInNew="deleted";return compareArrays}();ko.exportSymbol("utils.compareArrays",ko.utils.compareArrays),function(){function mapNodeAndRefreshWhenChanged(containerNode,mapping,valueToMap,callbackAfterAddingNodes,index){var mappedNodes=[],dependentObservable=ko.dependentObservable(function(){var newMappedNodes=mapping(valueToMap,index,ko.utils.fixUpContinuousNodeArray(mappedNodes,containerNode))||[];mappedNodes.length>0&&(ko.utils.replaceDomNodes(mappedNodes,newMappedNodes),callbackAfterAddingNodes&&ko.dependencyDetection.ignore(callbackAfterAddingNodes,null,[valueToMap,newMappedNodes,index]));mappedNodes.length=0;ko.utils.arrayPushAll(mappedNodes,newMappedNodes)},null,{disposeWhenNodeIsRemoved:containerNode,disposeWhen:function(){return!ko.utils.anyDomNodeIsAttachedToDocument(mappedNodes)}});return{mappedNodes:mappedNodes,dependentObservable:dependentObservable.isActive()?dependentObservable:undefined}}var lastMappingResultDomDataKey=ko.utils.domData.nextKey(),deletedItemDummyValue=ko.utils.domData.nextKey();ko.utils.setDomNodeChildrenFromArrayMapping=function(domNode,array,mapping,options,callbackAfterAddingNodes){function itemMovedOrRetained(editScriptIndex,oldPosition){mapData=lastMappingResult[oldPosition];newMappingResultIndex!==oldPosition&&(itemsForMoveCallbacks[editScriptIndex]=mapData);mapData.indexObservable(newMappingResultIndex++);ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes,domNode);newMappingResult.push(mapData);itemsToProcess.push(mapData)}function callCallback(callback,items){if(callback)for(var i=0,n=items.length;i<n;i++)items[i]&&ko.utils.arrayForEach(items[i].mappedNodes,function(node){callback(node,i,items[i].arrayEntry)})}var editScriptItem,movedIndex,i,nextNode,lastNode,node,j;array=array||[];options=options||{};var isFirstExecution=ko.utils.domData.get(domNode,lastMappingResultDomDataKey)===undefined,lastMappingResult=ko.utils.domData.get(domNode,lastMappingResultDomDataKey)||[],lastArray=ko.utils.arrayMap(lastMappingResult,function(x){return x.arrayEntry}),editScript=ko.utils.compareArrays(lastArray,array,options.dontLimitMoves),newMappingResult=[],lastMappingResultIndex=0,newMappingResultIndex=0,nodesToDelete=[],itemsToProcess=[],itemsForBeforeRemoveCallbacks=[],itemsForMoveCallbacks=[],itemsForAfterAddCallbacks=[],mapData;for(i=0;editScriptItem=editScript[i];i++){movedIndex=editScriptItem.moved;switch(editScriptItem.status){case"deleted":movedIndex===undefined&&(mapData=lastMappingResult[lastMappingResultIndex],mapData.dependentObservable&&(mapData.dependentObservable.dispose(),mapData.dependentObservable=undefined),ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes,domNode).length&&(options.beforeRemove&&(newMappingResult.push(mapData),itemsToProcess.push(mapData),mapData.arrayEntry===deletedItemDummyValue?mapData=null:itemsForBeforeRemoveCallbacks[i]=mapData),mapData&&nodesToDelete.push.apply(nodesToDelete,mapData.mappedNodes)));lastMappingResultIndex++;break;case"retained":itemMovedOrRetained(i,lastMappingResultIndex++);break;case"added":movedIndex!==undefined?itemMovedOrRetained(i,movedIndex):(mapData={arrayEntry:editScriptItem.value,indexObservable:ko.observable(newMappingResultIndex++)},newMappingResult.push(mapData),itemsToProcess.push(mapData),isFirstExecution||(itemsForAfterAddCallbacks[i]=mapData));break}}for(ko.utils.domData.set(domNode,lastMappingResultDomDataKey,newMappingResult),callCallback(options.beforeMove,itemsForMoveCallbacks),ko.utils.arrayForEach(nodesToDelete,options.beforeRemove?ko.cleanNode:ko.removeNode),i=0,nextNode=ko.virtualElements.firstChild(domNode);mapData=itemsToProcess[i];i++){for(mapData.mappedNodes||ko.utils.extend(mapData,mapNodeAndRefreshWhenChanged(domNode,mapping,mapData.arrayEntry,callbackAfterAddingNodes,mapData.indexObservable)),j=0;node=mapData.mappedNodes[j];nextNode=node.nextSibling,lastNode=node,j++)node!==nextNode&&ko.virtualElements.insertAfter(domNode,node,lastNode);!mapData.initialized&&callbackAfterAddingNodes&&(callbackAfterAddingNodes(mapData.arrayEntry,mapData.mappedNodes,mapData.indexObservable),mapData.initialized=!0)}for(callCallback(options.beforeRemove,itemsForBeforeRemoveCallbacks),i=0;i<itemsForBeforeRemoveCallbacks.length;++i)itemsForBeforeRemoveCallbacks[i]&&(itemsForBeforeRemoveCallbacks[i].arrayEntry=deletedItemDummyValue);callCallback(options.afterMove,itemsForMoveCallbacks);callCallback(options.afterAdd,itemsForAfterAddCallbacks)}}();ko.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",ko.utils.setDomNodeChildrenFromArrayMapping);ko.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};ko.nativeTemplateEngine.prototype=new ko.templateEngine;ko.nativeTemplateEngine.prototype.constructor=ko.nativeTemplateEngine;ko.nativeTemplateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options,templateDocument){var useNodesIfAvailable=!(ko.utils.ieVersion<9),templateNodesFunc=useNodesIfAvailable?templateSource.nodes:null,templateNodes=templateNodesFunc?templateSource.nodes():null,templateText;return templateNodes?ko.utils.makeArray(templateNodes.cloneNode(!0).childNodes):(templateText=templateSource.text(),ko.utils.parseHtmlFragment(templateText,templateDocument))};ko.nativeTemplateEngine.instance=new ko.nativeTemplateEngine;ko.setTemplateEngine(ko.nativeTemplateEngine.instance);ko.exportSymbol("nativeTemplateEngine",ko.nativeTemplateEngine),function(){ko.jqueryTmplTemplateEngine=function(){function ensureHasReferencedJQueryTemplates(){if(jQueryTmplVersion<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function executeTemplate(compiledTemplate,data,jQueryTemplateOptions){return jQueryInstance.tmpl(compiledTemplate,data,jQueryTemplateOptions)}var jQueryTmplVersion=this.jQueryTmplVersion=function(){if(!jQueryInstance||!jQueryInstance.tmpl)return 0;try{if(jQueryInstance.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(ex){}return 1}();this.renderTemplateSource=function(templateSource,bindingContext,options,templateDocument){var precompiled,templateText;templateDocument=templateDocument||document;options=options||{};ensureHasReferencedJQueryTemplates();precompiled=templateSource.data("precompiled");precompiled||(templateText=templateSource.text()||"",templateText="{{ko_with $item.koBindingContext}}"+templateText+"{{/ko_with}}",precompiled=jQueryInstance.template(null,templateText),templateSource.data("precompiled",precompiled));var data=[bindingContext.$data],jQueryTemplateOptions=jQueryInstance.extend({koBindingContext:bindingContext},options.templateOptions),resultNodes=executeTemplate(precompiled,data,jQueryTemplateOptions);return resultNodes.appendTo(templateDocument.createElement("div")),jQueryInstance.fragments={},resultNodes};this.createJavaScriptEvaluatorBlock=function(script){return"{{ko_code ((function() { return "+script+" })()) }}"};this.addTemplate=function(templateName,templateMarkup){document.write("<script type='text/html' id='"+templateName+"'>"+templateMarkup+"<\/script>")};jQueryTmplVersion>0&&(jQueryInstance.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQueryInstance.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};ko.jqueryTmplTemplateEngine.prototype=new ko.templateEngine;ko.jqueryTmplTemplateEngine.prototype.constructor=ko.jqueryTmplTemplateEngine;var jqueryTmplTemplateEngineInstance=new ko.jqueryTmplTemplateEngine;jqueryTmplTemplateEngineInstance.jQueryTmplVersion>0&&ko.setTemplateEngine(jqueryTmplTemplateEngineInstance);ko.exportSymbol("jqueryTmplTemplateEngine",ko.jqueryTmplTemplateEngine)}()})})()})(),function(factory){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?factory(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],factory):factory(ko,ko.mapping={})}(function(ko,exports){function unionArrays(x,y){for(var res,k,obj={},i=x.length-1;i>=0;--i)obj[x[i]]=x[i];for(i=y.length-1;i>=0;--i)obj[y[i]]=y[i];res=[];for(k in obj)res.push(obj[k]);return res}function extendObject(destination,source){var destType,key,bothArrays;for(key in source)source.hasOwnProperty(key)&&source[key]&&(destType=exports.getType(destination[key]),key&&destination[key]&&destType!=="array"&&destType!=="string"?extendObject(destination[key],source[key]):(bothArrays=exports.getType(destination[key])==="array"&&exports.getType(source[key])==="array",destination[key]=bothArrays?unionArrays(destination[key],source[key]):source[key]))}function merge(obj1,obj2){var merged={};return extendObject(merged,obj1),extendObject(merged,obj2),merged}function fillOptions(rawOptions,otherOptions){for(var property,options=merge({},rawOptions),i=recognizedRootProperties.length-1;i>=0;i--)(property=recognizedRootProperties[i],options[property])&&(options[""]instanceof Object||(options[""]={}),options[""][property]=options[property],delete options[property]);return otherOptions&&(options.ignore=mergeArrays(otherOptions.ignore,options.ignore),options.include=mergeArrays(otherOptions.include,options.include),options.copy=mergeArrays(otherOptions.copy,options.copy),options.observe=mergeArrays(otherOptions.observe,options.observe)),options.ignore=mergeArrays(options.ignore,defaultOptions.ignore),options.include=mergeArrays(options.include,defaultOptions.include),options.copy=mergeArrays(options.copy,defaultOptions.copy),options.observe=mergeArrays(options.observe,defaultOptions.observe),options.mappedProperties=options.mappedProperties||{},options.copiedProperties=options.copiedProperties||{},options}function mergeArrays(a,b){return exports.getType(a)!=="array"&&(a=exports.getType(a)==="undefined"?[]:[a]),exports.getType(b)!=="array"&&(b=exports.getType(b)==="undefined"?[]:[b]),ko.utils.arrayGetDistinctValues(a.concat(b))}function withProxyDependentObservable(dependentObservables,callback){var localDO=ko.dependentObservable,result;return ko.dependentObservable=function(read,owner,options){var realDependentObservable;options=options||{};read&&typeof read=="object"&&(options=read);var realDeferEvaluation=options.deferEvaluation,isRemoved=!1,wrap=function(DO){var tmp=ko.dependentObservable,isWriteable,wrapped;return ko.dependentObservable=realKoDependentObservable,isWriteable=ko.isWriteableObservable(DO),ko.dependentObservable=tmp,wrapped=realKoDependentObservable({read:function(){return isRemoved||(ko.utils.arrayRemoveItem(dependentObservables,DO),isRemoved=!0),DO.apply(DO,arguments)},write:isWriteable&&function(val){return DO(val)},deferEvaluation:!0}),DEBUG&&(wrapped._wrapper=!0),wrapped.__DO=DO,wrapped};return options.deferEvaluation=!0,realDependentObservable=new realKoDependentObservable(read,owner,options),realDeferEvaluation||(realDependentObservable=wrap(realDependentObservable),dependentObservables.push(realDependentObservable)),realDependentObservable},ko.dependentObservable.fn=realKoDependentObservable.fn,ko.computed=ko.dependentObservable,result=callback(),ko.dependentObservable=localDO,ko.computed=ko.dependentObservable,result}function updateViewModel(mappedRootObject,rootObject,options,parentName,parent,parentPropertyName,mappedParent){var isArray=exports.getType(ko.utils.unwrapObservable(rootObject))==="array",previousMapping,valueToWrite,hasCreateOrUpdateCallback,result,currentArrayKeys,newArrayKeys,newContents,passedOver,key,mappedItem,fullPropertyName,item,index;parentPropertyName=parentPropertyName||"";exports.isMapped(mappedRootObject)&&(previousMapping=ko.utils.unwrapObservable(mappedRootObject)[mappingProperty],options=merge(previousMapping,options));var callbackParams={data:rootObject,parent:mappedParent||parent},hasCreateCallback=function(){return options[parentName]&&options[parentName].create instanceof Function},createCallback=function(data){return withProxyDependentObservable(dependentObservables,function(){return ko.utils.unwrapObservable(parent)instanceof Array?options[parentName].create({data:data||callbackParams.data,parent:callbackParams.parent,skip:emptyReturn}):options[parentName].create({data:data||callbackParams.data,parent:callbackParams.parent})})},hasUpdateCallback=function(){return options[parentName]&&options[parentName].update instanceof Function},updateCallback=function(obj,data){var params={data:data||callbackParams.data,parent:callbackParams.parent,target:ko.utils.unwrapObservable(obj)};return ko.isWriteableObservable(obj)&&(params.observable=obj),options[parentName].update(params)},alreadyMapped=visitedObjects.get(rootObject);if(alreadyMapped)return alreadyMapped;if(parentName=parentName||"",isArray){var changes=[],hasKeyCallback=!1,keyCallback=function(x){return x};options[parentName]&&options[parentName].key&&(keyCallback=options[parentName].key,hasKeyCallback=!0);ko.isObservable(mappedRootObject)||(mappedRootObject=ko.observableArray([]),mappedRootObject.mappedRemove=function(valueOrPredicate){var predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===keyCallback(valueOrPredicate)};return mappedRootObject.remove(function(item){return predicate(keyCallback(item))})},mappedRootObject.mappedRemoveAll=function(arrayOfValues){var arrayOfKeys=filterArrayByKey(arrayOfValues,keyCallback);return mappedRootObject.remove(function(item){return ko.utils.arrayIndexOf(arrayOfKeys,keyCallback(item))!=-1})},mappedRootObject.mappedDestroy=function(valueOrPredicate){var predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===keyCallback(valueOrPredicate)};return mappedRootObject.destroy(function(item){return predicate(keyCallback(item))})},mappedRootObject.mappedDestroyAll=function(arrayOfValues){var arrayOfKeys=filterArrayByKey(arrayOfValues,keyCallback);return mappedRootObject.destroy(function(item){return ko.utils.arrayIndexOf(arrayOfKeys,keyCallback(item))!=-1})},mappedRootObject.mappedIndexOf=function(item){var keys=filterArrayByKey(mappedRootObject(),keyCallback),key=keyCallback(item);return ko.utils.arrayIndexOf(keys,key)},mappedRootObject.mappedGet=function(item){return mappedRootObject()[mappedRootObject.mappedIndexOf(item)]},mappedRootObject.mappedCreate=function(value){var item,newValue;if(mappedRootObject.mappedIndexOf(value)!==-1)throw new Error("There already is an object with the key that you specified.");return item=hasCreateCallback()?createCallback(value):value,hasUpdateCallback()&&(newValue=updateCallback(item,value),ko.isWriteableObservable(item)?item(newValue):item=newValue),mappedRootObject.push(item),item});currentArrayKeys=filterArrayByKey(ko.utils.unwrapObservable(mappedRootObject),keyCallback).sort();newArrayKeys=filterArrayByKey(rootObject,keyCallback);hasKeyCallback&&newArrayKeys.sort();for(var editScript=ko.utils.compareArrays(currentArrayKeys,newArrayKeys),ignoreIndexOf={},unwrappedRootObject=ko.utils.unwrapObservable(rootObject),itemsByKey={},optimizedKeys=!0,i=0,j=unwrappedRootObject.length;i<j;i++){if(key=keyCallback(unwrappedRootObject[i]),key===undefined||key instanceof Object){optimizedKeys=!1;break}itemsByKey[key]=unwrappedRootObject[i]}for(newContents=[],passedOver=0,i=0,j=editScript.length;i<j;i++){key=editScript[i];fullPropertyName=parentPropertyName+"["+i+"]";switch(key.status){case"added":item=optimizedKeys?itemsByKey[key.value]:getItemByKey(ko.utils.unwrapObservable(rootObject),key.value,keyCallback);mappedItem=updateViewModel(undefined,item,options,parentName,mappedRootObject,fullPropertyName,parent);hasCreateCallback()||(mappedItem=ko.utils.unwrapObservable(mappedItem));index=ignorableIndexOf(ko.utils.unwrapObservable(rootObject),item,ignoreIndexOf);mappedItem===emptyReturn?passedOver++:newContents[index-passedOver]=mappedItem;ignoreIndexOf[index]=!0;break;case"retained":item=optimizedKeys?itemsByKey[key.value]:getItemByKey(ko.utils.unwrapObservable(rootObject),key.value,keyCallback);mappedItem=getItemByKey(mappedRootObject,key.value,keyCallback);updateViewModel(mappedItem,item,options,parentName,mappedRootObject,fullPropertyName,parent);index=ignorableIndexOf(ko.utils.unwrapObservable(rootObject),item,ignoreIndexOf);newContents[index]=mappedItem;ignoreIndexOf[index]=!0;break;case"deleted":mappedItem=getItemByKey(mappedRootObject,key.value,keyCallback);break}changes.push({event:key.status,item:mappedItem})}mappedRootObject(newContents);options[parentName]&&options[parentName].arrayChanged&&ko.utils.arrayForEach(changes,function(change){options[parentName].arrayChanged(change.event,change.item)})}else if(canHaveProperties(rootObject)){if(mappedRootObject=ko.utils.unwrapObservable(mappedRootObject),!mappedRootObject)if(hasCreateCallback())return result=createCallback(),hasUpdateCallback()&&(result=updateCallback(result)),result;else{if(hasUpdateCallback())return updateCallback(result);mappedRootObject={}}if(hasUpdateCallback()&&(mappedRootObject=updateCallback(mappedRootObject)),visitedObjects.save(rootObject,mappedRootObject),hasUpdateCallback())return mappedRootObject;visitPropertiesOrArrayEntries(rootObject,function(indexer){var fullPropertyName=parentPropertyName.length?parentPropertyName+"."+indexer:indexer;if(ko.utils.arrayIndexOf(options.ignore,fullPropertyName)==-1){if(ko.utils.arrayIndexOf(options.copy,fullPropertyName)!=-1){mappedRootObject[indexer]=rootObject[indexer];return}if(typeof rootObject[indexer]!="object"&&typeof rootObject[indexer]!="array"&&options.observe.length>0&&ko.utils.arrayIndexOf(options.observe,fullPropertyName)==-1){mappedRootObject[indexer]=rootObject[indexer];options.copiedProperties[fullPropertyName]=!0;return}var prevMappedProperty=visitedObjects.get(rootObject[indexer]),retval=updateViewModel(mappedRootObject[indexer],rootObject[indexer],options,indexer,mappedRootObject,fullPropertyName,mappedRootObject),value=prevMappedProperty||retval;if(options.observe.length>0&&ko.utils.arrayIndexOf(options.observe,fullPropertyName)==-1){mappedRootObject[indexer]=value();options.copiedProperties[fullPropertyName]=!0;return}ko.isWriteableObservable(mappedRootObject[indexer])?(value=ko.utils.unwrapObservable(value),mappedRootObject[indexer]()!==value&&mappedRootObject[indexer](value)):(value=mappedRootObject[indexer]===undefined?value:ko.utils.unwrapObservable(value),mappedRootObject[indexer]=value);options.mappedProperties[fullPropertyName]=!0}})}else switch(exports.getType(rootObject)){case"function":hasUpdateCallback()?ko.isWriteableObservable(rootObject)?(rootObject(updateCallback(rootObject)),mappedRootObject=rootObject):mappedRootObject=updateCallback(rootObject):mappedRootObject=rootObject;break;default:if(ko.isWriteableObservable(mappedRootObject))return hasUpdateCallback()?(valueToWrite=updateCallback(mappedRootObject),mappedRootObject(valueToWrite),valueToWrite):(valueToWrite=ko.utils.unwrapObservable(rootObject),mappedRootObject(valueToWrite),valueToWrite);else if(hasCreateOrUpdateCallback=hasCreateCallback()||hasUpdateCallback(),mappedRootObject=hasCreateCallback()?createCallback():ko.observable(ko.utils.unwrapObservable(rootObject)),hasUpdateCallback()&&mappedRootObject(updateCallback(mappedRootObject)),hasCreateOrUpdateCallback)return mappedRootObject}return mappedRootObject}function ignorableIndexOf(array,item,ignoreIndices){for(var i=0,j=array.length;i<j;i++)if(ignoreIndices[i]!==!0&&array[i]===item)return i;return null}function mapKey(item,callback){var mappedItem;return callback&&(mappedItem=callback(item)),exports.getType(mappedItem)==="undefined"&&(mappedItem=item),ko.utils.unwrapObservable(mappedItem)}function getItemByKey(array,key,callback){var i,j,item;for(array=ko.utils.unwrapObservable(array),i=0,j=array.length;i<j;i++)if(item=array[i],mapKey(item,callback)===key)return item;throw new Error("When calling ko.update*, the key '"+key+"' was not found!");}function filterArrayByKey(array,callback){return ko.utils.arrayMap(ko.utils.unwrapObservable(array),function(item){return callback?mapKey(item,callback):item})}function visitPropertiesOrArrayEntries(rootObject,visitorCallback){var i,propertyName;if(exports.getType(rootObject)==="array")for(i=0;i<rootObject.length;i++)visitorCallback(i);else for(propertyName in rootObject)visitorCallback(propertyName)}function canHaveProperties(object){var type=exports.getType(object);return(type==="object"||type==="array")&&object!==null}function getPropertyName(parentName,parent,indexer){var propertyName=parentName||"";return exports.getType(parent)==="array"?parentName&&(propertyName+="["+indexer+"]"):(parentName&&(propertyName+="."),propertyName+=indexer),propertyName}function simpleObjectLookup(){var keys=[],values=[];this.save=function(key,value){var existingIndex=ko.utils.arrayIndexOf(keys,key);existingIndex>=0?values[existingIndex]=value:(keys.push(key),values.push(value))};this.get=function(key){var existingIndex=ko.utils.arrayIndexOf(keys,key);return existingIndex>=0?values[existingIndex]:undefined}}function objectLookup(){var buckets={},findBucket=function(key){var bucketKey,bucket;try{bucketKey=key}catch(e){bucketKey="$$$"}return bucket=buckets[bucketKey],bucket===undefined&&(bucket=new simpleObjectLookup,buckets[bucketKey]=bucket),bucket};this.save=function(key,value){findBucket(key).save(key,value)};this.get=function(key){return findBucket(key).get(key)}}var DEBUG=!0,mappingProperty="__ko_mapping__",realKoDependentObservable=ko.dependentObservable,mappingNesting=0,dependentObservables,visitedObjects,recognizedRootProperties=["create","update","key","arrayChanged"],emptyReturn={},_defaultOptions={include:["_destroy"],ignore:[],copy:[],observe:[]},defaultOptions=_defaultOptions;exports.isMapped=function(viewModel){var unwrapped=ko.utils.unwrapObservable(viewModel);return unwrapped&&unwrapped[mappingProperty]};exports.fromJS=function(jsObject){var options,target,result,DO;if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{if(mappingNesting++||(dependentObservables=[],visitedObjects=new objectLookup),arguments.length==2&&(arguments[1][mappingProperty]?target=arguments[1]:options=arguments[1]),arguments.length==3&&(options=arguments[1],target=arguments[2]),target&&(options=merge(options,target[mappingProperty])),options=fillOptions(options),result=updateViewModel(target,jsObject,options),target&&(result=target),!--mappingNesting)while(dependentObservables.length)DO=dependentObservables.pop(),DO&&(DO(),DO.__DO.throttleEvaluation=DO.throttleEvaluation);return result[mappingProperty]=merge(result[mappingProperty],options),result}catch(e){mappingNesting=0;throw e;}};exports.fromJSON=function(jsonString){var parsed=ko.utils.parseJson(jsonString);return arguments[0]=parsed,exports.fromJS.apply(this,arguments)};exports.updateFromJS=function(viewModel){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};exports.updateFromJSON=function(viewModel){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};exports.toJS=function(rootObject,options){if(defaultOptions||exports.resetDefaultOptions(),arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(exports.getType(defaultOptions.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(exports.getType(defaultOptions.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(exports.getType(defaultOptions.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return options=fillOptions(options,rootObject[mappingProperty]),exports.visitModel(rootObject,function(x){return ko.utils.unwrapObservable(x)},options)};exports.toJSON=function(rootObject,options){var plainJavaScriptObject=exports.toJS(rootObject,options);return ko.utils.stringifyJson(plainJavaScriptObject)};exports.defaultOptions=function(){if(arguments.length>0)defaultOptions=arguments[0];else return defaultOptions};exports.resetDefaultOptions=function(){defaultOptions={include:_defaultOptions.include.slice(0),ignore:_defaultOptions.ignore.slice(0),copy:_defaultOptions.copy.slice(0)}};exports.getType=function(x){if(x&&typeof x=="object"){if(x.constructor===Date)return"date";if(x.constructor===Array)return"array"}return typeof x};exports.visitModel=function(rootObject,callback,options){var mappedRootObject,unwrappedRootObject,parentName;if(options=options||{},options.visitedObjects=options.visitedObjects||new objectLookup,unwrappedRootObject=ko.utils.unwrapObservable(rootObject),canHaveProperties(unwrappedRootObject))options=fillOptions(options,unwrappedRootObject[mappingProperty]),callback(rootObject,options.parentName),mappedRootObject=exports.getType(unwrappedRootObject)==="array"?[]:{};else return callback(rootObject,options.parentName);return options.visitedObjects.save(rootObject,mappedRootObject),parentName=options.parentName,visitPropertiesOrArrayEntries(unwrappedRootObject,function(indexer){var propertyValue,outputProperty,previouslyMappedValue;if((!options.ignore||ko.utils.arrayIndexOf(options.ignore,indexer)==-1)&&(propertyValue=unwrappedRootObject[indexer],options.parentName=getPropertyName(parentName,unwrappedRootObject,indexer),ko.utils.arrayIndexOf(options.copy,indexer)!==-1||ko.utils.arrayIndexOf(options.include,indexer)!==-1||!unwrappedRootObject[mappingProperty]||!unwrappedRootObject[mappingProperty].mappedProperties||unwrappedRootObject[mappingProperty].mappedProperties[indexer]||!unwrappedRootObject[mappingProperty].copiedProperties||unwrappedRootObject[mappingProperty].copiedProperties[indexer]||exports.getType(unwrappedRootObject)==="array"))switch(exports.getType(ko.utils.unwrapObservable(propertyValue))){case"object":case"array":case"undefined":previouslyMappedValue=options.visitedObjects.get(propertyValue);mappedRootObject[indexer]=exports.getType(previouslyMappedValue)!=="undefined"?previouslyMappedValue:exports.visitModel(propertyValue,callback,options);break;default:mappedRootObject[indexer]=callback(propertyValue,options.parentName)}}),mappedRootObject}});ko.renderTemplateInMemory=function(name,data){var temp=$("<div>"),html;return ko.applyBindingsToNode(temp[0],{template:{name:name,data:data}}),html=temp.html(),temp.remove(),html};ko.subscribable.fn.subscribeChanged=function(callback){var savedValue=this.peek();return this.subscribe(function(latestValue){var oldValue=savedValue;savedValue=latestValue;callback(latestValue,oldValue)})};templateFromUrlLoader={loadTemplate:function(name,templateConfig,callback){var templateAjax,stylesAjax,stylesId,existingStyles,fileref;templateConfig.fromUrl?(templateAjax=$.ajax({cache:!DEBUG,url:templateConfig.fromUrl}),stylesAjax=null,templateConfig.stylesUrl&&(stylesId=name+"-styles",existingStyles=document.getElementById(stylesId),existingStyles||(stylesAjax=$.Deferred(),fileref=document.createElement("link"),fileref.rel="stylesheet",fileref.type="text/css",fileref.href=templateConfig.stylesUrl,fileref.id=stylesId,fileref.onload=function(){stylesAjax.resolve(!0)},document.head.appendChild(fileref))),$.when(templateAjax,stylesAjax).done(function(templateAjaxResults,stylesAjaxResults){ko.components.defaultLoader.loadTemplate(name,templateAjaxResults[0],callback)})):callback(null)}};ko.components.loaders.unshift(templateFromUrlLoader);ko.onDemandObservable=function(callback,target){var _value=ko.observable(),result=ko.computed({read:function(){return result.loaded()||result.loading()||(result.loading(!0),callback.call(target)),_value()},write:function(newValue){_value(newValue);result.loaded(!0);result.loading(!1)},deferEvaluation:!0});return result.loaded=ko.observable(!1),result.loading=ko.observable(!1),result.refresh=function(){result.loaded(!1)},result},function(factory){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?factory(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],factory):factory(ko,ko.validation={})}(function(ko,exports){function minMaxValidatorFactory(validatorName){var isMaxValidation=validatorName==="max";return function(val,options){var comparisonValue,type,regex,valMatches,comparisonValueMatches;if(kv.utils.isEmptyVal(val))return!0;options.typeAttr===undefined?(type="text",comparisonValue=options):(type=options.typeAttr,comparisonValue=options.value);isNaN(comparisonValue)||comparisonValue instanceof Date||(type="number");switch(type.toLowerCase()){case"week":if(regex=/^(\d{4})-W(\d{2})$/,valMatches=val.match(regex),valMatches===null)throw new Error("Invalid value for "+validatorName+" attribute for week input.  Should look like '2000-W33' http://www.w3.org/TR/html-markup/input.week.html#input.week.attrs.min");if(comparisonValueMatches=comparisonValue.match(regex),!comparisonValueMatches)return!1;return isMaxValidation?valMatches[1]<comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]<=comparisonValueMatches[2]:valMatches[1]>comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]>=comparisonValueMatches[2];break;case"month":if(regex=/^(\d{4})-(\d{2})$/,valMatches=val.match(regex),valMatches===null)throw new Error("Invalid value for "+validatorName+" attribute for month input.  Should look like '2000-03' http://www.w3.org/TR/html-markup/input.month.html#input.month.attrs.min");if(comparisonValueMatches=comparisonValue.match(regex),!comparisonValueMatches)return!1;return isMaxValidation?valMatches[1]<comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]<=comparisonValueMatches[2]:valMatches[1]>comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]>=comparisonValueMatches[2];break;case"number":case"range":return isMaxValidation?!isNaN(val)&&parseFloat(val)<=parseFloat(comparisonValue):!isNaN(val)&&parseFloat(val)>=parseFloat(comparisonValue);break;default:return isMaxValidation?val<=comparisonValue:val>=comparisonValue}}}function validateSync(observable,rule,ctx){return rule.validator(observable(),ctx.params===undefined?!0:unwrap(ctx.params))?!0:(observable.setError(kv.formatMessage(ctx.message||rule.message,unwrap(ctx.params),observable)),!1)}function validateAsync(observable,rule,ctx){observable.isValidating(!0);var callBack=function(valObj){var isValid=!1,msg="";if(!observable.__valid__()){observable.isValidating(!1);return}valObj.message?(isValid=valObj.isValid,msg=valObj.message):isValid=valObj;isValid||(observable.error(kv.formatMessage(msg||ctx.message||rule.message,unwrap(ctx.params),observable)),observable.__valid__(isValid));observable.isValidating(!1)};kv.utils.async(function(){rule.validator(observable(),ctx.params===undefined?!0:unwrap(ctx.params),callBack)})}var api,_locales,_currentLocale,origApplyBindings;if(typeof ko=="undefined")throw new Error("Knockout is required, please ensure it is loaded before loading this validation plug-in");ko.validation=exports;var kv=ko.validation,koUtils=ko.utils,unwrap=koUtils.unwrapObservable,forEach=koUtils.arrayForEach,extend=koUtils.extend,defaults={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateInputElement:!0,decorateElementOnModified:!0,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",allowHtmlMessages:!1,grouping:{deep:!1,observable:!0,live:!1},validate:{}},configuration=extend({},defaults);configuration.html5Attributes=["required","pattern","min","max","step"];configuration.html5InputTypes=["email","number","date"];configuration.reset=function(){extend(configuration,defaults)};kv.configuration=configuration;kv.utils=function(){var seedId=(new Date).getTime(),domData={},domDataKey="__ko_validation__";return{isArray:function(o){return o.isArray||Object.prototype.toString.call(o)==="[object Array]"},isObject:function(o){return o!==null&&typeof o=="object"},isNumber:function(o){return!isNaN(o)},isObservableArray:function(instance){return!!instance&&typeof instance.remove=="function"&&typeof instance.removeAll=="function"&&typeof instance.destroy=="function"&&typeof instance.destroyAll=="function"&&typeof instance.indexOf=="function"&&typeof instance.replace=="function"},values:function(o){var r=[];for(var i in o)o.hasOwnProperty(i)&&r.push(o[i]);return r},getValue:function(o){return typeof o=="function"?o():o},hasAttribute:function(node,attr){return node.getAttribute(attr)!==null},getAttribute:function(element,attr){return element.getAttribute(attr)},setAttribute:function(element,attr,value){return element.setAttribute(attr,value)},isValidatable:function(o){return!!(o&&o.rules&&o.isValid&&o.isModified)},insertAfter:function(node,newNode){node.parentNode.insertBefore(newNode,node.nextSibling)},newId:function(){return seedId+=1},getConfigOptions:function(element){var options=kv.utils.contextFor(element);return options||kv.configuration},setDomData:function(node,data){var key=node[domDataKey];key||(node[domDataKey]=key=kv.utils.newId());domData[key]=data},getDomData:function(node){var key=node[domDataKey];return key?domData[key]:undefined},contextFor:function(node){switch(node.nodeType){case 1:case 8:var context=kv.utils.getDomData(node);if(context)return context;if(node.parentNode)return kv.utils.contextFor(node.parentNode);break}return undefined},isEmptyVal:function(val){return val===undefined?!0:val===null?!0:val===""?!0:void 0},getOriginalElementTitle:function(element){var savedOriginalTitle=kv.utils.getAttribute(element,"data-orig-title"),currentTitle=element.title,hasSavedOriginalTitle=kv.utils.hasAttribute(element,"data-orig-title");return hasSavedOriginalTitle?savedOriginalTitle:currentTitle},async:function(expr){window.setImmediate?window.setImmediate(expr):window.setTimeout(expr,0)},forEach:function(object,callback){if(kv.utils.isArray(object))return forEach(object,callback);for(var prop in object)object.hasOwnProperty(prop)&&callback(object[prop],prop)}}}();api=function(){function cleanUpSubscriptions(context){forEach(context.subscriptions,function(subscription){subscription.dispose()});context.subscriptions=[]}function dispose(context){context.options.deep&&(forEach(context.flagged,function(obj){delete obj.__kv_traversed}),context.flagged.length=0);context.options.live||cleanUpSubscriptions(context)}function runTraversal(obj,context){context.validatables=[];cleanUpSubscriptions(context);traverseGraph(obj,context);dispose(context)}function traverseGraph(obj,context,level){var objValues=[],val=obj.peek?obj.peek():obj;obj.__kv_traversed!==!0&&(context.options.deep&&(obj.__kv_traversed=!0,context.flagged.push(obj)),level=level!==undefined?level:context.options.deep?1:-1,ko.isObservable(obj)&&(obj.errors||utils.isValidatable(obj)||obj.extend({validatable:!0}),context.validatables.push(obj),context.options.live&&utils.isObservableArray(obj)&&context.subscriptions.push(obj.subscribe(function(){context.graphMonitor.valueHasMutated()}))),val&&!val._destroy&&(utils.isArray(val)?objValues=val:utils.isObject(val)&&(objValues=utils.values(val))),level!==0&&utils.forEach(objValues,function(observable){observable&&!observable.nodeType&&(!ko.isComputed(observable)||observable.rules)&&traverseGraph(observable,context,level+1)}))}function collectErrors(array){var errors=[];return forEach(array,function(observable){utils.isValidatable(observable)&&!observable.isValid()&&errors.push(observable.error.peek())}),errors}var isInitialized=0,configuration=kv.configuration,utils=kv.utils;return{init:function(options,force){isInitialized>0&&!force||(options=options||{},options.errorElementClass=options.errorElementClass||options.errorClass||configuration.errorElementClass,options.errorMessageClass=options.errorMessageClass||options.errorClass||configuration.errorMessageClass,extend(configuration,options),configuration.registerExtenders&&kv.registerExtenders(),isInitialized=1)},reset:kv.configuration.reset,group:function(obj,options){options=extend(extend({},configuration.grouping),options);var context={options:options,graphMonitor:ko.observable(),flagged:[],subscriptions:[],validatables:[]},result=null;return result=options.observable?ko.computed(function(){return context.graphMonitor(),runTraversal(obj,context),collectErrors(context.validatables)}):function(){return runTraversal(obj,context),collectErrors(context.validatables)},result.showAllMessages=function(show){show===undefined&&(show=!0);result.forEach(function(observable){utils.isValidatable(observable)&&observable.isModified(show)})},result.isAnyMessageShown=function(){return!!result.find(function(observable){return utils.isValidatable(observable)&&!observable.isValid()&&observable.isModified()})},result.filter=function(predicate){return predicate=predicate||function(){return!0},result(),koUtils.arrayFilter(context.validatables,predicate)},result.find=function(predicate){return predicate=predicate||function(){return!0},result(),koUtils.arrayFirst(context.validatables,predicate)},result.forEach=function(callback){callback=callback||function(){};result();forEach(context.validatables,callback)},result.map=function(mapping){return mapping=mapping||function(item){return item},result(),koUtils.arrayMap(context.validatables,mapping)},result._updateState=function(newValue){if(!utils.isObject(newValue))throw new Error("An object is required.");if(obj=newValue,options.observable)context.graphMonitor.valueHasMutated();else return runTraversal(newValue,context),collectErrors(context.validatables)},result},formatMessage:function(message,params,observable){if(utils.isObject(params)&&params.typeAttr&&(params=params.value),typeof message=="function")return message(params,observable);var replacements=unwrap(params);return replacements==null&&(replacements=[]),utils.isArray(replacements)||(replacements=[replacements]),message.replace(/{(\d+)}/gi,function(match,index){return typeof replacements[index]!="undefined"?replacements[index]:match})},addRule:function(observable,rule){observable.extend({validatable:!0});var hasRule=!!koUtils.arrayFirst(observable.rules(),function(item){return item.rule&&item.rule===rule.rule});return hasRule||observable.rules.push(rule),observable},addAnonymousRule:function(observable,ruleObj){ruleObj.message===undefined&&(ruleObj.message="Error");ruleObj.onlyIf&&(ruleObj.condition=ruleObj.onlyIf);kv.addRule(observable,ruleObj)},addExtender:function(ruleName){ko.extenders[ruleName]=function(observable,params){return params&&(params.message||params.onlyIf)?kv.addRule(observable,{rule:ruleName,message:params.message,params:utils.isEmptyVal(params.params)?!0:params.params,condition:params.onlyIf}):kv.addRule(observable,{rule:ruleName,params:params})}},registerExtenders:function(){if(configuration.registerExtenders)for(var ruleName in kv.rules)kv.rules.hasOwnProperty(ruleName)&&(ko.extenders[ruleName]||kv.addExtender(ruleName))},insertValidationMessage:function(element){var span=document.createElement("SPAN");return span.className=utils.getConfigOptions(element).errorMessageClass,utils.insertAfter(element,span),span},parseInputValidationAttributes:function(element,valueAccessor){forEach(kv.configuration.html5Attributes,function(attr){var params,typeAttr;utils.hasAttribute(element,attr)&&(params=element.getAttribute(attr)||!0,(attr==="min"||attr==="max")&&(typeAttr=element.getAttribute("type"),typeof typeAttr!="undefined"&&typeAttr||(typeAttr="text"),params={typeAttr:typeAttr,value:params}),kv.addRule(valueAccessor(),{rule:attr,params:params}))});var currentType=element.getAttribute("type");forEach(kv.configuration.html5InputTypes,function(type){type===currentType&&kv.addRule(valueAccessor(),{rule:type==="date"?"dateISO":type,params:!0})})},writeInputValidationAttributes:function(element,valueAccessor){var observable=valueAccessor(),contexts;observable&&observable.rules&&(contexts=observable.rules(),forEach(kv.configuration.html5Attributes,function(attr){var ctx=koUtils.arrayFirst(contexts,function(ctx){return ctx.rule&&ctx.rule.toLowerCase()===attr.toLowerCase()});ctx&&ko.computed({read:function(){var params=ko.unwrap(ctx.params);ctx.rule==="pattern"&&params instanceof RegExp&&(params=params.source);element.setAttribute(attr,params)},disposeWhenNodeIsRemoved:element})}),contexts=null)},makeBindingHandlerValidatable:function(handlerName){var init=ko.bindingHandlers[handlerName].init;ko.bindingHandlers[handlerName].init=function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return init(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext),ko.bindingHandlers.validationCore.init(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext)}},setRules:function(target,definition){var setRules=function(target,definition){var prop,ruleDefinitions,rule,i;if(target&&definition)for(prop in definition)if(definition.hasOwnProperty(prop)&&(ruleDefinitions=definition[prop],target[prop])){var targetValue=target[prop],unwrappedTargetValue=unwrap(targetValue),rules={},nonRules={};for(rule in ruleDefinitions)ruleDefinitions.hasOwnProperty(rule)&&(kv.rules[rule]?rules[rule]=ruleDefinitions[rule]:nonRules[rule]=ruleDefinitions[rule]);if(ko.isObservable(targetValue)&&targetValue.extend(rules),unwrappedTargetValue&&utils.isArray(unwrappedTargetValue))for(i=0;i<unwrappedTargetValue.length;i++)setRules(unwrappedTargetValue[i],nonRules);else setRules(unwrappedTargetValue,nonRules)}};setRules(target,definition)}}}();extend(ko.validation,api);kv.rules={};kv.rules.required={validator:function(val,required){var testVal;return val===undefined||val===null?!required:(testVal=val,typeof val=="string"&&(testVal=String.prototype.trim?val.trim():val.replace(/^\s+|\s+$/g,"")),!required)?!0:(testVal+"").length>0},message:"This field is required"};kv.rules.min={validator:minMaxValidatorFactory("min"),message:"Enter a value greater than or equal to {0}"};kv.rules.max={validator:minMaxValidatorFactory("max"),message:"Enter a value less than or equal to {0}"};kv.rules.minLength={validator:function(val,minLength){if(kv.utils.isEmptyVal(val))return!0;var normalizedVal=kv.utils.isNumber(val)?""+val:val;return normalizedVal.length>=minLength},message:"Enter at least {0} characters"};kv.rules.maxLength={validator:function(val,maxLength){if(kv.utils.isEmptyVal(val))return!0;var normalizedVal=kv.utils.isNumber(val)?""+val:val;return normalizedVal.length<=maxLength},message:"Enter no more than {0} characters"};kv.rules.pattern={validator:function(val,regex){return kv.utils.isEmptyVal(val)||val.toString().match(regex)!==null},message:"Check this value"};kv.rules.step={validator:function(val,step){if(kv.utils.isEmptyVal(val)||step==="any")return!0;var dif=val*100%(step*100);return Math.abs(dif)<1e-5||Math.abs(1-dif)<1e-5},message:"The value must increment by {0}"};kv.rules.email={validator:function(val,validate){return validate?kv.utils.isEmptyVal(val)||validate&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(val):!0},message:"Email is not valid"};kv.rules.date={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&!/Invalid|NaN/.test(new Date(value)):!0},message:"Date is not valid"};kv.rules.dateISO={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&/^\d{4}[-/](?:0?[1-9]|1[012])[-/](?:0?[1-9]|[12][0-9]|3[01])$/.test(value):!0},message:"Date is not valid"};kv.rules.number={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value):!0},message:"Number is not valid"};kv.rules.digit={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&/^\d+$/.test(value):!0},message:"Digit is not valid"};kv.rules.phoneUS={validator:function(phoneNumber,validate){return validate?kv.utils.isEmptyVal(phoneNumber)?!0:typeof phoneNumber!="string"?!1:(phoneNumber=phoneNumber.replace(/\s+/g,""),validate&&phoneNumber.length>9&&phoneNumber.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)):!0},message:"Phone is not valid"};kv.rules.equal={validator:function(val,params){var otherValue=params;return val===kv.utils.getValue(otherValue)},message:"Values must equal"};kv.rules.notEqual={validator:function(val,params){var otherValue=params;return val!==kv.utils.getValue(otherValue)},message:"Choose another value"};kv.rules.unique={validator:function(val,options){var c=kv.utils.getValue(options.collection),external=kv.utils.getValue(options.externalValue),counter=0;return!val||!c?!0:(koUtils.arrayFilter(c,function(item){val===(options.valueAccessor?options.valueAccessor(item):item)&&counter++}),counter<(!external?2:1))},message:"Make sure the value is unique"},function(){kv.registerExtenders()}();ko.bindingHandlers.validationCore=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var config=kv.utils.getConfigOptions(element),observable=valueAccessor(),validationMessageElement;config.parseInputAttributes&&kv.utils.async(function(){kv.parseInputValidationAttributes(element,valueAccessor)});config.insertMessages&&kv.utils.isValidatable(observable)&&(validationMessageElement=kv.insertValidationMessage(element),config.messageTemplate?ko.renderTemplate(config.messageTemplate,{field:observable},null,validationMessageElement,"replaceNode"):ko.applyBindingsToNode(validationMessageElement,{validationMessage:observable}));config.writeInputAttributes&&kv.utils.isValidatable(observable)&&kv.writeInputValidationAttributes(element,valueAccessor);config.decorateInputElement&&kv.utils.isValidatable(observable)&&ko.applyBindingsToNode(element,{validationElement:observable})}}}();kv.makeBindingHandlerValidatable("value");kv.makeBindingHandlerValidatable("checked");ko.bindingHandlers.textInput&&kv.makeBindingHandlerValidatable("textInput");kv.makeBindingHandlerValidatable("selectedOptions");ko.bindingHandlers.validationMessage={update:function(element,valueAccessor){var obsv=valueAccessor(),config=kv.utils.getConfigOptions(element),val=unwrap(obsv),msg=null,isModified=!1,isValid=!1,error,isVisible,isCurrentlyVisible;if(obsv===null||typeof obsv=="undefined")throw new Error("Cannot bind validationMessage to undefined value. data-bind expression: "+element.getAttribute("data-bind"));isModified=obsv.isModified&&obsv.isModified();isValid=obsv.isValid&&obsv.isValid();error=null;(!config.messagesOnModified||isModified)&&(error=isValid?null:obsv.error);isVisible=!config.messagesOnModified||isModified?!isValid:!1;isCurrentlyVisible=element.style.display!=="none";config.allowHtmlMessages?koUtils.setHtml(element,error):ko.bindingHandlers.text.update(element,function(){return error});isCurrentlyVisible&&!isVisible?element.style.display="none":!isCurrentlyVisible&&isVisible&&(element.style.display="")}};ko.bindingHandlers.validationElement={update:function(element,valueAccessor,allBindingsAccessor){var obsv=valueAccessor(),config=kv.utils.getConfigOptions(element),val=unwrap(obsv),msg=null,isModified=!1,isValid=!1,cssSettingsAccessor;if(obsv===null||typeof obsv=="undefined")throw new Error("Cannot bind validationElement to undefined value. data-bind expression: "+element.getAttribute("data-bind"));(isModified=obsv.isModified&&obsv.isModified(),isValid=obsv.isValid&&obsv.isValid(),cssSettingsAccessor=function(){var css={},shouldShow=!config.decorateElementOnModified||isModified?!isValid:!1;return css[config.errorElementClass]=shouldShow,css},ko.bindingHandlers.css.update(element,cssSettingsAccessor,allBindingsAccessor),config.errorsAsTitle)&&ko.bindingHandlers.attr.update(element,function(){var hasModification=!config.errorsAsTitleOnModified||isModified,title=kv.utils.getOriginalElementTitle(element);if(hasModification&&!isValid)return{title:obsv.error,"data-orig-title":title};else if(!hasModification||isValid)return{title:title,"data-orig-title":null}})}};ko.bindingHandlers.validationOptions=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var options=unwrap(valueAccessor()),newConfig;options&&(newConfig=extend({},kv.configuration),extend(newConfig,options),kv.utils.setDomData(element,newConfig))}}}();ko.extenders.validation=function(observable,rules){return forEach(kv.utils.isArray(rules)?rules:[rules],function(rule){kv.addAnonymousRule(observable,rule)}),observable};ko.extenders.validatable=function(observable,options){var config,validationOptions,h_change,h_obsValidationTrigger;return kv.utils.isObject(options)||(options={enable:options}),"enable"in options||(options.enable=!0),options.enable&&!kv.utils.isValidatable(observable)?(config=kv.configuration.validate||{},validationOptions={throttleEvaluation:options.throttle||config.throttle},observable.error=ko.observable(null),observable.rules=ko.observableArray(),observable.isValidating=ko.observable(!1),observable.__valid__=ko.observable(!0),observable.isModified=ko.observable(!1),observable.isValid=ko.computed(observable.__valid__),observable.setError=function(error){var previousError=observable.error.peek(),previousIsValid=observable.__valid__.peek();observable.error(error);observable.__valid__(!1);previousError===error||previousIsValid||observable.isValid.notifySubscribers()},observable.clearError=function(){return observable.error(null),observable.__valid__(!0),observable},h_change=observable.subscribe(function(){observable.isModified(!0)}),h_obsValidationTrigger=ko.computed(extend({read:function(){var obs=observable(),ruleContexts=observable.rules();return kv.validateObservable(observable),!0}},validationOptions)),extend(h_obsValidationTrigger,validationOptions),observable._disposeValidation=function(){observable.isValid.dispose();observable.rules.removeAll();h_change.dispose();h_obsValidationTrigger.dispose();delete observable.rules;delete observable.error;delete observable.isValid;delete observable.isValidating;delete observable.__valid__;delete observable.isModified;delete observable.setError;delete observable.clearError;delete observable._disposeValidation}):options.enable===!1&&observable._disposeValidation&&observable._disposeValidation(),observable};kv.validateObservable=function(observable){for(var i=0,rule,ctx,ruleContexts=observable.rules(),len=ruleContexts.length;i<len;i++)if(ctx=ruleContexts[i],!ctx.condition||ctx.condition())if(rule=ctx.rule?kv.rules[ctx.rule]:ctx,rule.async||ctx.async)validateAsync(observable,rule,ctx);else if(!validateSync(observable,rule,ctx))return!1;return observable.clearError(),!0};_locales={};kv.defineLocale=function(name,values){return name&&values?(_locales[name.toLowerCase()]=values,values):null};kv.locale=function(name){if(name)if(name=name.toLowerCase(),_locales.hasOwnProperty(name))kv.localize(_locales[name]),_currentLocale=name;else throw new Error("Localization "+name+" has not been loaded.");return _currentLocale};kv.localize=function(msgTranslations){var rules=kv.rules;for(var ruleName in msgTranslations)rules.hasOwnProperty(ruleName)&&(rules[ruleName].message=msgTranslations[ruleName])},function(){var localeData={},rules=kv.rules;for(var ruleName in rules)rules.hasOwnProperty(ruleName)&&(localeData[ruleName]=rules[ruleName].message);kv.defineLocale("en-us",localeData)}();_currentLocale="en-us";ko.applyBindingsWithValidation=function(viewModel,rootNode,options){var node=document.body,config;rootNode&&rootNode.nodeType?(node=rootNode,config=options):config=rootNode;kv.init();config&&(config=extend(extend({},kv.configuration),config),kv.utils.setDomData(node,config));ko.applyBindings(viewModel,node)};origApplyBindings=ko.applyBindings;ko.applyBindings=function(viewModel,rootNode){kv.init();origApplyBindings(viewModel,rootNode)};ko.validatedObservable=function(initialValue,options){if(!options&&!kv.utils.isObject(initialValue))return ko.observable(initialValue).extend({validatable:!0});var obsv=ko.observable(initialValue);return obsv.errors=kv.group(kv.utils.isObject(initialValue)?initialValue:{},options),obsv.isValid=ko.observable(obsv.errors().length===0),ko.isObservable(obsv.errors)?obsv.errors.subscribe(function(errors){obsv.isValid(errors.length===0)}):ko.computed(obsv.errors).subscribe(function(errors){obsv.isValid(errors.length===0)}),obsv.subscribe(function(newValue){kv.utils.isObject(newValue)||(newValue={});obsv.errors._updateState(newValue);obsv.isValid(obsv.errors().length===0)}),obsv}});ko.subscribable.fn.trimmed=function(){return ko.computed({read:function(){return this()},write:function(value){this(value!=null?value.trim():value);this.valueHasMutated()},owner:this})};ko.validation.rules.phonenumber={validator:function(number,params){var res,country,i,internationalNumberPrefix;if(!number&&params.optional)return!0;if(this.message="Phone is not valid",res=number&&number.length>2,res){country=null;$.isFunction(params.country)?country=params.country():params.country&&(country=params.country);country&&country.toLowerCase()=="uk"&&(country="GB");try{var phoneUtil=libphonenumber.PhoneNumberUtil.getInstance(),phoneNumber=null,phoneStr=null;if(country)phoneNumber=phoneUtil.parse(number,country),res=phoneUtil.isValidNumberForRegion(phoneNumber,country),res?(phoneStr=phoneUtil.format(phoneNumber,params.phoneNumberFormat||libphonenumber.PhoneNumberFormat.INTERNATIONAL),$.isFunction(params.callback)&&params.callback(res,phoneStr)):this.message="Region code is incorrect.";else{for(i=0;i<SupportedCountries.length;i++)if(phoneNumber=phoneUtil.parse(number,SupportedCountries[i]),res=phoneUtil.isValidNumberForRegion(phoneNumber,SupportedCountries[i]),res){phoneStr=phoneUtil.format(phoneNumber,params.phoneNumberFormat||libphonenumber.PhoneNumberFormat.INTERNATIONAL);$.isFunction(params.callback)&&params.callback(res,phoneStr);break}!res&&(params.allowInternational||!0)&&(internationalNumberPrefix="+",phoneNumber=number.indexOf(internationalNumberPrefix,0)==-1?phoneUtil.parse(internationalNumberPrefix+number):phoneUtil.parse(number),res=phoneUtil.isValidNumber(phoneNumber),res&&(phoneStr=phoneUtil.format(phoneNumber,libphonenumber.PhoneNumberFormat.INTERNATIONAL),$.isFunction(params.callback)&&params.callback(res,phoneStr)))}if(!res&&(Environment==Enum.EnvironmentType.Development||Environment==Enum.EnvironmentType.Staging)&&(phoneNumber=phoneUtil.parse(number,"BY"),res=phoneUtil.isValidNumberForRegion(phoneNumber,"BY"),res))return phoneStr=phoneUtil.format(phoneNumber,libphonenumber.PhoneNumberFormat.INTERNATIONAL),$.isFunction(params.callback)&&params.callback(res,phoneStr),!0}catch(e){res=!1;this.message=params.exceptionMessage||(e.message?e.message:e)}}return res},message:"Phone is not valid"};ko.validation.rules.nullableInt={validator:function(val,validate){return val===null||val===""||validate&&/^-?\d*$/.test(val.toString())},message:"Must be empty or an integer value"};ko.validation.rules.nullableDecimal={validator:function(val,validate){return val===null||val===""||validate&&/^-?\d*(?:\.\d*)?$/.test(val.toString())},message:"Must be empty or a decimal value"};ko.validation.rules.email={validator:function(val,params){return!val&&params.optional?!0:/^(([^<>()[\]\\.,;:\s@\""]+(\.[^<>()[\]\\.,;:\s@\""]+)*)|(\"".+\""))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(val||"")},message:"Email is not valid"};ko.validation.rules.emailList={validator:function(val){return/^$|^(([\w-]+[\w-\+]*(\.[\w-\+]+)*)@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*)\.([a-zA-Z]{2,5}){1,25})+([;,\s]+(([\w-]+[\w-\+]*(\.[\w-\+]+)*)@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*)\.([a-zA-Z]{2,5}){1,25})+)*[;,\s]*$/.test(val||"")},message:"Email list is not valid"};ko.validation.rules.fullName={validator:function(val){return val&&val.split(" ").filter(function(s){return!!s}).length>1},message:"Full name is required"};ko.validation.rules.twitterHandle={async:!0,validator:function(val,parms,callback){if(!val){callback(!0);return}if(!val.match(/^@[a-zA-Z0-9_\-\/]{1,15}$/i)){callback(!1);return}$.ajax({url:"/Home/TwitterQuery",data:{queryType:3,twitterHandle:val,count:0},type:"POST",success:function(data){callback(data&&data.message=="taken")},error:function(){callback(!1)}})},message:"Twitter handle is not valid"};ko.validation.rules.namewithcharacters={validator:function(val){return val.match(/^.*[a-zA-Z]+.*$/i)},message:"Name is not valid"};ko.validation.rules.requiredguid={validator:function(val){return val&&val!="00000000-0000-0000-0000-000000000000"},message:"Not empty Guid is required"};ko.validation.rules.url={validator:function(val,params){return!val&&params.optional?!0:/^((http[s]?:\/\/)?(\w+)(-[\w-]+)?(\.[\w-]+)*(\.\w+)+(:\d+)?(\/[\w\d\W]*\.?[\w\d]*)*(\?[\w\d]*(=[\w\d\W]*)?(&[\w\d]*(=[\w\d\W]*)?)*)?(#[\w\d]*)?)$/.test(val||"")},message:"URL is not valid"};ko.validation.rules.minArrayLength={validator:function(obj,params){return obj.length>=params.minLength},message:"Array does not meet minimum length requirements"};ko.validation.registerExtenders();ko.bindingHandlers.afterHtmlRender={update:function(element,valueAccessor,allBindings){if(allBindings().html){var callback=valueAccessor();callback(element)}}};ko.bindingHandlers.autoComplete={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var postUrl=allBindingsAccessor().source,selectedItemObservable=valueAccessor();$(element).autocomplete({minLength:2,autoFocus:!0,source:function(request,response){$.ajax({url:postUrl,data:{term:request.term},dataType:"json",type:"GET",success:function(data){response(data)}})},select:function(event,ui){selectedItemObservable(ui.item)}})}};ko.bindingHandlers.citiesAutocomplete={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var observable=valueAccessor(),options=$.extend({supportedCountries:window.SupportedCountries||[],onSelectCallback:function(event,ui){}},allBindingsAccessor().citiesAutocompleteOptions);LSHelper.CitiesAutocomplete.init({inputSelector:element,supportedCountries:ko.unwrap(options.supportedCountries),onSelectCallback:function(event,ui){observable(ui.item.value);$.isFunction(options.onSelectCallback)&&options.onSelectCallback.apply(this,arguments)}})}};ko.bindingHandlers.statesAutoComplete={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var options=valueAccessor(),geocoder=new LiquidSpace.Geocoder;$(element).autocomplete({minLength:2,autoFocus:!0,source:function(request,autocompleteResponse){var country=ko.unwrap(options.country),countries=[];country&&countries[country.toLowerCase()];geocoder.getPlacePredictions({input:request.term,countries:countries},function(response,status){status=="OK"?autocompleteResponse(response.filter(function(r){return r.types.indexOf("administrative_area_level_1")!=-1}).map(function(r){return{label:r.structured_formatting.main_text,value:r.structured_formatting.main_text,raw_response:r}})):autocompleteResponse(null)})},select:function(event,ui){options.state(ui.item.label);ko.isObservable(options.country)&&options.country(ui.item.raw_response.structured_formatting.secondary_text.replace("USA","US"));geocoder.getDetails({placeId:ui.item.raw_response.place_id},function(result,status){var state,country;status=="OK"&&(state=result.address_components.find(function(c){return c.types.indexOf("administrative_area_level_1")!=-1}),ko.isObservable(options.country)&&(country=result.address_components.find(function(c){return c.types.indexOf("country")!=-1}),options.country(country.short_name||country.long_name)),state&&options.state(state.short_name||state.long_name))})}})}};ko.bindingHandlers.booleanValue={init:function(element,valueAccessor,allBindingsAccessor){var observable=valueAccessor(),interceptor=ko.computed({read:function(){return observable().toString()},write:function(newValue){observable(newValue==="true")}});ko.applyBindingsToNode(element,{value:interceptor})}};ko.bindingHandlers.calendarAgendaReservation={selectedId:"",updateSelected:function(elem,res){res.ReadId+res.OccurrenceDate==ko.bindingHandlers.calendarAgendaReservation.selectedId?elem.addClass("selected"):elem.removeClass("selected")},init:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element);ko.bindingHandlers.calendarAgendaReservation.updateSelected($elem,res);$elem.find("a").mousedown(function(ev){return res.isTour?window.location=res.MessengerLink:(bindingContext.$root.getReservationPopupDetails(res.Id,res,res.StartTime,ev),ev.stopPropagation(),$(".agenda-row").removeClass("selected"),$elem.addClass("selected"),ko.bindingHandlers.calendarAgendaReservation.selectedId=res.ReadId+res.OccurrenceDate),!1})},update:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element),agendaTimeHtml,organizerStatus,pictureUrl,w;ko.bindingHandlers.calendarAgendaReservation.updateSelected($elem,res);res.delimiter==!0?($elem.html(res.StartTime.format("MMMM dd, yyyy")),$elem.addClass("separator")):(agendaTimeHtml=null,organizerStatus="",res.ReservationMethod!=2?agendaTimeHtml=ko.bindingHandlers.calendarDateFromat(res,bindingContext):(res.isMoveIn&&(agendaTimeHtml='<span class="move-in-label">MOVE IN (MONTHLY)<\/span><br />'+bindingContext.$root.getTimePartFromStr(res.StartTime),$elem.css("height","50px").css("line-height","25px")),res.isMoveOut&&(agendaTimeHtml='<span class="move-out-label">MOVE OUT (MONTHLY)<\/span>'),res.isTour&&(agendaTimeHtml=ko.bindingHandlers.calendarDateFromat(res,bindingContext),organizerStatus="(Tour Confirmed)")),$elem.find(".agenda-time").html(agendaTimeHtml),$elem.find(".agenda-organizer").find("span.organizer-name").html(res.CreatorName+(res.GuestCount>0?" + "+res.GuestCount+(res.GuestCount>1?" guests":" guest"):"")),$elem.find(".agenda-organizer").find("span.organizer-status").html(organizerStatus),pictureUrl="/Picture/IndexByPictureType/"+res.MemberId+"?pictureType=Member&useFirstIfNotFound=false&defaultImageUrl=~/Content/Images/DefaultPhoto_150x150.png&etag=49pcstrm6SnKkXOd0q8E8w==&maxWidth=40&maxHeight=40&crop=true&tagNames=['UserPicture']",$elem.find(".agenda-organizer").find("img").attr("src",pictureUrl),w=bindingContext.$root.getWorkspaceById(res.WorkspaceId),$elem.find(".agenda-room").find("span").html(w.Name),$elem.find(".ls_calendar_event_title_icon").attr("class",bindingContext.$root.eventCssClass(res.Id).replace("ls_calendar_event","")+" "+res.Id+(res.IsCreditCardPayment&&bindingContext.$root.isSuperUser()?" credit-card":"")))}};ko.bindingHandlers.calendarDateFromat=function(res,bindingContext){var showDate=function(dt){return dt.format("MMM dd")};return res.ReservationMethod==2?res.isTour?bindingContext.$root.getTimePartFromStr(res.StartTime)+" - "+bindingContext.$root.getTimePartFromStr(res.EndTime,!0):showDate(res.StartTime)+" - "+(res.MTMEndDate!=null?showDate(res.EndTime):"Auto-Renew"):res.IsCreditCardPayment&&bindingContext.$root.isSuperUser()?bindingContext.$root.getTimePartFromStr(res.StartTime,!1,!0)+" - "+bindingContext.$root.getTimePartFromStr(res.EndTime,!0,!0):bindingContext.$root.getTimePartFromStr(res.StartTime)+" - "+bindingContext.$root.getTimePartFromStr(res.EndTime,!0)};ko.bindingHandlers.calendarReservation={init:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element);$elem.mousedown(function(ev){bindingContext.$root.getReservationPopupDetails(res.Id,res,res.StartTime,ev);ev.stopPropagation()})},update:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element),errMessage,text;$elem.css("top",res.coord.top);$elem.css("height",res.coord.height);$elem.width(bindingContext.$root.subBlockWidth(res.Workspace)*res.coord.width-3);$elem.css("left",bindingContext.$root.subBlockWidth(res.Workspace)*res.coord.left);$elem.attr("class",bindingContext.$root.eventCssClass(res.Id)+" "+res.Id+(res.IsCreditCardPayment&&bindingContext.$root.isSuperUser()?" credit-card":""));errMessage=$elem.find(".reservation-mode-incorrect-message");bindingContext.$root.isReservationMethodIncorrect(res.Id)?errMessage.show():errMessage.hide();text=ko.bindingHandlers.calendarDateFromat(res,bindingContext);$elem.find(".lsevent-title-text-wrapper").html(text);$elem.find(".ls_calendar_event_title").css("font-size",bindingContext.$root.templateToUse()=="calendar-week"?"10px":"11px")}};ko.bindingHandlers.clickoutside={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var eventType="clickoutside";ko.bindingHandlers.event.init(element,function(){var result={};return result[eventType]=valueAccessor(),result},allBindingsAccessor,viewModel,bindingContext);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).unbind(eventType)})}};ko.bindingHandlers.contenteditable={init:function(element,valueAccessor,allBindingsAccessor){var value=ko.utils.unwrapObservable(valueAccessor());$(element).text(value);$(element).on("paste",function(e){try{var text=e.originalEvent.clipboardData.getData("text");e.preventDefault();document.execCommand("insertHTML",!1,text)}catch(err){}});$(element).on("focus",function(){var $this=$(this);return $this.data("before",$this.html()),$this}).on("blur keyup paste input",function(){var $this=$(this);return $this.data("before")!==$this.html()&&($this.data("before",$this.html()),$this.trigger("change")),$this});$(element).on("change",function(){var observable=valueAccessor();this.isContentEditable&&ko.isWriteableObservable(observable)&&(ignoreObservableChanges=!0,observable(this.innerText),ignoreObservableChanges=!1)});valueAccessor().subscribe(function(newValue){ignoreObservableChanges||$(element).text(newValue)})}};ko.bindingHandlers.datepicker={init:function(element,valueAccessor,allBindingsAccessor){function subscribeToOption(optionName){var option=originalOptions[i];option.subscribe(function(value){$(element).datepicker("option",optionName,value);$(element).trigger("change")})}var defaultOptions={option:$.datepicker.regional["en-US"],dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"mm/dd/yy",showOn:"focus",buttonImage:"/Content/images/calendar-icon.png",buttonImageOnly:!0,useDateObjectForObservable:!1,creationCallback:function(elem){},popupCssClass:"",beforeShow:function(el,inst){$(inst.dpDiv).addClass(inst.settings.popupCssClass)},onSelect:null},skipUpdate=!1,skipChange=!1,originalOptions=allBindingsAccessor().datepickerOptions||{},options=$.extend(defaultOptions,ko.mapping.toJS(originalOptions)),originalOnShow,observable,value,i,option;$.isFunction(options.onSelect)&&(originalOnShow=options.onSelect,options.onSelect=function(dateText,inst){originalOnShow.call(this,dateText,inst);$(this).trigger("change")});options.creationCallback($(element).datepicker(options));observable=valueAccessor();observable.subscribe(function(value){skipUpdate==!1&&(skipChange=!0,value!=null?typeof value=="string"?value.endsWith("Z")?$(element).datepicker("setDate",new Date(value)):$(element).datepicker("setDate",Date.fromISO(value)):$(element).datepicker("setDate",new Date(value)):$(element).datepicker("setDate",null),skipChange=!1)});ko.utils.registerEventHandler(element,"change",function(){if(skipChange==!1){var date=$(element).datepicker("getDate");skipUpdate=!0;date!=null?observable(options.useDateObjectForObservable?date:date.toISOString()):observable(null);skipUpdate=!1}});ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).datepicker("destroy")});value=observable();value&&observable.notifySubscribers(value);for(i in originalOptions)option=originalOptions[i],ko.isSubscribable(option)&&subscribeToOption(i)}};ko.validation&&ko.validation.makeBindingHandlerValidatable("datepicker");ko.bindingHandlers.availabilityDatepicker={init:function(element,valueAccessor,allBindingsAccessor){var date=valueAccessor(),config=allBindingsAccessor().availabilityDatepickerOptions||{},venueId=config.venueId,workspaceId=config.workspaceId,url="/Availability/OpenDays",onChangeMonthYearOriginal,creationCallbackOriginal;switch(config.mode){case"availabledays":url="/Availability/AvailableDays";break;case"opendays":default:url="/Availability/OpenDays";break}var options=allBindingsAccessor().datepickerOptions||{},disabled=!1,monthAvailability=[],processMonthAvailability=function(year,month,elem,newWorkspaceId){var unwrappedVenueId=ko.unwrap(venueId),unwrappedWorkspaceId=ko.unwrap(newWorkspaceId||workspaceId);unwrappedVenueId&&unwrappedWorkspaceId&&(disabled=!0,$.ajax({async:!0,data:{date:year+"-"+month+"-1",venueId:unwrappedVenueId,workspaceId:unwrappedWorkspaceId},url:url,type:"POST",success:function(result){monthAvailability=[];$.each(result,function(i,val){val.Key=Date.fromISO(val.Key);(val.Value==null||val.Value.length==0)&&(val.Value="Venue closed this day.");monthAvailability.push(val)});disabled=!1;$(elem).datepicker("refresh")},error:function(){}}))},beforeShowDayOriginal=options.beforeShowDay||function(){};options.beforeShowDay=function(date){if(disabled==!0)return[!1,"","Loading"];var result=[!0];return $.each(monthAvailability,function(i,val){if(Date.isSameDay(val.Key,date))return result=[!1,"",val.Value],!1}),result};onChangeMonthYearOriginal=options.onChangeMonthYear||function(){};options.onChangeMonthYear=function(year,month,inst){processMonthAvailability(year,month,inst.input);onChangeMonthYearOriginal.apply(this,arguments)};creationCallbackOriginal=options.creationCallback||function(){};options.creationCallback=function(elem){var configDate=ko.unwrap(valueAccessor()),date=configDate?new Date(configDate):new Date;processMonthAvailability(date.getFullYear(),date.getMonth()+1,elem);creationCallbackOriginal.apply(this,arguments)};ko.bindingHandlers.datepicker.init(element,function(){return date},allBindingsAccessor);ko.isObservable(workspaceId)&&workspaceId.subscribe(function(newWorkspaceId){var configDate=ko.unwrap(valueAccessor()),date=configDate?new Date(configDate):new Date;processMonthAvailability(date.getFullYear(),date.getMonth()+1,element,newWorkspaceId)})}};ko.validation&&ko.validation.makeBindingHandlerValidatable("availabilityDatepicker");ko.bindingHandlers.datetimepicker={init:function(element,valueAccessor,allBindingsAccessor){var defaultoptions={option:$.datepicker.regional["en-US"],dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"/Content/images/calendar-icon.png",buttonImageOnly:!0,timeFormat:"hh:mm:ss TT",useDateObjectForObservable:!1},options=allBindingsAccessor().datepickerOptions||{};$(element).datetimepicker($.extend(defaultoptions,options));$(element).data("ko_datetimepicker_skip_update",!1);$(element).data("ko_datetimepicker_skip_change",!1);ko.utils.registerEventHandler(element,"change",function(){if($(element).data("ko_datetimepicker_skip_change")==!1){var observable=valueAccessor(),date=$(element).datepicker("getDate");$(element).data("ko_datetimepicker_skip_update",!0);date!=null?observable(options.useDateObjectForObservable?date:date.toISOString()):observable(null);$(element).data("ko_datetimepicker_skip_update",!1)}});ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).datetimepicker("destroy")})},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor());$(element).data("ko_datetimepicker_skip_update")==!1&&($(element).data("ko_datetimepicker_skip_change",!0),value!=null?$(element).datetimepicker("setDate",new Date(value)):$(element).datetimepicker("setDate",null),$(element).data("ko_datetimepicker_skip_change",!1))}};ko.bindingHandlers.foreachWithLionbar={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){ko.bindingHandlers.foreach.init(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext)},update:function(element,valueAccessor,allBindings,viewModel,context){var newValue=ko.computed(function(){var value=ko.unwrap(valueAccessor());return value.afterAdd=function(child,index,model){index==value.data().length-1&&child.tagName!=undefined&&(viewModel.lionbarsApplied?viewModel.lionbarsApplied=!1:($(element).parent().lionbars(),viewModel.lionbarsApplied=!0))},value});ko.bindingHandlers.foreach.update(element,newValue,allBindings,viewModel,context)}};ko.bindingHandlers.grid={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){element.innerHTML="<canvas><\/canvas>"},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element),height=$element.height(),width=$element.width(),offsetX=value.offsetX()%value.step(),offsetY=value.offsetY()%value.step(),$canvas=$element.find("canvas"),canvas,ctx,x,y;if($canvas.attr({width:width,height:height}),value.show()){for(canvas=$canvas[0],ctx=canvas.getContext("2d"),ctx.lineWidth=1,ctx.strokeStyle="rgba(0, 0, 0, 0.5)",x=offsetX;x<width;x+=value.step())ctx.beginPath(),ctx.moveTo(x,0),ctx.lineTo(x,height),ctx.stroke();for(y=offsetY;y<height;y+=value.step())ctx.beginPath(),ctx.moveTo(0,y),ctx.lineTo(width,y),ctx.stroke()}}};ko.bindingHandlers.jqButton={init:function(element,valueAccessor){var options=valueAccessor()||{};$(element).button(options);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).button("destroy")})},update:function(element,valueAccessor){ko.utils.unwrapObservable(valueAccessor());var options=valueAccessor()||{};$(element).button(options)}};ko.bindingHandlers.multipleSelect={init:function(element,valueAccessor){var options=valueAccessor()||{};$(element).multipleSelect(options)},update:function(element,valueAccessor){ko.utils.unwrapObservable(valueAccessor());var options=valueAccessor()||{};$(element).multipleSelect(options)}};ko.bindingHandlers.tooltipster={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var defaultoptions={IEmin:10,contentAsHTML:!0},bindingsAccessor=allBindingsAccessor(),options=$.extend(defaultoptions,bindingsAccessor.tooltipsterOptions),value=valueAccessor(),originalFunctionReady;value.template?(options.content="<div data-bind=\"template: { name: '"+value.template+"' }\"><\/div>",originalFunctionReady=options.functionReady,options.functionReady=function(instance,helper){$.isFunction(originalFunctionReady)&&originalFunctionReady(instance,helper);ko.applyBindings(bindingContext,helper.tooltip);instance.reposition()}):options.content=ko.unwrap(value);$(element).tooltipster(options);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).tooltipster("destroy")})},update:function(element,valueAccessor){var value=valueAccessor();value.template||$(element).tooltipster("content",ko.unwrap(value))}};ko.bindingHandlers.numeric={init:function(element,valueAccessor){$(element).on("keydown",function(event){if(event.keyCode==46||event.keyCode==8||event.keyCode==9||event.keyCode==27||event.keyCode==13||event.keyCode==65&&event.ctrlKey===!0||event.keyCode==188||event.keyCode==190||event.keyCode==110||event.keyCode>=35&&event.keyCode<=39)return;else(event.shiftKey||(event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105))&&event.preventDefault()})}};ko.bindingHandlers.marker={getMarkerPoistion:function($elem,ui){return{top:Math.round(ui.top+$elem.height()/2),left:Math.round(ui.left+$elem.width()/2)}},setMarkerPoistion:function($elem,ui){return{top:Math.round(ui.top-$elem.height()/2),left:Math.round(ui.left-$elem.width()/2)}},init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=ko.unwrap(valueAccessor()),$element=$(element),position=ko.bindingHandlers.marker.setMarkerPoistion($element,{top:value.top(),left:value.left()});$element.css(position);$element.draggable({stop:function(e,ui){var markerPosition=ko.bindingHandlers.marker.getMarkerPoistion($(e.target),{top:ui.position.top,left:ui.position.left});value.top(markerPosition.top);value.left(markerPosition.left)}})},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element),position=ko.bindingHandlers.marker.setMarkerPoistion($element,{top:value.top(),left:value.left()});$element.css(position)}};ko.bindingHandlers.slider={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=ko.unwrap(valueAccessor()),$element=$(element);$element.slider({range:value.range||"min",min:value.min||0,max:value.max||100,step:value.step||1,value:value.value(),slide:function(event,ui){value.value(ui.value)}})},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element);$element.slider("value",value.value())}};ko.bindingHandlers.slideVisible={init:function(element,valueAccessor){var value=valueAccessor();$(element).slideToggle(ko.unwrap(value))},update:function(element,valueAccessor){var value=valueAccessor();ko.unwrap(value)?$(element).slideDown():$(element).slideUp()}};ko.bindingHandlers.SmoothTransition={init:function(element,valueAccessor){var value=valueAccessor();$(element).toggle(ko.unwrap(value))},update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());$(element).fadeOut(400,function(){$(element).html(value).fadeIn(600)})}};ko.bindingHandlers.scrollLeft={update:function(element,valueAccessor){var value=ko.unwrap(valueAccessor());$(element).scrollLeft(value)}},function(factory){if(typeof define=="function"&&define.amd)define(["knockout","jquery","jquery-ui/ui/widgets/sortable","jquery-ui/ui/widgets/draggable","jquery-ui/ui/widgets/droppable"],factory);else if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var ko=require("knockout"),jQuery=require("jquery");require("jquery-ui/ui/widgets/sortable");require("jquery-ui/ui/widgets/draggable");require("jquery-ui/ui/widgets/droppable");factory(ko,jQuery)}else factory(window.ko,window.jQuery)}(function(ko,$){var ITEMKEY="ko_sortItem",INDEXKEY="ko_sourceIndex",LISTKEY="ko_sortList",PARENTKEY="ko_parentList",DRAGKEY="ko_dragItem",unwrap=ko.utils.unwrapObservable,dataGet=ko.utils.domData.get,dataSet=ko.utils.domData.set,version=$.ui&&$.ui.version,hasNestedSortableFix=version&&version.indexOf("1.6.")&&version.indexOf("1.7.")&&(version.indexOf("1.8.")||version==="1.8.24"),addMetaDataAfterRender=function(elements,data){ko.utils.arrayForEach(elements,function(element){element.nodeType===1&&(dataSet(element,ITEMKEY,data),dataSet(element,PARENTKEY,dataGet(element.parentNode,LISTKEY)))})},prepareTemplateOptions=function(valueAccessor,dataName){var result={},options=unwrap(valueAccessor())||{},actualAfterRender;return options.data?(result[dataName]=options.data,result.name=options.template):result[dataName]=valueAccessor(),ko.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],function(option){options.hasOwnProperty(option)?result[option]=options[option]:ko.bindingHandlers.sortable.hasOwnProperty(option)&&(result[option]=ko.bindingHandlers.sortable[option])}),dataName==="foreach"&&(result.afterRender?(actualAfterRender=result.afterRender,result.afterRender=function(element,data){addMetaDataAfterRender.call(data,element,data);actualAfterRender.call(data,element,data)}):result.afterRender=addMetaDataAfterRender),result},updateIndexFromDestroyedItems=function(index,items){var unwrapped=unwrap(items),i;if(unwrapped)for(i=0;i<index;i++)unwrapped[i]&&unwrap(unwrapped[i]._destroy)&&index++;return index},stripTemplateWhitespace=function(element,name){var templateSource,templateElement;name?(templateElement=document.getElementById(name),templateElement&&(templateSource=new ko.templateSources.domElement(templateElement),templateSource.text($.trim(templateSource.text())))):$(element).contents().each(function(){this&&this.nodeType!==1&&element.removeChild(this)})};ko.bindingHandlers.sortable={init:function(element,valueAccessor,allBindingsAccessor,data,context){var $element=$(element),value=unwrap(valueAccessor())||{},templateOptions=prepareTemplateOptions(valueAccessor,"foreach"),sortable={},startActual,updateActual,createTimeout;return stripTemplateWhitespace(element,templateOptions.name),$.extend(!0,sortable,ko.bindingHandlers.sortable),value.options&&sortable.options&&(ko.utils.extend(sortable.options,value.options),delete value.options),ko.utils.extend(sortable,value),sortable.connectClass&&(ko.isObservable(sortable.allowDrop)||typeof sortable.allowDrop=="function")?ko.computed({read:function(){var value=unwrap(sortable.allowDrop),shouldAdd=typeof value=="function"?value.call(this,templateOptions.foreach):value;ko.utils.toggleDomNodeCssClass(element,sortable.connectClass,shouldAdd)},disposeWhenNodeIsRemoved:element},this):ko.utils.toggleDomNodeCssClass(element,sortable.connectClass,sortable.allowDrop),ko.bindingHandlers.template.init(element,function(){return templateOptions},allBindingsAccessor,data,context),startActual=sortable.options.start,updateActual=sortable.options.update,sortable.options.helper||(sortable.options.helper=function(e,ui){return ui.is("tr")&&ui.children().each(function(){$(this).width($(this).width())}),ui}),createTimeout=setTimeout(function(){var dragItem,originalReceive=sortable.options.receive;$element.sortable(ko.utils.extend(sortable.options,{start:function(event,ui){var el=ui.item[0];dataSet(el,INDEXKEY,ko.utils.arrayIndexOf(ui.item.parent().children(),el));ui.item.find("input:focus").change();startActual&&startActual.apply(this,arguments)},receive:function(event,ui){typeof originalReceive=="function"&&originalReceive.call(this,event,ui);dragItem=dataGet(ui.item[0],DRAGKEY);dragItem&&(dragItem.clone&&(dragItem=dragItem.clone()),sortable.dragged&&(dragItem=sortable.dragged.call(this,dragItem,event,ui)||dragItem))},update:function(event,ui){var sourceParent,targetParent,sourceIndex,targetIndex,arg,el=ui.item[0],parentEl=ui.item.parent()[0],item=dataGet(el,ITEMKEY)||dragItem,underlyingList;if(item||$(el).remove(),dragItem=null,item&&this===parentEl||!hasNestedSortableFix&&$.contains(this,parentEl)){if(sourceParent=dataGet(el,PARENTKEY),sourceIndex=dataGet(el,INDEXKEY),targetParent=dataGet(el.parentNode,LISTKEY),targetIndex=ko.utils.arrayIndexOf(ui.item.parent().children(),el),templateOptions.includeDestroyed||(sourceIndex=updateIndexFromDestroyedItems(sourceIndex,sourceParent),targetIndex=updateIndexFromDestroyedItems(targetIndex,targetParent)),(sortable.beforeMove||sortable.afterMove)&&(arg={item:item,sourceParent:sourceParent,sourceParentNode:sourceParent&&ui.sender||el.parentNode,sourceIndex:sourceIndex,targetParent:targetParent,targetIndex:targetIndex,cancelDrop:!1},sortable.beforeMove&&sortable.beforeMove.call(this,arg,event,ui)),sourceParent?$(sourceParent===targetParent?this:ui.sender||this).sortable("cancel"):$(el).remove(),arg&&arg.cancelDrop)return;sortable.hasOwnProperty("strategyMove")&&sortable.strategyMove!==!1?targetIndex>=0&&(sourceParent?sourceParent!==targetParent?(sourceParent.splice(sourceIndex,1),targetParent.splice(targetIndex,0,item),dataSet(el,ITEMKEY,null),ui.item.remove()):(underlyingList=unwrap(sourceParent),sourceParent.valueWillMutate&&sourceParent.valueWillMutate(),underlyingList.splice(sourceIndex,1),underlyingList.splice(targetIndex,0,item),sourceParent.valueHasMutated&&sourceParent.valueHasMutated()):(targetParent.splice(targetIndex,0,item),dataSet(el,ITEMKEY,null),ui.item.remove())):(targetIndex>=0&&(sourceParent&&(sourceParent.splice(sourceIndex,1),ko.processAllDeferredBindingUpdates&&ko.processAllDeferredBindingUpdates(),ko.options&&ko.options.deferUpdates&&ko.tasks.runEarly()),targetParent.splice(targetIndex,0,item)),dataSet(el,ITEMKEY,null));ko.processAllDeferredBindingUpdates&&ko.processAllDeferredBindingUpdates();sortable.afterMove&&sortable.afterMove.call(this,arg,event,ui)}updateActual&&updateActual.apply(this,arguments)},connectWith:sortable.connectClass?"."+sortable.connectClass:!1}));sortable.isEnabled!==undefined&&ko.computed({read:function(){$element.sortable(unwrap(sortable.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:element})},0),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){($element.data("ui-sortable")||$element.data("sortable"))&&$element.sortable("destroy");ko.utils.toggleDomNodeCssClass(element,sortable.connectClass,!1);clearTimeout(createTimeout)}),{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,data,context){var templateOptions=prepareTemplateOptions(valueAccessor,"foreach");dataSet(element,LISTKEY,templateOptions.foreach);ko.bindingHandlers.template.update(element,function(){return templateOptions},allBindingsAccessor,data,context)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}};ko.bindingHandlers.draggable={init:function(element,valueAccessor,allBindingsAccessor,data,context){var value=unwrap(valueAccessor())||{},options=value.options||{},draggableOptions=ko.utils.extend({},ko.bindingHandlers.draggable.options),templateOptions=prepareTemplateOptions(valueAccessor,"data"),connectClass=value.connectClass||ko.bindingHandlers.draggable.connectClass,isEnabled=value.isEnabled!==undefined?value.isEnabled:ko.bindingHandlers.draggable.isEnabled;return value="data"in value?value.data:value,dataSet(element,DRAGKEY,value),ko.utils.extend(draggableOptions,options),draggableOptions.connectToSortable=connectClass?"."+connectClass:!1,$(element).draggable(draggableOptions),isEnabled!==undefined&&ko.computed({read:function(){$(element).draggable(unwrap(isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:element}),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).draggable("destroy")}),ko.bindingHandlers.template.init(element,function(){return templateOptions},allBindingsAccessor,data,context)},update:function(element,valueAccessor,allBindingsAccessor,data,context){var templateOptions=prepareTemplateOptions(valueAccessor,"data");return ko.bindingHandlers.template.update(element,function(){return templateOptions},allBindingsAccessor,data,context)},connectClass:ko.bindingHandlers.sortable.connectClass,options:{helper:"clone"}};ko.bindingHandlers.droppable={init:function(element,valueAccessor,allBindingsAccessor,data,context){var value=unwrap(valueAccessor())||{},options=value.options||{},droppableOptions=ko.utils.extend({},ko.bindingHandlers.droppable.options),isEnabled=value.isEnabled!==undefined?value.isEnabled:ko.bindingHandlers.droppable.isEnabled;ko.utils.extend(droppableOptions,options);value="data"in value?value.data:valueAccessor();droppableOptions.drop=function(event,ui){var droppedItem=dataGet(ui.draggable[0],DRAGKEY)||dataGet(ui.draggable[0],ITEMKEY);value(droppedItem)};$(element).droppable(droppableOptions);isEnabled!==undefined&&ko.computed({read:function(){$(element).droppable(unwrap(isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:element});ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).droppable("destroy")})},options:{accept:"*"}}});ko.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}};ko.virtualElements.allowedBindings.stopBinding=!0;ko.bindingHandlers.googleMapsPlacesAutocomplete={init:function(element,valueAccessor,allBindingsAccessor){var options=allBindingsAccessor().googleMapsPlacesAutocompleteOptions||{},allowInternational=options.SupportedCountries&&!options.SupportedCountries.length,value,geocoder;options=$.extend({SupportedCountries:[]},options);value=valueAccessor();geocoder=new LiquidSpace.Geocoder;$(element).autocomplete({minLength:2,autoFocus:!0,source:function(request,autocompleteResponse){autocompleteResponse(null);geocoder.getPlacePredictions({input:request.term,countries:options.SupportedCountries,allowInternational:allowInternational},function(response,status){status=="OK"&&response.length>0&&autocompleteResponse(response.map(function(r){return{label:r.description,value:r.description,raw_response:r}}))})},select:function(event,ui){geocoder.getDetails({placeId:ui.item.raw_response.place_id},function(result,status){status=="OK"&&value(result)})}})}};ko.bindingHandlers.copy={init:function(element,valueAccessor,allBindingsAccessor){var observable=valueAccessor(),options=allBindingsAccessor().copyOptions||{};$(element).copy({copy:function(){return ko.unwrap(observable)},beforeCopy:function(){$.isFunction(options.beforeCopy)&&options.beforeCopy()},afterCopy:function(){$.isFunction(options.afterCopy)&&options.afterCopy()}})}};ko.bindingHandlers.ckeditor={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var ckEditorValue=valueAccessor(),ignoreChanges=!1,instance=null,options=$.extend({customConfig:"/Content/Scripts/ckeditor-4.5.7.full/config.minimal.js",on:{change:function(){ignoreChanges=!0;ckEditorValue(instance.getData());ignoreChanges=!1}},bodyClass:"h5 pb",contentsCss:"/Content/styles/font-styles.css"},allBindings().ckeditorOptions);instance=CKEDITOR.replace(element,options);ckEditorValue.subscribe(function(newValue){ignoreChanges||instance.setData(newValue)})}};ko.bindingHandlers.radialProgressBar={init:function(element,valueAccessor,allBindingsAccessor){var options=$.extend({strokeWidth:10,width:200,height:200},allBindingsAccessor().radialProgressBarOptions),observable=valueAccessor(),$element=$(element),outerDiameter=Math.min(options.width,options.height),radius=outerDiameter/2-options.strokeWidth,circumference=2*Math.PI*radius,cx=options.width/2,cy=options.height/2,dashoffset=ko.computed(function(){var value=ko.unwrap(observable);return value<0&&(value=0),value>100&&(value=100),(100-value)/100*circumference});return $element.html('<svg width="'+options.width+'" height="'+options.height+'" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle class="substrate" r="'+radius+'" cx="'+cx+'" cy="'+cy+'" fill="transparent" stroke-width="'+options.strokeWidth+'"><\/circle><circle class="bar" r="'+radius+'" cx="'+cx+'" cy="'+cy+'" fill="transparent" stroke-width="'+options.strokeWidth+'" stroke-dasharray="'+circumference+'" stroke-dashoffset="0" transform="rotate(-90 '+cx+" "+cy+')" data-bind="style: { \'stroke-dashoffset\': dashoffset }"><\/circle><\/svg>'),ko.applyBindingsToDescendants({dashoffset:dashoffset},$element[0]),{controlsDescendantBindings:!0}}};ko.bindingHandlers.searchAutocomplete={init:function(element,valueAccessor){var params=valueAccessor();$(element).val(params.value());params.value.subscribe(function(){$(element).val(params.value())});$(element).searchAutocomplete(params)}};ko.bindingHandlers.recaptcha={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var config=$.extend({mode:Enum.RecaptchaV2Mode.Explicit,observable:ko.observable(!1),tokenObservable:ko.observable(),onRenderCallback:function(recaptchaViewModel){}},valueAccessor()),recaptchaConfig;return config.observable(!1),recaptchaConfig={sitekey:RecaptchaKeys[Enum.RecaptchaV2Mode[config.mode]].SiteKey,callback:function(token){config.observable(!0);config.tokenObservable(token)},"expired-callback":function(){config.observable(!1);config.tokenObservable(null)},"error-callback":function(){config.observable(!1);config.tokenObservable(null)},size:config.mode==Enum.RecaptchaV2Mode.Explicit?"normal":"invisible"},LSHelper.recaptcha.init(function(){var grecaptchaWidget=grecaptcha.render(element,recaptchaConfig,!1),recaptchaViewModel={isValid:config.observable,token:config.tokenObservable,reset:function(){config.observable(!1);config.tokenObservable(null);grecaptcha.reset(grecaptchaWidget)}};$.isFunction(config.onRenderCallback)&&config.onRenderCallback(recaptchaViewModel)}),{controlsDescendantBindings:!0}}};ko.bindingHandlers.lsloading={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=ko.unwrap(valueAccessor()),$element=$(element)},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element);value?$element.lsLoading("set"):$element.lsLoading("remove")}};ko.bindingHandlers.animatedTextCounter={init:function(element,valueAccessor,allBindingsAccessor,viewModel){var displayValue=ko.observable(0),timer,totalAnimationLength=2e3,valueDifference=Math.abs(displayValue()-ko.unwrap(valueAccessor())),delay=100,updateText;valueDifference>0&&(delay=totalAnimationLength/valueDifference,delay<4&&(delay=4),delay>100&&(delay=100));updateText=function(){var newValue=ko.unwrap(valueAccessor()),step=newValue>=displayValue()?1:-1;clearInterval(timer);timer=setInterval(function(){displayValue()==newValue?clearInterval(timer):displayValue(displayValue()+step);ko.bindingHandlers.text.update(element,function(){return displayValue})},delay)};ko.computed(function(){updateText()},null,{disposeWhenNodeIsRemoved:element});updateText()}};ko.bindingHandlers.listingDialog={init:function(element,valueAccessor,allBindingsAccessor){var config=allBindingsAccessor().listingDialogOptions||{},venueId=config.venueId,onCreated=config.onCreated,observable=valueAccessor(),viewModel=null,loadComponent=function(workspaceId){$.ajax({url:"/Proposal/GetListingComponent",type:"POST",contentType:"application/json",data:JSON.stringify({venueId:venueId,workspaceId:workspaceId}),success:function(data){$(element).children().toArray().forEach(function(e){ko.cleanNode(e)});$(element).empty();$(element).append(data.view);viewModel=new LiquidSpace.ProposalListingWorkspace(data.model,!0);$.isFunction(onCreated)&&onCreated(viewModel);ko.applyBindings(viewModel,element.children[0])}})},workspaceIdSubscription;return loadComponent(ko.unwrap(observable)),workspaceIdSubscription=null,ko.isSubscribable(observable)&&(workspaceIdSubscription=observable.subscribe(function(value){viewModel.WorkspaceId()!=value&&loadComponent(ko.unwrap(value))})),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){workspaceIdSubscription&&workspaceIdSubscription.dispose()}),{controlsDescendantBindings:!0}}};ko.bindingHandlers.swiper={init:function(element,valueAccessor,allBindingsAccessor){var urls=ko.unwrap(valueAccessor()),slides=urls.map(function(url){return'<div class="swiper-slide swiper-lazy sli-swiper-slide" data-background="'+url+'"><div class="swiper-lazy-preloader"><\/div><\/div>'}),innerHTML='<div class="swiper-wrapper">'+slides.join("")+"<\/div>";urls.length>1&&(innerHTML+='<div class="swiper-button-prev sli-swiper-button sli-swiper-button-prev"><\/div>         <div class="swiper-button-next sli-swiper-button sli-swiper-button-next"><\/div>');element.innerHTML=innerHTML;var defaultoptions={loop:urls.length>1,preloadImages:!1,lazy:{loadPrevNext:!0},slidesPerView:1,simulateTouch:!1,navigation:{nextEl:$(element).find(".swiper-button-next")[0],prevEl:$(element).find(".swiper-button-prev")[0]}},options=allBindingsAccessor().swiperOptions||{},swiperInstance=new Swiper(element,$.extend(defaultoptions,options));return ko.utils.domNodeDisposal.addDisposeCallback(element,function(){swiperInstance.destroy()}),{controlsDescendantBindings:!0}}};ko.extenders.isNotNullOrEmpty=function(target,isNotNullOrEmpty){return isNotNullOrEmpty&&(target.isNotNullOrEmpty=ko.computed(function(){var val=target();return val!=null&&val!=""&&val!="00000000-0000-0000-0000-000000000000"})),target};ko.extenders.serverSideTax=function(target,params){params=$.extend({venueId:null},params);var _timeout=null,_xhr=null,_valueToSend=null,updateTax=function(newValue){var sum=parseFloat(newValue);isNaN(sum)?target.showTax(!1):(_valueToSend=sum,clearTimeout(_timeout),sum<1e20?_timeout=setTimeout(function(){_xhr&&xhr.abort();_xhr=$.ajax({type:"POST",url:GetUrl("CalculateTax","Workspace"),contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({venueId:params.venueId,sum:sum}),success:function(data){target.tax(data.text);target.showTax(data.value!=sum)},complete:function(){_xhr=null}})},1e3):target.showTax(!1))};return params.venueId&&(target.tax=ko.observable(""),target.showTax=ko.observable(!1),target.subscribe(updateTax),updateTax(target())),target};ko.extenders.trackChange=function(target,track){return track&&(target.isDirty=ko.observable(!1),target.treatAsString=!1,target.originalValue=target(),target.reset=function(){target(target.originalValue)},target.subscribe(function(newValue){target.originalValue==null?target.isDirty(newValue==null||newValue==""?!1:!0):target.treatAsString||isNaN(Number(newValue))||isNaN(Number(target.originalValue))?target.isDirty(newValue!=target.originalValue):target.isDirty(Number(newValue).toPrecision(6)!=Number(target.originalValue).toPrecision(6))}),target.autosavedValue=ko.observable(target()),target.isAutosaved=ko.computed(function(){var autosavedValue=target.autosavedValue(),newValue=target();return autosavedValue==null?newValue==null||newValue=="":isNaN(Number(newValue))||isNaN(Number(autosavedValue))?newValue==autosavedValue:Number(newValue).toPrecision(6)==Number(autosavedValue).toPrecision(6)})),target};ko.extenders.progressivefilter=function(target,args){function doFilter(){var item;for(props.unfilteredCollectionIndex;props.unfilteredCollectionIndex<props.unfilteredCollection.length;props.unfilteredCollectionIndex++)if(item=props.unfilteredCollection[props.unfilteredCollectionIndex],item&&target.isFiltered(item)){props.add(item);break}if(currentCount++,props.unfilteredCollectionIndex++,props.unfilteredCollectionIndex<props.unfilteredCollection.length){currentCount>=props.batchSize?(target.valueHasMutated(),currentCount=0,requestAnimationFrame(doFilter)):(currentCount++,doFilter());return}else target.valueHasMutated(),currentCount=0,props.unfilteredCollectionIndex=0,props.isFiltering(!1)}var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,4)},currentCount=0,props={};args=args||{};target.progressivefilter=props;props.unfilteredCollection=[];props.unfilteredCollectionIndex=0;props.isFiltering=ko.observable(!1);props.filterFunction=args.filterFunction;props.batchSize=Math.max(parseInt(args.batchSize,10),1);props.add=args.addFunction||function(item){target.peek().push(item)};props.clear=args.clearFunction||function(){target([])};target.isFiltered=function(item){return!props.filterFunction||props.filterFunction(item)};target.filter=function(unfilteredCollection){for(var filteredCollection=[],i=0;i<unfilteredCollection.length;i++)target.isFiltered(unfilteredCollection[i])&&filteredCollection.push(unfilteredCollection[i]);props.clear();target(filteredCollection)};target.filterProgressive=function(unfilteredCollection){props.unfilteredCollection=unfilteredCollection.slice(0);props.unfilteredCollectionIndex=0;currentCount=0;props.clear();props.isFiltering.peek()||(props.isFiltering(!0),requestAnimationFrame(doFilter))}};!function(t,e){var i,s;if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{i=e();for(s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i=window.webpackJsonp,s,n;return window.webpackJsonp=function(s,r){for(var a,l,o=0,h=[];o<s.length;o++)l=s[o],n[l]&&h.push.apply(h,n[l]),n[l]=0;for(a in r)t[a]=r[a];for(i&&i(s,r);h.length;)h.shift().call(null,e)},s={},n={0:0},e.e=function(t,i){if(0===n[t])return i.call(null,e);if(void 0!==n[t])n[t].push(i);else{n[t]=[i];var s=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript";r.charset="utf-8";r.async=!0;r.src=e.p+"tf-"+({}[t]||t)+".js";s.appendChild(r)}},e.m=t,e.c=s,e.p="",e(0)}([function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.TableFilter=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(1),l=s(a),o=i(2),h=s(o),f=i(3),u=s(f),d=i(4),p=s(d),c=i(5),g=s(c),b=i(6),v=s(b),m=i(7),y=i(8),_=i(10),C=i(12),w=i(13),x=i(14),T=i(15),P=i(18),F=i(19),R=i(20),S=i(21),I=i(22),E=i(23),O=i(24),k=i(25),L=i(26),N=window,B=N.document;e.TableFilter=function(){function t(){var e=this,o;n(this,t);for(var i=arguments.length,s=Array(i),a=0;i>a;a++)s[a]=arguments[a];if(0!==s.length){if(this.id=null,this.version="0.2.4",this.year=(new Date).getFullYear(),this.tbl=null,this.startRow=null,this.refRow=null,this.headersRow=null,this.cfg={},this.nbFilterableRows=null,this.nbRows=null,this.nbCells=null,this._hasGrid=!1,s.forEach(function(t){var i="undefined"==typeof t?"undefined":r(t);"object"===i&&t&&"TABLE"===t.nodeName?(e.tbl=t,e.id=t.id||"tf_"+(new Date).getTime()+"_"):"string"===i?(e.id=t,e.tbl=h["default"].id(t)):"number"===i?e.startRow=t:"object"===i&&(e.cfg=t)}),!this.tbl||"TABLE"!=this.tbl.nodeName||0===this.getRowsNb())throw new Error("Could not instantiate TableFilter: HTML table not found.");o=this.cfg;this.emitter=new m.Emitter;this.refRow=null===this.startRow?2:this.startRow+1;try{this.nbCells=this.getCellsNb(this.refRow)}catch(f){this.nbCells=this.getCellsNb(0)}this.basePath=o.base_path||"tablefilter/";this.fltTypeInp="input";this.fltTypeSlc="select";this.fltTypeMulti="multiple";this.fltTypeCheckList="checklist";this.fltTypeNone="none";this.fltGrid=o.grid!==!1;this.gridLayout=Boolean(o.grid_layout);this.filtersRowIndex=isNaN(o.filters_row_index)?0:o.filters_row_index;this.headersRow=isNaN(o.headers_row_index)?0===this.filtersRowIndex?1:0:o.headers_row_index;this.fltCellTag="th"!==o.filters_cell_tag||"td"!==o.filters_cell_tag?"td":o.filters_cell_tag;this.fltIds=[];this.fltElms=[];this.validRowsIndex=[];this.fltGridEl=null;this.infDiv=null;this.lDiv=null;this.rDiv=null;this.mDiv=null;this.infDivCssClass=o.inf_div_css_class||"inf";this.lDivCssClass=o.left_div_css_class||"ldiv";this.rDivCssClass=o.right_div_css_class||"rdiv";this.mDivCssClass=o.middle_div_css_class||"mdiv";this.contDivCssClass=o.content_div_css_class||"cont";this.stylePath=o.style_path||this.basePath+"style/";this.stylesheet=o.stylesheet||this.stylePath+"tablefilter.css";this.stylesheetId=this.id+"_style";this.fltsRowCssClass=o.flts_row_css_class||"fltrow";this.enableIcons=o.enable_icons!==!1;this.alternateRows=Boolean(o.alternate_rows);this.hasColWidths=p["default"].isArray(o.col_widths);this.colWidths=this.hasColWidths?o.col_widths:null;this.fltCssClass=o.flt_css_class||"flt";this.fltMultiCssClass=o.flt_multi_css_class||"flt_multi";this.fltSmallCssClass=o.flt_small_css_class||"flt_s";this.singleFltCssClass=o.single_flt_css_class||"single_flt";this.enterKey=o.enter_key!==!1;this.onBeforeFilter=p["default"].isFn(o.on_before_filter)?o.on_before_filter:null;this.onAfterFilter=p["default"].isFn(o.on_after_filter)?o.on_after_filter:null;this.caseSensitive=Boolean(o.case_sensitive);this.hasExactMatchByCol=p["default"].isArray(o.columns_exact_match);this.exactMatchByCol=this.hasExactMatchByCol?o.columns_exact_match:[];this.exactMatch=Boolean(o.exact_match);this.linkedFilters=Boolean(o.linked_filters);this.disableExcludedOptions=Boolean(o.disable_excluded_options);this.activeFlt=null;this.activeFilterId=null;this.hasVisibleRows=Boolean(o.rows_always_visible);this.visibleRows=this.hasVisibleRows?o.rows_always_visible:[];this.isExternalFlt=Boolean(o.external_flt_grid);this.externalFltTgtIds=o.external_flt_grid_ids||[];this.externalFltEls=[];this.execDelay=isNaN(o.exec_delay)?100:parseInt(o.exec_delay,10);this.onFiltersLoaded=p["default"].isFn(o.on_filters_loaded)?o.on_filters_loaded:null;this.singleSearchFlt=Boolean(o.single_filter);this.onRowValidated=p["default"].isFn(o.on_row_validated)?o.on_row_validated:null;this.customCellDataCols=o.custom_cell_data_cols?o.custom_cell_data_cols:[];this.customCellData=p["default"].isFn(o.custom_cell_data)?o.custom_cell_data:null;this.watermark=o.watermark||"";this.isWatermarkArray=p["default"].isArray(this.watermark);this.toolBarTgtId=o.toolbar_target_id||null;this.help=p["default"].isUndef(o.help_instructions)?void 0:Boolean(o.help_instructions);this.popupFilters=Boolean(o.popup_filters);this.markActiveColumns=Boolean(o.mark_active_columns);this.activeColumnsCssClass=o.active_columns_css_class||"activeHeader";this.onBeforeActiveColumn=p["default"].isFn(o.on_before_active_column)?o.on_before_active_column:null;this.onAfterActiveColumn=p["default"].isFn(o.on_after_active_column)?o.on_after_active_column:null;this.displayAllText=o.display_all_text||"Clear";this.enableEmptyOption=Boolean(o.enable_empty_option);this.emptyText=o.empty_text||"(Empty)";this.enableNonEmptyOption=Boolean(o.enable_non_empty_option);this.nonEmptyText=o.non_empty_text||"(Non empty)";this.onSlcChange=o.on_change!==!1;this.sortSlc=o.sort_select!==!1;this.isSortNumAsc=Boolean(o.sort_num_asc);this.sortNumAsc=this.isSortNumAsc?o.sort_num_asc:[];this.isSortNumDesc=Boolean(o.sort_num_desc);this.sortNumDesc=this.isSortNumDesc?o.sort_num_desc:[];this.loadFltOnDemand=Boolean(o.load_filters_on_demand);this.hasCustomOptions=p["default"].isObj(o.custom_options);this.customOptions=o.custom_options;this.rgxOperator=o.regexp_operator||"rgx:";this.emOperator=o.empty_operator||"[empty]";this.nmOperator=o.nonempty_operator||"[nonempty]";this.orOperator=o.or_operator||"||";this.anOperator=o.and_operator||"&&";this.grOperator=o.greater_operator||">";this.lwOperator=o.lower_operator||"<";this.leOperator=o.lower_equal_operator||"<=";this.geOperator=o.greater_equal_operator||">=";this.dfOperator=o.different_operator||"!";this.lkOperator=o.like_operator||"*";this.eqOperator=o.equal_operator||"=";this.stOperator=o.start_with_operator||"{";this.enOperator=o.end_with_operator||"}";this.curExp=o.cur_exp||"^[$]";this.separator=o.separator||",";this.rowsCounter=Boolean(o.rows_counter);this.statusBar=Boolean(o.status_bar);this.loader=Boolean(o.loader);this.displayBtn=Boolean(o.btn);this.btnText=o.btn_text||(this.enableIcons?"":"Go");this.btnCssClass=o.btn_css_class||(this.enableIcons?"btnflt_icon":"btnflt");this.btnReset=Boolean(o.btn_reset);this.btnResetCssClass=o.btn_reset_css_class||"reset";this.onBeforeReset=p["default"].isFn(o.on_before_reset)?o.on_before_reset:null;this.onAfterReset=p["default"].isFn(o.on_after_reset)?o.on_after_reset:null;this.paging=Boolean(o.paging);this.nbVisibleRows=0;this.nbHiddenRows=0;this.autoFilter=Boolean(o.auto_filter);this.autoFilterDelay=isNaN(o.auto_filter_delay)?900:o.auto_filter_delay;this.isUserTyping=null;this.autoFilterTimer=null;this.highlightKeywords=Boolean(o.highlight_keywords);this.noResults=p["default"].isObj(o.no_results_message)||Boolean(o.no_results_message);this.state=p["default"].isObj(o.state)||Boolean(o.state);this.defaultDateType=o.default_date_type||"DMY";this.thousandsSeparator=o.thousands_separator||",";this.decimalSeparator=o.decimal_separator||".";this.hasColNbFormat=p["default"].isArray(o.col_number_format);this.colNbFormat=this.hasColNbFormat?o.col_number_format:null;this.hasColDateType=p["default"].isArray(o.col_date_type);this.colDateType=this.hasColDateType?o.col_date_type:null;this.prfxTf="TF";this.prfxFlt="flt";this.prfxValButton="btn";this.prfxInfDiv="inf_";this.prfxLDiv="ldiv_";this.prfxRDiv="rdiv_";this.prfxMDiv="mdiv_";this.prfxCookieFltsValues="tf_flts_";this.prfxCookiePageNb="tf_pgnb_";this.prfxCookiePageLen="tf_pglen_";this.rememberGridValues=Boolean(o.remember_grid_values);this.rememberPageNb=this.paging&&o.remember_page_number;this.rememberPageLen=this.paging&&o.remember_page_length;this.hasPersistence=this.rememberGridValues||this.rememberPageNb||this.rememberPageLen;this.extensions=o.extensions;this.hasExtensions=p["default"].isArray(this.extensions);this.enableDefaultTheme=Boolean(o.enable_default_theme);this.hasThemes=this.enableDefaultTheme||p["default"].isArray(o.themes);this.themes=o.themes||[];this.themesPath=o.themes_path||this.stylePath+"themes/";this.Mod={};this.ExtRegistry={};this.Evt={detectKey:function(t){if(this.enterKey&&t){var e=l["default"].keyCode(t);13===e?(this.filter(),l["default"].cancel(t),l["default"].stop(t)):(this.isUserTyping=!0,N.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null)}},onKeyUp:function(t){function e(){N.clearInterval(this.autoFilterTimer);this.autoFilterTimer=null;this.isUserTyping||(this.filter(),this.isUserTyping=null)}if(this.autoFilter){var i=l["default"].keyCode(t);this.isUserTyping=!1;13!==i&&9!==i&&27!==i&&38!==i&&40!==i?null===this.autoFilterTimer&&(this.autoFilterTimer=N.setInterval(e.bind(this),this.autoFilterDelay)):(N.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null)}},onKeyDown:function(){this.autoFilter&&(this.isUserTyping=!0)},onInpBlur:function(){this.autoFilter&&(this.isUserTyping=!1,N.clearInterval(this.autoFilterTimer));this.emitter.emit("filter-blur",this)},onInpFocus:function(t){var e=l["default"].target(t);this.activeFilterId=e.getAttribute("id");this.activeFlt=h["default"].id(this.activeFilterId);this.emitter.emit("filter-focus",this)}}}}return t.prototype.init=function(){var t=this,n,r,a,l;if(!this._hasGrid){var e=this.Mod,i=this.singleSearchFlt?1:this.nbCells,s=void 0;if(this["import"](this.stylesheetId,this.stylesheet,null,"link"),this.hasThemes&&this.loadThemes(),e.help||(e.help=new E.Help(this)),this.help&&e.help.init(),this.state&&(e.state||(e.state=new L.State(this)),e.state.init()),this.hasPersistence&&(e.store||(e.store=new y.Store(this)),e.store.init()),this.gridLayout&&(e.gridLayout||(e.gridLayout=new _.GridLayout(this)),e.gridLayout.init()),this.loader&&(e.loader||(e.loader=new C.Loader(this)),e.loader.init()),this.highlightKeywords&&(e.highlightKeyword=new w.HighlightKeyword(this),e.highlightKeyword.init()),this.popupFilters&&(e.popupFilter||(e.popupFilter=new x.PopupFilter(this)),e.popupFilter.init()),this.fltGrid)for(n=this._insertFiltersRow(),this.nbFilterableRows=this.getRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.tbl.rows.length,r=0;i>r;r++)this.emitter.emit("before-filter-init",this,r),a=h["default"].create(this.fltCellTag),l=this.getFilterType(r),this.singleSearchFlt&&(a.colSpan=this.nbCells),this.gridLayout||n.appendChild(a),s=r==i-1&&this.displayBtn?this.fltSmallCssClass:this.fltCssClass,this.singleSearchFlt&&(l=this.fltTypeInp,s=this.singleFltCssClass),l===this.fltTypeSlc||l===this.fltTypeMulti?(e.dropdown||(e.dropdown=new T.Dropdown(this)),e.dropdown.init(r,this.isExternalFlt,a)):l===this.fltTypeCheckList?(e.checkList||(e.checkList=new P.CheckList(this)),e.checkList.init(r,this.isExternalFlt,a)):this._buildInputFilter(r,s,a),r==i-1&&this.displayBtn&&this._buildSubmitButton(r,a),this.emitter.emit("after-filter-init",this,r);else this._initNoFilters();this.hasVisibleRows&&(this.emitter.on(["after-filtering"],function(){return t.enforceVisibility()}),this.enforceVisibility());this.rowsCounter&&(e.rowsCounter=new F.RowsCounter(this),e.rowsCounter.init());this.statusBar&&(e.statusBar=new R.StatusBar(this),e.statusBar.init());this.paging&&(e.paging?e.paging.reset():(e.paging=new S.Paging(this),e.paging.init()));this.btnReset&&(e.clearButton=new I.ClearButton(this),e.clearButton.init());this.hasColWidths&&!this.gridLayout&&this.setColWidths();this.alternateRows&&(e.alternateRows=new O.AlternateRows(this),e.alternateRows.init());this.noResults&&(e.noResults||(e.noResults=new k.NoResults(this)),e.noResults.init());this._hasGrid=!0;this.hasPersistence&&this.resetFilterValues();this.gridLayout||h["default"].addClass(this.tbl,this.prfxTf);this.hasExtensions&&this.initExtensions();this.markActiveColumns&&(this.emitter.on(["before-filtering"],function(){return t.clearActiveColumns()}),this.emitter.on(["cell-processed"],function(e,i){return t.markActiveColumn(i)}));this.linkedFilters&&this.emitter.on(["after-filtering"],function(){return t.linkFilters()});this.onFiltersLoaded&&this.onFiltersLoaded.call(null,this);this.initialized=!0;this.emitter.emit("initialized",this)}},t.prototype._insertFiltersRow=function(){if(!this.gridLayout){var t=void 0,e=h["default"].tag(this.tbl,"thead");return t=e.length>0?e[0].insertRow(this.filtersRowIndex):this.tbl.insertRow(this.filtersRowIndex),t.className=this.fltsRowCssClass,this.isExternalFlt&&(t.style.display="none"),this.emitter.emit("filters-row-inserted",this,t),t}},t.prototype._initNoFilters=function(){this.fltGrid||(this.refRow=this.refRow>0?this.refRow-1:0,this.nbFilterableRows=this.getRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.nbFilterableRows+this.refRow)},t.prototype._buildInputFilter=function(t,e,i){var s=this.getFilterType(t),n=this.isExternalFlt?this.externalFltTgtIds[t]:null,r=s===this.fltTypeInp?"text":"hidden",a=h["default"].create(this.fltTypeInp,["id",this.prfxFlt+t+"_"+this.id],["type",r],["ct",t]);"hidden"!==r&&this.watermark&&a.setAttribute("placeholder",this.isWatermarkArray?this.watermark[t]||"":this.watermark);a.className=e||this.fltCssClass;l["default"].add(a,"focus",this.Evt.onInpFocus.bind(this));n?(h["default"].id(n).appendChild(a),this.externalFltEls.push(a)):i.appendChild(a);this.fltIds.push(a.id);l["default"].add(a,"keypress",this.Evt.detectKey.bind(this));l["default"].add(a,"keydown",this.Evt.onKeyDown.bind(this));l["default"].add(a,"keyup",this.Evt.onKeyUp.bind(this));l["default"].add(a,"blur",this.Evt.onInpBlur.bind(this))},t.prototype._buildSubmitButton=function(t,e){var i=this,s=this.isExternalFlt?this.externalFltTgtIds[t]:null,n=h["default"].create(this.fltTypeInp,["id",this.prfxValButton+t+"_"+this.id],["type","button"],["value",this.btnText]);n.className=this.btnCssClass;s?h["default"].id(s).appendChild(n):e.appendChild(n);l["default"].add(n,"click",function(){return i.filter()})},t.prototype.feature=function(t){return this.Mod[t]},t.prototype.initExtensions=function(){var t=this.extensions,e,s,n;for(i.p=this.basePath,this.emitter.emit("before-loading-extensions",this),e=0,s=t.length;s>e;e++)n=t[e],this.ExtRegistry[n.name]||this.loadExtension(n);this.emitter.emit("after-loading-extensions",this)},t.prototype.loadExtension=function(t){var e=this;if(t&&t.name){var s=t.name,n=t.path,r=void 0;s&&n?r=t.path+s:(s=s.replace(".js",""),r="extensions/{}/{}".replace(/{}/g,s));i.e(1,function(i){var n=[i(28)("./"+r)];(function(i){var n=new i["default"](e,t);n.init();e.ExtRegistry[s]=n}).apply(null,n)})}},t.prototype.extension=function(t){return this.ExtRegistry[t]},t.prototype.hasExtension=function(t){return!p["default"].isEmpty(this.ExtRegistry[t])},t.prototype.destroyExtensions=function(){for(var s,n,t=this.extensions,e=0,i=t.length;i>e;e++)s=t[e],n=this.ExtRegistry[s.name],n&&(n.destroy(),this.ExtRegistry[s.name]=null)},t.prototype.loadThemes=function(){var t=this.themes,e,i,s;if((this.emitter.emit("before-loading-themes",this),this.enableDefaultTheme)&&(e={name:"default"},this.themes.push(e)),p["default"].isArray(t))for(i=0,s=t.length;s>i;i++){var n=t[i],r=n.name,a=n.path,l=this.prfxTf+r;r&&!a?a=this.themesPath+r+"/"+r+".css":!r&&n.path&&(r="theme{0}".replace("{0}",i));this.isImported(a,"link")||this["import"](l,a,null,"link")}this.btnResetText=null;this.btnResetHtml='<input type="button" value="" class="'+this.btnResetCssClass+'" title="Clear filters" />';this.btnPrevPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' previousPage" title="Previous page" />';this.btnNextPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' nextPage" title="Next page" />';this.btnFirstPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' firstPage" title="First page" />';this.btnLastPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' lastPage" title="Last page" />';this.loader=!0;this.loaderHtml='<div class="defaultLoader"><\/div>';this.loaderText=null;this.emitter.emit("after-loading-themes",this)},t.prototype.getStylesheet=function(){var t=arguments.length<=0||void 0===arguments[0]?"default":arguments[0];return h["default"].id(this.prfxTf+t)},t.prototype.destroy=function(){var t=this;if(this._hasGrid){var e=this.tbl.rows,i=this.Mod,s=this.emitter;this.isExternalFlt&&!this.popupFilters&&this.removeExternalFlts();this.infDiv&&this.removeToolbar();this.markActiveColumns&&(this.clearActiveColumns(),s.off(["before-filtering"],function(){return t.clearActiveColumns()}),s.off(["cell-processed"],function(e,i){return t.markActiveColumn(i)}));this.hasExtensions&&this.destroyExtensions();this.validateAllRows();this.fltGrid&&!this.gridLayout&&(this.fltGridEl=e[this.filtersRowIndex],this.tbl.deleteRow(this.filtersRowIndex));s.emit("destroy",this);Object.keys(i).forEach(function(t){var e=i[t];e&&p["default"].isFn(e.destroy)&&e.destroy()});this.hasVisibleRows&&s.off(["after-filtering"],function(){return t.enforceVisibility()});this.linkedFilters&&s.off(["after-filtering"],function(){return t.linkFilters()});h["default"].removeClass(this.tbl,this.prfxTf);this.nbHiddenRows=0;this.validRowsIndex=[];this.fltIds=[];this.activeFlt=null;this._hasGrid=!1;this.initialized=!1}},t.prototype.setToolbar=function(){var t,e,i,s,n,r;this.infDiv||(t=h["default"].create("div",["id",this.prfxInfDiv+this.id]),(t.className=this.infDivCssClass,this.toolBarTgtId)?h["default"].id(this.toolBarTgtId).appendChild(t):this.gridLayout?(e=this.Mod.gridLayout,e.tblMainCont.appendChild(t),t.className=e.gridInfDivCssClass):(i=h["default"].create("caption"),i.appendChild(t),this.tbl.insertBefore(i,this.tbl.firstChild)),this.infDiv=h["default"].id(this.prfxInfDiv+this.id),s=h["default"].create("div",["id",this.prfxLDiv+this.id]),s.className=this.lDivCssClass,t.appendChild(s),this.lDiv=h["default"].id(this.prfxLDiv+this.id),n=h["default"].create("div",["id",this.prfxRDiv+this.id]),n.className=this.rDivCssClass,t.appendChild(n),this.rDiv=h["default"].id(this.prfxRDiv+this.id),r=h["default"].create("div",["id",this.prfxMDiv+this.id]),r.className=this.mDivCssClass,t.appendChild(r),this.mDiv=h["default"].id(this.prfxMDiv+this.id),p["default"].isUndef(this.help)&&(this.Mod.help.enabled=!0,this.emitter.emit("init-help",this)))},t.prototype.removeToolbar=function(){if(this.infDiv){h["default"].remove(this.infDiv);this.infDiv=null;var t=this.tbl,e=h["default"].tag(t,"caption");e.length>0&&[].forEach.call(e,function(e){return t.removeChild(e)})}},t.prototype.removeExternalFlts=function(){var s,n;if(this.isExternalFlt)for(var t=this.externalFltTgtIds,e=t.length,i=0;e>i;i++)s=t[i],n=h["default"].id(s),n&&(n.innerHTML="")},t.prototype.isCustomOptions=function(t){return this.hasCustomOptions&&-1!=this.customOptions.cols.indexOf(t)},t.prototype.getCustomOptions=function(t){if(!p["default"].isEmpty(t)&&this.isCustomOptions(t)){for(var e=this.customOptions,i=e.cols,s=[],n=[],r=i.indexOf(t),a=e.values[r],l=e.texts[r],o=e.sorts[r],h=0,f=a.length;f>h;h++)n.push(a[h]),l[h]?s.push(l[h]):s.push(a[h]);return o&&(n.sort(),s.sort()),[n,s]}},t.prototype.resetFilterValues=function(){var t=this,e;this.rememberGridValues&&(e=this.Mod.store.getFilterValues(),e.forEach(function(e,i){" "!==e&&t.setFilterValue(i,e)}),this.filter())},t.prototype.filter=function(){function t(t,e,i){if(this.highlightKeywords&&e){t=t.replace(b,"");t=t.replace(m,"");t=t.replace(y,"");t=t.replace(_,"");var s=t;(l.test(t)||o.test(t)||f.test(t)||d.test(t)||c.test(t))&&(s=h["default"].getText(i));""!==s&&this.emitter.emit("highlight-keyword",this,i,s)}}function e(t,e,i){var z,W,G;t=u["default"].matchCase(t,this.caseSensitive);var s=void 0,a=v["default"].removeNbFormat,h=f.test(t),p=l.test(t),T=d.test(t),P=o.test(t),F=c.test(t),R=m.test(t),S=b.test(t),I=y.test(t),E=_.test(t),O=C===t,L=w===t,N=x.test(t),B=h&&g["default"].isValid(t.replace(f,""),k),D=p&&g["default"].isValid(t.replace(l,""),k),M=T&&g["default"].isValid(t.replace(d,""),k),A=P&&g["default"].isValid(t.replace(o,""),k),H=F&&g["default"].isValid(t.replace(c,""),k),j=R&&g["default"].isValid(t.replace(m,""),k),V=void 0,U=void 0;if(g["default"].isValid(e,k))V=g["default"].format(e,k),B?(U=g["default"].format(t.replace(f,""),k),s=U>V):D?(U=g["default"].format(t.replace(l,""),k),s=U>=V):A?(U=g["default"].format(t.replace(o,""),k),s=V>=U):M?(U=g["default"].format(t.replace(d,""),k),s=V>U):H?(U=g["default"].format(t.replace(c,""),k),s=V.toString()!=U.toString()):j?(U=g["default"].format(t.replace(m,""),k),s=V.toString()==U.toString()):b.test(t)?s=u["default"].contains(t.replace(b,""),e,!1,this.caseSensitive):g["default"].isValid(t,k)?(U=g["default"].format(t,k),s=V.toString()===U.toString()):s=O?u["default"].isEmpty(e):L?!u["default"].isEmpty(e):u["default"].contains(t,e,this.isExactMatch(i),this.caseSensitive);else if(this.hasColNbFormat&&this.colNbFormat[i]?(n=a(e,this.colNbFormat[i]),r=this.colNbFormat[i]):","===this.thousandsSeparator&&"."===this.decimalSeparator?(n=a(e,"us"),r="us"):(n=a(e,"eu"),r="eu"),p)s=n<=a(t.replace(l,""),r);else if(P)s=n>=a(t.replace(o,""),r);else if(h)s=n<a(t.replace(f,""),r);else if(T)s=n>a(t.replace(d,""),r);else if(F)s=!u["default"].contains(t.replace(c,""),e,!1,this.caseSensitive);else if(S)s=u["default"].contains(t.replace(b,""),e,!1,this.caseSensitive);else if(R)s=u["default"].contains(t.replace(m,""),e,!0,this.caseSensitive);else if(I)s=0===e.indexOf(t.replace(y,""));else if(E)z=t.replace(_,""),s=e.lastIndexOf(z,e.length-1)===e.length-1-(z.length-1)&&e.lastIndexOf(z,e.length-1)>-1;else if(O)s=u["default"].isEmpty(e);else if(L)s=!u["default"].isEmpty(e);else if(N)try{W=t.replace(x,"");G=new RegExp(W);s=G.test(e)}catch($){s=!1}else s=u["default"].contains(t,e,this.isExactMatch(i),this.caseSensitive);return s}var i,s,P,F,O,k,V,U;if(this.fltGrid&&this._hasGrid){this.onBeforeFilter&&this.onBeforeFilter.call(null,this);this.emitter.emit("before-filtering",this);i=this.tbl.rows;s=0;this.validRowsIndex=[];for(var n,r,a=this.getFiltersValue(),l=new RegExp(this.leOperator),o=new RegExp(this.geOperator),f=new RegExp(this.lwOperator),d=new RegExp(this.grOperator),c=new RegExp(this.dfOperator),b=new RegExp(u["default"].rgxEsc(this.lkOperator)),m=new RegExp(this.eqOperator),y=new RegExp(this.stOperator),_=new RegExp(this.enOperator),C=this.emOperator,w=this.nmOperator,x=new RegExp(u["default"].rgxEsc(this.rgxOperator)),T=this.refRow;T<this.nbRows;T++)if(i[T].style.display="",P=i[T].cells,F=P.length,F===this.nbCells){for(var R=[],S=!0,I=!1,E=0;F>E;E++)if(O=a[this.singleSearchFlt?0:E],k=this.hasColDateType?this.colDateType[E]:this.defaultDateType,""!==O){var L=u["default"].matchCase(this.getCellData(P[E]),this.caseSensitive),N=O.toString().split(this.orOperator),B=N.length>1,D=O.toString().split(this.anOperator),M=D.length>1;if(p["default"].isArray(O)||B||M){var A=void 0,H=void 0,j=!1;for(H=p["default"].isArray(O)?O:B?N:D,V=0,U=H.length;U>V&&(A=u["default"].trim(H[V]),j=e.call(this,A,L,E),t.call(this,A,j,P[E]),!(B&&j||M&&!j))&&(!p["default"].isArray(O)||!j);V++);R[E]=j}else R[E]=e.call(this,u["default"].trim(O),L,E),t.call(this,O,R[E],P[E]);R[E]||(S=!1);this.singleSearchFlt&&R[E]&&(I=!0);this.emitter.emit("cell-processed",this,E,P[E])}this.singleSearchFlt&&I&&(S=!0);S?this.validateRow(T,!0):(this.validateRow(T,!1),s++);this.emitter.emit("row-processed",this,T,this.validRowsIndex.length,S)}this.nbVisibleRows=this.validRowsIndex.length;this.nbHiddenRows=s;this.onAfterFilter&&this.onAfterFilter.call(null,this);this.emitter.emit("after-filtering",this,a)}},t.prototype.getColValues=function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],s=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],n,r,a,l,o,h,f;if(this.fltGrid){for(n=this.tbl.rows,r=[],e&&r.push(this.getHeadersText()[t]),a=this.refRow;a<this.nbRows;a++)if(l=!1,s.length>0&&(l=-1!=s.indexOf(a)),o=n[a].cells,h=o.length,h===this.nbCells&&!l)for(f=0;h>f;f++)if(f==t&&""===n[a].style.display){var u=this.getCellData(o[f]),d=this.colNbFormat?this.colNbFormat[t]:null,p=i?v["default"].removeNbFormat(u,d):u;r.push(p)}return r}},t.prototype.getFilterValue=function(t){var n,r,a;if(this.fltGrid){var e="",i=[],s=this.getFilterElement(t);if(!s)return"";if(n=this.getFilterType(t),n!==this.fltTypeMulti&&n!==this.fltTypeCheckList)e=s.value;else if(n===this.fltTypeMulti){for(r=0,a=s.options.length;a>r;r++)s.options[r].selected&&i.push(s.options[r].value);e=i.length>0?i:""}else n===this.fltTypeCheckList&&(null!==s.getAttribute("value")&&(i=s.getAttribute("value"),i=i.substr(0,i.length-3),i=i.split(" "+this.orOperator+" ")),e=i.length>0?i:"");return p["default"].isArray(e)&&1===e.length&&""===e[0]&&(e=""),e}},t.prototype.getFiltersValue=function(){var s;if(this.fltGrid){for(var t=[],e=0,i=this.fltIds.length;i>e;e++)s=this.getFilterValue(e),p["default"].isArray(s)?t.push(s):t.push(u["default"].trim(s));return t}},t.prototype.getFilterId=function(t){if(this.fltGrid)return this.fltIds[t]},t.prototype.getFiltersByType=function(t,e){var r,a;if(this.fltGrid){for(var i=[],s=0,n=this.fltIds.length;n>s;s++)r=this.getFilterType(s),r===u["default"].lower(t)&&(a=e?s:this.fltIds[s],i.push(a));return i}},t.prototype.getFilterElement=function(t){var e=this.fltIds[t];return h["default"].id(e)},t.prototype.getCellsNb=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=this.tbl.rows[t];return e.cells.length},t.prototype.getRowsNb=function(t){var e=p["default"].isUndef(this.refRow)?0:this.refRow,i=this.tbl.rows.length;return t&&(e=0),parseInt(i-e,10)},t.prototype.getCellData=function(t){var e=t.cellIndex;return this.customCellData&&-1!=this.customCellDataCols.indexOf(e)?this.customCellData.call(null,this,t,e):h["default"].getText(t)},t.prototype.getTableData=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.tbl.rows,s=[],n,r,f;for(t&&(n=this.getHeadersText(e),s.push([this.getHeadersRowIndex(),n])),r=this.refRow;r<this.nbRows;r++){for(var a=[r,[]],l=i[r].cells,o=0,h=l.length;h>o;o++)e&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(o)||(f=this.getCellData(l[o]),a[1].push(f));s.push(a)}return s},t.prototype.getFilteredData=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i,s,n,r,a,f;if(!this.validRowsIndex)return[];for(i=this.tbl.rows,s=[],t&&(n=this.getHeadersText(e),s.push([this.getHeadersRowIndex(),n])),r=this.getValidRows(!0),a=0;a<r.length;a++){for(var l=[this.validRowsIndex[a],[]],o=i[this.validRowsIndex[a]].cells,h=0;h<o.length;h++)e&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(h)||(f=this.getCellData(o[h]),l[1].push(f));s.push(l)}return s},t.prototype.getFilteredDataCol=function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i,s,n,r;if(p["default"].isUndef(t))return[];for(i=this.getFilteredData(),s=[],e&&s.push(this.getHeadersText()[t]),n=0,r=i.length;r>n;n++){var a=i[n],l=a[1],o=l[t];s.push(o)}return s},t.prototype.getRowDisplay=function(t){return p["default"].isObj(t)?t.style.display:null},t.prototype.validateRow=function(t,e){var i=this.tbl.rows[t],s,n;i&&"boolean"==typeof e&&(this.hasVisibleRows&&-1!==this.visibleRows.indexOf(t)&&(e=!0),s=e?"":"none",n=e?"true":"false",i.style.display=s,this.paging&&i.setAttribute("validRow",n),e&&(-1===this.validRowsIndex.indexOf(t)&&this.validRowsIndex.push(t),this.onRowValidated&&this.onRowValidated.call(null,this,t),this.emitter.emit("row-validated",this,t)))},t.prototype.validateAllRows=function(){if(this._hasGrid){this.validRowsIndex=[];for(var t=this.refRow;t<this.nbFilterableRows;t++)this.validateRow(t,!0)}},t.prototype.setFilterValue=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i,s,n,r;this.fltGrid&&(i=this.getFilterElement(t),s=this.getFilterType(t),s!==this.fltTypeMulti&&s!=this.fltTypeCheckList?(this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-select-filter",this,t,this.linkedFilters,this.isExternalFlt),i.value=e):s===this.fltTypeMulti?(n=p["default"].isArray(e)?e:e.split(" "+this.orOperator+" "),this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-select-filter",this,t,this.linkedFilters,this.isExternalFlt),this.emitter.emit("select-options",this,t,n)):s===this.fltTypeCheckList&&(r=[],this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-checklist-filter",this,t,this.isExternalFlt),p["default"].isArray(e)?r=e:(e=u["default"].matchCase(e,this.caseSensitive),r=e.split(" "+this.orOperator+" ")),this.emitter.emit("select-checklist-options",this,t,r)))},t.prototype.setColWidths=function(t){function e(){for(var l,e=this.nbCells,i=this.colWidths,s=h["default"].tag(t,"col"),n=s.length>0,r=n?null:B.createDocumentFragment(),a=0;e>a;a++)l=void 0,n?l=s[a]:(l=h["default"].create("col",["id",this.id+"_col_"+a]),r.appendChild(l)),l.style.width=i[a];n||t.insertBefore(r,t.firstChild)}this.hasColWidths&&(t=t||this.tbl,e.call(this))},t.prototype.enforceVisibility=function(){var t,e,i;if(this.hasVisibleRows)for(t=0,e=this.visibleRows.length;e>t;t++)i=this.visibleRows[t],i<=this.nbRows&&this.validateRow(i,!0)},t.prototype.clearFilters=function(){if(this.fltGrid){this.emitter.emit("before-clearing-filters",this);this.onBeforeReset&&this.onBeforeReset.call(null,this,this.getFiltersValue());for(var t=0,e=this.fltIds.length;e>t;t++)this.setFilterValue(t,"");this.filter();this.onAfterReset&&this.onAfterReset.call(null,this);this.emitter.emit("after-clearing-filters",this)}},t.prototype.clearActiveColumns=function(){for(var t=0,e=this.getCellsNb(this.headersRow);e>t;t++)h["default"].removeClass(this.getHeaderElement(t),this.activeColumnsCssClass)},t.prototype.markActiveColumn=function(t){var e=this.getHeaderElement(t);h["default"].hasClass(e,this.activeColumnsCssClass)||(this.onBeforeActiveColumn&&this.onBeforeActiveColumn.call(null,this,t),h["default"].addClass(e,this.activeColumnsCssClass),this.onAfterActiveColumn&&this.onAfterActiveColumn.call(null,this,t))},t.prototype.linkFilters=function(){var n,o,f;if(this.linkedFilters&&this.activeFilterId){var t=this.getFiltersByType(this.fltTypeSlc,!0),e=this.getFiltersByType(this.fltTypeMulti,!0),i=this.getFiltersByType(this.fltTypeCheckList,!0),s=t.concat(e);s=s.concat(i);n=this.activeFilterId.split("_")[0];n=n.split(this.prfxFlt)[1];for(var r=void 0,a=0,l=s.length;l>a;a++)o=h["default"].id(this.fltIds[s[a]]),(r=this.getFilterValue(s[a]),n!==s[a]||this.paging&&-1!=t.indexOf(s[a])&&n===s[a]||!this.paging&&(-1!=i.indexOf(s[a])||-1!=e.indexOf(s[a]))||r===this.displayAllText)&&(this.loadFltOnDemand&&(f=h["default"].createOpt(this.displayAllText,""),o.innerHTML="",o.appendChild(f)),-1!=i.indexOf(s[a])?this.emitter.emit("build-checklist-filter",this,s[a]):this.emitter.emit("build-select-filter",this,s[a],!0),this.setFilterValue(s[a],r))}},t.prototype.isExactMatch=function(t){var e=this.getFilterType(t);return this.exactMatchByCol[t]||this.exactMatch||e!==this.fltTypeInp},t.prototype.isImported=function(t,e){for(var i=!1,s=e?e:"script",n="script"==s?"src":"href",r=h["default"].tag(B,s),a=0,l=r.length;l>a;a++)if(void 0!==r[a][n]&&r[a][n].match(t)){i=!0;break}return i},t.prototype["import"]=function(t,e,i,s){var n=s?s:"script",r=this.isImported(e,n);if(!r){var a=this,l=!1,o=void 0,f=h["default"].tag(B,"head")[0];o="link"===u["default"].lower(n)?h["default"].create("link",["id",t],["type","text/css"],["rel","stylesheet"],["href",e]):h["default"].create("script",["id",t],["type","text/javascript"],["src",e]);o.onload=o.onreadystatechange=function(){l||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(l=!0,"function"==typeof i&&i.call(null,a))};o.onerror=function(){throw new Error("TF script could not load: "+e);};f.appendChild(o)}},t.prototype.hasGrid=function(){return this._hasGrid},t.prototype.getFiltersId=function(){return this.fltIds||[]},t.prototype.getValidRows=function(t){var e,i;if(!t)return this.validRowsIndex;for(this.validRowsIndex=[],e=this.refRow;e<this.getRowsNb(!0);e++)i=this.tbl.rows[e],this.paging?"true"!==i.getAttribute("validRow")&&null!==i.getAttribute("validRow")||this.validRowsIndex.push(i.rowIndex):"none"!==this.getRowDisplay(i)&&this.validRowsIndex.push(i.rowIndex);return this.validRowsIndex},t.prototype.getFiltersRowIndex=function(){return this.filtersRowIndex},t.prototype.getHeadersRowIndex=function(){return this.headersRow},t.prototype.getStartRowIndex=function(){return this.refRow},t.prototype.getLastRowIndex=function(){return this.nbRows-1},t.prototype.getHeaderElement=function(t){for(var e=this.gridLayout?this.Mod.gridLayout.headTbl:this.tbl,i=h["default"].tag(e,"thead"),s=this.headersRow,n=void 0,r=0;r<this.nbCells;r++)if(r===t){0===i.length&&(n=e.rows[s].cells[r]);1===i.length&&(n=i[0].rows[s].cells[r]);break}return n},t.prototype.getHeadersText=function(){for(var s,n,t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=[],i=0;i<this.nbCells;i++)t&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(i)||(s=this.getHeaderElement(i),n=h["default"].getFirstTextNode(s),e.push(n));return e},t.prototype.getFilterType=function(t){var e=this.cfg["col_"+t];return e?u["default"].lower(e):this.fltTypeInp},t.prototype.getFilterableRowsNb=function(){return this.getRowsNb(!1)},t.prototype.config=function(){return this.cfg},t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e["default"]={add:function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},remove:function(t,e,i,s){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,s):t["on"+e]=null},stop:function(t){t||(t=window.event);t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},cancel:function(t){t||(t=window.event);t.preventDefault?t.preventDefault():t.returnValue=!1},target:function(t){return t&&t.target||window.event&&window.event.srcElement},keyCode:function(t){return t.charCode?t.charCode:t.keyCode?t.keyCode:t.which?t.which:0}}},function(t,e){"use strict";function i(){return document.documentElement.classList}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e["default"]={getText:function(t){var e=t.textContent||t.innerText||t.innerHTML.replace(/<[^<>]+>/g,"");return e.replace(/^\s+/,"").replace(/\s+$/,"")},getFirstTextNode:function(t){for(var i,e=0;e<t.childNodes.length;e++)if(i=t.childNodes[e],3===i.nodeType)return i.data},create:function(t){var e,i,n,r;if(t&&""!==t){if(e=document.createElement(t),i=arguments,i.length>1)for(n=0;n<i.length;n++)r=s(i[n]),"object"===r.toLowerCase()&&2===i[n].length&&e.setAttribute(i[n][0],i[n][1]);return e}},remove:function(t){return t.parentNode.removeChild(t)},text:function(t){return document.createTextNode(t)},hasClass:function(t,e){return t?i()?t.classList.contains(e):t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")):!1},addClass:function(t,e){if(t)return i()?void t.classList.add(e):void(""===t.className?t.className=e:this.hasClass(t,e)||(t.className+=" "+e))},removeClass:function(t,e){if(t){if(i())return void t.classList.remove(e);var s=new RegExp("(\\s|^)"+e+"(\\s|$)","g");t.className=t.className.replace(s,"")}},createOpt:function(t,e,i){var s=!!i,n=s?this.create("option",["value",e],["selected","true"]):this.create("option",["value",e]);return n.appendChild(this.text(t)),n},createCheckItem:function(t,e,i){var s=this.create("li"),n=this.create("label",["for",t]),r=this.create("input",["id",t],["name",t],["type","checkbox"],["value",e]);return n.appendChild(r),n.appendChild(this.text(i)),s.appendChild(n),s.label=n,s.check=r,s},id:function(t){return document.getElementById(t)},tag:function(t,e){return t.getElementsByTagName(e)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e["default"]={lower:function(t){return t.toLowerCase()},upper:function(t){return t.toUpperCase()},trim:function(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")},isEmpty:function(t){return""===this.trim(t)},rgxEsc:function(t){var e=/[-\/\\^$*+?.()|[\]{}]/g,i="\\$&";return String(t).replace(e,i)},matchCase:function(t,e){return e?t:this.lower(t)},contains:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],s=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],n=void 0,r=s?"g":"gi";return n=i?new RegExp("(^\\s*)"+this.rgxEsc(t)+"(\\s*$)",r):new RegExp(this.rgxEsc(t),r),n.test(e)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=void 0;e["default"]={isObj:function(t){var e=!1;return"string"==typeof t?window[t]&&"object"===i(window[t])&&(e=!0):t&&"object"===("undefined"==typeof t?"undefined":i(t))&&(e=!0),e},isFn:function(t){return t&&t.constructor==Function},isArray:function(t){return t&&t.constructor==Array},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},isUndef:function(t){return t===s},isNull:function(t){return null===t},isEmpty:function(t){return this.isUndef(t)||this.isNull(t)||0===t.length}}},function(t,e){"use strict";function i(t){if(void 0===t)return 0;if(t.length>2)return t;var e=void 0;return 99>=t&&t>50&&(e="19"+t),(50>t||"00"===t)&&(e="20"+t),e}function s(t){var n;if(void 0===t)return 0;for(var e=void 0,i=["january","february","march","april","may","june","july","august","september","october","november","december","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],s=0;s<i.length;s++)if(n=i[s],t.toLowerCase()===n){e=s+1;break}return(e>11||23>e)&&(e-=12),1>e||e>12?0:e}Object.defineProperty(e,"__esModule",{value:!0});e["default"]={isValid:function(t,e){var i,s,n,h;if((e||(e="DMY"),e=e.toUpperCase(),3!=e.length&&"DDMMMYYYY"===e)&&(i=this.format(t,e),t=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),e="DMY"),-1!==e.indexOf("M")&&-1!==e.indexOf("D")&&-1!==e.indexOf("Y")||(e="DMY"),s=void 0,n=void 0,"Y"===e.substring(0,1)?(s=/^\d{2}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,n=/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/):"Y"===e.substring(1,2)?(s=/^\d{1,2}(\-|\/|\.)\d{2}\1\d{1,2}$/,n=/^\d{1,2}(\-|\/|\.)\d{4}\1\d{1,2}$/):(s=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{2}$/,n=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{4}$/),s.test(t)===!1&&n.test(t)===!1)return!1;var r=t.split(RegExp.$1),a=void 0,l=void 0,o=void 0;return a="M"===e.substring(0,1)?r[0]:"M"===e.substring(1,2)?r[1]:r[2],l="D"===e.substring(0,1)?r[0]:"D"===e.substring(1,2)?r[1]:r[2],o="Y"===e.substring(0,1)?r[0]:"Y"===e.substring(1,2)?r[1]:r[2],parseInt(o,10)<=50&&(o=(parseInt(o,10)+2e3).toString()),parseInt(o,10)<=99&&(o=(parseInt(o,10)+1900).toString()),h=new Date(parseInt(o,10),parseInt(a,10)-1,parseInt(l,10),0,0,0,0),parseInt(l,10)!=h.getDate()?!1:parseInt(a,10)-1==h.getMonth()},format:function(t,e){if(e||(e="DMY"),!t||""===t)return new Date(1001,0,1);var n=void 0,r=void 0;switch(e.toUpperCase()){case"DDMMMYYYY":r=t.replace(/[- \/.]/g," ").split(" ");n=new Date(i(r[2]),s(r[1])-1,r[0]);break;case"DMY":r=t.replace(/^(0?[1-9]|[12][0-9]|3[01])([- \/.])(0?[1-9]|1[012])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" ");n=new Date(i(r[2]),r[1]-1,r[0]);break;case"MDY":r=t.replace(/^(0?[1-9]|1[012])([- \/.])(0?[1-9]|[12][0-9]|3[01])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" ");n=new Date(i(r[2]),r[0]-1,r[1]);break;case"YMD":r=t.replace(/^((\d\d)?\d\d)([- \/.])(0?[1-9]|1[012])([- \/.])(0?[1-9]|[12][0-9]|3[01])$/,"$1 $4 $6").split(" ");n=new Date(i(r[0]),r[1]-1,r[2]);break;default:r=t.replace(/^(0?[1-9]|[12][0-9]|3[01])([- \/.])(0?[1-9]|1[012])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" ");n=new Date(i(r[2]),r[1]-1,r[0])}return n}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=s(n);e["default"]={removeNbFormat:function(t,e){if(t){e||(e="us");var i=t;return"us"===r["default"].lower(e)?+i.replace(/[^\d\.-]/g,""):+i.replace(/[^\d\,-]/g,"").replace(",",".")}}}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.Emitter=function(){function t(){i(this,t);this.events={}}return t.prototype.on=function(t,e){var i=this;t.forEach(function(t){i.events[t]=i.events[t]||[];i.events[t].push(e)})},t.prototype.off=function(t,e){var i=this;t.forEach(function(t){t in i.events&&i.events[t].splice(i.events[t].indexOf(e),1)})},t.prototype.emit=function(t){if(t in this.events)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,[].slice.call(arguments,1))},t}()},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.Store=void 0;var r=i(9),a=s(r),l=i(4),o=s(l);e.Store=function(){function t(e){n(this,t);var i=e.config();this.fltsValuesCookie=e.prfxCookieFltsValues+e.id;this.pgNbCookie=e.prfxCookiePageNb+e.id;this.pgLenCookie=e.prfxCookiePageLen+e.id;this.duration=isNaN(i.set_cookie_duration)?1e5:parseInt(i.set_cookie_duration,10);this.tf=e;this.emitter=e.emitter}return t.prototype.init=function(){var t=this;this.emitter.on(["after-filtering"],function(){return t.saveFilterValues()});this.emitter.on(["after-clearing-filters"],function(){return t.clearCookies()});this.emitter.on(["after-page-change"],function(e,i){return t.savePageNb(i)});this.emitter.on(["after-page-length-change"],function(e,i){return t.savePageLength(i)})},t.prototype.saveFilterValues=function(){var t=this.tf,e=[],i,s,n;if(t.rememberGridValues){for(i=0;i<t.fltIds.length;i++)s=t.getFilterValue(i),o["default"].isArray(s)&&(n=new RegExp(t.separator,"g"),s=s.toString().replace(n," "+t.orOperator+" ")),""===s&&(s=" "),e.push(s);a["default"].write(this.fltsValuesCookie,e.join(t.separator),this.duration)}},t.prototype.getFilterValues=function(){var t=a["default"].read(this.fltsValuesCookie),e=new RegExp(this.tf.separator,"g");return t.split(e)},t.prototype.savePageNb=function(t){this.tf.rememberPageNb&&a["default"].write(this.pgNbCookie,t,this.duration)},t.prototype.getPageNb=function(){return a["default"].read(this.pgNbCookie)},t.prototype.savePageLength=function(t){this.tf.rememberPageLen&&a["default"].write(this.pgLenCookie,t,this.duration)},t.prototype.getPageLength=function(){return a["default"].read(this.pgLenCookie)},t.prototype.clearCookies=function(){a["default"].remove(this.fltsValuesCookie);a["default"].remove(this.pgLenCookie);a["default"].remove(this.pgNbCookie)},t.prototype.destroy=function(){var t=this;this.emitter.off(["after-filtering"],function(){return t.saveFilterValues()});this.emitter.off(["after-clearing-filters"],function(){return t.clearCookies()});this.emitter.off(["after-page-change"],function(e,i){return t.savePageNb(i)});this.emitter.off(["after-page-length-change"],function(e,i){return t.savePageLength(i)})},t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e["default"]={write:function(t,e,i){var s="";i&&(s=new Date((new Date).getTime()+36e5*i),s="; expires="+s.toGMTString());document.cookie=t+"="+escape(e)+s},read:function(t){var e="",i=t+"=",s,n,r;return document.cookie.length>0&&(s=document.cookie,n=s.indexOf(i),-1!==n&&(n+=i.length,r=s.indexOf(";",n),-1===r&&(r=s.length),e=unescape(s.substring(n,r)))),e},remove:function(t){this.write(t,"",-1)},valueToArray:function(t,e){e||(e=",");var i=this.read(t);return i.split(e)},getValueByIndex:function(t,e,i){i||(i=",");var s=this.valueToArray(t,i);return s[e]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.GridLayout=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f),d=i(1),p=s(d),c=i(3),g=s(c);e.GridLayout=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"gridLayout")),a=s.config;return s.gridWidth=a.grid_width||null,s.gridHeight=a.grid_height||null,s.gridMainContCssClass=a.grid_cont_css_class||"grd_Cont",s.gridContCssClass=a.grid_tbl_cont_css_class||"grd_tblCont",s.gridHeadContCssClass=a.grid_tblHead_cont_css_class||"grd_headTblCont",s.gridInfDivCssClass=a.grid_inf_grid_css_class||"grd_inf",s.gridHeadRowIndex=a.grid_headers_row_index||0,s.gridHeadRows=a.grid_headers_rows||[0],s.gridEnableFilters=void 0!==a.grid_enable_default_filters?a.grid_enable_default_filters:!0,s.noHeaders=Boolean(a.grid_no_headers),s.gridDefaultColWidth=a.grid_default_col_width||"100px",s.gridColElms=[],s.prfxMainTblCont="gridCont_",s.prfxTblCont="tblCont_",s.prfxHeadTblCont="tblHeadCont_",s.prfxHeadTbl="tblHead_",s.prfxGridFltTd="_td_",s.prfxGridTh="tblHeadTh_",s.sourceTblHtml=i.tbl.outerHTML,i.fltGrid=s.gridEnableFilters,s}return a(e,t),e.prototype.init=function(){var t=this,e=this.tf,i=this.config,s=e.tbl,n,r,a,l,o,f,m,y,_,C,w,x,T,P,F,R,S,I,E,O;if(!this.initialized){if(e.refRow=u["default"].isNull(e.startRow)?0:e.startRow,e.headersRow=0,e.filtersRowIndex=1,e.isExternalFlt=!0,!e.hasColWidths){for(e.colWidths=[],n=0;n<e.nbCells;n++)r=void 0,a=s.rows[this.gridHeadRowIndex].cells[n],r=""!==a.width?a.width:""!==a.style.width?parseInt(a.style.width,10):this.gridDefaultColWidth,e.colWidths[n]=r;e.hasColWidths=!0}e.setColWidths();l=void 0;l=""!==s.width?s.width:""!==s.style.width?parseInt(s.style.width,10):s.clientWidth;this.tblMainCont=h["default"].create("div",["id",this.prfxMainTblCont+e.id]);this.tblMainCont.className=this.gridMainContCssClass;this.gridWidth&&(this.tblMainCont.style.width=this.gridWidth);s.parentNode.insertBefore(this.tblMainCont,s);this.tblCont=h["default"].create("div",["id",this.prfxTblCont+e.id]);this.tblCont.className=this.gridContCssClass;this.gridWidth&&(this.tblCont.style.width=-1!=this.gridWidth.indexOf("%")?"100%":this.gridWidth);this.gridHeight&&(this.tblCont.style.height=this.gridHeight);s.parentNode.insertBefore(this.tblCont,s);o=h["default"].remove(s);this.tblCont.appendChild(o);""===s.style.width&&(s.style.width=(g["default"].contains("%",l)?s.clientWidth:l)+"px");f=h["default"].remove(this.tblCont);this.tblMainCont.appendChild(f);this.headTblCont=h["default"].create("div",["id",this.prfxHeadTblCont+e.id]);this.headTblCont.className=this.gridHeadContCssClass;this.gridWidth&&(this.headTblCont.style.width=-1!=this.gridWidth.indexOf("%")?"100%":this.gridWidth);this.headTbl=h["default"].create("table",["id",this.prfxHeadTbl+e.id]);for(var d=h["default"].create("tHead"),c=s.rows[this.gridHeadRowIndex],b=[],v=0;v<e.nbCells;v++)m=c.cells[v],y=m.getAttribute("id"),y&&""!==y||(y=this.prfxGridTh+v+"_"+e.id,m.setAttribute("id",y)),b.push(y);if(_=h["default"].create("tr"),this.gridEnableFilters&&e.fltGrid)for(e.externalFltTgtIds=[],C=0;C<e.nbCells;C++)w=e.prfxFlt+C+this.prfxGridFltTd+e.id,x=h["default"].create(e.fltCellTag,["id",w]),_.appendChild(x),e.externalFltTgtIds[C]=w;if(this.noHeaders)d.appendChild(h["default"].create("tr"));else for(T=0;T<this.gridHeadRows.length;T++)P=s.rows[this.gridHeadRows[0]],d.appendChild(P);if(this.headTbl.appendChild(d),0===e.filtersRowIndex?d.insertBefore(_,c):d.appendChild(_),this.headTblCont.appendChild(this.headTbl),this.tblCont.parentNode.insertBefore(this.headTblCont,this.tblCont),F=h["default"].tag(s,"thead"),F.length>0&&s.removeChild(F[0]),this.headTbl.style.tableLayout="fixed",s.style.tableLayout="fixed",this.headTbl.cellPadding=s.cellPadding,this.headTbl.cellSpacing=s.cellSpacing,e.setColWidths(this.headTbl),s.style.width="",this.headTbl.style.width=s.clientWidth+"px",p["default"].add(this.tblCont,"scroll",function(e){var i=p["default"].target(e),s=i.scrollLeft;t.headTblCont.scrollLeft=s}),R=(i.extensions||[]).filter(function(t){return"sort"===t.name}),1===R.length&&(R[0].async_sort=!0,R[0].trigger_ids=b),this.tblHasColTag=h["default"].tag(s,"col").length>0,S=function(){for(var i,t=e.nbCells-1;t>=0;t--)i=h["default"].create("col",["id",e.id+"_col_"+t]),s.insertBefore(i,s.firstChild),i.style.width=e.colWidths[t],this.gridColElms[t]=i;this.tblHasColTag=!0},this.tblHasColTag)for(I=h["default"].tag(s,"col"),E=0;E<e.nbCells;E++)I[E].setAttribute("id",e.id+"_col_"+E),I[E].style.width=e.colWidths[E],this.gridColElms.push(I[E]);else S.call(this);O=u["default"].isFn(i.on_after_col_resized)?i.on_after_col_resized:null;i.on_after_col_resized=function(t,e){var i,n,r,a;e&&(i=t.crWColsRow.cells[e].style.width,n=t.gridColElms[e],n.style.width=i,r=t.crWColsRow.cells[e].clientWidth,a=t.crWRowDataTbl.cells[e].clientWidth,r!=a&&(t.headTbl.style.width=s.clientWidth+"px"),O&&O.call(null,t,e))};e.popupFilters&&(_.style.display="none");s.clientWidth!==this.headTbl.clientWidth&&(s.style.width=this.headTbl.clientWidth+"px");this.initialized=!0}},e.prototype.destroy=function(){var t=this.tf,e=t.tbl,i;this.initialized&&(i=h["default"].remove(e),this.tblMainCont.parentNode.insertBefore(i,this.tblMainCont),h["default"].remove(this.tblMainCont),this.tblMainCont=null,this.headTblCont=null,this.headTbl=null,this.tblCont=null,e.outerHTML=this.sourceTblHtml,this.tf.tbl=h["default"].id(t.id),this.initialized=!1)},e}(l.Feature)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});var s="Not implemented.";e.Feature=function(){function t(e,s){i(this,t);this.tf=e;this.feature=s;this.enabled=e[s];this.config=e.config();this.emitter=e.emitter;this.initialized=!1}return t.prototype.init=function(){throw new Error(s);},t.prototype.reset=function(){this.enable();this.init()},t.prototype.destroy=function(){throw new Error(s);},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.isEnabled=function(){return this.enabled},t}()},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Loader=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f),d=window;e.Loader=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"loader")),a=s.config;return s.loaderTgtId=a.loader_target_id||null,s.loaderDiv=null,s.loaderText=a.loader_text||"Loading...",s.loaderHtml=a.loader_html||null,s.loaderCssClass=a.loader_css_class||"loader",s.loaderCloseDelay=250,s.onShowLoader=u["default"].isFn(a.on_show_loader)?a.on_show_loader:null,s.onHideLoader=u["default"].isFn(a.on_hide_loader)?a.on_hide_loader:null,s.prfxLoader="load_",s}return a(e,t),e.prototype.init=function(){var t=this,n;if(!this.initialized){var e=this.tf,i=this.emitter,s=h["default"].create("div",["id",this.prfxLoader+e.id]);s.className=this.loaderCssClass;n=this.loaderTgtId?h["default"].id(this.loaderTgtId):e.tbl.parentNode;this.loaderTgtId?n.appendChild(s):n.insertBefore(s,e.tbl);this.loaderDiv=s;this.loaderHtml?this.loaderDiv.innerHTML=this.loaderHtml:this.loaderDiv.appendChild(h["default"].text(this.loaderText));this.show("none");i.on(["before-filtering","before-populating-filter","before-page-change","before-clearing-filters","before-page-length-change","before-reset-page","before-reset-page-length","before-loading-extensions","before-loading-themes"],function(){return t.show("")});i.on(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.show("none")});this.initialized=!0}},e.prototype.show=function(t){var e=this,i,s;this.isEnabled()&&(i=function(){e.loaderDiv&&(e.onShowLoader&&"none"!==t&&e.onShowLoader.call(null,e),e.loaderDiv.style.display=t,e.onHideLoader&&"none"===t&&e.onHideLoader.call(null,e))},s="none"===t?this.loaderCloseDelay:1,d.setTimeout(i,s))},e.prototype.destroy=function(){var t=this,e;this.initialized&&(e=this.emitter,h["default"].remove(this.loaderDiv),this.loaderDiv=null,e.off(["before-filtering","before-populating-filter","before-page-change","before-clearing-filters","before-page-length-change","before-reset-page","before-reset-page-length","before-loading-extensions","before-loading-themes"],function(){return t.show("")}),e.off(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.show("none")}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.HighlightKeyword=void 0;var r=i(2),a=s(r),l=i(3),o=s(l),h=i(4),f=s(h);e.HighlightKeyword=function(){function t(e){n(this,t);var i=e.config();this.highlightCssClass=i.highlight_css_class||"keyword";this.tf=e;this.emitter=e.emitter}return t.prototype.init=function(){var t=this;this.emitter.on(["before-filtering","destroy"],function(){return t.unhighlightAll()});this.emitter.on(["highlight-keyword"],function(e,i,s){return t.highlight(i,s,t.highlightCssClass)})},t.prototype.highlight=function(t,e,i){var s,n,r,l,h;if(t.hasChildNodes)for(s=t.childNodes,n=0;n<s.length;n++)this.highlight(s[n],e,i);if(3===t.nodeType&&(r=o["default"].lower(t.nodeValue),l=o["default"].lower(e),-1!==r.indexOf(l)&&(h=t.parentNode,h&&h.className!==i))){var f=t.nodeValue,u=r.indexOf(l),d=a["default"].text(f.substr(0,u)),p=f.substr(u,e.length),c=a["default"].text(f.substr(u+e.length)),g=a["default"].text(p),b=a["default"].create("span");b.className=i;b.appendChild(g);h.insertBefore(d,t);h.insertBefore(b,t);h.insertBefore(c,t);h.removeChild(t)}},t.prototype.unhighlight=function(t,e){for(var i=this.tf.tbl.querySelectorAll("."+e),s=0;s<i.length;s++){var n=i[s],r=a["default"].getText(n),l=o["default"].lower(r),h=o["default"].lower(t);-1!==l.indexOf(h)&&n.parentNode.replaceChild(a["default"].text(r),n)}},t.prototype.unhighlightAll=function(){var t=this;this.tf.highlightKeywords&&this.tf.getFiltersValue().forEach(function(e){f["default"].isArray(e)?e.forEach(function(e){return t.unhighlight(e,t.highlightCssClass)}):t.unhighlight(e,t.highlightCssClass)})},t.prototype.destroy=function(){var t=this;this.emitter.off(["before-filtering","destroy"],function(){return t.unhighlightAll()});this.emitter.off(["highlight-keyword"],function(e,i,s){return t.highlight(i,s,t.highlightCssClass)})},t}()},function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.PopupFilter=void 0;var l=i(11),o=i(4),h=s(o),f=i(2),u=s(f),d=i(1),p=s(d);e.PopupFilter=function(e){function i(t){n(this,i);var s=r(this,e.call(this,t,"popupFilters")),a=s.config;return t.isExternalFlt=!0,t.externalFltTgtIds=[],s.popUpImgFlt=a.popup_filters_image||t.themesPath+"icn_filter.gif",s.popUpImgFltActive=a.popup_filters_image_active||t.themesPath+"icn_filterActive.gif",s.popUpImgFltHtml=a.popup_filters_image_html||'<img src="'+s.popUpImgFlt+'" alt="Column filter" />',s.popUpDivCssClass=a.popup_div_css_class||"popUpFilter",s.onBeforePopUpOpen=h["default"].isFn(a.on_before_popup_filter_open)?a.on_before_popup_filter_open:null,s.onAfterPopUpOpen=h["default"].isFn(a.on_after_popup_filter_open)?a.on_after_popup_filter_open:null,s.onBeforePopUpClose=h["default"].isFn(a.on_before_popup_filter_close)?a.on_before_popup_filter_close:null,s.onAfterPopUpClose=h["default"].isFn(a.on_after_popup_filter_close)?a.on_after_popup_filter_close:null,s.popUpFltSpans=[],s.popUpFltImgs=[],s.popUpFltElms=s.popUpFltElmCache||[],s.popUpFltAdjustToContainer=!0,s.prfxPopUpSpan="popUpSpan_",s.prfxPopUpDiv="popUpDiv_",s}return a(i,e),i.prototype.onClick=function(e){var i=e||t.event,s=i.target.parentNode,n=parseInt(s.getAttribute("ci"),10);if(this.closeAll(n),this.toggle(n),this.popUpFltAdjustToContainer){var r=this.popUpFltElms[n],a=this.tf.getHeaderElement(n),l=.95*a.clientWidth;r.style.width=parseInt(l,10)+"px"}p["default"].cancel(i);p["default"].stop(i)},i.prototype.init=function(){var t=this,e,i,s,n;if(!this.initialized){for(e=this.tf,e.headersRow<=1&&(e.headersRow=0),i=0;i<e.nbCells;i++)e.getFilterType(i)!==e.fltTypeNone&&(s=u["default"].create("span",["id",this.prfxPopUpSpan+e.id+"_"+i],["ci",i]),s.innerHTML=this.popUpImgFltHtml,n=e.getHeaderElement(i),n.appendChild(s),p["default"].add(s,"click",function(e){t.onClick(e)}),this.popUpFltSpans[i]=s,this.popUpFltImgs[i]=s.firstChild);this.emitter.on(["before-filtering"],function(){return t.buildIcons()});this.emitter.on(["after-filtering"],function(){return t.closeAll()});this.emitter.on(["cell-processed"],function(e,i){return t.buildIcon(i,!0)});this.emitter.on(["filters-row-inserted"],function(){return t.tf.headersRow++});this.emitter.on(["before-filter-init"],function(e,i){return t.build(i)});this.initialized=!0}},i.prototype.reset=function(){this.enable();this.init();this.buildAll()},i.prototype.buildAll=function(){for(var t=0;t<this.popUpFltElmCache.length;t++)this.build(t,this.popUpFltElmCache[t])},i.prototype.build=function(t,e){var i=this.tf,s=e?e:u["default"].create("div",["id",this.prfxPopUpDiv+i.id+"_"+t]),n;s.className=this.popUpDivCssClass;i.externalFltTgtIds.push(s.id);n=i.getHeaderElement(t);n.insertBefore(s,n.firstChild);p["default"].add(s,"click",function(t){return p["default"].stop(t)});this.popUpFltElms[t]=s},i.prototype.toggle=function(t){var e=this.tf,i=this.popUpFltElms[t],s;"none"===i.style.display||""===i.style.display?((this.onBeforePopUpOpen&&this.onBeforePopUpOpen.call(null,this,this.popUpFltElms[t],t),i.style.display="block",e.getFilterType(t)===e.fltTypeInp)&&(s=e.getFilterElement(t),s&&s.focus()),this.onAfterPopUpOpen&&this.onAfterPopUpOpen.call(null,this,this.popUpFltElms[t],t)):(this.onBeforePopUpClose&&this.onBeforePopUpClose.call(null,this,this.popUpFltElms[t],t),i.style.display="none",this.onAfterPopUpClose&&this.onAfterPopUpClose.call(null,this,this.popUpFltElms[t],t))},i.prototype.closeAll=function(t){for(var i,e=0;e<this.popUpFltElms.length;e++)e!==t&&(i=this.popUpFltElms[e],i&&(i.style.display="none"))},i.prototype.buildIcons=function(){for(var t=0;t<this.popUpFltImgs.length;t++)this.buildIcon(t,!1)},i.prototype.buildIcon=function(t,e){this.popUpFltImgs[t]&&(this.popUpFltImgs[t].src=e?this.popUpImgFltActive:this.popUpImgFlt)},i.prototype.destroy=function(){var t=this,e;if(this.initialized){for(this.popUpFltElmCache=[],e=0;e<this.popUpFltElms.length;e++){var i=this.popUpFltElms[e],s=this.popUpFltSpans[e],n=this.popUpFltImgs[e];i&&(u["default"].remove(i),this.popUpFltElmCache[e]=i);i=null;s&&u["default"].remove(s);s=null;n&&u["default"].remove(n);n=null}this.popUpFltElms=[];this.popUpFltSpans=[];this.popUpFltImgs=[];this.emitter.off(["before-filtering"],function(){return t.buildIcons()});this.emitter.off(["after-filtering"],function(){return t.closeAll()});this.emitter.off(["cell-processed"],function(e,i){return t.buildIcon(i,!0)});this.emitter.off(["filters-row-inserted"],function(){return t.tf.headersRow++});this.emitter.off(["before-filter-init"],function(e,i){return t.build(i)});this.initialized=!1}},i}(l.Feature)}).call(e,function(){return this}())},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Dropdown=void 0;var l=i(11),o=i(2),h=s(o),f=i(16),u=s(f),d=i(3),p=s(d),c=i(17),g=s(c),b=i(1),v=s(b),m="Filter options for column {0} cannot be sorted in {1} manner.";e.Dropdown=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"dropdown")),a=i.config();return s.enableSlcResetFilter=a.enable_slc_reset_filter!==!1,s.nonEmptyText=a.non_empty_text||"(Non empty)",s.activateSlcTooltip=a.activate_slc_tooltip||"Click to activate",s.multipleSlcTooltip=a.multiple_slc_tooltip||"Use Ctrl key for multiple selections",s.isCustom=null,s.opts=null,s.optsTxt=null,s.slcInnerHtml=null,s}return a(e,t),e.prototype.onSlcFocus=function(t){var e=v["default"].target(t),i=this.tf,s;(i.activeFilterId=e.getAttribute("id"),i.activeFlt=h["default"].id(i.activeFilterId),i.loadFltOnDemand&&"0"===e.getAttribute("filled"))&&(s=e.getAttribute("ct"),this.build(s));this.emitter.emit("filter-focus",i,this)},e.prototype.onSlcChange=function(){this.tf.onSlcChange&&this.tf.filter()},e.prototype.init=function(t,e,i){var s=this,n=this.tf,r=n.getFilterType(t),a=e?n.externalFltTgtIds[t]:null,l=h["default"].create(n.fltTypeSlc,["id",n.prfxFlt+t+"_"+n.id],["ct",t],["filled","0"]),o;(r===n.fltTypeMulti&&(l.multiple=n.fltTypeMulti,l.title=this.multipleSlcTooltip),l.className=p["default"].lower(r)===n.fltTypeSlc?n.fltCssClass:n.fltMultiCssClass,a?(h["default"].id(a).appendChild(l),n.externalFltEls.push(l)):i.appendChild(l),n.fltIds.push(l.id),n.loadFltOnDemand)?(o=h["default"].createOpt(n.displayAllText,""),l.appendChild(o)):this.build(t);v["default"].add(l,"change",function(){return s.onSlcChange()});v["default"].add(l,"focus",function(t){return s.onSlcFocus(t)});this.emitter.on(["build-select-filter"],function(t,e,i,n){return s.build(e,i,n)});this.emitter.on(["select-options"],function(t,e,i){return s.selectOptions(e,i)});this.initialized=!0},e.prototype.build=function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.tf,l,o,f,d,c,b,v,y,_,C,w;t=parseInt(t,10);this.emitter.emit("before-populating-filter",i,t);this.opts=[];this.optsTxt=[];this.slcInnerHtml="";var s=i.fltIds[t],n=h["default"].id(s),r=i.tbl.rows,a=i.matchCase;for(this.isCustom=i.isCustomOptions(t),l=void 0,e&&i.activeFilterId&&(l=i.activeFilterId.split("_")[0],l=l.split(i.prfxFlt)[1]),o=null,f=null,e&&i.disableExcludedOptions&&(o=[],f=[]),d=i.refRow;d<i.nbRows;d++)if((!i.hasVisibleRows||-1===i.visibleRows.indexOf(d))&&(c=r[d].cells,b=c.length,b===i.nbCells&&!this.isCustom))for(v=0;b>v;v++)(t===v&&(!e||e&&i.disableExcludedOptions)||t===v&&e&&(""===r[d].style.display&&!i.paging||i.paging&&(!i.validRowsIndex||i.validRowsIndex&&-1!=i.validRowsIndex.indexOf(d))&&(void 0===l||l===t||l!=t&&-1!=i.validRowsIndex.indexOf(d))))&&(y=i.getCellData(c[v]),_=p["default"].matchCase(y,a),(u["default"].has(this.opts,_,a)||this.opts.push(y),e&&i.disableExcludedOptions)&&(C=f[v],C||(C=i.getFilteredDataCol(v)),u["default"].has(C,_,a)||u["default"].has(o,_,a)||o.push(y)));if(this.isCustom&&(w=i.getCustomOptions(t),this.opts=w[0],this.optsTxt=w[1]),i.sortSlc&&!this.isCustom&&(a?(this.opts.sort(),o&&o.sort()):(this.opts.sort(g["default"].ignoreCase),o&&o.sort(g["default"].ignoreCase))),-1!=i.sortNumAsc.indexOf(t))try{this.opts.sort(g["default"].numSortAsc);o&&o.sort(g["default"].numSortAsc);this.isCustom&&this.optsTxt.sort(g["default"].numSortAsc)}catch(x){throw new Error(m.replace("{0}",t).replace("{1}","ascending"));}if(-1!=i.sortNumDesc.indexOf(t))try{this.opts.sort(g["default"].numSortDesc);o&&o.sort(g["default"].numSortDesc);this.isCustom&&this.optsTxt.sort(g["default"].numSortDesc)}catch(x){throw new Error(m.replace("{0}",t).replace("{1}","ascending"));}this.addOptions(t,n,e,o);this.emitter.emit("after-populating-filter",i,t,n)},e.prototype.addOptions=function(t,e,i,s){var n=this.tf,r=e.value,a,d;for(e.innerHTML="",e=this.addFirstOption(e),a=0;a<this.opts.length;a++)if(""!==this.opts[a]){var l=this.opts[a],o=this.isCustom?this.optsTxt[a]:l,f=!1;i&&n.disableExcludedOptions&&u["default"].has(s,p["default"].matchCase(l,n.matchCase),n.matchCase)&&(f=!0);d=void 0;d=n.loadFltOnDemand&&r===this.opts[a]&&n.getFilterType(t)===n.fltTypeSlc?h["default"].createOpt(o,l,!0):h["default"].createOpt(o,l,!1);f&&(d.disabled=!0);e.appendChild(d)}e.setAttribute("filled","1")},e.prototype.addFirstOption=function(t){var e=this.tf,i=h["default"].createOpt(this.enableSlcResetFilter?e.displayAllText:"",""),s,n;return(this.enableSlcResetFilter||(i.style.display="none"),t.appendChild(i),e.enableEmptyOption)&&(s=h["default"].createOpt(e.emptyText,e.emOperator),t.appendChild(s)),e.enableNonEmptyOption&&(n=h["default"].createOpt(e.nonEmptyText,e.nmOperator),t.appendChild(n)),t},e.prototype.selectOptions=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=this.tf,s;i.getFilterType(t)===i.fltTypeMulti&&0!==e.length&&(s=i.getFilterElement(t),[].forEach.call(s.options,function(t){""!==e[0]&&""!==t.value||(t.selected=!1);""!==t.value&&u["default"].has(e,t.value,!0)&&(t.selected=!0)}))},e.prototype.destroy=function(){var t=this;this.emitter.off(["build-select-filter"],function(e,i,s){return t.build(e,i,s)});this.emitter.off(["select-options"],function(e,i,s){return t.selectOptions(i,s)})},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=s(n);e["default"]={has:function(t,e,i){for(var s=void 0===i?!1:i,n=0;n<t.length;n++)if(r["default"].matchCase(t[n].toString(),s)==e)return!0;return!1}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=s(n);e["default"]={ignoreCase:function(t,e){var i=r["default"].lower(t),s=r["default"].lower(e);return s>i?-1:i>s?1:0},numSortAsc:function(t,e){return t-e},numSortDesc:function(t,e){return e-t}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.CheckList=void 0;var l=i(11),o=i(2),h=s(o),f=i(16),u=s(f),d=i(3),p=s(d),c=i(17),g=s(c),b=i(1),v=s(b),m="Filter options for column {0} cannot be sorted in {1} manner.";e.CheckList=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"checkList")),a=i.config();return s.checkListDiv=[],s.checkListDivCssClass=a.div_checklist_css_class||"div_checklist",s.checkListCssClass=a.checklist_css_class||"flt_checklist",s.checkListItemCssClass=a.checklist_item_css_class||"flt_checklist_item",s.checkListSlcItemCssClass=a.checklist_selected_item_css_class||"flt_checklist_slc_item",s.activateCheckListTxt=a.activate_checklist_text||"Click to load filter data",s.checkListItemDisabledCssClass=a.checklist_item_disabled_css_class||"flt_checklist_item_disabled",s.enableCheckListResetFilter=a.enable_checklist_reset_filter!==!1,s.prfxCheckListDiv="chkdiv_",s.isCustom=null,s.opts=null,s.optsTxt=null,s.excludedOpts=null,s}return a(e,t),e.prototype.onChange=function(t){var e=t.target,i=this.tf;i.activeFilterId=e.getAttribute("id");i.activeFlt=h["default"].id(i.activeFilterId);i.filter()},e.prototype.optionClick=function(t){this.setCheckListValues(t.target);this.onChange(t)},e.prototype.onCheckListClick=function(t){var e=this,i=v["default"].target(t),s,n;this.tf.loadFltOnDemand&&"0"===i.getAttribute("filled")&&(s=i.getAttribute("ct"),n=this.checkListDiv[s],this.build(s),v["default"].remove(n,"click",function(t){return e.onCheckListClick(t)}))},e.prototype.init=function(t,e,i){var s=this,n=this.tf,r=e?n.externalFltTgtIds[t]:null,a=h["default"].create("div",["id",this.prfxCheckListDiv+t+"_"+n.id],["ct",t],["filled","0"]);a.className=this.checkListDivCssClass;r?(h["default"].id(r).appendChild(a),n.externalFltEls.push(a)):i.appendChild(a);this.checkListDiv[t]=a;n.fltIds.push(n.prfxFlt+t+"_"+n.id);n.loadFltOnDemand?(v["default"].add(a,"click",function(t){return s.onCheckListClick(t)}),a.appendChild(h["default"].text(this.activateCheckListTxt))):this.build(t);this.emitter.on(["build-checklist-filter"],function(t,e,i){return s.build(e,i)});this.emitter.on(["select-checklist-options"],function(t,e,i){return s.selectOptions(e,i)});this.initialized=!0},e.prototype.build=function(t){var e=this,i=this.tf,s,n,r,a,l,o,f,d,c,b,y,_,C;for(t=parseInt(t,10),this.emitter.emit("before-populating-filter",i,t),this.opts=[],this.optsTxt=[],s=this.checkListDiv[t],n=h["default"].create("ul",["id",i.fltIds[t]],["colIndex",t]),n.className=this.checkListCssClass,v["default"].add(n,"change",function(t){return e.onChange(t)}),r=i.tbl.rows,this.isCustom=i.isCustomOptions(t),a=void 0,i.linkedFilters&&i.activeFilterId&&(a=i.activeFilterId.split("_")[0],a=a.split(i.prfxFlt)[1]),l=[],i.linkedFilters&&i.disableExcludedOptions&&(this.excludedOpts=[]),s.innerHTML="",o=i.refRow;o<i.nbRows;o++)if((!i.hasVisibleRows||-1===i.visibleRows.indexOf(o))&&(f=r[o].cells,d=f.length,d===i.nbCells&&!this.isCustom))for(c=0;d>c;c++)(t===c&&(!i.linkedFilters||i.linkedFilters&&i.disableExcludedOptions)||t===c&&i.linkedFilters&&(""===r[o].style.display&&!i.paging||i.paging&&(!a||a===t||a!=t&&-1!=i.validRowsIndex.indexOf(o))))&&(b=i.getCellData(f[c]),y=p["default"].matchCase(b,i.matchCase),u["default"].has(this.opts,y,i.matchCase)||this.opts.push(b),_=l[c],i.linkedFilters&&i.disableExcludedOptions&&(_||(_=i.getFilteredDataCol(c)),u["default"].has(_,y,i.matchCase)||u["default"].has(this.excludedOpts,y,i.matchCase)||this.excludedOpts.push(b)));if(this.isCustom&&(C=i.getCustomOptions(t),this.opts=C[0],this.optsTxt=C[1]),i.sortSlc&&!this.isCustom&&(i.matchCase?(this.opts.sort(),this.excludedOpts&&this.excludedOpts.sort()):(this.opts.sort(g["default"].ignoreCase),this.excludedOpts&&this.excludedOpts.sort(g["default"].ignoreCase))),-1!=i.sortNumAsc.indexOf(t))try{this.opts.sort(g["default"].numSortAsc);this.excludedOpts&&this.excludedOpts.sort(g["default"].numSortAsc);this.isCustom&&this.optsTxt.sort(g["default"].numSortAsc)}catch(w){throw new Error(m.replace("{0}",t).replace("{1}","ascending"));}if(-1!=i.sortNumDesc.indexOf(t))try{this.opts.sort(g["default"].numSortDesc);this.excludedOpts&&this.excludedOpts.sort(g["default"].numSortDesc);this.isCustom&&this.optsTxt.sort(g["default"].numSortDesc)}catch(w){throw new Error(m.replace("{0}",t).replace("{1}","descending"));}this.addChecks(t,n);i.loadFltOnDemand&&(s.innerHTML="");s.appendChild(n);s.setAttribute("filled","1");this.emitter.emit("after-populating-filter",i,t,s)},e.prototype.addChecks=function(t,e){for(var i=this,s=this.tf,n=this.addTChecks(t,e),r=0;r<this.opts.length;r++){var a=this.opts[r],l=this.isCustom?this.optsTxt[r]:a,o=h["default"].createCheckItem(s.fltIds[t]+"_"+(r+n),a,l);o.className=this.checkListItemCssClass;s.linkedFilters&&s.disableExcludedOptions&&u["default"].has(this.excludedOpts,p["default"].matchCase(a,s.matchCase),s.matchCase)?(h["default"].addClass(o,this.checkListItemDisabledCssClass),o.check.disabled=!0,o.disabled=!0):v["default"].add(o.check,"click",function(t){return i.optionClick(t)});e.appendChild(o);""===a&&(o.style.display="none")}},e.prototype.addTChecks=function(t,e){var i=this,s=this.tf,n=1,r=h["default"].createCheckItem(s.fltIds[t]+"_0","",s.displayAllText),a,l;return(r.className=this.checkListItemCssClass,e.appendChild(r),v["default"].add(r.check,"click",function(t){return i.optionClick(t)}),this.enableCheckListResetFilter||(r.style.display="none"),s.enableEmptyOption)&&(a=h["default"].createCheckItem(s.fltIds[t]+"_1",s.emOperator,s.emptyText),a.className=this.checkListItemCssClass,e.appendChild(a),v["default"].add(a.check,"click",function(t){return i.optionClick(t)}),n++),s.enableNonEmptyOption&&(l=h["default"].createCheckItem(s.fltIds[t]+"_2",s.nmOperator,s.nonEmptyText),l.className=this.checkListItemCssClass,e.appendChild(l),v["default"].add(l.check,"click",function(t){return i.optionClick(t)}),n++),n},e.prototype.setCheckListValues=function(t){var d,c,g,b,v;if(t){var e=this.tf,i=t.value,s=parseInt(t.id.split("_")[2],10),n=t.id.split("_")[0].replace(e.prfxFlt,""),r="LI",a=e.getFilterElement(parseInt(n,10)),l=a.childNodes[s],o=a.getAttribute("colIndex"),f=a.getAttribute("value"),u=a.getAttribute("indexes");if(t.checked){if(""===i){if(u&&""!==u)for(d=u.split(e.separator),c=0;c<d.length;c++)g=h["default"].id(e.fltIds[o]+"_"+d[c]),g&&(g.checked=!1,h["default"].removeClass(a.childNodes[d[c]],this.checkListSlcItemCssClass));a.setAttribute("value","");a.setAttribute("indexes","")}else f=f?f:"",i=p["default"].trim(f+" "+i+" "+e.orOperator),s=u+s+e.separator,a.setAttribute("value",i),a.setAttribute("indexes",s),h["default"].id(e.fltIds[o]+"_0")&&(h["default"].id(e.fltIds[o]+"_0").checked=!1);l.nodeName===r&&(h["default"].removeClass(a.childNodes[0],this.checkListSlcItemCssClass),h["default"].addClass(l,this.checkListSlcItemCssClass))}else""!==i&&(b=new RegExp(p["default"].rgxEsc(i+" "+e.orOperator)),f=f.replace(b,""),a.setAttribute("value",p["default"].trim(f)),v=new RegExp(p["default"].rgxEsc(s+e.separator)),u=u.replace(v,""),a.setAttribute("indexes",u)),l.nodeName===r&&h["default"].removeClass(l,this.checkListSlcItemCssClass)}},e.prototype.selectOptions=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=this.tf,s,n,r;if(i.getFilterType(t)===i.fltTypeCheckList&&0!==e.length)for(s=i.getFilterElement(t),n=h["default"].tag(s,"li").length,s.setAttribute("value",""),s.setAttribute("indexes",""),r=0;n>r;r++){var a=h["default"].tag(s,"li")[r],l=h["default"].tag(a,"label")[0],o=h["default"].tag(a,"input")[0],f=p["default"].matchCase(h["default"].getText(l),i.caseSensitive);""!==f&&u["default"].has(e,f,i.caseSensitive)?(o.checked=!0,this.setCheckListValues(o)):(o.checked=!1,this.setCheckListValues(o))}},e.prototype.destroy=function(){var t=this;this.emitter.off(["build-checklist-filter"],function(e,i,s){return t.build(i,s)});this.emitter.off(["select-checklist-options"],function(e,i,s){return t.selectOptions(i,s)})},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.RowsCounter=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f);e.RowsCounter=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"rowsCounter")),a=s.config;return s.rowsCounterTgtId=a.rows_counter_target_id||null,s.rowsCounterDiv=null,s.rowsCounterSpan=null,s.rowsCounterText=a.rows_counter_text||"Rows: ",s.fromToTextSeparator=a.from_to_text_separator||"-",s.overText=a.over_text||" / ",s.totRowsCssClass=a.tot_rows_css_class||"tot",s.prfxCounter="counter_",s.prfxTotRows="totrows_span_",s.prfxTotRowsTxt="totRowsTextSpan_",s.onBeforeRefreshCounter=u["default"].isFn(a.on_before_refresh_counter)?a.on_before_refresh_counter:null,s.onAfterRefreshCounter=u["default"].isFn(a.on_after_refresh_counter)?a.on_after_refresh_counter:null,s}return a(e,t),e.prototype.init=function(){var t=this,e,i,s,n,r;this.initialized||(e=this.tf,i=h["default"].create("div",["id",this.prfxCounter+e.id]),i.className=this.totRowsCssClass,s=h["default"].create("span",["id",this.prfxTotRows+e.id]),n=h["default"].create("span",["id",this.prfxTotRowsTxt+e.id]),n.appendChild(h["default"].text(this.rowsCounterText)),this.rowsCounterTgtId||e.setToolbar(),r=this.rowsCounterTgtId?h["default"].id(this.rowsCounterTgtId):e.lDiv,this.rowsCounterTgtId?(r.appendChild(n),r.appendChild(s)):(i.appendChild(n),i.appendChild(s),r.appendChild(i)),this.rowsCounterDiv=i,this.rowsCounterSpan=s,this.emitter.on(["after-filtering","grouped-by-page"],function(){return t.refresh(e.nbVisibleRows)}),this.emitter.on(["rows-changed"],function(){return t.refresh()}),this.initialized=!0,this.refresh())},e.prototype.refresh=function(t){var e,i,s,n,r;this.initialized&&this.isEnabled()&&(e=this.tf,this.onBeforeRefreshCounter&&this.onBeforeRefreshCounter.call(null,e,this.rowsCounterSpan),e.paging?(s=e.feature("paging"),s&&(n=parseInt(s.startPagingRow,10)+(e.nbVisibleRows>0?1:0),r=n+s.pagingLength-1<=e.nbVisibleRows?n+s.pagingLength-1:e.nbVisibleRows,i=n+this.fromToTextSeparator+r+this.overText+e.nbVisibleRows)):i=t&&""!==t?t:e.nbFilterableRows-e.nbHiddenRows,this.rowsCounterSpan.innerHTML=i,this.onAfterRefreshCounter&&this.onAfterRefreshCounter.call(null,e,this.rowsCounterSpan,i))},e.prototype.destroy=function(){var t=this;this.initialized&&(!this.rowsCounterTgtId&&this.rowsCounterDiv?h["default"].remove(this.rowsCounterDiv):h["default"].id(this.rowsCounterTgtId).innerHTML="",this.rowsCounterSpan=null,this.rowsCounterDiv=null,this.emitter.off(["after-filtering","grouped-by-page"],function(){return t.refresh(tf.nbVisibleRows)}),this.emitter.off(["rows-changed"],function(){return t.refresh()}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.StatusBar=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f),d=window;e.StatusBar=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"statusBar")),a=s.config;return s.statusBarTgtId=a.status_bar_target_id||null,s.statusBarDiv=null,s.statusBarSpan=null,s.statusBarSpanText=null,s.statusBarText=a.status_bar_text||"",s.statusBarCssClass=a.status_bar_css_class||"status",s.statusBarCloseDelay=250,s.onBeforeShowMsg=u["default"].isFn(a.on_before_show_msg)?a.on_before_show_msg:null,s.onAfterShowMsg=u["default"].isFn(a.on_after_show_msg)?a.on_after_show_msg:null,s.msgFilter=a.msg_filter||"Filtering data...",s.msgPopulate=a.msg_populate||"Populating filter...",s.msgPopulateCheckList=a.msg_populate_checklist||"Populating list...",s.msgChangePage=a.msg_change_page||"Collecting paging data...",s.msgClear=a.msg_clear||"Clearing filters...",s.msgChangeResults=a.msg_change_results||"Changing results per page...",s.msgResetPage=a.msg_reset_page||"Re-setting page...",s.msgResetPageLength=a.msg_reset_page_length||"Re-setting page length...",s.msgSort=a.msg_sort||"Sorting data...",s.msgLoadExtensions=a.msg_load_extensions||"Loading extensions...",s.msgLoadThemes=a.msg_load_themes||"Loading theme(s)...",s.prfxStatus="status_",s.prfxStatusSpan="statusSpan_",s.prfxStatusTxt="statusText_",s}return a(e,t),e.prototype.init=function(){var t=this,n,r,a;if(!this.initialized){var e=this.tf,i=this.emitter,s=h["default"].create("div",["id",this.prfxStatus+e.id]);s.className=this.statusBarCssClass;n=h["default"].create("span",["id",this.prfxStatusSpan+e.id]);r=h["default"].create("span",["id",this.prfxStatusTxt+e.id]);r.appendChild(h["default"].text(this.statusBarText));this.statusBarTgtId||e.setToolbar();a=this.statusBarTgtId?h["default"].id(this.statusBarTgtId):e.lDiv;this.statusBarTgtId?(a.appendChild(r),a.appendChild(n)):(s.appendChild(r),s.appendChild(n),a.appendChild(s));this.statusBarDiv=s;this.statusBarSpan=n;this.statusBarSpanText=r;i.on(["before-filtering"],function(){return t.message(t.msgFilter)});i.on(["before-populating-filter"],function(){return t.message(t.msgPopulate)});i.on(["before-page-change"],function(){return t.message(t.msgChangePage)});i.on(["before-clearing-filters"],function(){return t.message(t.msgClear)});i.on(["before-page-length-change"],function(){return t.message(t.msgChangeResults)});i.on(["before-reset-page"],function(){return t.message(t.msgResetPage)});i.on(["before-reset-page-length"],function(){return t.message(t.msgResetPageLength)});i.on(["before-loading-extensions"],function(){return t.message(t.msgLoadExtensions)});i.on(["before-loading-themes"],function(){return t.message(t.msgLoadThemes)});i.on(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.message("")});this.initialized=!0}},e.prototype.message=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i;this.isEnabled()&&(this.onBeforeShowMsg&&this.onBeforeShowMsg.call(null,this.tf,e),i=""===e?this.statusBarCloseDelay:1,d.setTimeout(function(){t.initialized&&(t.statusBarSpan.innerHTML=e,t.onAfterShowMsg&&t.onAfterShowMsg.call(null,t.tf,e))},i))},e.prototype.destroy=function(){var t=this,e;this.initialized&&(e=this.emitter,this.statusBarDiv.innerHTML="",this.statusBarTgtId||h["default"].remove(this.statusBarDiv),this.statusBarSpan=null,this.statusBarSpanText=null,this.statusBarDiv=null,e.off(["before-filtering"],function(){return t.message(t.msgFilter)}),e.off(["before-populating-filter"],function(){return t.message(t.msgPopulate)}),e.off(["before-page-change"],function(){return t.message(t.msgChangePage)}),e.off(["before-clearing-filters"],function(){return t.message(t.msgClear)}),e.off(["before-page-length-change"],function(){return t.message(t.msgChangeResults)}),e.off(["before-reset-page"],function(){return t.message(t.msgResetPage)}),e.off(["before-reset-page-length"],function(){return t.message(t.msgResetPageLength)}),e.off(["before-loading-extensions"],function(){return t.message(t.msgLoadExtensions)}),e.off(["before-loading-themes"],function(){return t.message(t.msgLoadThemes)}),e.off(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.message("")}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Paging=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=i(11),h=i(2),f=s(h),u=i(4),d=s(u),p=i(3),c=s(p),g=i(1),b=s(g);e.Paging=function(t){function e(i){var s,a,l,o,h;return n(this,e),s=r(this,t.call(this,i,"paging")),a=s.config,s.btnPageCssClass=a.paging_btn_css_class||"pgInp",s.pagingSlc=null,s.resultsPerPageSlc=null,s.pagingTgtId=a.paging_target_id||null,s.pagingLength=isNaN(a.paging_length)?10:a.paging_length,s.resultsPerPageTgtId=a.results_per_page_target_id||null,s.pgSlcCssClass=a.paging_slc_css_class||"pgSlc",s.pgInpCssClass=a.paging_inp_css_class||"pgNbInp",s.resultsPerPage=a.results_per_page||null,s.hasResultsPerPage=d["default"].isArray(s.resultsPerPage),s.resultsSlcCssClass=a.results_slc_css_class||"rspg",s.resultsSpanCssClass=a.results_span_css_class||"rspgSpan",s.startPagingRow=0,s.nbPages=0,s.currentPageNb=1,s.btnNextPageText=a.btn_next_page_text||">",s.btnPrevPageText=a.btn_prev_page_text||"<",s.btnLastPageText=a.btn_last_page_text||">|",s.btnFirstPageText=a.btn_first_page_text||"|<",s.btnNextPageHtml=a.btn_next_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' nextPage" title="Next page" />':null),s.btnPrevPageHtml=a.btn_prev_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' previousPage" title="Previous page" />':null),s.btnFirstPageHtml=a.btn_first_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' firstPage" title="First page" />':null),s.btnLastPageHtml=a.btn_last_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' lastPage" title="Last page" />':null),s.pageText=a.page_text||" Page ",s.ofText=a.of_text||" of ",s.nbPgSpanCssClass=a.nb_pages_css_class||"nbpg",s.hasPagingBtns=a.paging_btns!==!1,s.pageSelectorType=a.page_selector_type||i.fltTypeSlc,s.onBeforeChangePage=d["default"].isFn(a.on_before_change_page)?a.on_before_change_page:null,s.onAfterChangePage=d["default"].isFn(a.on_after_change_page)?a.on_after_change_page:null,s.prfxSlcPages="slcPages_",s.prfxSlcResults="slcResults_",s.prfxSlcResultsTxt="slcResultsTxt_",s.prfxBtnNextSpan="btnNextSpan_",s.prfxBtnPrevSpan="btnPrevSpan_",s.prfxBtnLastSpan="btnLastSpan_",s.prfxBtnFirstSpan="btnFirstSpan_",s.prfxBtnNext="btnNext_",s.prfxBtnPrev="btnPrev_",s.prfxBtnLast="btnLast_",s.prfxBtnFirst="btnFirst_",s.prfxPgSpan="pgspan_",s.prfxPgBeforeSpan="pgbeforespan_",s.prfxPgAfterSpan="pgafterspan_",l=i.refRow,o=i.nbRows,s.nbPages=Math.ceil((o-l)/s.pagingLength),h=s,s.evt={slcIndex:function(){return h.pageSelectorType===i.fltTypeSlc?h.pagingSlc.options.selectedIndex:parseInt(h.pagingSlc.value,10)-1},nbOpts:function(){return h.pageSelectorType===i.fltTypeSlc?parseInt(h.pagingSlc.options.length,10)-1:h.nbPages-1},next:function(){var t=h.evt.slcIndex()<h.evt.nbOpts()?h.evt.slcIndex()+1:0;h.changePage(t)},prev:function(){var t=h.evt.slcIndex()>0?h.evt.slcIndex()-1:h.evt.nbOpts();h.changePage(t)},last:function(){h.changePage(h.evt.nbOpts())},first:function(){h.changePage(0)},_detectKey:function(t){var e=b["default"].keyCode(t);13===e&&(i.sorted?(i.filter(),h.changePage(h.evt.slcIndex())):h.changePage(),this.blur())},slcPagesChange:null,nextEvt:null,prevEvt:null,lastEvt:null,firstEvt:null},s}return a(e,t),e.prototype.init=function(){var t,e=this,i=this.tf,s=this.evt,o,h,u,d,p,c,g,v;if(!this.initialized){this.hasResultsPerPage&&(this.resultsPerPage.length<2?this.hasResultsPerPage=!1:(this.pagingLength=this.resultsPerPage[1][0],this.setResultsPerPage()));s.slcPagesChange=function(t){var i=t.target;e.changePage(i.selectedIndex)};this.pageSelectorType===i.fltTypeSlc&&(t=f["default"].create(i.fltTypeSlc,["id",this.prfxSlcPages+i.id]),t.className=this.pgSlcCssClass,b["default"].add(t,"change",s.slcPagesChange));this.pageSelectorType===i.fltTypeInp&&(t=f["default"].create(i.fltTypeInp,["id",this.prfxSlcPages+i.id],["value",this.currentPageNb]),t.className=this.pgInpCssClass,b["default"].add(t,"keypress",s._detectKey));var n=f["default"].create("span",["id",this.prfxBtnNextSpan+i.id]),r=f["default"].create("span",["id",this.prfxBtnPrevSpan+i.id]),a=f["default"].create("span",["id",this.prfxBtnLastSpan+i.id]),l=f["default"].create("span",["id",this.prfxBtnFirstSpan+i.id]);this.hasPagingBtns&&(this.btnNextPageHtml?(n.innerHTML=this.btnNextPageHtml,b["default"].add(n,"click",s.next)):(o=f["default"].create(i.fltTypeInp,["id",this.prfxBtnNext+i.id],["type","button"],["value",this.btnNextPageText],["title","Next"]),o.className=this.btnPageCssClass,b["default"].add(o,"click",s.next),n.appendChild(o)),this.btnPrevPageHtml?(r.innerHTML=this.btnPrevPageHtml,b["default"].add(r,"click",s.prev)):(h=f["default"].create(i.fltTypeInp,["id",this.prfxBtnPrev+i.id],["type","button"],["value",this.btnPrevPageText],["title","Previous"]),h.className=this.btnPageCssClass,b["default"].add(h,"click",s.prev),r.appendChild(h)),this.btnLastPageHtml?(a.innerHTML=this.btnLastPageHtml,b["default"].add(a,"click",s.last)):(u=f["default"].create(i.fltTypeInp,["id",this.prfxBtnLast+i.id],["type","button"],["value",this.btnLastPageText],["title","Last"]),u.className=this.btnPageCssClass,b["default"].add(u,"click",s.last),a.appendChild(u)),this.btnFirstPageHtml?(l.innerHTML=this.btnFirstPageHtml,b["default"].add(l,"click",s.first)):(d=f["default"].create(i.fltTypeInp,["id",this.prfxBtnFirst+i.id],["type","button"],["value",this.btnFirstPageText],["title","First"]),d.className=this.btnPageCssClass,b["default"].add(d,"click",s.first),l.appendChild(d)));this.pagingTgtId||i.setToolbar();p=this.pagingTgtId?f["default"].id(this.pagingTgtId):i.mDiv;p.appendChild(l);p.appendChild(r);c=f["default"].create("span",["id",this.prfxPgBeforeSpan+i.id]);c.appendChild(f["default"].text(this.pageText));c.className=this.nbPgSpanCssClass;p.appendChild(c);p.appendChild(t);g=f["default"].create("span",["id",this.prfxPgAfterSpan+i.id]);g.appendChild(f["default"].text(this.ofText));g.className=this.nbPgSpanCssClass;p.appendChild(g);v=f["default"].create("span",["id",this.prfxPgSpan+i.id]);v.className=this.nbPgSpanCssClass;v.appendChild(f["default"].text(" "+this.nbPages+" "));p.appendChild(v);p.appendChild(n);p.appendChild(a);this.pagingSlc=f["default"].id(this.prfxSlcPages+i.id);i.rememberGridValues||this.setPagingInfo();i.fltGrid||(i.validateAllRows(),this.setPagingInfo(i.validRowsIndex));this.emitter.on(["after-filtering"],function(){return e.resetPagingInfo()});this.emitter.on(["initialized"],function(){return e.resetValues()});this.emitter.on(["change-page"],function(t,i){return e.setPage(i)});this.emitter.on(["change-page-results"],function(t,i){return e.changeResultsPerPage(i)});this.initialized=!0}},e.prototype.reset=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=this.tf;this.isEnabled()||(this.enable(),this.init(),t&&e.filter())},e.prototype.resetPagingInfo=function(){this.startPagingRow=0;this.currentPageNb=1;this.setPagingInfo(this.tf.validRowsIndex)},e.prototype.setPagingInfo=function(t){var e=this.tf,i=this.pagingTgtId?f["default"].id(this.pagingTgtId):e.mDiv,s=f["default"].id(this.prfxPgSpan+e.id),n,r;if(e.validRowsIndex=t||e.getValidRows(!0),this.nbPages=Math.ceil(e.validRowsIndex.length/this.pagingLength),s.innerHTML=this.nbPages,this.pageSelectorType===e.fltTypeSlc&&(this.pagingSlc.innerHTML=""),this.nbPages>0)if(i.style.visibility="visible",this.pageSelectorType===e.fltTypeSlc)for(n=0;n<this.nbPages;n++)r=f["default"].createOpt(n+1,n*this.pagingLength,!1),this.pagingSlc.options[n]=r;else this.pagingSlc.value=this.currentPageNb;else i.style.visibility="hidden";this.groupByPage(e.validRowsIndex)},e.prototype.groupByPage=function(t){var e=this.tf,i=e.tbl.rows,s=parseInt(this.startPagingRow,10),n=s+parseInt(this.pagingLength,10),r,a;for(t&&(e.validRowsIndex=t),r=0,a=e.validRowsIndex.length;a>r;r++){var l=e.validRowsIndex[r],o=i[l],h=o.getAttribute("validRow"),f=!1;r>=s&&n>r?(d["default"].isNull(h)||Boolean("true"===h))&&(o.style.display="",f=!0):o.style.display="none";this.emitter.emit("row-paged",e,l,r,f)}e.nbVisibleRows=e.validRowsIndex.length;this.emitter.emit("grouped-by-page",e,this)},e.prototype.getPage=function(){return this.currentPageNb},e.prototype.setPage=function(t){var e=this.tf,i,s;if(e.hasGrid()&&this.isEnabled())if(i=this.evt,s="undefined"==typeof t?"undefined":l(t),"string"===s)switch(c["default"].lower(t)){case"next":i.next();break;case"previous":i.prev();break;case"last":i.last();break;case"first":i.first();break;default:i.next()}else"number"===s&&this.changePage(t-1)},e.prototype.setResultsPerPage=function(){var t=this,e=this.tf,i=this.evt,s,l,o,h,u;if(!this.resultsPerPageSlc&&this.resultsPerPage){i.slcResultsChange=function(e){t.onChangeResultsPerPage();e.target.blur()};s=f["default"].create(e.fltTypeSlc,["id",this.prfxSlcResults+e.id]);s.className=this.resultsSlcCssClass;var n=this.resultsPerPage[0],r=this.resultsPerPage[1],a=f["default"].create("span",["id",this.prfxSlcResultsTxt+e.id]);for(a.className=this.resultsSpanCssClass,this.resultsPerPageTgtId||e.setToolbar(),l=this.resultsPerPageTgtId?f["default"].id(this.resultsPerPageTgtId):e.rDiv,a.appendChild(f["default"].text(n)),o=e.feature("help"),o&&o.btn?(o.btn.parentNode.insertBefore(a,o.btn),o.btn.parentNode.insertBefore(s,o.btn)):(l.appendChild(a),l.appendChild(s)),h=0;h<r.length;h++)u=new Option(r[h],r[h],!1,!1),s.options[h]=u;b["default"].add(s,"change",i.slcResultsChange);this.resultsPerPageSlc=s}},e.prototype.removeResultsPerPage=function(){var t=this.tf,e,i;t.hasGrid()&&this.resultsPerPageSlc&&this.resultsPerPage&&(e=this.resultsPerPageSlc,i=f["default"].id(this.prfxSlcResultsTxt+t.id),e&&f["default"].remove(e),i&&f["default"].remove(i),this.resultsPerPageSlc=null)},e.prototype.changePage=function(t){var e=this.tf;this.isEnabled()&&(this.emitter.emit("before-page-change",e,t+1),null===t&&(t=this.pageSelectorType===e.fltTypeSlc?this.pagingSlc.options.selectedIndex:this.pagingSlc.value-1),t>=0&&t<=this.nbPages-1&&(this.onBeforeChangePage&&this.onBeforeChangePage.call(null,this,t+1),this.currentPageNb=parseInt(t,10)+1,this.pageSelectorType===e.fltTypeSlc?this.pagingSlc.options[t].selected=!0:this.pagingSlc.value=this.currentPageNb,this.startPagingRow=this.pageSelectorType===e.fltTypeSlc?this.pagingSlc.value:t*this.pagingLength,this.groupByPage(),this.onAfterChangePage&&this.onAfterChangePage.call(null,this,t+1)),this.emitter.emit("after-page-change",e,t+1))},e.prototype.changeResultsPerPage=function(t){this.isEnabled()&&!isNaN(t)&&(this.resultsPerPageSlc.value=t,this.onChangeResultsPerPage())},e.prototype.onChangeResultsPerPage=function(){var t=this.tf,n;if(this.isEnabled()){this.emitter.emit("before-page-length-change",t);var e=this.resultsPerPageSlc,i=e.selectedIndex,s=this.pageSelectorType===t.fltTypeSlc?this.pagingSlc.selectedIndex:parseInt(this.pagingSlc.value-1,10);(this.pagingLength=parseInt(e.options[i].value,10),this.startPagingRow=this.pagingLength*s,isNaN(this.pagingLength)||(this.startPagingRow>=t.nbFilterableRows&&(this.startPagingRow=t.nbFilterableRows-this.pagingLength),this.setPagingInfo(),this.pageSelectorType!==t.fltTypeSlc))||(n=this.pagingSlc.options.length-1<=s?this.pagingSlc.options.length-1:s,this.pagingSlc.options[n].selected=!0);this.emitter.emit("after-page-length-change",t,this.pagingLength)}},e.prototype.resetValues=function(){var t=this.tf;t.rememberPageLen&&this.resetPageLength();t.rememberPageNb&&this.resetPage()},e.prototype.resetPage=function(){var t=this.tf,e;this.isEnabled()&&(this.emitter.emit("before-reset-page",t),e=t.feature("store").getPageNb(),""!==e&&this.changePage(e-1),this.emitter.emit("after-reset-page",t,e))},e.prototype.resetPageLength=function(){var t=this.tf,e;this.isEnabled()&&(this.emitter.emit("before-reset-page-length",t),e=t.feature("store").getPageLength(),""!==e&&(this.resultsPerPageSlc.options[e].selected=!0,this.changeResultsPerPage()),this.emitter.emit("after-reset-page-length",t,e))},e.prototype.destroy=function(){var t=this,e=this.tf;if(this.initialized){var i=f["default"].id(this.prfxBtnNextSpan+e.id),s=f["default"].id(this.prfxBtnPrevSpan+e.id),n=f["default"].id(this.prfxBtnLastSpan+e.id),r=f["default"].id(this.prfxBtnFirstSpan+e.id),a=f["default"].id(this.prfxPgBeforeSpan+e.id),l=f["default"].id(this.prfxPgAfterSpan+e.id),o=f["default"].id(this.prfxPgSpan+e.id),h=this.evt;this.pagingSlc&&(this.pageSelectorType===e.fltTypeSlc?b["default"].remove(this.pagingSlc,"change",h.slcPagesChange):this.pageSelectorType===e.fltTypeInp&&b["default"].remove(this.pagingSlc,"keypress",h._detectKey),f["default"].remove(this.pagingSlc));i&&(b["default"].remove(i,"click",h.next),f["default"].remove(i));s&&(b["default"].remove(s,"click",h.prev),f["default"].remove(s));n&&(b["default"].remove(n,"click",h.last),f["default"].remove(n));r&&(b["default"].remove(r,"click",h.first),f["default"].remove(r));a&&f["default"].remove(a);l&&f["default"].remove(l);o&&f["default"].remove(o);this.hasResultsPerPage&&this.removeResultsPerPage();this.emitter.off(["after-filtering"],function(){return t.resetPagingInfo()});this.emitter.off(["initialized"],function(){return t.resetValues()});this.emitter.off(["change-page"],function(e,i){return t.setPage(i)});this.emitter.off(["change-page-results"],function(e,i){return t.changeResultsPerPage(i)});this.pagingSlc=null;this.nbPages=0;this.disable();this.initialized=!1}},e}(o.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.ClearButton=void 0;var l=i(11),o=i(2),h=s(o),f=i(1),u=s(f);e.ClearButton=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"btnReset")),a=s.config;return s.btnResetTgtId=a.btn_reset_target_id||null,s.btnResetEl=null,s.btnResetText=a.btn_reset_text||"Reset",s.btnResetTooltip=a.btn_reset_tooltip||"Clear filters",s.btnResetHtml=a.btn_reset_html||(i.enableIcons?'<input type="button" value="" class="'+i.btnResetCssClass+'" title="'+s.btnResetTooltip+'" />':null),s.prfxResetSpan="resetspan_",s}return a(e,t),e.prototype.onClick=function(){this.isEnabled()&&this.tf.clearFilters()},e.prototype.init=function(){var t=this,e=this.tf,i,s,n,r;this.initialized||(i=h["default"].create("span",["id",this.prfxResetSpan+e.id]),this.btnResetTgtId||e.setToolbar(),s=this.btnResetTgtId?h["default"].id(this.btnResetTgtId):e.rDiv,(s.appendChild(i),this.btnResetHtml)?(i.innerHTML=this.btnResetHtml,n=i.firstChild,u["default"].add(n,"click",function(){t.onClick()})):(r=h["default"].create("a",["href","javascript:void(0);"]),r.className=e.btnResetCssClass,r.appendChild(h["default"].text(this.btnResetText)),i.appendChild(r),u["default"].add(r,"click",function(){t.onClick()})),this.btnResetEl=i.firstChild,this.initialized=!0)},e.prototype.destroy=function(){var t=this.tf,e;this.initialized&&(e=h["default"].id(this.prfxResetSpan+t.id),e&&h["default"].remove(e),this.btnResetEl=null,this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Help=void 0;var l=i(11),o=i(2),h=s(o),f=i(1),u=s(f),d="https://github.com/koalyptus/TableFilter/wiki/4.-Filter-operators",p="http://koalyptus.github.io/TableFilter/";e.Help=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"help")),a=s.config;return s.tgtId=a.help_instructions_target_id||null,s.contTgtId=a.help_instructions_container_target_id||null,s.instrText=a.help_instructions_text?a.help_instructions_text:'Use the filters above each column to filter and limit table data. Advanced searches can be performed by using the following operators: <br /><b>&lt;<\/b>, <b>&lt;=<\/b>, <b>&gt;<\/b>, <b>&gt;=<\/b>, <b>=<\/b>, <b>*<\/b>, <b>!<\/b>, <b>{<\/b>, <b>}<\/b>, <b>||<\/b>,<b>&amp;&amp;<\/b>, <b>[empty]<\/b>, <b>[nonempty]<\/b>, <b>rgx:<\/b><br/><a href="'+d+'" target="_blank">Learn more<\/a><hr/>',s.instrHtml=a.help_instructions_html||null,s.btnText=a.help_instructions_btn_text||"?",s.btnHtml=a.help_instructions_btn_html||null,s.btnCssClass=a.help_instructions_btn_css_class||"helpBtn",s.contCssClass=a.help_instructions_container_css_class||"helpCont",s.btn=null,s.cont=null,s.defaultHtml='<div class="helpFooter"><h4>TableFilter v'+i.version+'<\/h4><a href="'+p+'" target="_blank">'+p+"<\/a><br/><span>&copy;2015-"+i.year+' Max Guglielmi<\/span><div align="center" style="margin-top:8px;"><a href="javascript:void(0);" class="close">Close<\/a><\/div><\/div>',s.prfxHelpSpan="helpSpan_",s.prfxHelpDiv="helpDiv_",s.emitter.on(["init-help"],function(){return s.init()}),s}return a(e,t),e.prototype.init=function(){var t=this,n,r,a,l;if(!this.initialized){var e=this.tf,i=h["default"].create("span",["id",this.prfxHelpSpan+e.id]),s=h["default"].create("div",["id",this.prfxHelpDiv+e.id]);this.tgtId||e.setToolbar();n=this.tgtId?h["default"].id(this.tgtId):e.rDiv;n.appendChild(i);r=this.contTgtId?h["default"].id(this.contTgtId):i;this.btnHtml?(i.innerHTML=this.btnHtml,a=i.firstChild,u["default"].add(a,"click",function(){t.toggle()}),r.appendChild(s)):(r.appendChild(s),l=h["default"].create("a",["href","javascript:void(0);"]),l.className=this.btnCssClass,l.appendChild(h["default"].text(this.btnText)),i.appendChild(l),u["default"].add(l,"click",function(){t.toggle()}));this.instrHtml?(this.contTgtId&&r.appendChild(s),s.innerHTML=this.instrHtml,this.contTgtId||(s.className=this.contCssClass,u["default"].add(s,"dblclick",function(){t.toggle()}))):(s.innerHTML=this.instrText,s.className=this.contCssClass,u["default"].add(s,"dblclick",function(){t.toggle()}));s.innerHTML+=this.defaultHtml;u["default"].add(s,"click",function(){t.toggle()});this.cont=s;this.btn=i;this.initialized=!0}},e.prototype.toggle=function(){if(this.enabled!==!1){var t=this.cont.style.display;this.cont.style.display=""===t||"none"===t?"inline":"none"}},e.prototype.destroy=function(){this.initialized&&(h["default"].remove(this.btn),this.btn=null,this.cont&&(h["default"].remove(this.cont),this.cont=null,this.initialized=!1))},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.AlternateRows=void 0;var l=i(11),o=i(2),h=s(o);e.AlternateRows=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"alternateRows")),a=s.config;return s.evenCss=a.even_row_css_class||"even",s.oddCss=a.odd_row_css_class||"odd",s}return a(e,t),e.prototype.init=function(){var t=this;this.initialized||(this.processAll(),this.emitter.on(["row-processed","row-paged"],function(e,i,s,n){return t.processRow(i,s,n)}),this.emitter.on(["column-sorted"],function(){return t.processAll()}),this.initialized=!0)},e.prototype.processAll=function(){var l;if(this.isEnabled())for(var t=this.tf,e=t.getValidRows(!0),i=0===e.length,s=i?t.refRow:0,n=i?t.nbFilterableRows+s:e.length,r=0,a=s;n>a;a++)l=i?a:e[a],this.setRowBg(l,r),r++},e.prototype.processRow=function(t,e,i){i?this.setRowBg(t,e):this.removeRowBg(t)},e.prototype.setRowBg=function(t,e){if(this.isEnabled()&&!isNaN(t)){var i=this.tf.tbl.rows,s=isNaN(e)?t:e;this.removeRowBg(t);h["default"].addClass(i[t],s%2?this.evenCss:this.oddCss)}},e.prototype.removeRowBg=function(t){if(!isNaN(t)){var e=this.tf.tbl.rows;h["default"].removeClass(e[t],this.oddCss);h["default"].removeClass(e[t],this.evenCss)}},e.prototype.destroy=function(){var t=this,e;if(this.initialized){for(e=0;e<this.tf.nbRows;e++)this.removeRowBg(e);this.emitter.off(["row-processed","row-paged"],function(e,i,s,n){return t.processRow(i,s,n)});this.emitter.off(["column-sorted"],function(){return t.processAll()});this.initialized=!1}},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.NoResults=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f);e.NoResults=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"noResults")),a=s.config.no_results_message;return s.content=a.content||"No results",s.customContainer=a.custom_container||null,s.customContainerId=a.custom_container_id||null,s.isExternal=!u["default"].isEmpty(s.customContainer)||!u["default"].isEmpty(s.customContainerId),s.cssClass=a.css_class||"no-results",s.cont=null,s.onBeforeShowMsg=u["default"].isFn(a.on_before_show_msg)?a.on_before_show_msg:null,s.onAfterShowMsg=u["default"].isFn(a.on_after_show_msg)?a.on_after_show_msg:null,s.onBeforeHideMsg=u["default"].isFn(a.on_before_hide_msg)?a.on_before_hide_msg:null,s.onAfterHideMsg=u["default"].isFn(a.on_after_hide_msg)?a.on_after_hide_msg:null,s.prfxNoResults="nores_",s}return a(e,t),e.prototype.init=function(){var t=this;if(!this.initialized){var e=this.tf,i=this.customContainer||h["default"].id(this.customContainerId)||e.tbl,s=h["default"].create("div",["id",this.prfxNoResults+e.id]);s.className=this.cssClass;s.innerHTML=this.content;this.isExternal?i.appendChild(s):i.parentNode.insertBefore(s,i.nextSibling);this.cont=s;this.emitter.on(["after-filtering"],function(){return t.toggle()});this.initialized=!0;this.hide()}},e.prototype.toggle=function(){this.tf.nbVisibleRows>0?this.hide():this.show()},e.prototype.show=function(){this.initialized&&this.isEnabled()&&(this.onBeforeShowMsg&&this.onBeforeShowMsg.call(null,this.tf,this),this.setWidth(),this.cont.style.display="block",this.onAfterShowMsg&&this.onAfterShowMsg.call(null,this.tf,this))},e.prototype.hide=function(){this.initialized&&this.isEnabled()&&(this.onBeforeHideMsg&&this.onBeforeHideMsg.call(null,this.tf,this),this.cont.style.display="none",this.onBeforeHideMsg&&this.onBeforeHideMsg.call(null,this.tf,this))},e.prototype.setWidth=function(){if(this.initialized&&!this.isExternal&&this.isEnabled())if(this.tf.gridLayout){var t=this.tf.feature("gridLayout");this.cont.style.width=t.tblCont.clientWidth+"px"}else this.cont.style.width=this.tf.tbl.clientWidth+"px"},e.prototype.destroy=function(){var t=this;this.initialized&&(h["default"].remove(this.cont),this.cont=null,this.emitter.off(["after-filtering"],function(){return t.toggle()}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.State=void 0;var l=i(11),o=i(27),h=i(3),f=s(h),u=i(4),d=s(u);e.State=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"state")),a=s.config.state;return s.enableHash=a.types&&-1!==a.types.indexOf("hash")||i.state===!0,s.persistFilters=a.filters!==!1,s.persistPageNumber=Boolean(a.page_number),s.persistPageLength=Boolean(a.page_length),s.hash=null,s.pageNb=null,s.pageLength=null,s.state={},s.prfxCol="col_",s.pageNbKey="page",s.pageLengthKey="page_length",s}return a(e,t),e.prototype.init=function(){var t=this;this.initialized||(this.emitter.on(["after-filtering"],function(){return t.update()}),this.emitter.on(["after-page-change"],function(e,i){return t.updatePage(i)}),this.emitter.on(["after-page-length-change"],function(e,i){return t.updatePageLength(i)}),this.enableHash&&(this.hash=new o.Hash(this),this.hash.init()),this.initialized=!0)},e.prototype.update=function(){var t=this,e,i;this.isEnabled()&&(e=this.tf,this.persistFilters&&(i=e.getFiltersValue(),i.forEach(function(e,i){var s=""+t.prfxCol+i;d["default"].isString(e)&&f["default"].isEmpty(e)?t.state.hasOwnProperty(s)&&(t.state[s]=void 0):(t.state[s]=t.state[s]||{},t.state[s].flt=e)})),this.persistPageNumber&&(this.state[this.pageNbKey]=d["default"].isNull(this.pageNb)?void 0:this.pageNb),this.persistPageLength&&(this.state[this.pageLengthKey]=d["default"].isNull(this.pageLength)?void 0:this.pageLength),this.emitter.emit("state-changed",e,this.state))},e.prototype.updatePage=function(t){this.pageNb=t;this.update()},e.prototype.updatePageLength=function(t){this.pageLength=t;this.update()},e.prototype.override=function(t){this.state=t},e.prototype.sync=function(){var t=this,e=this.state,i=this.tf,s,n;(this.persistFilters&&(Object.keys(e).forEach(function(s){if(-1!==s.indexOf(t.prfxCol)){var n=parseInt(s.replace(t.prfxCol,""),10),r=e[s].flt;i.setFilterValue(n,r)}}),i.filter()),this.persistPageNumber)&&(s=e[this.pageNbKey],this.emitter.emit("change-page",this.tf,s));this.persistPageLength&&(n=e[this.pageLengthKey],this.emitter.emit("change-page-results",this.tf,n))},e.prototype.destroy=function(){var t=this;this.initialized&&(this.state={},this.emitter.off(["after-filtering"],function(){return t.update()}),this.emitter.off(["after-page-change"],function(e,i){return t.updatePage(i)}),this.emitter.off(["after-page-length-change"],function(e,i){return t.updatePageLength(i)}),this.enableHash&&(this.hash.destroy(),this.hash=null),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.Hash=e.hasHashChange=void 0;var r=i(1),a=s(r),l=window,o=l.JSON,h=l.location,f=l.decodeURIComponent,u=e.hasHashChange=function(){var t=l.documentMode;return"onhashchange"in l&&(void 0===t||t>7)};e.Hash=function(){function t(e){n(this,t);this.state=e;this.lastHash=null;this.emitter=e.emitter}return t.prototype.init=function(){var t=this;u()&&(this.lastHash=h.hash,this.emitter.on(["state-changed"],function(e,i){return t.update(i)}),this.emitter.on(["initialized"],function(){return t.sync()}),a["default"].add(l,"hashchange",function(){return t.sync()}))},t.prototype.update=function(t){var e="#"+o.stringify(t);this.lastHash!==e&&(h.hash=e,this.lastHash=e)},t.prototype.parse=function(t){return-1===t.indexOf("#")?null:(t=t.substr(1),o.parse(f(t)))},t.prototype.sync=function(){var t=this.parse(h.hash);t&&(this.state.disable(),this.state.override(t),this.state.sync(),this.state.enable())},t.prototype.destroy=function(){var t=this;this.emitter.off(["state-changed"],function(e,i){return t.update(i)});this.emitter.off(["initialized"],function(){return t.sync()});a["default"].remove(l,"hashchange",function(){return t.sync()});this.state=null;this.lastHash=null;this.emitter=null},t}()}])});ko.components.register("dropdown",{viewModel:function(params){function findOptionByValue(val){var foundOption=null;return ko.unwrap(_self.items)&&_self.items().forEach(function(option){option.value==val&&(foundOption=option)}),foundOption}var _self=this,options,tooltipsterInstance,positionFixInterval;_self.caption=params.caption;_self.value=params.value;_self.options=params.options;_self.disabled=params.disabled||!1;_self.optionTemplate=params.optionTemplate;_self.dropdownDisabled=ko.observable(!1);_self.selectedOption=ko.observable();_self.selectedText=ko.computed(function(){var selectedOption=ko.unwrap(_self.selectedOption);return selectedOption?selectedOption.text:""});_self.selectedPlaceholder=ko.computed(function(){var selectedOption=ko.unwrap(_self.selectedOption);return selectedOption&&selectedOption.placeholder});_self.selectOption=function(option){option=$.extend({text:null,value:null,placeholder:!1},option);_self.value(option.value);_self.selectedOption(option);tooltipsterInstance&&!tooltipsterInstance.status().destroyed&&tooltipsterInstance.close()};_self.items=ko.computed(function(){var retOptions=[];return ko.unwrap(_self.options).forEach(function(option){typeof option=="object"||option instanceof Object?retOptions.push(option):retOptions.push({value:option,text:option})}),retOptions});ko.unwrap(_self.caption)||ko.unwrap(_self.value)!=null||(options=_self.items(),options.length>0&&_self.selectOption(options[0]));ko.computed(function(){var value=ko.unwrap(_self.value),caption=ko.unwrap(_self.caption),optionByValue=findOptionByValue(value);value!=null&&optionByValue?_self.selectOption(optionByValue):caption&&_self.selectOption({selectedText:null,placeholder:!0})});ko.computed(function(){_self.dropdownDisabled(ko.unwrap(_self.disabled))});_self.value.subscribe(function(newValue){var selectedValue=ko.unwrap(_self.selectedOption)?ko.unwrap(_self.selectedOption).value:null,option;newValue!==selectedValue&&(option=findOptionByValue(newValue),option!=null&&_self.selectOption(option))});_self.isInvalid=ko.computed(function(){return ko.validation.utils.isValidatable(_self.value)&&_self.value.isModified()&&!_self.value.isValid()});tooltipsterInstance=null;positionFixInterval=null;this.tooltipsterOptions={arrow:!1,distance:-1,interactive:!0,trigger:"click",side:["bottom"],theme:"tooltipster-dropdown",functionPosition:function(instance,helper,position){return position.size.width=helper.geo.origin.size.width,position.coord.left=helper.geo.origin.offset.left,position},functionReady:function(instance,helper){e=instance.elementTooltip();positionFixInterval=setInterval(function(){$(instance.elementTooltip()).css("left",$(instance.elementOrigin()).offset().left)},500);setTimeout(function(){$(instance.elementTooltip()).find("input").focus()},500)},functionBefore:function(){return!_self.dropdownDisabled()},functionAfter:function(){clearInterval(positionFixInterval)},functionInit:function(instance,helper){tooltipsterInstance=instance}}},template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/dropdown/template.html?v=1112588897154768053",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/dropdown/styles.css?v=17743836298224273895"}});DEBUG&&(ko.components.get=function(fn){return function(componentName,callback){console.log("clearing component cache",componentName);ko.components.clearCachedDefinition(componentName);fn(componentName,callback)}}(ko.components.get));ShareLinksViewModel=function(params){var _self=this;params=$.extend({ShareViewModel:null,disabled:!1,shareDialogOnClose:null,shareViaEmail:null},params);this.disabled=params.disabled;$.extend(this,params.ShareViewModel);this.shareViaEmail=function($data,ev){ev.stopPropagation();$.isFunction(params.shareViaEmail)?params.shareViaEmail():LSHelper.Favorites.share({url:ko.unwrap(_self.ShareDialogUrl),title:ko.unwrap(_self.ShareDialogTitle),onClose:params.shareDialogOnClose})};this.shareViaFacebook=function($data,ev){ev.stopPropagation();LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.FacebookShareUrl),"LiquidSpace - Share short list")};this.shareViaTwitter=function($data,ev){ev.stopPropagation();LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.TwitterShareUrl),"LiquidSpace - Share short list")};this.shareViaLinkedIn=function($data,ev){ev.stopPropagation();LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.LinkedInShareUrl),"LiquidSpace - Share short list")};this.shareViaPinterest=function($data,ev){ev.stopPropagation();LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.PinterestShareUrl),"LiquidSpace - Share short list")}};ko.components.register("share-links",{viewModel:ShareLinksViewModel,template:{fromUrl:"/share/sharelinkstemplate?v=1"}});ko.components.register("saved-search-directory",{template:{fromUrl:"/search/membersearchestemplate?v=1"}});ko.components.register("change-saved-search-dialog",{template:{fromUrl:"/search/changesavedsearchtemplate?v=2"}});ko.components.register("price-filter",{viewModel:{createViewModel:function(p,componentInfo){function sortNumber(a,b){return a-b}function getHiddenOffsetWidth(){var $wrapper=$e.find(".j-price-slider-wrapper"),$hiddenElement=$wrapper.clone().appendTo("body"),result={lowestPriceWidth:$hiddenElement.find(".j-price-slider-value.handle-0").outerWidth(),highestPriceWidth:$hiddenElement.find(".j-price-slider-value.handle-1").outerWidth(),averageValue:$hiddenElement.find(".j-price-average-value").outerWidth()};return $hiddenElement.remove(),result}function moneyFormat(number){return number==0?"FREE":"$"+number.formatMoney(0,".",",")}function changePriceRange(minValue,maxValue){minValue<=0?searchRequest.MinPrice(0):searchRequest.MinPrice(minValue);maxValue==null||isNaN(maxValue)||maxValue==Infinity?searchRequest.MaxPrice(null):searchRequest.MaxPrice(maxValue)}var searchRequest=p.searchRequest,$e=$(componentInfo.element),result={priceChartSvg:ko.observable("<svg><path><\/path><\/svg>")},algorithms={linear:{getPosition:function(value,min,max){return(value-min)/(max-min)*100},getValue:function(pos,min,max){var decimal=pos/100;if(pos===0)return min;else if(pos===100)return max;return Math.round((max-min)*decimal+min)}},log10:{getPosition:function(value,min,max){var minv=Math.log(min),maxv=Math.log(max),scale=(maxv-minv)/100;return(Math.log(value)-minv)/scale},getValue:function(positionPercent,min,max){var minv=Math.log(min),maxv=Math.log(max),scale;if(positionPercent===0)return min;else if(positionPercent===100)return max;return scale=(maxv-minv)/100,Math.floor(Math.exp(minv+scale*positionPercent))||0}},geometric:{getPosition:function(x,min,max){return Math.pow(max/(max-min),.5)*Math.pow((x-min)/max,.5)*100},getValue:function(x,min,max){return Math.floor(Math.pow(x/100,2)*(max-min)+min)}}},dragClass="dragged",unselectedClass="unselected",height=35,width=400,margins=70,blocks=40,priceFilterParamsDefaults={prices:[],algorithm:"geometric",callback:function(){},lowestPrice:10,highestPrice:1e3,strictRange:!1},svg=$e.find(".price-chart");svg.attr("width",width).attr("height",height);var $averageHandle=$e.find(".j-price-average-handle"),$averageValue=$e.find(".j-price-average-value"),$lowestPriceValue=$e.find(".j-price-slider-value.handle-0"),$highestPriceValue=$e.find(".j-price-slider-value.handle-1"),$slider=$e.find(".j-price-slider"),$sliderWrapper=$e.find(".j-price-slider-wrapper");return searchRequest.priceFilterParams.subscribe(function(){var params=$.extend({},priceFilterParamsDefaults,searchRequest.priceFilterParams()),algorithm=algorithms[params.algorithm],prices=params.prices,windowWidth,currentMax,values,price,averagePrice,averagePriceleft,xMove,maxValue,currentValue,xPos,yPos,calculatedPoints,pLength,pointsPath,i,path;prices.sort(sortNumber);windowWidth=$(window).width();windowWidth-margins<width&&(width=windowWidth-margins,$sliderWrapper.css("width",width));var lowestPrice=Math.floor(params.lowestPrice),highestPrice=Math.ceil(params.highestPrice),currentMin=parseFloat(searchRequest.MinPrice());isNaN(currentMin)&&(currentMin=lowestPrice);currentMax=parseFloat(searchRequest.MaxPrice());params.strictRange||(!prices.length&&(currentMin||currentMax)?(lowestPrice=currentMin||lowestPrice,highestPrice=currentMax||highestPrice):prices&&prices.length>1&&(lowestPrice=Math.floor(prices[0]),highestPrice=Math.ceil(prices[prices.length-1])));lowestPrice==highestPrice&&(highestPrice+=100);values=[0,100];currentMin>=lowestPrice&&currentMax<=highestPrice&&currentMin<=currentMax?values=[algorithm.getPosition(currentMin,lowestPrice,highestPrice),algorithm.getPosition(currentMax,lowestPrice,highestPrice)]:(currentMin>currentMax&&changePriceRange(0,Infinity),currentMin<lowestPrice?currentMin=lowestPrice:values[0]=algorithm.getPosition(currentMin,lowestPrice,highestPrice),isNaN(currentMax)||currentMax>highestPrice?currentMax=highestPrice:values[1]=algorithm.getPosition(currentMax,lowestPrice,highestPrice));for(var priceDelta=highestPrice-lowestPrice,priceStep=priceDelta/blocks,points=[0,0],relativePriceRangeStart=0,counters=[];relativePriceRangeStart<priceDelta;){for(var relativePriceRangeEnd=relativePriceRangeStart+priceStep,isLastBlock=relativePriceRangeEnd>=priceDelta,priceRangeStart=lowestPrice+relativePriceRangeStart,priceRangeEnd=priceRangeStart+priceStep,counter=0,index=0;index<prices.length;){if(price=prices[index],price>=priceRangeEnd&&!isLastBlock)break;price>=priceRangeStart&&(price<priceRangeEnd||isLastBlock)&&counter++;index++}counters.push(counter);relativePriceRangeStart=relativePriceRangeEnd}if($lowestPriceValue.text(moneyFormat(currentMin)),$highestPriceValue.text(moneyFormat(currentMax)),averagePrice=0,prices.length>1){averagePrice=Math.round(prices.reduce(function(a,b){return a+b},0)/prices.length);averagePriceleft=Math.round(algorithm.getPosition(averagePrice,lowestPrice,highestPrice)/100*width)-$averageHandle.width()/2;$averageHandle.css("left",averagePriceleft).show();$averageValue.text("Avg. "+moneyFormat(averagePrice)).show();var elemsWidth=getHiddenOffsetWidth(),averagePriceTextLeft=averagePriceleft-elemsWidth.averageValue/2+$averageHandle.outerWidth()/2,minAveragePriceTextLeft=elemsWidth.lowestPriceWidth+5,maxAveragePriceTextLeft=width-(elemsWidth.highestPriceWidth+elemsWidth.averageValue);averagePriceTextLeft<minAveragePriceTextLeft&&(averagePriceTextLeft=minAveragePriceTextLeft);averagePriceTextLeft>maxAveragePriceTextLeft&&(averagePriceTextLeft=maxAveragePriceTextLeft);$averageValue.css("left",averagePriceTextLeft)}else $averageHandle.hide(),$averageValue.hide();for(xMove=width/counters.length,maxValue=Math.max.apply(null,counters)||1,i=0;i<counters.length;i++)currentValue=lowestPrice+(i+.5)*priceStep,xPos=algorithm.getPosition(currentValue,lowestPrice,highestPrice)/100*width,points.push(xPos),yPos=counters[i]/maxValue,points.push(yPos==0?yPos:yPos*(height-5)+5);if(points=points.concat([width,0]),calculatedPoints=getCurvePoints(points,null,20),pLength=calculatedPoints.length,pLength)for(pointsPath="M"+calculatedPoints[0]+","+calculatedPoints[1],i=2;i<calculatedPoints.length;i+=2)pointsPath+="L"+calculatedPoints[i]+","+calculatedPoints[i+1];path=svg.find("path");path.attr("transform","translate(0,"+height+") scale(1,-1)").attr("d",pointsPath).attr("stroke-weight","5px").attr("fill","#DADFDF").attr("class","poly");currentMin>averagePrice||currentMax<averagePrice?$averageHandle.addClass(unselectedClass):$averageHandle.removeClass(unselectedClass);$slider.slider({range:!0,min:0,max:100,values:values,slide:function(event,ui){var handleIndex=ui.values.indexOf(ui.value),adjustedValues=[algorithm.getValue(ui.values[0],lowestPrice,highestPrice),algorithm.getValue(ui.values[1],lowestPrice,highestPrice)];$e.find(".j-price-slider-value.handle-"+handleIndex).text(moneyFormat(adjustedValues[handleIndex]));adjustedValues[0]>averagePrice||adjustedValues[1]<averagePrice?$averageHandle.addClass(unselectedClass):$averageHandle.removeClass(unselectedClass)},start:function(event,ui){$(ui.handle).addClass(dragClass)},stop:function(event,ui){$(ui.handle).removeClass(dragClass);var adjustedValues=[algorithm.getValue(ui.values[0],lowestPrice,highestPrice),algorithm.getValue(ui.values[1],lowestPrice,highestPrice)];adjustedValues[0]!=lowestPrice||adjustedValues[1]!=highestPrice?changePriceRange(adjustedValues[0],adjustedValues[1]):changePriceRange(0,Infinity);params.callback()}})}),searchRequest.priceFilterParams.notifySubscribers(),result}},template:'<svg class="price-chart"><path><\/path><\/svg>         <div class="j-price-slider-wrapper" style="width: 400px;">            <div class="j-price-slider"><\/div>            <div class="j-price-average-handle"><\/div>            <div class="j-price-average-value h5"><\/div>            <div class="j-price-slider-value handle-0 h5"><\/div>            <div class="j-price-slider-value handle-1 h5"><\/div>         <\/div>'});ko.components.register("share-collection-dialog",{template:{fromUrl:"/collections/sharecollectiondialog?v=1"}});ko.components.register("share-collection-success-dialog",{template:{fromUrl:"/collections/sharecollectionsuccessdialog?v=1"}});DealProposalSavedSearchViewModel=function(){function DealProposalSavedSearchViewModel(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{},this);this.preferredLocation=ko.computed(function(){var neighborhoods=_self.Neighborhoods(),city=_self.City();if(neighborhoods.length)return neighborhoods.join(", ");else if(city)return city;return""});this.zipcodesSearched=ko.computed(function(){var zipcodes=_self.Zipcodes();return zipcodes&&zipcodes.length?zipcodes.slice(0,7).join(", "):""});this.budgetRange=ko.computed(function(){var minPrice=_self.MinPrice(),maxPrice=_self.MaxPrice();return minPrice?minPrice==maxPrice?"$"+minPrice.formatMoney(0,".",","):"$"+minPrice.formatMoney(0,".",",")+" - $"+maxPrice.formatMoney(0,".",","):""})}return DealProposalSavedSearchViewModel}();ProposalMemberViewModel=function(){function ProposalMemberViewModel(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{},this);this.FirstName.extend({required:{message:"First name is required"},namewithcharacters:{message:"First name is not valid"}});this.LastName.extend({required:{message:"Last name is required"},namewithcharacters:{message:"Last name is not valid"}});this.Email.extend({required:{message:"Email is required"},email:{message:"Email is not valid"}});this.PhoneNumber.extend({phonenumber:{optional:!0,callback:function(result,val){result&&val!=_self.PhoneNumber()&&_self.PhoneNumber(val)}}});this.validationModel=ko.validatedObservable([this.FirstName,this.LastName,this.Email,this.PhoneNumber]);this.showValidationMessages=ko.observable(!1);this.validate=function(){_self.showValidationMessages(!0);var isValid=_self.validationModel.isValid();return isValid||_self.validationModel.errors.showAllMessages(),isValid}}return ProposalMemberViewModel}(),function(DealProposalDialogMode){DealProposalDialogMode[DealProposalDialogMode.Unknown=0]="Unknown";DealProposalDialogMode[DealProposalDialogMode.ForLead=1]="ForLead";DealProposalDialogMode[DealProposalDialogMode.ForNew=2]="ForNew"}(DealProposalDialogMode||(DealProposalDialogMode={}));var DealProposal=function(){function DealProposal(){}return DealProposal.nextStartOfMonthDate=function(date){var addMonths=new Date(date).addMonths(1);return addMonths.setDate(1),addMonths},DealProposal}(),DealScheduledPriceViewModel=function(){function DealScheduledPriceViewModel(params){function startOfMonthDate(date){var addMonths=new Date(date);return addMonths.setDate(1),addMonths}var _self=this;params=$.extend({model:null,parent:null},params);ko.mapping.fromJS(params.model,{StartDate:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(options.data&&new Date(options.data))}}},this);this.currentIndex=ko.computed(function(){var scheduledPrices=params.parent&&params.parent.ScheduledPrices&&params.parent.ScheduledPrices()||[];return scheduledPrices.indexOf(_self)});this.endDate=ko.computed(function(){var scheduledPrices=params.parent&&params.parent.ScheduledPrices&&params.parent.ScheduledPrices()||[],length=scheduledPrices.length,index=scheduledPrices.indexOf(_self),endDate=params.parent.EndDate(),followingStartDate;return index==-1?null:index<length-1?(followingStartDate=scheduledPrices[index+1].StartDate(),followingStartDate!=null?new Date(followingStartDate).addDays(-1):null):endDate!=null?new Date(endDate):null});this.StartDate.extend({required:{message:"Start date is required"},validation:{validator:function(val){var endDate=_self.endDate();return endDate==null||val<endDate},message:"Start date invalid"}});this.Price.extend({nullableDecimal:{message:"Price should be numeric"},min:{params:0,message:"Price should have not negative value"},max:{params:1e7,message:"Price is too big"},required:{message:"Price is required"}});this.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:ko.computed(function(){var scheduledPrices=params.parent&&params.parent.ScheduledPrices&&params.parent.ScheduledPrices(),index=scheduledPrices.indexOf(_self),startDate=params.parent.StartDate(),precedentStartDate;return index==-1?null:index==0?new Date(startDate):(precedentStartDate=scheduledPrices[index-1].StartDate(),DealProposal.nextStartOfMonthDate(precedentStartDate))}),maxDate:ko.computed(function(){var scheduledPrices=params.parent&&params.parent.ScheduledPrices&&params.parent.ScheduledPrices()||[],length=scheduledPrices.length,index=scheduledPrices.indexOf(_self),endDate,followingStartDate;return index==-1?null:(endDate=params.parent.EndDate(),index==length-1?endDate!=null?startOfMonthDate(endDate):null:(followingStartDate=scheduledPrices[index+1].StartDate(),followingStartDate!=null?startOfMonthDate(followingStartDate):null))}),beforeShowDay:function(date){return date.getDate()==1?[!0,""]:[!1,""]}};this.endDateText=ko.computed(function(){var endDate=_self.endDate();return endDate!=null?endDate.format("MM/dd/yyyy"):null});this.remove=function(){params.parent.ScheduledPrices.remove(_self)};this.validationModel=ko.validatedObservable([this.StartDate,this.Price]);this.validate=function(){var isValid=_self.validationModel.isValid();return isValid||_self.validationModel.errors.showAllMessages(),isValid};this.removeVisible=ko.computed(function(){var scheduledPrices=params.parent&&params.parent.ScheduledPrices&&params.parent.ScheduledPrices()||[],index=scheduledPrices.indexOf(_self);return index>0});this.startDateText=ko.computed(function(){var startDate=_self.StartDate();return startDate&&startDate.format("MM/dd/yyyy")})}return DealScheduledPriceViewModel}(),DealProposalDialogViewModel=function(){function DealProposalDialogViewModel(params){var _self=this,monthDuration,i,lastDateOfMonth,lastDayOfMonth,initialStep,setTitleForStep,proposalListingWorkspace;for(params=$.extend({model:null,workspaceId:null,workflowId:null,savedSearchId:null,memberId:null,onSaved:function(){},$dialog:null,loading:ko.observable(!1)},params),ko.mapping.fromJS(params.model,{copy:["VenueId","VenueNowDateLocal"],ignore:["FirstMonthRent"],StartDate:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(new Date(options.data))}},EndDate:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(options.data&&new Date(options.data))}},ScheduledPrices:{create:function(options){return new DealScheduledPriceViewModel({model:options.data,parent:_self})}}},this),this.StartDate.extend({required:{message:"Start date is required"}}),this.Deposit.extend({nullableDecimal:{message:"Deposit should be numeric"},min:{params:0,message:"Deposit should have not negative value"},max:{params:1e7,message:"Deposit is too big"},required:{message:"Deposit is required"}}),this.SetupFee.extend({nullableDecimal:{message:"Setup fee should be numeric"},min:{params:0,message:"Setup fee should have not negative value"},max:{params:1e7,message:"Setup fee is too big"},required:{message:"Setup fee is required"}}),this.termsValidationModel=ko.validatedObservable([this.Deposit]),this.validateTerms=function(){var isValid=_self.termsValidationModel.isValid()&&(_self.isOneMonthTerm()||_self.ScheduledPrices().map(function(price){return price.validate()}).reduce(function(acc,current){return acc&&current},!0));return isValid||_self.termsValidationModel.errors.showAllMessages(),isValid},this.ProposalId()||(this.MemberId(params.memberId),this.SavedSearchId(params.savedSearchId),this.WorkspaceId(params.workspaceId),this.WorkflowId(params.workflowId),this.ProposalType(params.savedSearchId?Enum.ProposalType.Proposal:Enum.ProposalType.DealProposal)),this.firstMonthRent=ko.computed(function(){var scheduledPrices=_self.ScheduledPrices(),price,startDate,startOfMonth,daysInMonth;return scheduledPrices!=null&&scheduledPrices.length>0?(price=scheduledPrices[0].Price(),startDate=_self.StartDate(),startDate.getDate()==1?price:(startOfMonth=new Date(startDate),startOfMonth.setDate(1),daysInMonth=new Date(startDate.getFullYear(),startDate.getMonth()+1,0).getDate(),+(price*(daysInMonth-startDate.getDate()+1)/daysInMonth).toFixed(2))):null}),this.isListingEditMode=ko.observable(!1),this.durations=[],monthDuration=parseInt(Enum.WorkspacePriceDuration.Month),i=1;i<=36;i++)this.durations.push({text:i+" month"+(i>1?"s":""),value:monthDuration*i});this.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:Date.fromISO(params.model.VenueNowDateLocal)};lastDateOfMonth=function(date){var year=date.getFullYear(),month=date.getMonth();return new Date(year,month+1,1).addDays(-1)};lastDayOfMonth=function(date){return lastDateOfMonth(date).getDate()};this.endDateDatepickerOptions={useDateObjectForObservable:!0,minDate:ko.computed(function(){var startDate=new Date(_self.StartDate()),minimumTerm=_self.MinimumTerm(),minimumTermMonths=minimumTerm/monthDuration;return startDate.getDate()==1?lastDateOfMonth(startDate.addMonths(minimumTermMonths-1)):lastDateOfMonth(startDate.addMonths(minimumTermMonths))}),beforeShowDay:function(date){return date.getDate()==lastDayOfMonth(date)?[!0,""]:[!1,""]}};this.dealProposalSavedSearchViewModel=ko.onDemandObservable(function(){$.ajax({url:"/Proposal/SavedSearchModel",data:{savedSearchId:params.savedSearchId,savedSearchMemberId:_self.MemberId(),currentVenueId:_self.VenueId},success:function(data){_self.dealProposalSavedSearchViewModel(new DealProposalSavedSearchViewModel({model:data}));_self.MemberId(data.MemberId)}})});this.workspaces=ko.observableArray([]);this.workspacesLoaded=ko.observable(!1);$.ajax({url:"/Proposal/DealProposalDialogWorkspaces",data:{venueId:_self.VenueId},success:function(data){_self.workspaces(data.map(function(w){return ko.mapping.fromJS(w)}));_self.workspacesLoaded(!0)}});this.proposalMemberViewModel=ko.onDemandObservable(function(){$.ajax({url:"/Proposal/DealProposalDialogMemberModel",data:{venueId:_self.VenueId},success:function(data){_self.proposalMemberViewModel(new ProposalMemberViewModel({model:data}))}})});initialStep="workspace-select";initialStep=this.ProposalType()==Enum.ProposalType.Proposal?"saved-search-details":this.MemberId()?"workspace-select":"member-select";this.currentStep=ko.observable(initialStep);setTitleForStep=function(){var currentStep=_self.currentStep(),dialogTitle="Create Proposal";switch(currentStep){case"saved-search-details":dialogTitle="Lead Details";break;case"member-select":case"workspace-select":case"terms-select":case"summary":default:dialogTitle=_self.ProposalId()!=null?"Update Proposal":"Create Proposal";break}params.$dialog.dialog("option","title",dialogTitle)};this.currentStep.subscribe(setTitleForStep);setTitleForStep();this.goToNextStep=function(){var currentStep=_self.currentStep(),data,dealScheduledPriceViewModel;switch(currentStep){case"saved-search-details":_self.currentStep("workspace-select");break;case"member-select":_self.proposalMemberViewModel()&&_self.proposalMemberViewModel().validate()&&(params.loading(!0),data=ko.mapping.toJS(_self.proposalMemberViewModel),$.ajax({url:"/Proposal/SaveDealTarget",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){response&&response.success?(params.savedSearchId=response.savedSearch.Id,_self.MemberId(response.member.Id),_self.currentStep("workspace-select")):LSHelper.Dialog.alertDialog(response.message)},complete:function(){params.loading(!1)}}));break;case"workspace-select":case"workspace-create":_self.currentStep("terms-select");_self.ScheduledPrices().length==0&&(dealScheduledPriceViewModel=new DealScheduledPriceViewModel({model:{StartDate:new Date(_self.StartDate()),Price:_self.selectedWorkspace().MonthlyPrice()},parent:_self}),_self.ScheduledPrices.push(dealScheduledPriceViewModel));break;case"terms-select":_self.validateTerms()&&_self.currentStep("summary");break;case"summary":break}};this.goToPreviousStep=function(){var currentStep=_self.currentStep();switch(currentStep){case"member-select":break;case"workspace-select":params.savedSearchId?_self.currentStep("saved-search-details"):_self.MemberId()||_self.currentStep("member-select");break;case"terms-select":_self.currentStep("workspace-select");_self.Deposit(null);_self.SetupFee(null);_self.ScheduledPrices([]);break;case"summary":_self.currentStep("terms-select");break}};this.addListingVisible=ko.computed(function(){return!_self.IsCalendarAdmin()});this.editListingVisible=ko.computed(function(){return!_self.IsCalendarAdmin()});this.goToAddListing=function(){_self.isListingEditMode(!1);_self.WorkspaceId(null);params.loading(!0);_self.currentStep("workspace-create")};this.editListing=function(){_self.isListingEditMode(!0);params.loading(!0);_self.currentStep("workspace-create")};this.stepVisible=function(stepName){return stepName==_self.currentStep()};this.selectedWorkspace=ko.computed(function(){return _self.workspacesLoaded()&&_self.workspaces().find(function(w){return w.WorkspaceId()==_self.WorkspaceId()})});this.isWorkspaceSelected=function(workspace){return _self.WorkspaceId()==workspace.WorkspaceId()};this.selectWorkspace=function(workspace){if(_self.WorkspaceId(workspace.WorkspaceId()),!_self.Deposit()){var depositMode=workspace.DepositMode();_self.Deposit(workspace.MonthlyPrice()*(depositMode==null?1:depositMode))}_self.SetupFee()||_self.SetupFee(workspace.SetupFee());_self.cancellationPolicy(workspace.CancellationPolicy());_self.goToNextStep()};proposalListingWorkspace=null;this.onListingDialogCreated=function(listingDialogViewModel){proposalListingWorkspace=listingDialogViewModel;params.loading(!1)};this.getWorkspace=function(workspaceId){for(var workspace,workspaces=_self.workspaces(),result=null,i=0;i<workspaces.length;i++)if(workspace=workspaces[i],workspace.WorkspaceId()==workspaceId){result=workspace;break}return result};this.saveListing=function(){proposalListingWorkspace.list(function(workspace){var observableWorkspace=ko.mapping.fromJS(workspace),existingWorkspace=_self.getWorkspace(observableWorkspace.WorkspaceId());existingWorkspace?_self.workspaces.replace(existingWorkspace,observableWorkspace):_self.workspaces.unshift(observableWorkspace);_self.selectWorkspace(observableWorkspace)},function(value){params.loading(value)})};this.goBackFromCreateListing=function(){_self.isListingEditMode()?_self.currentStep("summary"):_self.currentStep("workspace-select")};this.sendProposalText=ko.computed(function(){return _self.ProposalId()?"Save Proposal":"Send Proposal"});this.sendProposal=function(){var selectedWorkspace=_self.selectedWorkspace(),data;selectedWorkspace&&(params.loading(!0),data=ko.mapping.toJS(_self,{ignore:["Workspaces","VenueNowDateLocal"]}),data.StartDate=data.StartDate.toServerString(),data.EndDate&&(data.EndDate=data.EndDate.toServerString()),data.ScheduledPrices.forEach(function(price){price.StartDate=price.StartDate.toServerString()}),$.ajax({url:"/Proposal/DealProposal",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){response&&response.success?(params.$dialog.dialog("close"),_self.ProposalId()||(LSHelper.Dialog.alertDialog("Thanks! Your proposal has been sent with a link to complete the booking online.","Proposal Sent!"),$(document).trigger("proposalCreated",response.proposal)),$.isFunction(params.onSaved)&&params.onSaved()):LSHelper.Dialog.alertDialog(response.message)},complete:function(){params.loading(!1)}}))};this.closeDialog=function(){params.$dialog.dialog("close")};this.addNewScheduledPrice=function(){return _self.ScheduledPrices.push(new DealScheduledPriceViewModel({model:{StartDate:null,Price:null},parent:_self}))};this.cancellationPolicy=ko.observable(Enum.CancellationPolicy.FlexibleCancellation);this.cancellationPolicyText=ko.computed(function(){return Enum.CancellationPolicy.describe(_self.cancellationPolicy())});this.StartDate.subscribe(function(){var scheduledPrices=_self.ScheduledPrices();scheduledPrices&&scheduledPrices.length&&scheduledPrices[0].StartDate(new Date(_self.StartDate()))});this.isOneMonthTerm=ko.computed(function(){var startDate=_self.StartDate(),endDate=_self.EndDate();return endDate!=null&&startDate.getFullYear()==endDate.getFullYear()&&startDate.getMonth()==endDate.getMonth()});this.firstMonthRentText=ko.computed(function(){return _self.isOneMonthTerm()?"Month Rent":"First Month Rent"})}return DealProposalDialogViewModel}(),DealProposalDialogViewModelLoader=function(){function DealProposalDialogViewModelLoader(params){var _self=this,setLoading;params=$.extend({proposalId:null,venueId:null,workspaceId:null,workflowId:null,savedSearchId:null,memberId:null,onSaved:function(){}},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.observable(null);$.ajax({url:"/Proposal/DealProposalDialogModel",data:{venueId:params.venueId,proposalId:params.proposalId},success:function(data){_self.loading(!1);_self.viewModel(new DealProposalDialogViewModel({model:data,workspaceId:params.workspaceId,workflowId:params.workflowId,savedSearchId:params.savedSearchId,memberId:params.memberId,onSaved:params.onSaved,$dialog:params.$dialog,loading:_self.loading}))}})}return DealProposalDialogViewModelLoader}();ko.components.register("deal-proposal-dialog",{viewModel:DealProposalDialogViewModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/deal-proposal-dialog/template.html?v=7666059224121440861",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/deal-proposal-dialog/styles.css?v=17309026398118153410"}});BookOrganizerDetailsViewModel=function(params){var _self=this,i,codes,j;params=$.extend({model:null,loading:ko.observable(!1),params:null},params);ko.mapping.fromJS(params.model,{copy:["StateCodes","CountryCodes"]},this);this.FullName.extend({fullName:{message:"Full name is required"},pattern:{message:"Name should contain characters",params:"^.*[a-zA-Z]+.*"}});this.Phone.extend({required:{message:"Phone is required"},phonenumber:{}});this.Company.extend({required:{message:"Company is required"}});this.Address.extend({required:{message:"Address is required"}});this.City.extend({required:{message:"City is required"}});this.State.extend({required:{message:"State is required"}});this.PostalCode.extend({required:{message:"ZIP is required"}});this.Country.extend({required:{message:"Country is required"}});this.validationModel=ko.validatedObservable([this.FullName,this.Phone,this.Company,this.Address,this.City,this.State,this.PostalCode,this.Country,]);this.showValidationMessages=ko.observable(!1);this.validate=function(){_self.showValidationMessages(!0);var isValid=_self.validationModel.isValid();return isValid||_self.validationModel.errors.showAllMessages(),isValid};this.states=[];for(i in this.StateCodes){codes=[];for(j in this.StateCodes[i])codes.push({Name:this.StateCodes[i][j],Value:this.StateCodes[i][j]});this.states[i]=codes}this.getStateOptions=function(country){return _self.states[country]||(LiquidSpace.CountryStates.getStatesForCountry(country)||["N/A"]).map(function(s){return{Name:s,Value:s}})};this.countryCodes=this.CountryCodes.map(function(x){return{text:x.Value,value:x.Key}})};BookPriceDetailDisplayModel=function(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{},this)};BookDialogViewModel=function(params){var _self=this,setDialogClasses;params=$.extend({model:null,priceDetailDisplayModel:null,$dialog:null,loading:ko.observable(!1)},params);this.priceDetailDisplayModel=new BookPriceDetailDisplayModel({model:params.priceDetailDisplayModel});ko.mapping.fromJS(params.model,{copy:["ProposalId","ShowGetAppSection"],StartDate:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(new Date(options.data))}},EndDate:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(options.data?new Date(options.data):null)}},OrganizerDetailsModel:{create:function(options){return new BookOrganizerDetailsViewModel({model:options.data})}},PaymentProviderSwitcherModel:{create:function(options){return new BookPaymentProviderSwitcherModel({model:options.data})}}},this);this.validateStep1=function(){_self.OrganizerDetailsModel.showValidationMessages(!0);return _self.OrganizerDetailsModel.validate()};this.currentStep=ko.observable(1);setDialogClasses=function(){var classes=params.$dialog.dialog("option","classes.ui-dialog"),classesFiltered=classes.split(" ").filter(function(c){return!c.startsWith("bd-dialog-step-")});classesFiltered.push("bd-dialog-step-"+_self.currentStep());params.$dialog.dialog("option","classes.ui-dialog",classesFiltered.join(" "))};this.currentStep.subscribe(setDialogClasses);setDialogClasses();this.stepVisible=function(stepId){return stepId==_self.currentStep()};this.startDateString=ko.computed(function(){return _self.StartDate().format("ddd, MMM d, yyyy")});this.isAutoRenewed=ko.computed(function(){return!_self.EndDate()});this.termString=ko.computed(function(){if(_self.EndDate())return _self.EndDate().format("M/d/yyyy");else{var minimumTermMonths=_self.MinimumTerm()/parseInt(Enum.WorkspacePriceDuration.Month);return minimumTermMonths+(minimumTermMonths>1?" months":" month")}});this.timeText=ko.computed(function(){var result="",minimumTermMonths=_self.MinimumTerm()/parseInt(Enum.WorkspacePriceDuration.Month);return minimumTermMonths>1&&(result+="The minimum lease term of this office space is "+minimumTermMonths+(minimumTermMonths>1?" months. ":"month. ")),result+="You are booking this space beginning on "+_self.StartDate().format("M/d/yyyy"),result+=_self.EndDate()?" and ending on "+_self.EndDate().format("M/d/yyyy")+". ":". ",result+(_self.isAutoRenewed()?"Your space will auto-renew each month once your term ends.":"Your space will NOT auto-renew each month once your term ends.")});this.infoDateText=ko.computed(function(){var result=_self.StartDate().format("MMM d, yyyy"),minimumTermMonths;return _self.EndDate()?result+=" till "+_self.EndDate().format("MMM d, yyyy")+". ":(minimumTermMonths=_self.MinimumTerm()/parseInt(Enum.WorkspacePriceDuration.Month),result+=" for "+(minimumTermMonths+(minimumTermMonths>1?" months ":"month "))+" (then auto-renewal)"),result});this.cancel=function(){params.$dialog.dialog("close")};this.goToStep2=function(){var isValid=_self.validateStep1();isValid&&_self.currentStep(2)};this.goBackToStep1=function(){_self.currentStep(1)};this.submitStatus=ko.observable("");this.isSubmitStatus=function(status){return _self.submitStatus()==status};this.submitButtonDisabled=ko.computed(function(){var loading=params.loading(),isStep1Valid=_self.OrganizerDetailsModel.validationModel.isValid(),submitting=_self.submitStatus()=="submitting";return loading||!isStep1Valid||submitting});this.submit=function(){var data=ko.mapping.toJS(_self,{});_self.currentStep(3);_self.submitStatus("submitting");$.ajax({url:"/Proposal/Book",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(data){data.success?(_self.submitStatus("submitted"),_self.reservationConfirmationPageUrl("/reservations/"+data.reservationId)):(_self.currentStep(2),_self.submitStatus(""),LSHelper.UI.showError({title:"Failed to create reservation",content:data.errorMessage}))},error:function(){_self.currentStep(2);_self.submitStatus("")}})};this.getMobileAppViewModel=new LiquidSpace.View.GetMobileApp({placeholder:"Enter your phone #"});this.confirmedReservationTime=ko.computed(function(){return _self.StartDate().format("ddd, MMM d")});this.reservationConfirmationPageUrl=ko.observable()};BookDialogViewModelLoader=function(params){var _self=this,setLoading;params=$.extend({proposalId:null},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/Proposal/BookDialogModel",data:{proposalId:params.proposalId},success:function(data){_self.viewModel(new BookDialogViewModel({model:data.bookDialogModel,priceDetailDisplayModel:data.priceDetailDisplayModel,$dialog:params.$dialog,loading:_self.loading}));_self.loading(!1)}})})};ko.components.register("book-dialog",{viewModel:BookDialogViewModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/book-dialog/template.html?v=17855291800312800997",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/book-dialog/styles.css?v=4952529556796846749"}});BookPaymentProviderSwitcherModel=function(params){var _self=this,linkHandler;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{},this);this.showSwitcher=_self.ShowBankPaymentMethod||_self.ShowWireTransferPaymentMethod;this.selectPaymentProvider=function(paymentProvider){_self.PaymentProvider(paymentProvider)};this.paymentProviderVisible=function(paymentProvider){return _self.PaymentProvider()==paymentProvider};this.creditCardTemplateName=ko.computed(function(){var isCentralizedBilled=_self.IsCentralizedBilled(),isCurrentCreditCardProfileExists=_self.IsCurrentCreditCardProfileExists(),isCurrentBankProfileProfileExists=_self.IsCurrentBankProfileProfileExists(),isCreditCardEntryDisabledForMember=_self.IsCreditCardEntryDisabledForMember(),paymentProvider=_self.PaymentProvider();if(isCentralizedBilled)return"bookPaymentSwitcherCentralizedBilling";else if(isCreditCardEntryDisabledForMember)return"bookPaymentSwitcherCreditCardEntryDisabledForMember";else{switch(paymentProvider.toString()){case Enum.PaymentProviderType.BrainTree:return"bookPaymentSwitcherBrainTree";case Enum.PaymentProviderType.Stripe:return"bookPaymentSwitcherStripe";case Enum.PaymentProviderType.StripeWireTransfer:return"bookPaymentSwitcherStripeWireTransfer"}return null}});linkHandler=_self.ShowBankPaymentMethod()?initPlaid({urlParams:{memberId:_self.MemberId()},onSuccess:function(last4){_self.IsCurrentBankProfileProfileExists(!0);_self.MaskedBankAccount("*"+last4)}}):null;this.linkBankAccount=function(){try{linkHandler.open();document.body.style.overflow=null}catch(ex){console.log(ex)}return!1};this.centralizedBillingText=ko.computed(function(){var centralizedBillingName=_self.CentralizedBillingName(),paymentProvider=_self.PaymentProvider();switch(paymentProvider.toString()){case Enum.PaymentProviderType.BrainTree:return"Paid for by "+centralizedBillingName+" credit card";case Enum.PaymentProviderType.Stripe:case Enum.PaymentProviderType.StripeWireTransfer:return"Paid for by "+centralizedBillingName+" bank account"}});this.creditCardProfileEditParams={potentialFullName:this.GuestFullName};this.createCreditCardProfile=function(){CreditCardProfileEditViewModel.showDialog({onSuccess:function(last4){_self.IsCurrentCreditCardProfileExists(!0);_self.MaskedCreditCard("*"+last4)}})}};ko.components.register("payment-switcher",{template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/payment-switcher/template.html?v=327807938750050436",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/payment-switcher/styles.css?v=12934789335238450953"}});ko.components.register("request-template",{template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/request-template/template.html?v=9108409129782007464"}});AltSpaceLeadCaptureViewModel=function(params){params=$.extend({data:null,onSubmitCallback:function(response){},loading:ko.observable(!1)},params);var _self=this;ko.mapping.fromJS(params.data,{},_self);this.userIsAuthenticated=ko.observable(User.id&&User.id!=Guid.Empty);this.Email.extend({required:{message:"Email is required"},email:{message:"Email is not valid"}});this.FullName.extend({fullName:{message:"Full name is required"},pattern:{message:"Name should contain characters",params:"^.*[a-zA-Z]+.*"}});this.PhoneNumber.extend({required:{message:"Phone is required"},phonenumber:{callback:function(result,val){result&&val!=_self.PhoneNumber()&&_self.PhoneNumber(val)}}});this.Address.extend({required:{message:"Address is required"}});this.validationErrors=ko.validation.group(_self);this.changeCapacity=function(increment){var currentValue=parseInt(_self.Capacity())||0,newValue=currentValue+increment;newValue>=1&&newValue<1e3&&_self.Capacity(newValue)};this.submit=function(){if(_self.validationErrors().length)_self.validationErrors.showAllMessages();else{params.loading(!0);var data=ko.mapping.toJS(_self,{});$.ajax({url:"/AltSpace/LeadCapture",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){if(response.success)params.onSubmitCallback(response);else LSHelper.Dialog.alertDialog(response.message)},error:function(){LSHelper.Dialog.alertDialog("Unexpected Error. Try again later.")},complete:function(){params.loading(!1)}})}}};AltSpaceLeadAdditionalInfoViewModel=function(params){params=$.extend({data:null,onSubmitCallback:function(response){},loading:ko.observable(!1)},params);var _self=this;ko.mapping.fromJS(params.data,{SearchKey:{create:function(options){return ko.observable(options.data)}},MoveInDate:{create:function(options){return ko.observable(options.data?new Date(options.data):null)}}},_self);this.durations=[{value:0,text:"Not Sure"},{value:Enum.WorkspacePriceDuration.Month,text:"1 month or more"},{value:Enum.WorkspacePriceDuration.ThreeMonth,text:"3 months or more"},{value:Enum.WorkspacePriceDuration.SixMonth,text:"6 months or more"},{value:Enum.WorkspacePriceDuration.Year,text:"1 year or more"},];this.datepickerOptions={useDateObjectForObservable:!0,dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"M d, yy",minDate:new Date};this.toggleOptionValue=function(obs,expectedValue){_self.isOptionSelected(obs,expectedValue)?obs(null):obs(expectedValue)};this.isOptionSelected=function(obs,expectedValue){return obs()===expectedValue};this.submit=function(){params.loading(!0);var data=ko.mapping.toJS(_self,{});_self.MoveInDate()&&(data.MoveInDate=_self.MoveInDate().toServerString());$.ajax({url:"/AltSpace/LeadAdditionalInfo",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){if(response.success)params.onSubmitCallback(response);else LSHelper.Dialog.alertDialog(response.message)},error:function(){LSHelper.Dialog.alertDialog("Unexpected Error. Try again later.")},complete:function(){params.loading(!1)}})}};AltSpaceLeadDialogModel=function(params){var _self=this;params=$.extend({model:null,$dialog:null,loading:ko.observable(!1)},params);this.onLeadCaptured=function(response){_self.currentStep(2);_self.LeadAdditionalInfo.SearchKey(response.searchKey)};this.onLeadAdditionalInfoSubmitted=function(response){_self.currentStep(3);_self.suggestedWorkspaces(response.suggestedWorkspaces)};ko.mapping.fromJS(params.model,{LeadCapture:{create:function(options){return new AltSpaceLeadCaptureViewModel({data:options.data,onSubmitCallback:_self.onLeadCaptured,loading:params.loading})}},LeadAdditionalInfo:{create:function(options){return new AltSpaceLeadAdditionalInfoViewModel({data:options.data,onSubmitCallback:_self.onLeadAdditionalInfoSubmitted,loading:params.loading})}}},this);this.suggestedWorkspaces=ko.observableArray([]);this.currentStep=ko.observable(1);this.stepCss=ko.computed(function(){var result={"ald-inner-content":!0};return result["ald-inner-content-step-"+_self.currentStep()]=!0,result})};AltSpaceLeadDialogViewModelLoader=function(params){var _self=this,setLoading;params=$.extend({email:null},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.observable(null);$.ajax({url:"/AltSpace/LeadDialogModel",data:{email:params.email},success:function(data){_self.viewModel(new AltSpaceLeadDialogModel({model:data.model,$dialog:params.$dialog,loading:_self.loading}));_self.loading(!1)}})};ko.components.register("altspace-lead-dialog",{viewModel:AltSpaceLeadDialogViewModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/altspace-lead-dialog/template.html?v=4558323403893277056",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/altspace-lead-dialog/styles.css?v=7558424842750283591"}});LicensePreviewDialog=function(){function LicensePreviewDialog(params){var _self=this;params=$.extend({model:null,onSigningComplete:null,close:function(){}},params);ko.mapping.fromJS(params.model,{copy:["ValidationResult"]},this);this.close=function(){$.isFunction(params.close)&&params.close()};this.iframeSrc=ko.observable(_self.EnableElectronicSignatures()?_self.EmbeddedSigningUrl()||_self.PreviewUrl():_self.PreviewUrl());this.sign=function(){LSHelper.HelperLib.blockUI();$.ajax({url:_self.InitiateSigningUrl(),type:"POST",success:function(data){_self.iframeSrc(data.EmbeddedSigningUrl);_self.signAgreementVisible(!1)},complete:function(){LSHelper.HelperLib.unblockUI()}})};this.signAgreementVisible=ko.observable(!_self.EmbeddedSigningUrl());this.signed=ko.observable(!1);document.docusignCallback=function(callbackModel){_self.signed(!0);$("#previewLicenseDialog").dialog("option","title"," ");_self.close();callbackModel.Event=="signing_complete"&&params.onSigningComplete()}}return LicensePreviewDialog}();LicensePreviewDialogLoader=function(){function LicensePreviewDialogLoader(params){var _self=this,escapeKeyHandler;params=$.extend({proposalId:null,onSigningComplete:null},params);escapeKeyHandler=function(event){event.which==27&&_self.close()};$(document).on("keydown",escapeKeyHandler);this.close=function(){$("body").css("overflow","visible");$("#previewLicensePopup").remove();$(document).off("keydown",escapeKeyHandler)};this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/license/PreviewDialogModel?proposalId="+params.proposalId,success:function(data){_self.viewModel(new LicensePreviewDialog({model:data,onSigningComplete:params.onSigningComplete,close:_self.close}))},error:function(){_self.close()}})})}return LicensePreviewDialogLoader}();ko.components.register("preview-license-popup",{viewModel:LicensePreviewDialogLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/preview-license-popup/template.html?v=3993953972973255190",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/preview-license-popup/styles.css?v=10972672724023714518"}});NewMessageToastViewModel=function(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{},this);this.senderPictureBackgroundImage=ko.computed(function(){return"url("+_self.SenderPicture()+")"});this.senderFirstLetter=ko.computed(function(){return _self.SenderFullName()[0]})};NewMessageToastLoader=function(params){var _self=this;params=$.extend({},params);this.viewModel=ko.observable(new NewMessageToastViewModel({model:params}))};ko.components.register("new-message-toast",{viewModel:NewMessageToastLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/new-message-toast/template.html?v=4108023603391408575",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/new-message-toast/styles.css?v=8547964407772679651"}});ProposalDiffEntryViewModel=function(params){var _self=this,dateMappingConfig;params=$.extend({model:null},params);dateMappingConfig={create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(options.data&&new Date(options.data))},update:function(options){return options=$.extend({data:null,observable:function(){},parent:null},options),options.data&&new Date(options.data)}};ko.mapping.fromJS(params.model,{StartDate:dateMappingConfig,EndDate:dateMappingConfig,Modified:dateMappingConfig},this);this.startDateText=ko.computed(function(){return _self.StartDate()&&_self.StartDate().format("M/d/yyyy")});this.endDateText=ko.computed(function(){return _self.EndDate()&&_self.EndDate().format("M/d/yyyy")});this.workspaceFloorSpaceText=ko.computed(function(){var isDeskWorkspace=_self.IsDeskWorkspace(),workspaceFloorSpace=_self.WorkspaceFloorSpace();return isDeskWorkspace?null:workspaceFloorSpace+" SqFt"});this.workspaceCancellationPolicyText=ko.computed(function(){return Enum.CancellationPolicy.describe(_self.WorkspaceCancellationPolicy())})};ProposalDiffViewModel=function(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{Requested:{create:function(options){return options.data&&new ProposalDiffEntryViewModel({model:options.data})}},Previous:{create:function(options){return options.data&&new ProposalDiffEntryViewModel({model:options.data})}}},this);this.textDiff=function(propertyName){var requestedProperty=ko.unwrap(_self.Requested[propertyName]),previousProperty=ko.unwrap(_self.Previous[propertyName]);return requestedProperty!=previousProperty?(previousProperty?'<span class="prhp-text prhp-text--previous">'+previousProperty+"<\/span> ":"")+'<span class="prhp-text prhp-text--requested">'+requestedProperty+"<\/span>":requestedProperty};this.endDateTextVisible=ko.computed(function(){var previousEndDateText=_self.Previous.endDateText(),requestedEndDateText=_self.Requested.endDateText();return!!previousEndDateText||!!requestedEndDateText});this.scheduledPricesVisible=ko.computed(function(){var previousScheduledPrices=_self.Previous.ScheduledPrices().length,requestedScheduledPrices=_self.Requested.ScheduledPrices().length;return previousScheduledPrices>0||requestedScheduledPrices>0});this.previousScheduledPricesVisible=ko.computed(function(){return ko.toJSON(_self.Previous.ScheduledPrices)!=ko.toJSON(_self.Requested.ScheduledPrices)})};ProposalHistoryLogEntryViewModel=function(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{Date:{create:function(options){return ko.observable(options.data&&new Date(options.data))}}},this);this.authorPictureBackgroundImage=ko.computed(function(){var isSystemEntry=_self.IsSystemEntry();return isSystemEntry?null:"url("+_self.AuthorPicture()+")"});this.authorFirstLetter=ko.computed(function(){return _self.AuthorFullName()[0]});this.authorFirstLetterVisible=ko.computed(function(){var authorPicture=_self.AuthorPicture(),isSystemEntry=_self.IsSystemEntry();return!isSystemEntry&&!authorPicture});this.authorName=ko.computed(function(){var authorFullName=_self.AuthorFullName(),isSystemEntry=_self.IsSystemEntry();return isSystemEntry?"LiquidSpace":authorFullName});this.modifiedDate=ko.computed(function(){return _self.Date()&&_self.Date().format("MMM d, H:mm tt")})};ProposalHistoryViewModel=function(params){var _self=this;params=$.extend({model:null,close:function(){}},params);ko.mapping.fromJS(params.model,{Log:{create:function(options){return new ProposalHistoryLogEntryViewModel({model:options.data})}}},this);this.close=function(){$.isFunction(params.close)&&params.close()};this.diffLoading=ko.observable(!1);this.selectedItem=ko.observable();this.diffModel=ko.observable();this.select=function(item){_self.selectedItem(item);_self.diffLoading(!0);$.ajax({url:"/proposal/diff",data:{proposalId:_self.ProposalId(),entryId:item.EntryId(),modifiedTicks:item.ModifiedTicks()},success:function(data){_self.diffModel(new ProposalDiffViewModel({model:data}))},complete:function(){_self.diffLoading(!1)}})};this.isSelected=function(item){return!!_self.selectedItem()&&_self.selectedItem().EntryId()==item.EntryId()};this.select(this.Log()[0])};ProposalHistoryModelLoader=function(params){var _self=this,escapeKeyHandler;params=$.extend({proposalId:null},params);escapeKeyHandler=function(event){event.which==27&&_self.close()};$(document).on("keydown",escapeKeyHandler);this.close=function(){$("body").css("overflow","visible");$("#proposalHistoryPopup").remove();$(document).off("keydown",escapeKeyHandler)};this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/Proposal/HistoryModel?proposalId="+params.proposalId,success:function(data){_self.viewModel(new ProposalHistoryViewModel({model:data,close:_self.close}))}})})};ko.components.register("proposal-history-popup",{viewModel:ProposalHistoryModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/proposal-history-popup/template.html?v=7109752968659017123",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/proposal-history-popup/styles.css?v=15324156487826348770"}});SpaceExpertBasicInfoViewModel=function(params){params=$.extend({data:null,onSubmitCallback:function(response){},onReservationMethodChanged:function(reservationMethod){},loading:ko.observable(!1)},params);var _self=this;ko.mapping.fromJS(params.data,{SearchKey:{create:function(options){return ko.observable(options.data)}}},_self);this.userIsAuthenticated=ko.observable(User.id&&User.id!=Guid.Empty);this.SourceUrl(window.location.href);this.Email.extend({required:{message:"Email is required"},email:{message:"Email is not valid"}});this.FullName.extend({fullName:{message:"Full name is required"},pattern:{message:"Name should contain characters",params:"^.*[a-zA-Z]+.*"}});this.PhoneNumber.extend({required:{message:"Phone is required"},phonenumber:{callback:function(result,val){result&&val!=_self.PhoneNumber()&&_self.PhoneNumber(val)}}});this.Address.extend({required:{message:"Address is required"}});this.ReservationMethod.subscribe(function(newValue){params.onReservationMethodChanged(newValue)});this.validationErrors=ko.validation.group(_self);this.submit=function(){if(_self.validationErrors().length)_self.validationErrors.showAllMessages();else{params.loading(!0);var data=ko.mapping.toJS(_self,{});$.ajax({url:"/SpaceExpert/SubmitBasicInfo",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){if(response.success)params.onSubmitCallback(response);else LSHelper.Dialog.alertDialog(response.message)},error:function(){LSHelper.Dialog.alertDialog("Unexpected Error. Try again later.")},complete:function(){params.loading(!1)}})}}};SpaceExpertAdditionalInfoViewModel=function(params){params=$.extend({data:null,isMonthly:!1,onBeforeSubmit:function(){},onSubmitCallback:function(response){},loading:ko.observable(!1)},params);var _self=this;ko.mapping.fromJS(params.data,{SearchKey:{create:function(options){return ko.observable(options.data)}},MoveInDate:{create:function(options){return ko.observable(options.data?new Date(options.data):null)}}},_self);this.isMonthly=ko.observable(params.isMonthly);this.isMonthly.subscribe(function(newValue){newValue==!0&&_self.Capacity()<=1?_self.Capacity(10):newValue==!1&&_self.Capacity()==10&&_self.Capacity(1)});this.changeCapacity=function(increment){var currentValue=parseInt(_self.Capacity())||0,newValue=currentValue+increment;newValue>=1&&newValue<1e3&&_self.Capacity(newValue)};this.durations=[{value:0,text:"Not Sure"},{value:Enum.WorkspacePriceDuration.Month,text:"1 month or more"},{value:Enum.WorkspacePriceDuration.ThreeMonth,text:"3 months or more"},{value:Enum.WorkspacePriceDuration.SixMonth,text:"6 months or more"},{value:Enum.WorkspacePriceDuration.Year,text:"1 year or more"},];this.datepickerOptions={useDateObjectForObservable:!0,dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"M d, yy",minDate:new Date};this.setSpaceType=function(spaceType){var intValue=parseInt(spaceType),result;if(intValue===0){_self.SpaceTypes()===0?_self.SpaceTypes(null):_self.SpaceTypes(0);return}result=intValue^_self.SpaceTypes();result==0&&(result=null);_self.SpaceTypes(result)};this.isSpaceTypeSelected=function(spaceType){var intValue=parseInt(spaceType);return intValue===0?_self.SpaceTypes()===0:_self.SpaceTypes()&intValue};this.SpaceTypes.extend({required:{message:"Space Type is required",params:!0}});this.validationErrors=ko.validation.group(_self);this.submit=function(){if(params.onBeforeSubmit(),_self.validationErrors().length)_self.validationErrors.showAllMessages();else{params.loading(!0);var data=ko.mapping.toJS(_self,{});_self.MoveInDate()&&(data.MoveInDate=_self.MoveInDate().toServerString());$.ajax({url:"/SpaceExpert/SubmitAdditionalInfo",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){if(response.success)params.onSubmitCallback(response);else LSHelper.Dialog.alertDialog(response.message)},error:function(){LSHelper.Dialog.alertDialog("Unexpected Error. Try again later.")},complete:function(){params.loading(!1)}})}}};SpaceExpertRegistrationViewModel=function(params){params=$.extend({data:null,onSubmitCallback:function(response){},loading:ko.observable(!1)},params);var _self=this;ko.mapping.fromJS(params.data,{},_self);this.matchingWorkspacesCount=ko.observable(0);this.userIsAuthenticated=ko.observable(User.id&&User.id!=Guid.Empty);this.Password.extend({required:{message:"Password is required",params:!0},minLength:{params:6,message:"Enter at least {0} characters"},maxLength:{params:15,message:"Enter no more than {0} characters"}});this.validationErrors=ko.validation.group(_self);this.optIn=function(){params.loading(!0);$.ajax({url:"/SpaceExpert/OptIn",type:"POST",success:function(response){if(response.success)params.onSubmitCallback(response);else LSHelper.Dialog.alertDialog(response.message)},error:function(){LSHelper.Dialog.alertDialog("Unexpected Error. Try again later.")},complete:function(){params.loading(!1)}})};this.submitted=!1;this.completeRegistration=function(){if(!_self.submitted){if(_self.userIsAuthenticated()){LSHelper.Dialog.alertDialog("You are already signed in.");return}if(_self.validationErrors().length)_self.validationErrors.showAllMessages();else{params.loading(!0);var data=ko.mapping.toJS(_self,{});$.ajax({url:"/SpaceExpert/CompleteRegistration",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(response){if(response.success){_self.submitted=!0;params.onSubmitCallback(response)}else LSHelper.Dialog.alertDialog(response.message)},error:function(){LSHelper.Dialog.alertDialog("Unexpected Error. Try again later.")},complete:function(){params.loading(!1)}})}}}};SpaceExpertDialogModel=function(params){var _self=this;params=$.extend({model:null,$dialog:null,loading:ko.observable(!1)},params);this.onBasicInfoSubmitted=function(response){_self.currentStep(2);_self.BasicInfo.SearchKey(response.searchKey);_self.AdditionalInfo.SearchKey(response.searchKey);_self.RegistrationModel.Token(response.token);_self.RegistrationModel.MemberId(response.searchKey.MemberId);_self.trackGAVPV("capacity")};this.onAdditionalInfoBeforeSubmit=function(){_self.trackGAVPV("send-request")};this.onAdditionalInfoSubmitted=function(response){_self.RegistrationModel.matchingWorkspacesCount(response.matchingWorkspacesCount||0);_self.currentStep(3);_self.trackGAVPV("confirmation")};this.onRegistrationSubmitted=function(response){_self.trackGAVPV("join");setTimeout(function(){window.location=_self.RegistrationModel.matchingWorkspacesCount()>0?"/search":"/my/liquidspace"},50)};this.onReservationMethodChanged=function(reservationMethod){_self.AdditionalInfo.isMonthly(reservationMethod==Enum.WorkspaceReservationMethod.Period);_self.AdditionalInfo.SpaceTypes(null);_self.AdditionalInfo.validationErrors.showAllMessages(!1)};params.$dialog&&params.$dialog.dialog({close:function(event,ui){_self.trackGAVPV("dismiss")}});ko.mapping.fromJS(params.model,{BasicInfo:{create:function(options){return new SpaceExpertBasicInfoViewModel({data:options.data,onSubmitCallback:_self.onBasicInfoSubmitted,onReservationMethodChanged:_self.onReservationMethodChanged,loading:params.loading})}},AdditionalInfo:{create:function(options){return new SpaceExpertAdditionalInfoViewModel({data:options.data,isMonthly:params.model.BasicInfo.ReservationMethod==Enum.WorkspaceReservationMethod.Period,onBeforeSubmit:_self.onAdditionalInfoBeforeSubmit,onSubmitCallback:_self.onAdditionalInfoSubmitted,loading:params.loading})}},RegistrationModel:{create:function(options){return new SpaceExpertRegistrationViewModel({data:options.data,onSubmitCallback:_self.onRegistrationSubmitted,loading:params.loading})}}},this);this.currentStep=ko.observable(1);this.stepCss=ko.computed(function(){return"sed-inner-content-step-"+_self.currentStep()});this.backButtonVisible=ko.computed(function(){var currentStep=_self.currentStep();return currentStep>1&&currentStep<3});this.goBack=function(){var currentStep=_self.currentStep();currentStep>1&&_self.currentStep(currentStep-1)};this.trackGAVPV=function(trackPage,attempt){attempt=attempt||0;typeof ga=="function"?trackPage&&ga("send","pageview",{page:"/vpv/space-expert/"+trackPage}):attempt<3&&setTimeout(function(){_self.trackGAVPV(trackPage,++attempt)},700)};_self.trackGAVPV("location")};SpaceExpertDialogViewModelLoader=function(params){var _self=this,setLoading;params=$.extend({email:null,sourceType:null,currentCollectionSavedSearchId:null},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.observable(null);$.ajax({url:"/SpaceExpert/DialogModel",data:{email:params.email,sourceType:params.sourceType,currentCollectionSavedSearchId:params.currentCollectionSavedSearchId},success:function(data){_self.viewModel(new SpaceExpertDialogModel({model:data.model,$dialog:params.$dialog,loading:_self.loading}));_self.loading(!1)}})};ko.components.register("space-expert-dialog",{viewModel:SpaceExpertDialogViewModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/space-expert-dialog/template.html?v=6839682457487501445",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/space-expert-dialog/styles.css?v=17103587958828855186"}});SpaceExpertSuccessAlert=function(params){var _self=this;params=$.extend({model:null},params);ko.mapping.fromJS(params.model,{},this)};SpaceExpertSuccessAlertLoader=function(params){var _self=this;params=$.extend({text:""},params);this.viewModel=ko.observable(new SpaceExpertSuccessAlert({model:params}))};ko.components.register("space-expert-success-alert",{viewModel:SpaceExpertSuccessAlertLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/space-expert-success-alert/template.html?v=1275994991073819570",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/space-expert-success-alert/styles.css?v=10358573426456554897"}});EditVisa=function(params){var _self=this;params=$.extend({model:null,onSuccessCallback:function(updatedVisa){},$dialog:null,loading:ko.observable(!1)},params);ko.mapping.fromJS(params.model,{copy:["DefaultMemberOriginationScenarioList","PaymentMethodsList"]},this);_self.defaultMemberOriginationScenarioExplainer=ko.computed(function(){var currentDefaultMemberOriginationScenario=_self.DefaultMemberOriginationScenario(),result="";switch(currentDefaultMemberOriginationScenario){case Enum.DefaultMemberOriginationScenario.LiquidSpace:result="This is the default visa issued to LiquidSpace originated members who can book hourly or day-pass spaces.";break;case Enum.DefaultMemberOriginationScenario.MonthlyLiquidSpace:result="This is the default visa issued to LiquidSpace originated members who can book monthly, hourly or day-pass spaces.";break;case Enum.DefaultMemberOriginationScenario.Venue:result="This is the default visa issued to Venue originated members who can book hourly or day-pass spaces.";break;case Enum.DefaultMemberOriginationScenario.VenueAdministrator:result="This is the default visa issued to Venue Administrators.";break;case Enum.DefaultMemberOriginationScenario.Portfolio:result="This is the default visa issued to Investors.";break;default:result="This visa will not be granted by default.";break}return result});_self.displayHidePrices=ko.computed(function(){return _self.IsSuperUser()||_self.PaymentMethod()==Enum.PaymentMethod.VenueBilled});_self.Name.extend({required:{message:"Visa name is required"}});_self.validationErros=ko.validation.group(_self);this.submit=function(){_self.validationErros().length?_self.validationErros.showAllMessages():(params.loading(!0),$.ajax({type:"POST",url:"/Visa/Edit",contentType:"application/json",data:JSON.stringify(ko.mapping.toJS(_self)),success:function(response){if(response.success){params.onSuccessCallback(response.visa);_self.close()}else LSHelper.Dialog.alertDialog(response.message)},complete:function(){params.loading(!1)}}))};this.close=function(){params.$dialog.dialog("close")}};EditVisaLoader=function(params){var _self=this,setLoading,url;params=$.extend({venueId:null,id:null,onSuccessCallback:function(updatedVisa){},$dialog:null},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.observable(null);url="/Visa/Edit?id="+params.venueId;params.id&&(url+="&visaId="+params.id);$.ajax({method:"GET",url:url,success:function(data){_self.viewModel(new EditVisa({model:data.model,onSuccessCallback:params.onSuccessCallback,$dialog:params.$dialog,loading:_self.loading}));_self.loading(!1);params.$dialog.dialog("option","position",{my:"center",at:"center",of:window})}})};ko.components.register("edit-visa",{viewModel:EditVisaLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/edit-visa/template.html?v=13298627617245881538",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/edit-visa/styles.css?v=4515907388601606812"}});CreditCardProfileEditViewModel=function(params){var _self=this,braintree,tempDate,i,currentDate,j;for(params=$.extend({model:null,loading:ko.observable(!1),onSuccess:function(last4){},$dialog:null},params),ko.mapping.fromJS(params.model,{ignore:["EncryptionKey"]},this),braintree=Braintree.create(params.model.EncryptionKey),tempDate=new Date,this.months=[],i=0;i<12;i++)tempDate.setMonth(i),this.months.push({text:i+1,value:i+1});for(currentDate=new Date,this.years=[],j=0;j<20;j++)this.years.push(currentDate.getFullYear()+j);var cardNumberModel=ko.computed(function(){var cardNumber=_self.CardNumber();return cardValidator.number(cardNumber)}),suppostedCreditCards=["visa","mastercard","discover","american-express"],strictValidation=ko.observable(!1);this.FullName.extend({fullName:{message:"Full name is required"},pattern:{message:"Name should contain characters",params:"^.*[a-zA-Z]+.*"}});this.CardNumber.extend({validation:{validator:function(){var model=cardNumberModel(),strict=strictValidation();return strict?model&&model.isValid&&suppostedCreditCards.indexOf(model.card.type)!=-1:model&&model.isPotentiallyValid}}});this.ExpirationMonth.extend({validation:{validator:function(){var monthValidation=cardValidator.expirationMonth(_self.ExpirationMonth()),yearValidation=cardValidator.expirationYear(_self.ExpirationYear()),strict=strictValidation();return strict?yearValidation&&yearValidation.isCurrentYear&&monthValidation?monthValidation.isValidForThisYear:monthValidation.isValid:monthValidation.isPotentiallyValid}}});this.ExpirationYear.extend({validation:{validator:function(){var yearValidation=cardValidator.expirationYear(_self.ExpirationYear()),strict=strictValidation();return strict?yearValidation&&yearValidation.isValid:yearValidation&&yearValidation.isPotentiallyValid}}});this.CardCode.extend({validation:{validator:function(){var model=cardNumberModel(),strict=strictValidation(),result=cardValidator.cvv(_self.CardCode(),model&&model.card&&model.card.code.size||4);return strict?result&&result.isValid:result&&result.isPotentiallyValid}}});this.Zip.extend({required:!0});this.validationModel=ko.validatedObservable([this.FullName,this.CardNumber,this.ExpirationMonth,this.ExpirationYear,this.CardCode,this.Zip]);this.showServerErrors=ko.observable(!1);this.serverErrors=ko.observable([]);this.validate=function(){_self.showServerErrors(!1);var isValid=_self.validationModel.isValid();return isValid||_self.validationModel.errors.showAllMessages(),isValid};this.creditCardTypeByNumber=ko.computed(function(){var model=cardNumberModel();return model&&model.card&&model.card.type});this.cardCodeLabel=ko.computed(function(){var model=cardNumberModel();return model&&model.card&&model.card.code.name||"Security code"});this.save=function(){if(strictValidation(!0),_self.validate()){params.loading(!0);var data=ko.mapping.toJS(_self),cardNumber=data.CardNumber;data.CardNumber=braintree.encrypt(cardNumber);data.CardCode=braintree.encrypt(data.CardCode);$.ajax({url:"/member/CreditCardPaymentProfile",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(result){result.success?($.isFunction(params.onSuccess)&&params.onSuccess(cardNumber.substr(cardNumber.length-4)),params.$dialog.dialog("close")):(_self.showServerErrors(!0),_self.serverErrors(res.errors))},complete:function(){params.loading(!1)}})}};this.cancel=function(){params.$dialog.dialog("close")};this.cardIconCss=ko.computed(function(){var css={},currentType;return suppostedCreditCards.forEach(function(i){css[i]=!1}),currentType=_self.creditCardTypeByNumber(),currentType&&suppostedCreditCards.indexOf(currentType)!=-1&&(css[currentType]=!0),css});this.cardNumberMaxLendth=ko.computed(function(){var model=cardNumberModel();return model&&model.card&&model.card.lengths.reduce(function(a,b){return a>b?a:b},0)||19});this.cardCodeMaxLendth=ko.computed(function(){var model=cardNumberModel();return model&&model.card&&model.card.code.size||4})};CreditCardProfileEditViewModelLoader=function(params){var _self=this,setLoading;params=$.extend({onSuccess:function(last4){},$dialog:null},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.onDemandObservable(function(){$.cachedScript("https://js.braintreegateway.com/v1/braintree.js",function(){$.ajax({url:"/member/CreditCardProfileEditModel",data:{},success:function(data){_self.viewModel(new CreditCardProfileEditViewModel({model:data,loading:_self.loading,onSuccess:params.onSuccess,$dialog:params.$dialog}));_self.loading(!1)}})})})};CreditCardProfileEditViewModel.showDialog=function(params){var _self=this,$dialog;params=$.extend({onSuccess:function(){}},params);$dialog=$('<div data-bind="component: { name: \'credit-card-profile-edit-dialog\', params: $data }" class="ccped-content"><\/div>').dialog({width:510,minHeight:371,title:"Create Credit Card Profile",resizable:!1,modal:!0,dialogClass:"credit-card-profile-edit-dialog",close:function(){$(this).dialog("destroy").remove()}});$dialog.parent().lsLoading("set");ko.applyBindings({onSuccess:params.onSuccess,$dialog:$dialog},$dialog[0])};ko.components.register("credit-card-profile-edit-dialog",{viewModel:CreditCardProfileEditViewModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/credit-card-profile-edit-dialog/template.html?v=5041012706427395239",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/credit-card-profile-edit-dialog/styles.css?v=3010808470994092732"}});ChangeSavedSearchStatusDialogViewModel=function(params){var _self=this,_options;params=$.extend({model:null,loading:ko.observable(!1),onSuccess:function(){},$dialog:null},params);ko.mapping.fromJS(params.model,{copy:["Id","MemberId"]},this);_options=[{text:"Active",value:Enum.SavedSearchStatusType.Active},{text:"Search on Hold",value:Enum.SavedSearchStatusType.OnHold},{text:"Already Booked Space",value:Enum.SavedSearchStatusType.CompleteAlreadyBookedSpace},{text:"No Longer Need Space",value:Enum.SavedSearchStatusType.CompleteNoLongerNeedSpace}];this.options=ko.computed(function(){var savedSearchStatus=_self.SavedSearchStatus().toString();return _options.filter(function(o){return o.value!=savedSearchStatus})});this.step=ko.observable("selectstatus");this.selectStatus=function(item){var value=item.value;value==Enum.SavedSearchStatusType.CompleteAlreadyBookedSpace?(params.$dialog.dialog("option","title","Great! Did you find your space through LiquidSpace?"),_self.step("screen2")):_self.save(value)};this.bookedThroughLiquidSpace=function(){_self.save(Enum.SavedSearchStatusType.CompleteAlreadyBookedSpace,!0)};this.bookedNotThroughLiquidSpace=function(){_self.save(Enum.SavedSearchStatusType.CompleteAlreadyBookedSpace,!1)};this.save=function(status,bookedThroughLiquidSpace){params.loading(!0);$.ajax({url:"/search/SetSavedSearchStatus",type:"POST",data:JSON.stringify({searchId:_self.Id,memberId:_self.MemberId,status:status,bookedThroughLiquidSpace:bookedThroughLiquidSpace}),contentType:"application/json",success:function(result){result.success&&(params.$dialog.dialog("close"),$.isFunction(params.onSuccess)&&params.onSuccess(result.status))},complete:function(){params.loading(!1)}})}};ChangeSavedSearchStatusDialogLoader=function(params){var _self=this,setLoading;params=$.extend({searchId:null,memberId:null,onSuccess:function(){},$dialog:null},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/search/ChangeSavedSearchStatusDialogModel",data:{searchId:params.searchId,memberId:params.memberId},success:function(data){_self.viewModel(new ChangeSavedSearchStatusDialogViewModel({model:data,loading:_self.loading,onSuccess:params.onSuccess,$dialog:params.$dialog}));_self.loading(!1)}})})};ChangeSavedSearchStatusDialogViewModel.showDialog=function(params){var _self=this,$dialog;params=$.extend({searchId:null,memberId:null,onSuccess:function(){}},params);$dialog=$('<div class="change-saved-search-status-popup" data-bind="component: { name: \'change-saved-search-status-dialog\', params: $data }"><\/div>').dialog({modal:!0,resizable:!1,width:475,title:"Not interested? No problem.",dialogClass:"change-saved-search-status-dialog",close:function(){$(this).dialog("destroy").remove()}});$dialog.parent().lsLoading("set");ko.applyBindings({searchId:params.searchId,memberId:params.memberId,onSuccess:params.onSuccess,$dialog:$dialog},$dialog[0])};ko.components.register("change-saved-search-status-dialog",{viewModel:ChangeSavedSearchStatusDialogLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/change-saved-search-status-dialog/template.html?v=14490743757409374064",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/change-saved-search-status-dialog/styles.css?v=6823524803345836196"}});GuestOnboardingDialogViewModel=function(params){var _self=this,setNeighbourhoods,initialized;params=$.extend({searchViewModel:null,guestOnboardingModel:null},params);ko.mapping.fromJS(params.guestOnboardingModel,{SearchRequest:{create:function(options){return new LiquidSpace.Search.SearchRequest({searchRequest:options.data})}},ignore:["Amenites","Neighbourhoods"]},this);params.guestOnboardingModel.Amenities.forEach(function(a){$.extend(a,{checked:ko.computed(function(){return _self.SearchRequest.isAmenitySelected(a.Id)})})});this.Neighbourhoods=ko.observableArray([]);setNeighbourhoods=function(neighborhoods){neighborhoods.forEach(function(n){n.checked=ko.computed(function(){return _self.SearchRequest.isNeighborhoodSelected(n.id)})});_self.Neighbourhoods(neighborhoods)};setNeighbourhoods(params.guestOnboardingModel.Neighbourhoods);initialized=!1;this.step=ko.observable(1);this.reservationMethodSelected=ko.computed(function(){return _self.step()>1});this.timepickersVisible=ko.computed(function(){return _self.step()>1&&_self.reservationMethodSelected()&&_self.SearchRequest.timeFilters.method.isMonthly()});this.setReservationMethod=function(method){_self.SearchRequest.timeFilters.method(method);_self.SearchRequest.timeFilters.startDate.date(null);_self.SearchRequest.WorkspaceCapacity(null);_self.SearchRequest.SpaceTypes(0);_self.SearchRequest.MinPrice(null);_self.SearchRequest.MaxPrice(null);_self.SearchRequest.AmenityIds([]);_self.step(2)};this.spaceTypes=ko.computed(function(){return _self.SearchRequest.timeFilters.method.isMonthly()?[{name:"Desk",spaceTypes:Enum.SpaceType.Desk},{name:"Office",spaceTypes:Enum.SpaceType.PrivateOffice},{name:"Suite",spaceTypes:Enum.SpaceType.TeamSpace},]:[{name:"Desk",spaceTypes:Enum.SpaceType.Desk},{name:"Office",spaceTypes:Enum.SpaceType.Office},{name:"Meeting Space",spaceTypes:Enum.SpaceType.Meeting},{name:"Event Space",spaceTypes:Enum.SpaceType.EventSpace},]});this.isSpaceTypeSelected=function(spaceType){return _self.SearchRequest.isSpaceTypeSelected(spaceType.spaceTypes)};this.toggleSpaceType=function(spaceType){_self.SearchRequest.toggleSpaceType(spaceType.spaceTypes);_self.step(3)};this.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:(new Date).getUTCHours()>12?0:-1,dayNamesMin:["S","M","T","W","T","F","S"],onSelect:function(dateText,inst){_self.SearchRequest.timeFilters.startDate.date(inst.input.datepicker("getDate"));$(this).trigger("blur")},dateFormat:"MM d, yy"};this.amenitiesToShow=ko.computed(function(){if(_self.reservationMethodSelected()){var isMonthly=_self.SearchRequest.timeFilters.method.isMonthly();return params.guestOnboardingModel.Amenities.filter(function(a){return isMonthly?a.HourlyMonthly==Enum.HourlyMonthly.Monthly||a.HourlyMonthly==Enum.HourlyMonthly.Both:a.HourlyMonthly==Enum.HourlyMonthly.Hourly||a.HourlyMonthly==Enum.HourlyMonthly.Both})}else return params.guestOnboardingModel.Amenities.filter(function(a){return a.HourlyMonthly==Enum.HourlyMonthly.Both})});this.toggleAmenity=function(amenity){_self.SearchRequest.toggleAmenity(amenity.Id)};this.priceFilterVisible=ko.computed(function(){return _self.step()>2&&_self.SearchRequest.timeFilters.method.isMonthly()});this.amenitiesFilterVisible=ko.computed(function(){return _self.step()>2});this.priceFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinPrice=parseFloat(_self.SearchRequest.MinPrice()),filterMaxPrice=parseFloat(_self.SearchRequest.MaxPrice()),getMinLabel,getMaxLabel;return isNaN(filterMinPrice)&&(filterMinPrice=0),isNaN(filterMaxPrice)&&(filterMaxPrice=Infinity),(filterMinPrice!=0||filterMaxPrice!=Infinity)&&(displayValue="Price filter",filterMaxPrice<=1?displayValue="Free":(getMinLabel=function(){var result="";return result=filterMinPrice<.001?"Free":filterMinPrice<=1?"$1":filterMinPrice==Infinity?"":"From $"+filterMinPrice.toLocaleString(),filterMaxPrice==Infinity,result},getMaxLabel=function(){return filterMaxPrice==Infinity?"":" Up to $"+filterMaxPrice.toLocaleString()},displayValue=getMinLabel()+getMaxLabel())),displayValue});this.appliedFilters=ko.computed(function(){var result=[],timeString,filterMinCapacity,spaceTypesString,priceFilterDisplayValue,amenitiesSelected;return _self.reservationMethodSelected()&&result.push(_self.SearchRequest.timeFilters.method.isHourly()?"Hourly":"Monthly"),_self.SearchRequest.timeFilters.startDate.isValidDate()&&(timeString="Move-in: "+_self.SearchRequest.timeFilters.startDate.date().toString("MMM d, yyyy"),result.push(timeString)),filterMinCapacity=parseInt(_self.SearchRequest.WorkspaceCapacity()),!isNaN(filterMinCapacity)&&filterMinCapacity>1&&result.push(filterMinCapacity+" people"),spaceTypesString=_self.SearchRequest.getSpaceTypesString(),spaceTypesString&&spaceTypesString!="Space"&&result.push(spaceTypesString),priceFilterDisplayValue=_self.priceFilterDisplayValue(),priceFilterDisplayValue&&result.push(priceFilterDisplayValue),amenitiesSelected=params.guestOnboardingModel.Amenities.filter(function(a){return a.checked()}),amenitiesSelected.length&&result.push(amenitiesSelected.map(function(a){return a.Name}).join(", ")),result});this.toggleNeighbourhood=function(n){_self.SearchRequest.toggleNeighborhood(n.id)};this.addressAutocompleteOptions={onSelectCallback:function(event,ui){_self.SearchRequest.Address(ui.item.value);_self.SearchRequest.IsFullTextSearch(!1);_self.SearchRequest.Latitude(ui.item.latitude);_self.SearchRequest.Longitude(ui.item.longitude);_self.SearchRequest.IsCurrentLocationSearch(!1);_self.Neighbourhoods([]);_self.SearchRequest.NeighborhoodIds([]);$.ajax({url:"/search/WorkspacesCountInCity",data:{address:ui.item.value},success:function(data){_self.WorkspacesCountInCity(data.WorkspacesCountInCity);_self.City(data.City);_self.State(data.State);_self.Country(data.Country);setNeighbourhoods(data.Neighbourhoods)}})}};this.addressThunk=ko.observable(this.SearchRequest.Address());this.onAddressBlur=function(){_self.addressThunk(_self.SearchRequest.Address())};this.minPrice=ko.computed({read:function(){return _self.SearchRequest.MinPrice()||""},write:function(value){var int=parseInt(value),maxPrice=_self.SearchRequest.MaxPrice();isNaN(int)||int<0||maxPrice>0&&int>maxPrice?(_self.SearchRequest.MinPrice(0),_self.minPrice.notifySubscribers()):_self.SearchRequest.MinPrice(int)}});this.maxPrice=ko.computed({read:function(){return _self.SearchRequest.MaxPrice()||""},write:function(value){var int=parseInt(value),minPrice=_self.SearchRequest.MinPrice();isNaN(int)||int<minPrice?(_self.SearchRequest.MaxPrice(null),_self.maxPrice.notifySubscribers()):_self.SearchRequest.MaxPrice(int)}});this.minPriceText=ko.computed(function(){var minPrice=_self.SearchRequest.MinPrice();return minPrice?"$ "+minPrice.toLocaleString()+" (min.)":"$ From (min.)"});this.maxPriceText=ko.computed(function(){var maxPrice=_self.SearchRequest.MaxPrice();return maxPrice?"$ "+maxPrice.toLocaleString()+" (max.)":"$ To (max.)"});this.skip=function(){var appliedFilters=_self.appliedFilters(),neighborhoodIds=_self.SearchRequest.NeighborhoodIds();appliedFilters.length>0||neighborhoodIds.length>0?_self.submit():(params.searchViewModel.searchRequest.timeFilters.method.isHourly()&&params.searchViewModel.setReservationMethod(Enum.WorkspaceReservationMethod.Period),params.searchViewModel.guestOnboardingVisible(!1));_self.trackGAVPV("skip")};this.seeMatches=function(){_self.submit();_self.trackGAVPV("see-matches")};this.submit=function(){var step=1,date,searchRequest,data;_self.reservationMethodSelected()&&(step=2,_self.SearchRequest.displayWorkspaceCapacity()>1&&(step=3,_self.SearchRequest.SpaceTypes()&&_self.SearchRequest.SpaceTypes()>0&&(step=4)));date=new Date;date.setTime(date.getTime()+2592e6);searchRequest=_self.SearchRequest.toJS();data={Address:searchRequest.Address,Latitude:searchRequest.Latitude,Longitude:searchRequest.Longitude,ReservationMethod:searchRequest.ReservationMethod,WorkspaceCapacity:searchRequest.WorkspaceCapacity,SpaceTypes:searchRequest.SpaceTypes,MinPrice:searchRequest.MinPrice,MaxPrice:searchRequest.MaxPrice};$.cookie("gonb",JSON.stringify(data),{path:"/",expires:date});params.searchViewModel.narrowGuideViewModel().currentStep(step);params.searchViewModel.guestOnboardingVisible(!1);params.searchViewModel.searchRequest.update(searchRequest);$("#searchbar_address").val(searchRequest.Address);params.searchViewModel.rememberSearchSettings();params.searchViewModel.startSearch()};this.trackGAVPV=function(trackPage,attempt){attempt=attempt||0;typeof ga=="function"?trackPage&&ga("send","pageview",{page:"/vpv/guest-onboarding/"+trackPage}):attempt<3&&setTimeout(function(){_self.trackGAVPV(trackPage,++attempt)},700)};ko.computed(function(){var searchRequest=_self.SearchRequest.toJS();searchRequest.ReservationMethodSelected=_self.reservationMethodSelected();initialized&&$.ajax({url:"/search/GuestOnboardingCounters",type:"POST",contentType:"application/json",data:JSON.stringify(searchRequest),success:function(data){_self.FilteredWorkspacesCount(data.FilteredWorkspacesCount);_self.NearMatchWorkspaceCount(data.NearMatchWorkspaceCount)},complete:function(){}})}).extend({throttle:500});initialized=!0;_self.trackGAVPV("display");typeof dataLayer=="object"&&dataLayer.push({event:"trackGuestOnboardingDisplay"})};ko.components.register("guest-onboarding-dialog",{viewModel:GuestOnboardingDialogViewModel,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/guest-onboarding-dialog/template.html?v=5734781129460080518",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/guest-onboarding-dialog/styles.css?v=7143119334520913552"}});HooRuleSplitEditDialogViewModel=function(){function HooRuleSplitEditDialogViewModel(params){var _self=this,date,propertiesToValidate;for(params=$.extend({model:null,loading:ko.observable(!1),onSuccess:function(){},$dialog:null},params),ko.mapping.fromJS(params.model,{copy:["HooId","HooModes","Workspaces","Visas"],DateRangeStart:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(new Date(options.data))}},DateRangeEnd:{create:function(options){return options=$.extend({data:null,parent:null},options),ko.observable(options.data&&new Date(options.data))}}},this),this.HooModeSelected()==0&&this.HooModeSelected(null),this.HooModeSelected.extend({required:{message:"Days are required"}}),this.offsetOptions=[{text:"",value:null,placeholder:!0}],date=new Date("2010-01-01T00:00:00");date.getDate()<2;)this.offsetOptions.push({text:date.toString("h:mm tt"),value:date.toString("HH:mm:00")}),date.addMinutes(15);this.offsetOptions.push({text:"11:59 PM",value:"1.00:00:00"});this.DaysOfWeek.extend({validation:{validator:function(){var selectedDays=_self.DaysOfWeek().filter(function(x){return x.Selected()});return _self.HooModeSelected()!=Enum.HooMode.DaysOfWeek||selectedDays.length>0},message:"Select at least one day of week"}});this.WorkspacesSelected.extend({minLength:{params:1,message:"Select at least one workspace"}});this.VisasSelected.extend({minLength:{params:1,message:"Select at least one visa"}});this.OpenClosePairs().forEach(function(openClosePair,i){i==0?(openClosePair.OffsetToOpening.extend({validation:{validator:function(){var offsetToOpening=openClosePair.OffsetToOpening(),offsetToClosing=openClosePair.OffsetToClosing(),offsetToOpeningIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToOpening}),offsetToClosingIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToClosing});return _self.OpenCloseModeSelected()!=Enum.OpenCloseMode.OpenHours||offsetToOpening!=null&&offsetToClosing!=null&&offsetToOpeningIndex<offsetToClosingIndex},message:"From"}}),openClosePair.OffsetToClosing.extend({validation:{validator:function(){var offsetToOpening=openClosePair.OffsetToOpening(),offsetToClosing=openClosePair.OffsetToClosing(),offsetToOpeningIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToOpening}),offsetToClosingIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToClosing});return _self.OpenCloseModeSelected()!=Enum.OpenCloseMode.OpenHours||offsetToOpening!=null&&offsetToClosing!=null&&offsetToOpeningIndex<offsetToClosingIndex},message:"To"}})):(openClosePair.OffsetToOpening.extend({validation:{validator:function(){var split=_self.SplitHoursSelected(),offsetToOpening=openClosePair.OffsetToOpening(),offsetToClosing=openClosePair.OffsetToClosing(),offsetToOpeningIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToOpening}),offsetToClosingIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToClosing});return!split||offsetToOpening==null&&offsetToClosing==null||offsetToOpening!=null&&offsetToClosing!=null&&offsetToOpeningIndex<offsetToClosingIndex},message:"From"}}),openClosePair.OffsetToClosing.extend({validation:{validator:function(){var split=_self.SplitHoursSelected(),offsetToOpening=openClosePair.OffsetToOpening(),offsetToClosing=openClosePair.OffsetToClosing(),offsetToOpeningIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToOpening}),offsetToClosingIndex=_self.offsetOptions.findIndex(function(o){return o.value==offsetToClosing});return!split||offsetToOpening==null&&offsetToClosing==null||offsetToOpening!=null&&offsetToClosing!=null&&offsetToOpeningIndex<offsetToClosingIndex},message:"To"}}));openClosePair.errorMessage=ko.computed(function(){return openClosePair.OffsetToOpening.isValid()&&openClosePair.OffsetToClosing.isValid()?null:"Start time needs to be before end time"});openClosePair.showValidationMessage=ko.computed(function(){return(!openClosePair.OffsetToOpening.isValid()||!openClosePair.OffsetToClosing.isValid())&&(openClosePair.OffsetToOpening.isModified()||openClosePair.OffsetToClosing.isModified())})});propertiesToValidate=[this.DaysOfWeek,this.WorkspacesSelected,this.VisasSelected,this.OpenClosePairs,this.HooModeSelected];this.OpenClosePairs().forEach(function(openClosePair,i){propertiesToValidate.push(openClosePair.OffsetToOpening);propertiesToValidate.push(openClosePair.OffsetToClosing)});this.validationModel=ko.validatedObservable(propertiesToValidate);this.showServerErrors=ko.observable(!1);this.serverErrors=ko.observable([]);this.validate=function(){_self.showServerErrors(!1);var isValid=_self.validationModel.isValid();return isValid||_self.validationModel.errors.showAllMessages(),isValid};this.showDescriptionContainerVisible=ko.computed(function(){return _self.OpenCloseModeSelected()==Enum.OpenCloseMode.Closed24Hours});this.hooModeOptions=Enum.HooMode.getValues().filter(function(e){return e.Value!="0"}).map(function(e){return{text:e.Description,value:e.Value}});this.openCloseModeOptions=Enum.OpenCloseMode.getValues().map(function(e){return{text:e.Description,value:e.Value}});this.workspacesOptions=this.Workspaces.map(function(w){return{text:w.Text,value:w.Value}});this.visasOptions=this.Visas.map(function(w){return{text:w.Text,value:w.Value}});this.startDateDatepickerOptions={useDateObjectForObservable:!0,maxDate:ko.computed(function(){return new Date(_self.DateRangeEnd())})};this.endDateDatepickerOptions={useDateObjectForObservable:!0,minDate:ko.computed(function(){return new Date(_self.DateRangeStart())})};this.save=function(){if(_self.validate()){params.loading(!0);var data=ko.mapping.toJS(_self);data.DateRangeStart&&(data.DateRangeStart=data.DateRangeStart.toServerString());data.DateRangeEnd&&(data.DateRangeEnd=data.DateRangeEnd.toServerString());$.ajax({url:"/venue/HooRuleSplitEdit",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(result){result.success?($.isFunction(params.onSuccess)&&params.onSuccess(result),params.$dialog.dialog("close")):(_self.showServerErrors(!0),_self.serverErrors(result.errors))},complete:function(){params.loading(!1)}})}};this.remove=function(){params.loading(!0);LiquidSpace.View.Venue.FlexHoo.hooRuleSplitDelete(_self.HooId,function(result){result.success&&($.isFunction(params.onSuccess)&&params.onSuccess(result),params.$dialog.dialog("close"))})};this.cancel=function(){params.$dialog.dialog("close")}}return HooRuleSplitEditDialogViewModel.showDialog=function(params){var _self=this,$dialog;params=$.extend({hooId:null,venueId:null,onSuccess:function(){}},params);$dialog=$('<div class="hoo-rule-split-edit-dialog" data-bind="component: { name: \'hoo-rule-split-edit-dialog\', params: $data }"><\/div>').dialog({modal:!0,resizable:!1,width:575,title:"Exception Rules",dialogClass:"hoo-rule-split-edit-dialog",close:function(){$(this).dialog("destroy").remove()}});$dialog.parent().lsLoading("set");ko.applyBindings({hooId:params.hooId,venueId:params.venueId,onSuccess:params.onSuccess,$dialog:$dialog},$dialog[0])},HooRuleSplitEditDialogViewModel}();HooRuleSplitEditDialogLoader=function(){function HooRuleSplitEditDialogLoader(params){var _self=this,setLoading;params=$.extend({hooId:null,venueId:null,onSuccess:function(){}},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/venue/HooRuleSplitEditDialogViewModel",data:{hooId:params.hooId,venueId:params.venueId},success:function(data){_self.viewModel(new HooRuleSplitEditDialogViewModel({model:data,loading:_self.loading,onSuccess:params.onSuccess,$dialog:params.$dialog}));_self.loading(!1)}})})}return HooRuleSplitEditDialogLoader}();ko.components.register("hoo-rule-split-edit-dialog",{viewModel:HooRuleSplitEditDialogLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/hoo-rule-split-edit-dialog/template.html?v=13347813260983260205",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/hoo-rule-split-edit-dialog/styles.css?v=12916976077081790720"}});DropdownMultipleViewModel=function(params){function findOptionsByValue(val){var foundOptions=[];return ko.unwrap(_self.items)&&_self.items().forEach(function(option){val.indexOf(option.value)!=-1&&foundOptions.push(option)}),foundOptions}var _self=this,tooltipsterInstance,positionFixInterval;this.caption=params.caption;this.value=params.value;this.options=params.options;this.disabled=params.disabled||!1;this.dropdownDisabled=ko.observable(!1);this.selectedOptions=ko.observable();this.selectedPlaceholder=ko.computed(function(){var selectedOptions=ko.unwrap(_self.selectedOptions);return selectedOptions&&selectedOptions.length==0});this.items=ko.computed(function(){var result=[];return ko.unwrap(_self.options).forEach(function(option){var optionObject=typeof option=="object"||option instanceof Object?option:{value:option,text:option};optionObject._selected=ko.computed(function(){return _self.value().indexOf(optionObject.value)!=-1});optionObject._toggle=function(){var valueToSet=_self.value(),selected=valueToSet.indexOf(optionObject.value)!=-1;selected?valueToSet=valueToSet.filter(function(x){return x!=optionObject.value}):valueToSet.push(optionObject.value);_self.value(valueToSet)};result.push(optionObject)}),result});this.allSelected=ko.computed(function(){var selectedOptions=ko.unwrap(_self.selectedOptions)||[];return _self.items().length==selectedOptions.length});this.toggleAll=function(){var allSelected=_self.allSelected();allSelected?_self.value([]):_self.value(_self.items().map(function(x){return x.value}))};this.selectedText=ko.computed(function(){var selectedOptions=ko.unwrap(_self.selectedOptions)||[],allSelected=_self.allSelected();return allSelected?"All Selected":selectedOptions.length>1?selectedOptions.length+" selected":selectedOptions.map(function(option){return option.text}).join(", ")});ko.computed(function(){var value=ko.unwrap(_self.value),caption=ko.unwrap(_self.caption),optionsByValue=findOptionsByValue(value);_self.selectedOptions(optionsByValue)});ko.computed(function(){_self.dropdownDisabled(ko.unwrap(_self.disabled))});_self.value.subscribe(function(newValue){var selectedValue=ko.unwrap(_self.selectedOption)?ko.unwrap(_self.selectedOption).map(function(x){return x.value}).sort():[],option;newValue=newValue.sort();(newValue.length!=selectedValue.length||newValue.findIndex(function(x,index){return x!=selectedValue[index]})!=-1)&&(option=findOptionsByValue(newValue),_self.selectedOptions(option))});_self.isInvalid=ko.computed(function(){return ko.validation.utils.isValidatable(_self.value)&&_self.value.isModified()&&!_self.value.isValid()});tooltipsterInstance=null;positionFixInterval=null;this.tooltipsterOptions={arrow:!1,distance:-1,interactive:!0,trigger:"click",side:["bottom"],theme:"tooltipster-dropdown-multiple",functionPosition:function(instance,helper,position){return position.size.width=helper.geo.origin.size.width,position.coord.left=helper.geo.origin.offset.left,position},functionReady:function(instance,helper){e=instance.elementTooltip();positionFixInterval=setInterval(function(){$(instance.elementTooltip()).css("left",$(instance.elementOrigin()).offset().left)},500);setTimeout(function(){$(instance.elementTooltip()).find("input").focus()},500)},functionBefore:function(){return!_self.dropdownDisabled()},functionAfter:function(){clearInterval(positionFixInterval)},functionInit:function(instance,helper){tooltipsterInstance=instance}}};ko.components.register("dropdown-multiple",{viewModel:DropdownMultipleViewModel,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/dropdown-multiple/template.html?v=18238022597099460002",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/dropdown-multiple/styles.css?v=2250970976812938462"}});BookingWindowFlexEditDialogViewModel=function(params){var _self=this;params=$.extend({model:null,loading:ko.observable(!1),onSuccess:function(){},$dialog:null},params);ko.mapping.fromJS(params.model,{copy:["HooId","Workspaces","Visas"]},this);this.AdvanceNotice.extend({min:{params:0,message:"Min notice should be non-negative"},required:{message:"Min notice is required"}});this.UnavailableAfter.extend({min:{params:0,message:"Max notice should be non-negative"},required:{message:"Max notice is required"}});this.validationModel=ko.validatedObservable([this.AdvanceNotice,this.UnavailableAfter,]);this.showServerErrors=ko.observable(!1);this.serverErrors=ko.observable([]);this.validate=function(){_self.showServerErrors(!1);var isValid=_self.validationModel.isValid();return isValid||_self.validationModel.errors.showAllMessages(),isValid};this.advanceNoticeTypeOptions=Enum.MinAdvanceNoticeRangeType.getValues().map(function(x){return{text:x.Description,value:x.Value}});this.workspacesOptions=this.Workspaces.map(function(w){return{text:w.Text,value:w.Value}});this.visasOptions=this.Visas.map(function(w){return{text:w.Text,value:w.Value}});this.save=function(){if(_self.validate()){params.loading(!0);var data=ko.mapping.toJS(_self);$.ajax({url:"/venue/BookingWindowFlexEdit",type:"POST",contentType:"application/json",data:JSON.stringify(data),success:function(result){result.success?($.isFunction(params.onSuccess)&&params.onSuccess(result),params.$dialog.dialog("close")):(_self.showServerErrors(!0),_self.serverErrors(res.errors))},complete:function(){params.loading(!1)}})}};this.remove=function(){params.loading(!0);LiquidSpace.View.Venue.FlexHoo.bookingWindowFlexDelete(_self.HooId,function(result){result.success&&($.isFunction(params.onSuccess)&&params.onSuccess(result),params.$dialog.dialog("close"))})};this.cancel=function(){params.$dialog.dialog("close")}};BookingWindowFlexEditDialogLoader=function(params){var _self=this,setLoading;params=$.extend({hooId:null,venueId:null,onSuccess:function(){}},params);this.loading=ko.observable(!0);setLoading=function(value){value?params.$dialog.parent().lsLoading("set"):params.$dialog.parent().lsLoading("remove")};this.loading.subscribe(function(){var loading=_self.loading();setLoading(loading)});setLoading(this.loading());this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/venue/BookingWindowFlexEditDialogViewModel",data:{id:params.hooId,venueId:params.venueId},success:function(data){_self.viewModel(new BookingWindowFlexEditDialogViewModel({model:data,loading:_self.loading,onSuccess:params.onSuccess,$dialog:params.$dialog}));_self.loading(!1)}})})};BookingWindowFlexEditDialogViewModel.showDialog=function(params){var _self=this,$dialog;params=$.extend({hooId:null,venueId:null,onSuccess:function(){}},params);$dialog=$('<div class="booking-window-flex-edit-dialog" data-bind="component: { name: \'booking-window-flex-edit-dialog\', params: $data }"><\/div>').dialog({modal:!0,resizable:!1,width:575,title:"Booking Window",dialogClass:"booking-window-flex-edit-dialog",close:function(){$(this).dialog("destroy").remove()}});$dialog.parent().lsLoading("set");ko.applyBindings({hooId:params.hooId,venueId:params.venueId,onSuccess:params.onSuccess,$dialog:$dialog},$dialog[0])};ko.components.register("booking-window-flex-edit-dialog",{viewModel:BookingWindowFlexEditDialogLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/booking-window-flex-edit-dialog/template.html?v=2459581516119705933",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/booking-window-flex-edit-dialog/styles.css?v=17302243674658775557"}});"use strict";var ManageVenueEventAddDialogViewModel=function(){function ManageVenueEventAddDialogViewModel(params){this.message=ko.observable("");var _self=this;this.parent=params.parent;this.$dialog=params.$dialog;this.venueId=params.venueId;this.message.extend({required:{message:"Message is required"}});this.validationModel=ko.validatedObservable([this.message])}return ManageVenueEventAddDialogViewModel.prototype.validate=function(){var isValid=this.validationModel.isValid();return isValid||this.validationModel.errors.showAllMessages(),isValid},ManageVenueEventAddDialogViewModel.prototype.cancel=function(){this.$dialog.dialog("close")},ManageVenueEventAddDialogViewModel.prototype.save=function(){var _this=this;this.validate()&&(LSHelper.HelperLib.blockUI(),$.ajax({url:"/managevenue/"+this.venueId+"/eventadd",type:"POST",contentType:"application/json",data:JSON.stringify({message:this.message()}),success:function(){_this.$dialog.dialog("close");_this.parent.viewModel.refresh()},complete:function(){LSHelper.HelperLib.unblockUI()}}))},ManageVenueEventAddDialogViewModel}(),ManageVenueEventEditDialogViewModel=function(){function ManageVenueEventEditDialogViewModel(params){var _self=this;this.parent=params.parent;this.$dialog=params.$dialog;this.venueId=params.venueId;this.venueEvent=params.venueEvent;this.message=ko.observable(params.venueEvent.Message());this.message.extend({required:{message:"Message is required"}});this.validationModel=ko.validatedObservable([this.message])}return ManageVenueEventEditDialogViewModel.prototype.validate=function(){var isValid=this.validationModel.isValid();return isValid||this.validationModel.errors.showAllMessages(),isValid},ManageVenueEventEditDialogViewModel.prototype.cancel=function(){this.$dialog.dialog("close")},ManageVenueEventEditDialogViewModel.prototype.save=function(){var _this=this;this.validate()&&(LSHelper.HelperLib.blockUI(),$.ajax({url:"/managevenue/"+this.venueId+"/eventedit",type:"POST",contentType:"application/json",data:JSON.stringify({Message:this.message(),EventId:this.venueEvent.EventId(),CreatedTicks:this.venueEvent.CreatedTicks()}),success:function(){_this.$dialog.dialog("close");_this.parent.viewModel.refresh()},complete:function(){LSHelper.HelperLib.unblockUI()}}))},ManageVenueEventEditDialogViewModel}(),ManageVenueEventViewModel=function(){function ManageVenueEventViewModel(params){var _this=this,_self;this.eventTypeText=ko.computed(function(){return Enum.VenueEventType.describe(_this.EventType())});this.canEdit=ko.computed(function(){return _this.EventType()==Enum.VenueEventType.Note});this.createdText=ko.computed(function(){return Date.fromISO(_this.Created()).format("MMM d, yyyy H:mm:ss tt")});this.isSysAdminEvent=ko.computed(function(){var eventType=_this.EventType();return eventType!=Enum.VenueEventType.Note&&eventType!=Enum.VenueEventType.StatusChange});_self=this;this.parent=params.parent;ko.mapping.fromJS(params.data,{},this)}return ManageVenueEventViewModel.prototype.edit=function(){this.EventType()==Enum.VenueEventType.Note&&this.parent.edit(this)},ManageVenueEventViewModel.prototype.remove=function(){this.parent.remove(this)},ManageVenueEventViewModel}(),ManageVenueEventsViewModel=function(){function ManageVenueEventsViewModel(params){var _self=this;this.venueId=params.venueId;this.parent=params.parent;ko.mapping.fromJS(params.data,{Events:{create:function(options){return new ManageVenueEventViewModel({data:options.data,parent:_self})}}},this)}return ManageVenueEventsViewModel.prototype.remove=function(venueEvent){var _this=this;LSHelper.Dialog.confirmDialog("Are you sure that you want to delete event from "+venueEvent.createdText()+"?",function(){LSHelper.HelperLib.blockUI();$.ajax({url:"/managevenue/"+_this.venueId+"/eventremove?created="+venueEvent.CreatedTicks()+"&eventId="+venueEvent.EventId(),type:"POST",success:function(){_this.parent.viewModel.refresh()},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Delete event")},ManageVenueEventsViewModel.prototype.edit=function(venueEvent){var $dialog=$("<div data-bind=\"template: 'manage-venue-event-note-dialog'\"><\/div>").dialog({modal:!0,resizable:!1,width:350,title:"Edit Note",dialogClass:"manage-venue-event-note-dialog",close:function(){$(this).dialog("destroy").remove()}}),addDialogViewModel=new ManageVenueEventEditDialogViewModel({parent:this.parent,$dialog:$dialog,venueId:this.venueId,venueEvent:venueEvent});ko.applyBindings(addDialogViewModel,$dialog[0])},ManageVenueEventsViewModel}(),ManageVenueEventsViewModelLoader=function(){function ManageVenueEventsViewModelLoader(params){this.isAddEditDialogVisible=ko.observable(!1);var _self=this;this.venueId=params.venueId;this.viewModel=ko.onDemandObservable(function(){$.ajax({url:"/managevenue/"+params.venueId+"/events",success:function(data){_self.viewModel(new ManageVenueEventsViewModel({data:data,venueId:params.venueId,parent:_self}))}})})}return ManageVenueEventsViewModelLoader.prototype.addNote=function(){var $dialog=$("<div data-bind=\"template: 'manage-venue-event-note-dialog'\"><\/div>").dialog({modal:!0,resizable:!1,width:350,title:"Add Note",dialogClass:"manage-venue-event-note-dialog",close:function(){$(this).dialog("destroy").remove()}}),addDialogViewModel=new ManageVenueEventAddDialogViewModel({parent:this,$dialog:$dialog,venueId:this.venueId});ko.applyBindings(addDialogViewModel,$dialog[0])},ManageVenueEventsViewModelLoader.prototype.showAddEditDialog=function(){this.isAddEditDialogVisible(!0)},ManageVenueEventsViewModelLoader.prototype.closeAddEditDialog=function(){this.isAddEditDialogVisible(!1)},ManageVenueEventsViewModelLoader}();ko.components.register("manage-venue-events",{viewModel:ManageVenueEventsViewModelLoader,template:{fromUrl:"https://content.liquidspace.com/scripts/knockout/components/manage-venue-events/template.html?v=10146265265485903797",stylesUrl:"https://content.liquidspace.com/scripts/knockout/components/manage-venue-events/styles.css?v=1138402255100289791"}});typeof LiquidSpace=="undefined"&&(LiquidSpace={});LiquidSpace.User=function(options){var _self=this,useLocalStorage,needUnfinishedVenueRefresh,localUnfinishedVenuesData,$bindElement;return options=$.extend({id:null,firstName:"",lastName:"",isSuperUser:!1,isVenueAdmin:!1,bindElement:"header",manageVenueMode:null,isSalesRep:!1},options),_self.id=options.id,_self.isSuperUser=options.isSuperUser,_self.isSalesRep=options.isSalesRep,_self.firstName=options.firstName,_self.lastName=options.lastName,_self.viewModel={},_self.viewModel.unfinishedVenues=ko.observableArray([]),_self.viewModel.hasUnfinishedVenueWithStatusNew=ko.observable(!1),_self.viewModel.newMessagesCount=ko.observable(),_self.viewModel.upcomingReservationsCount=ko.observable(),_self.viewModel.moreVenuesTotalMessagesCount=ko.observable(),_self.viewModel.newMessagesForVenues=ko.observable({}),_self.viewModel.totalNotificationsCount=ko.computed(function(){var newMessagesForVenues=_self.viewModel.newMessagesForVenues(),totlalEventsCount=_self.viewModel.newMessagesCount()+_self.viewModel.upcomingReservationsCount(),newMessagesForVenuesCount=0;for(var id in newMessagesForVenues)newMessagesForVenuesCount+=newMessagesForVenues[id];return(options.isVenueAdmin||options.isSuperUser)&&options.manageVenueMode==Enum.ManageVenueMode.Admin?newMessagesForVenuesCount:totlalEventsCount}),_self.viewModel.getVenueMessagesCount=function(venueId){return _self.viewModel.newMessagesForVenues()[venueId]||0},$.ajax({url:"/Account/HeaderMenuCounters",success:function(data){_self.viewModel.newMessagesCount(data.NewMessagesCount);_self.viewModel.upcomingReservationsCount(data.UpcomingReservationsCount);_self.viewModel.moreVenuesTotalMessagesCount(data.MoreVenuesTotalMessagesCount);_self.viewModel.newMessagesForVenues(data.NewMessagesForVenues)}}),_self.viewModel.completeYourProfileLink=ko.computed(function(){var unfinishedIds=_self.viewModel.unfinishedVenues();return unfinishedIds.length?unfinishedIds.length==1?"/ManageVenue/"+unfinishedIds[0]:"/ManageVenue/"+unfinishedIds[0]+"?showVenueList=true":"/ManageVenue/?showVenueList=true"}),_self.viewModel.completeYourProfileLinkText=ko.computed(function(){return _self.viewModel.hasUnfinishedVenueWithStatusNew()?"Complete Your Profile":"Manage Profile"}),options.isVenueAdmin&&(useLocalStorage=!1,needUnfinishedVenueRefresh=!0,useLocalStorage&&(localUnfinishedVenuesData=JSON.parse(localStorage.getItem("unfinishedVenues")),localUnfinishedVenuesData&&new Date(localUnfinishedVenuesData.date)<(new Date).addHours(1)&&_self.id==localUnfinishedVenuesData.userId&&(_self.viewModel.unfinishedVenues(localUnfinishedVenuesData.unfinishedVenues||[]),_self.viewModel.hasUnfinishedVenueWithStatusNew(localUnfinishedVenuesData.hasUnfinishedVenueWithStatusNew||!1),needUnfinishedVenueRefresh=!1)),needUnfinishedVenueRefresh&&$.ajax({url:"/Account/GetUnfinishedVenuesData",type:"POST",success:function(result){result&&(_self.viewModel.unfinishedVenues(result.unfinishedVenueIds),_self.viewModel.hasUnfinishedVenueWithStatusNew(result.hasUnfinishedVenueWithStatusNew),useLocalStorage&&localStorage.setItem("unfinishedVenues",JSON.stringify({date:new Date,userId:_self.id,unfinishedVenues:_self.viewModel.unfinishedVenues(),hasUnfinishedVenueWithStatusNew:_self.viewModel.hasUnfinishedVenueWithStatusNew()})))},error:function(){},complete:function(){}})),$bindElement=$(options.bindElement),ko.cleanNode($bindElement[0]),ko.applyBindings(_self.viewModel,$bindElement[0]),_self};typeof Knockout=="undefined"&&(Knockout={});ko.pauseableComputed=function(readFunction,evaluatorFunctionTarget,_isPaused){var _cachedValue="",_readFunction=readFunction,result=ko.computed({read:function(){return _isPaused()||_readFunction!=null&&(_cachedValue=_readFunction.call(evaluatorFunctionTarget)),_readFunction!=null?_cachedValue:void 0},write:function(value){_readFunction=value},owner:this},evaluatorFunctionTarget);return result.pause=function(){_cachedValue=this();_isPaused(!0)}.bind(result),result.resume=function(){_cachedValue="";_isPaused(!1)},result};koExtend=function(){function clearCacheFunction(){_cachedValue={}}function cacheFunction(key,f){return _cachedValue[key]||(_cachedValue[key]=f()),_cachedValue[key]}return _cachedValue={},{cacheFunction:cacheFunction,clearCacheFunction:clearCacheFunction}}();Knockout.assignPager=function(thisObj,params){params=$.extend({pagerName:null,pageSizeFunc:null,dataFunc:null,postProcessFunc:function(){},selectPageFunction:function(){},onlineMode:!1,goToTop:!1},params);var pager=thisObj[params.pagerName]={};pager.onlineMode=params.onlineMode;pager.dataFunc=ko.observable(params.dataFunc);pager.dataCount=ko.observable(0);pager.pageSize=params.pageSizeFunc;pager._pageCount=ko.observable(0);pager.postProcessFunc=params.postProcessFunc;pager.selectPageFunction=params.selectPageFunction;pager.goToTop=params.goToTop;pager.disableHash=params.disableHash;pager.setPageCount=function(dataLen){pager.dataCount(dataLen);var res=dataLen/pager.pageSize();res>Math.round(res)&&(res=Math.round(res),res++);pager._pageCount(Math.round(res));pager.currentPage()>Math.round(res)-1&&pager.setCurrentPage(0,"first")};pager.currentPage=ko.observable(0);pager.setCurrentPage=function(page,type,callCallback){callCallback==undefined&&(callCallback=!1);switch(type){case"first":page=0;pager.currentPage(page);break;case"previous":page=pager.currentPage()-1>=0?pager.currentPage()-1:0;pager.currentPage(page);break;case"normal":pager.currentPage(page);break;case"next":page=pager.currentPage()+1<=pager._pageCount()-1?pager.currentPage()+1:pager._pageCount()-1;pager.currentPage(page);break;case"last":page=pager._pageCount()-1;pager.currentPage(page);break}pager.goToTop&&$("html, body, .scroll-container").scrollTop(0);callCallback==!0&&pager.selectPageFunction(pager.currentPage())};pager.pageCount=ko.dependentObservable(function(){return pager._pageCount()},thisObj);pager.pageCountArray=ko.dependentObservable(function(){var res=[],pageCount=pager._pageCount(),currentPage=pager.currentPage(),i,from,to,j;if(pageCount!=0)if(pageCount<=9)for(i=0;i<pageCount;i++)res.push({text:i+1,page:i,type:"normal"});else{for(from=Math.max(0,currentPage-4),to=Math.min(pageCount,from+9),j=from;j<to;j++)res.push({text:j+1,page:j,type:"normal"});if(res.find(function(p){return p.page===pageCount-1})==null){while(res.length>7)res.pop();res.push({text:"...",page:pageCount-1,type:"nonclickable"});res.push({text:pageCount,page:pageCount-1,type:"normal"})}}return res},thisObj);pager.pagedData=ko.dependentObservable(function(){var returnResult=[],result=pager.dataFunc()(),i;if(pager.onlineMode==!1||result.length>pager.pageSize())for(i=pager.currentPage()*pager.pageSize();i<result.length&&i<(pager.currentPage()+1)*pager.pageSize();i++)returnResult.push(result[i]);else returnResult=result;return pager.postProcessFunc(returnResult),returnResult},thisObj).extend({throttle:1});pager.setPageCount(pager.dataFunc()().length)};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.VenueData=function(){var _self=this;return _self.alreadyInitialized=!1,_self.venues=[],_self.cities=[],_self.venueGroups=[],_self.sessionExpiredShown=!1,_self.init=function(memberId){if(User.id==memberId&&_self.alreadyInitialized&&memberId!=null)return _self;var allVenuesDataKey="search-allvenues"+User.id,allVenuesData=LSHelper.localStorage.get(allVenuesDataKey,!0);return allVenuesData!=null?(_self.venues=allVenuesData.venues,_self.venueGroups=allVenuesData.venueGroups,_self.cities=allVenuesData.cities):$.ajax({type:"GET",data:{loggedInUserId:User.id},url:GetUrl("GetAllVenues","Search"),async:!0,cache:!0,success:function(result){_self.venues=result.venues;_self.venueGroups=result.venueGroups;_self.cities=result.cities;result.sessionExpired&&!_self.sessionExpiredShown?(_self.sessionExpiredShown=!0,LSHelper.UI.showError({title:"Your administrator session has expired",content:"Search results is for anonymous user, please refresh page or relogin."})):LSHelper.localStorage.set(allVenuesDataKey,result,new Date((new Date).getTime()+12e5))},error:function(xhr,ajaxOptions,thrownError){}}),_self.alreadyInitialized=!0,_self},_self.findVenues=function(search,strictSearchPreSubmit){var copy=function(obj,isVenueGroup){var copiedObject={};return $.extend(copiedObject,obj),copiedObject.extended=!0,isVenueGroup=isVenueGroup==null?!1:isVenueGroup,isVenueGroup==!0?(copiedObject.VenueGroupId=obj.Id,copiedObject.VenueId=null):(copiedObject.VenueId=obj.Id,copiedObject.VenueGroupId=null),copiedObject},result=[],venueGroup,i,nameIndex;if(search=$.trim(search),result.push({extended_line:!0}),venueGroup=null,_self.venueGroups!=null&&$.each(_self.venueGroups,function(i,v){if(strictSearchPreSubmit){if(v.Name.toLowerCase()==search.toLowerCase())return venueGroup=copy(v,!0),!1}else{var nameIndex=v.Name!=null?v.Name.toLowerCase().indexOf(search.toLowerCase()):-1;if(nameIndex!=-1)return venueGroup=copy(v,!0),venueGroup.value=venueGroup.Name,venueGroup.label=venueGroup.Name,!1}}),venueGroup!=null&&(result.push(venueGroup),$.each(venueGroup.Visas,function(i,val){var venues,venue;return val.VenueId!="00000000-0000-0000-0000-000000000000"&&(venues=_self.venues.filter(function(v){return v.Id==val.VenueId}),venues!=null&&venues.length>0&&result.filter(function(v){return v.Id==venues[0].Id}).length==0)?(venue=copy(venues[0]),venue.label=venue.FullName,venue.value=venue.FullName,result.push(venue),!1):!0})),result.length<5)if(strictSearchPreSubmit){for(i=0;i<_self.venues.length;i++)if(_self.venues[i].FullName!=null&&_self.venues[i].FullName.toLowerCase()==search.toLowerCase()&&result.filter(function(v){return v.Id==_self.venues[i].Id}).length==0){result.push(copy(_self.venues[i]));result[result.length-1].value=result[result.length-1].FullName;result[result.length-1].label=result[result.length-1].FullName;break}}else for(i=0;i<_self.venues.length;i++)if(nameIndex=_self.venues[i].FullName!=null?_self.venues[i].FullName.toLowerCase().indexOf(search.toLowerCase()):-1,nameIndex!=-1&&result.filter(function(v){return v.Id==_self.venues[i].Id}).length==0&&(result.push(copy(_self.venues[i])),result[result.length-1].value=result[result.length-1].FullName,result[result.length-1].label=result[result.length-1].FullName,venueGroup==null&&result.length>=4||venueGroup!=null&&result.length>=5))break;return result.length==1&&(result=[]),result.push({final_row:!0}),result},_self.findCities=function(search){var result=[],i,nameIndex,copiedObject;for(search=$.trim(search),i=0;i<_self.cities.length;i++)if(nameIndex=_self.cities[i]!=null?_self.cities[i].toLowerCase().indexOf(search.toLowerCase()):-1,nameIndex!=-1&&(copiedObject={},copiedObject.label=_self.cities[i],copiedObject.value=_self.cities[i],copiedObject.extended_city=!0,result.push(copiedObject),result.length>=4))break;return result},_self.getAllData=function(search){var venues=_self.findVenues(search),cities=_self.findCities(search);return{venues:venues,cities:cities}},_self}();$.fn.searchAutocomplete=function(params){this.each(function(i,elem){LiquidSpace.Search.Autocomplete($.extend(params,{element:$(elem)}))})};LiquidSpace.Search.Autocomplete=function(params){var _self=this,_defaults={element:null,button:null,onSelect:function(item,isEnterEvent){},onSubmit:function(request){LSHelper.HelperLib.submitObjectAsForm(request,{action:"/Search/Index"})},appendElement:"body",allowedCountries:[],memberId:null,submitOnBlur:!1,submitOnSelect:!0,lastSearchRequest:null},_lastSelectedItem=null,_currentLocationText="Current location",_preventEnterBindProcessing=!1,options=$.extend({},_defaults,params),isCountryAllowed,renderItem,submitSearch;if(options.lastSearchRequest!=null&&(_lastSelectedItem={value:options.lastSearchRequest.Address,latitude:options.lastSearchRequest.Latitude,longitude:options.lastSearchRequest.Longitude,smart_search:options.lastSearchRequest.IsFullTextSearch,currentLocation:options.lastSearchRequest.IsCurrentLocationSearch,VenueId:options.lastSearchRequest.VenueId,VenueGroupId:options.lastSearchRequest.VenueGroupId}),isCountryAllowed=function(c){return c==null?!1:User&&User.isSuperUser||!options.allowedCountries.length||options.allowedCountries.indexOf(c.toUpperCase())!=-1},renderItem=function(item){function strF(instr){return instr.replace(/</gi,"&lt").replace(/>/gi,"&gt")}function formatResult(str,textToSearch){var index,result,flag,textToSearchTags;return textToSearch=$.trim(textToSearch),index=str!=null?str.toLowerCase().indexOf(textToSearch.toLowerCase()):-1,result="",index!=-1?result=strF(str.substring(0,index))+'<span class="under-line h5b">'+strF(str.substring(index,index+textToSearch.length))+"<\/span>"+strF(str.substring(index+textToSearch.length,str.length)):(flag=!1,textToSearchTags=[],$.each(textToSearch.split(" "),function(i,val){textToSearchTags.indexOf(val)==-1&&textToSearchTags.push(val)}),str&&$.each(str.split(" "),function(i,strVal){var wasModified=!1;$.each(textToSearchTags,function(i1,strSearchVal){strVal.toLowerCase().indexOf(strSearchVal.toLowerCase())==0&&(result=result+(result.length>0?" ":"")+'<span class="under-line h5b">'+strF(strVal.substring(0,strSearchVal.length))+"<\/span>"+strF(strVal.substring(strSearchVal.length,strVal.length)),wasModified=!0)});wasModified==!1&&(result=result+(result.length>0?" ":"")+strVal)})),result}var textToSearch=options.element.val();return!item.final_row&&!item.extended_line&&!item.extended&&!item.extended_city&&!isCountryAllowed(item.country)&&item.smart_search!=!0&&!item.currentLocation?"":item.extended_line?$("<div style='clear: both;'><div class='empty-row extended-line'>"):item.final_row?$("<div style='clear: left;'><div class='empty-row'>"):(item.extended_city||item.smart_search==!0||!item.label||(item.label=item.label.replace(/, USA/gi,""),item.value=item.value.replace(/, USA/gi,"")),item.extended?$("<a class='autocomplete-option extended'><div class='autocomplete-option-name'>"+formatResult(item.label,textToSearch)+"<\/div><div class='autocomplete-option-address h7 sb'>"+(item.Address||"")+"<\/div><\/a>"):$("<a "+(item.smart_search==!0?"style='font-weight:500;'":"")+">"+formatResult(item.label,textToSearch)+"<\/a>"))},options.element&&options.element.length){LiquidSpace.Search.VenueData.init(options.memberId||User.id);options.element.unbind("keyup").unbind("paste cut");options.element.bind("keyup",function(event){if(event.isDefaultPrevented()!=!0&&!_preventEnterBindProcessing){var keycode=event.keyCode?event.keyCode:event.which?event.which:event.charCode;return keycode==13?(event.preventDefault(),submitSearch(),!1):!0}}).bind("paste cut",function(){return!0});options.button&&options.button.length&&options.button.click(function(){submitSearch()});options.submitOnBlur==!0&&options.element.bind("blur",function(){options.submitIfNotEmpty&&(options.submitIfNotEmpty!=!0||options.element.val()=="")||submitSearch()});try{options.element.autocomplete({appendTo:$(options.appendElement),classes:{"ui-autocomplete":"h5 pb"},create:function(){var $autocomplete=$(options.element.autocomplete("widget"));$autocomplete.addClass("search-autocomplete").attr("target-id",options.element.attr("id"))},renderItem:renderItem,focus:function(){return!1},open:function(event,ui){options.element.autocomplete("widget").bind("clickoutside",function(event){options.element.autocomplete("close")});$(".ui-autocomplete").off("menufocus hover mouseover mouseenter")},close:function(event,ui){options.element.autocomplete("widget").unbind("clickoutside")},source:function(request,response){var callback=function(result){var newResult=[],additionalSource;newResult.push({label:_currentLocationText,currentLocation:!0});newResult.push({extended_line:!0});newResult.push({label:request.term+" - Search",value:request.term,smart_search:!0});newResult.push({extended_line:!0});newResult=newResult.concat(result);additionalSource=LiquidSpace.Search.VenueData.getAllData(request.term);additionalSource&&(additionalSource.cities&&additionalSource.cities.length>0&&(newResult=newResult.concat(additionalSource.cities),newResult=LSHelper.google.eliminateDuplicates(newResult)),additionalSource.venues&&additionalSource.venues.length>0&&(newResult=newResult.concat(additionalSource.venues)));response(newResult)};LSHelper.google.geocode(request.term,callback)},select:function(event,ui){for(var isEnterEvent=!1,tempEvent=event,geocoder;tempEvent.type!="keydown"&&tempEvent.originalEvent!=null;)tempEvent=tempEvent.originalEvent;if(tempEvent.type=="keydown"&&(isEnterEvent=!0,tempEvent.preventDefault(),_preventEnterBindProcessing=!0),_lastSelectedItem=ui.item,options.element.val(ui.item.value),options.element.change(),ui.item.extended_city){geocoder=new LiquidSpace.Geocoder;geocoder.geocode({address:ui.item.value},function(results,status){results!=null&&results.length>0&&($.extend(ui.item,{latitude:results[0].geometry.location.lat}),$.extend(ui.item,{longitude:results[0].geometry.location.lng}));options.onSelect(ui.item,isEnterEvent);(options.submitOnSelect||isEnterEvent)&&submitSearch(ui.item)});return}options.onSelect(ui.item,isEnterEvent);(options.submitOnSelect||isEnterEvent)&&submitSearch(ui.item)}})}catch(e){console.log("IE7 emulator bug?");alert("IE7 emulator bug?")}}return submitSearch=function(item){var searchString,request;if(_preventEnterBindProcessing=!1,searchString=options.element.val(),request={Address:searchString,Latitude:null,Longitude:null,IsFullTextSearch:!1,IsCurrentLocationSearch:!1,VenueId:null,VenueGroupId:null,ExclusiveHotelsVenueGroupId:LSHelper.sessionStorage.get("ExclusiveHotelsVenueGroupId")},item||(_lastSelectedItem&&searchString==_lastSelectedItem.value?item=_lastSelectedItem:searchString&&searchString.toUpperCase()!==_currentLocationText.toUpperCase()?request.IsFullTextSearch=!request.IsCurrentLocationSearch:(request.IsCurrentLocationSearch=!0,request.Address=_currentLocationText,options.element.val(_currentLocationText),options.element.change())),item&&(request.Latitude=item.latitude,request.Longitude=item.longitude,request.IsFullTextSearch=item.smart_search||!1,request.IsCurrentLocationSearch=item.currentLocation||!1,request.VenueId=item.VenueId||null,request.VenueGroupId=item.VenueGroupId||null),request.IsCurrentLocationSearch){LSHelper.HelperLib.blockUI(options.element);var geolocationDone=!1,onGeolocationSuccess=function(l){if(!geolocationDone){geolocationDone=!0;LSHelper.HelperLib.unblockUI(options.element);request.Latitude=l.coords.latitude;request.Longitude=l.coords.longitude;l.coords.accuracy&&(request.Zoom=parseInt(Math.log2(591657550.5/(l.coords.accuracy*45)))+1);options.onSubmit(request)}},onGeolocationError=function(){if(!geolocationDone){geolocationDone=!0;LSHelper.HelperLib.unblockUI(options.element);options.onSubmit(request)}};navigator.geolocation.getCurrentPosition(onGeolocationSuccess,onGeolocationError,{timeout:1e4});setTimeout(function(){onGeolocationError()},10500);return}options.onSubmit(request)},_self};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.SRPHelper={showPreviousWorkspace:function(elem){var $elem=$(elem),$workspace=$elem.parent().parent(),$prev=$workspace.prev(),$wrapper;$prev.length?$prev.show():($wrapper=$workspace.parent(),$wrapper.children().last().show());$workspace.hide()},showNextWorkspace:function(elem){var $elem=$(elem),$workspace=$elem.parent().parent(),$next=$workspace.next(),$wrapper;$next.length?$next.show():($wrapper=$workspace.parent(),$wrapper.children().first().show());$workspace.hide()},isRangeSelected:function(params){return $.extend({min:0,max:Infinity,currentMin:0,currentMax:Infinity},params),isNaN(params.currentMin)&&(params.currentMin=0),isNaN(params.currentMax)&&(params.currentMax=Infinity),params.currentMin==0&&params.currentMax==Infinity?!1:params.currentMin<=params.min&&params.currentMax>=params.max},toggleRange:function(params){$.extend({min:0,max:Infinity,currentMin:0,currentMax:Infinity,setMin:function(value){},setMax:function(value){}},params);isNaN(params.currentMin)&&(params.currentMin=0);isNaN(params.currentMax)&&(params.currentMax=Infinity);params.max==null&&(params.max=Infinity);(params.currentMin!=0||params.currentMax!=Infinity)&&params.currentMin<=params.min&&params.max<=params.currentMax?params.min-params.currentMin>=params.currentMax-params.max||params.max==Infinity?params.min-params.currentMin>0?(params.setMin(params.currentMin),params.setMax(params.min)):(params.setMin(0),params.setMax(null)):(params.setMin(params.max),params.setMax(params.currentMax)):params.currentMin==0&&params.currentMax==Infinity?(params.setMin(params.min),params.setMax(params.max)):(params.setMin(Math.min(params.currentMin,params.min)),params.setMax(Math.max(params.currentMax,params.max)))},areCoordinatesSame:function(val1,val2){return Math.round(val1!=undefined?val1*1e5:0)/1e5==(val2!=undefined?Math.round(val2*1e5)/1e5:0)},areFiltersSame:function(filter1,filter2){if(!filter1||!filter2)return!1;var defaultWorkspaceCapacity=1;return LiquidSpace.Search.SRPHelper.areCoordinatesSame(filter1.Longitude,filter2.Longitude)&&LiquidSpace.Search.SRPHelper.areCoordinatesSame(filter1.Latitude,filter2.Latitude)&&filter1.VenueId==filter2.VenueId&&filter1.ReservationMethod==filter2.ReservationMethod&&filter1.ReservationStart==filter2.ReservationStart&&(filter1.WorkspaceCapacity||defaultWorkspaceCapacity)==(filter2.WorkspaceCapacity||defaultWorkspaceCapacity)&&filter1.SpaceTypes==filter2.SpaceTypes&&filter1.IsFullTextSearch==filter2.IsFullTextSearch&&filter1.IsCurrentLocationSearch==filter2.IsCurrentLocationSearch&&Date.parse(filter1.StartTime)==Date.parse(filter2.StartTime)&&filter1.ReservationLengthMinutes==filter2.ReservationLengthMinutes&&filter1.Environments==filter2.Environments},isValidDate:function(date){return Object.prototype.toString.call(date)==="[object Date]"?isNaN(date.getTime())?!1:!0:!1},lsHint:function(params){var options=$.extend({},{$elem:null,$wrapper:null},params);if(options.$elem&&options.$elem.length&&options.$wrapper&&options.$wrapper.length){var $wrapper=options.$wrapper,$icon=options.$elem.find(".ls-hint-icon"),$triangle=$wrapper.find(".ls-hint-triangle"),$close=$wrapper.find(".ls-hint-close");options.$elem.click(function(){if($icon){var iconOffset=$icon.offset(),left=iconOffset.left+$icon.width()/2-$wrapper.outerWidth()/2;left<0?($wrapper.css({left:options.$elem.width()/2,top:iconOffset.top+$icon.height()+10}),$triangle.css({left:iconOffset.left+$icon.width()/2-32})):($wrapper.css({left:left,top:iconOffset.top+$icon.height()+10}),$triangle.css({left:"50%"}))}$wrapper.toggle()});$close.click(function(){$wrapper.hide()});$wrapper.on("clickoutside",function(event,target){$(target).is(".ls-hint-icon,.ls-hint-label,.ls-hint-wrapper,.space-type-title,.environment-title")||$wrapper.hide()})}}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.TimeSpan=function(timeSpanOrMinutes){var _self=this;$.isNumeric(timeSpanOrMinutes)&&(timeSpanOrMinutes=new Date(0,0,0).addMinutes(timeSpanOrMinutes).toString("HH:mm:ss"));this.timeSpan=ko.observable(timeSpanOrMinutes);this.minutes=ko.computed(function(){var timeSpanDate=Date.parse(_self.timeSpan());return timeSpanDate==null||isNaN(timeSpanDate)?(_self.timeSpan(""),null):timeSpanDate.getHours()*60+timeSpanDate.getMinutes()});this.dayTimeText=ko.computed(function(){var timeSpanDate=Date.parse(_self.timeSpan());return timeSpanDate==null||isNaN(timeSpanDate)?(_self.timeSpan(""),"anytime"):timeSpanDate.toString("h:mm tt")})};LiquidSpace.Search.Duration=function(minutes){var _self=this;$.isNumeric(minutes)||(minutes=60);this.minutes=ko.observable(minutes);this.text=ko.computed(function(){return LiquidSpace.Search.Duration.getDurationHint(new Date(0,0,0).addMinutes(_self.minutes()))})};LiquidSpace.Search.Duration.getDurationHint=function(durationTime){var hours=durationTime.getDate()==31?durationTime.getHours():24,minutes=durationTime.getMinutes(),result="[invalid duration string]",value;return hours<1?result=minutes+" min":(value=(hours*60+minutes)/60,result=value+(value==1?" hour":" hours")),result};LiquidSpace.Search.StartDate=function(){var _self=this;this.date=ko.observable();this.isValidDate=ko.computed(function(){var d=_self.date();return LiquidSpace.Search.SRPHelper.isValidDate(d)});this.textValue=ko.computed(function(){var date=_self.date();return LiquidSpace.Search.SRPHelper.isValidDate(date)?date.toString("yyyy-MM-dd"):null});this.isCurrentDate=ko.computed(function(){return _self.isValidDate()&&_self.date().isSameDay(new Date)})};LiquidSpace.Search.SearchTimeFilters=function(params){var _self=this,_method;params=$.extend({},params);this.startDate=new LiquidSpace.Search.StartDate;this.startTime=new LiquidSpace.Search.TimeSpan;this.duration=new LiquidSpace.Search.Duration;this.startDateVisible=ko.observable(!1);_method=ko.observable(null);this.method=ko.computed({read:function(){return _method()},write:function(val){var intVal=parseInt(val);_method(isNaN(intVal)||intVal<0?0:intVal);val==Enum.WorkspaceReservationMethod.Period&&+_self.duration.minutes()<+Enum.WorkspacePriceDuration.Month&&_self.duration.minutes(+Enum.WorkspacePriceDuration.Month);val!=Enum.WorkspaceReservationMethod.Period&&+_self.duration.minutes()>+Enum.WorkspacePriceDuration.Day&&_self.duration.minutes(+Enum.WorkspacePriceDuration.Hour)}});this.method.isHourly=ko.computed(function(){return _method()!=-1&&_method()!=Enum.WorkspaceReservationMethod.Period});this.method.isMonthly=ko.computed(function(){return _self.startDateVisible(!0),_method()==Enum.WorkspaceReservationMethod.Period});this.defaultStartTime=ko.computed(function(){var currentDate,minutes;return _self.startTime.timeSpan()?_self.startTime:(currentDate=new Date,_self.startDate.isValidDate()&&_self.startDate.date().isSameDay(currentDate)?(minutes=currentDate.getHours()*60+currentDate.getMinutes()-currentDate.getMinutes()%15+15,new LiquidSpace.Search.TimeSpan(minutes)):new LiquidSpace.Search.TimeSpan("7:00:00"))});this.reservationEndTimes=ko.computed(function(){for(var minutesToDisplay,startTimeMinutes=_self.defaultStartTime().minutes(),result=[],minutes=startTimeMinutes+30;minutes<=1440;minutes+=30){minutesToDisplay=minutes;minutes==1440&&minutesToDisplay--;var durationTimeOfDay=new Date(0,0,0).addMinutes(minutesToDisplay),durationHintTime=new Date(0,0,0).addMinutes(minutes-startTimeMinutes),hint=LiquidSpace.Search.Duration.getDurationHint(durationHintTime);result.push({minutes:minutes-startTimeMinutes,text:durationTimeOfDay.toString("h:mm tt")+" ("+hint+")",hint:hint})}return result});this.displayText=ko.computed(function(){var result="[invalid time filter display text]",startDateValue=_self.startDate.date(),isStartDateInvalid=!_self.startDate.isValidDate(),startDateText=isStartDateInvalid?"This week":new Date(startDateValue).toString("MMM d"),startTimeDate,endTimeDate,writeMinutes,writeAMPM;if(_self.method.isHourly()){var length=_self.duration.minutes(),lengthText=_self.duration.text(),startTime=_self.startTime.minutes();$.isNumeric(startTime)?(startTimeDate=new Date(0,0,0).addMinutes(startTime),endTimeDate=new Date(startTimeDate).addMinutes(length),endTimeDate=LSHelper.HelperLib.adjustEndDateMidnight(endTimeDate),writeMinutes=startTimeDate.getMinutes()||endTimeDate.getMinutes(),writeAMPM=startTimeDate.toString("tt")!=endTimeDate.toString("tt"),result=writeMinutes?startDateText+", "+startTimeDate.toString("h:mm tt")+" - "+endTimeDate.toString("h:mm tt"):writeAMPM?startDateText+", "+startTimeDate.toString("h tt")+" - "+endTimeDate.toString("h tt"):startDateText+", "+startTimeDate.toString("h")+" - "+endTimeDate.toString("h tt")):result=startDateText+", for "+lengthText}else result=isStartDateInvalid?"Starts: Anytime":"Starts: "+startDateText;return result});this.durationText=ko.computed(function(){var result="[invalid length text]",startDateValue=_self.startDate.date(),isStartDateInvalid=!_self.startDate.isValidDate(),startDateText=isStartDateInvalid?"This week":new Date(startDateValue).toString("MMM d"),length=_self.duration.minutes(),lengthText=_self.duration.text(),startTime,startTimeDate,endTimeDate;return _self.method.isHourly()&&(startTime=_self.startTime.minutes(),$.isNumeric(startTime)?(startTimeDate=new Date(0,0,0).addMinutes(startTime),endTimeDate=new Date(startTimeDate).addMinutes(length),endTimeDate=LSHelper.HelperLib.adjustEndDateMidnight(endTimeDate),result="Ends at "+endTimeDate.toString("h:mm tt")+" ("+length/60+(length>60?" hrs)":" hr)")):result="Duration: "+lengthText),result});this.startTimeText=ko.computed(function(){return"Starts at "+_self.startTime.dayTimeText()});this.startDateText=ko.computed(function(){return _self.startDate.isValidDate()?_self.startDate.date().toString("ddd, MMM d, yyyy"):_self.method.isHourly()?"This week":"Starts: Anytime"});this.isSameMethod=function(reservationMethod){var intMethod=parseInt(reservationMethod),currentMethod=_self.method();return intMethod==currentMethod||isNaN(intMethod)&&isNaN(currentMethod)};this.methodExpanded=ko.observable(!1);this.methodToggleExpanded=function(){_self.methodExpanded(!_self.methodExpanded())};this.timeBlockPopupVisible=ko.observable(!1);this.timeBlockPopupVisibilityDelayed=ko.observable(!1);this.timeBlockPopupVisibleComputed=ko.computed(function(){return _self.timeBlockPopupVisible()||_self.timeBlockPopupVisibilityDelayed()});this.delaytimeBlockPopupVisibility=function(){_self.timeBlockPopupVisibilityDelayed(!0);setTimeout(function(){_self.timeBlockPopupVisibilityDelayed(!1)},1e3)};this.timeBlockPopupToggleVisibility=function(){_self.timeBlockPopupVisible(!_self.timeBlockPopupVisible());_self.timeBlockPopupVisible()||(_self.hideFilterExtensions(),_self.timeBlockPopupVisibilityDelayed(!1))};this.startDateToggleVisibility=function(){_self.delaytimeBlockPopupVisibility();_self.startDateVisible(!_self.startDateVisible());_self.startTimeVisible(!1);_self.durationVisible(!1)};this.startTimeVisible=ko.observable(!1);this.startTimeToggleVisibility=function(){_self.delaytimeBlockPopupVisibility();_self.startTimeVisible(!_self.startTimeVisible());_self.startDateVisible(!1);_self.durationVisible(!1)};this.durationVisible=ko.observable(!1);this.durationToggleVisibility=function(){_self.delaytimeBlockPopupVisibility();_self.durationVisible(!_self.durationVisible());_self.startDateVisible(!1);_self.startTimeVisible(!1)};this.hideFilterExtensions=function(){_self.startDateVisible(!1);_self.startTimeVisible(!1);_self.durationVisible(!1)};this.isDefaultStartTime=function(timeSpan){var currentDate,currentTimeSpan;return _self.startDate.isCurrentDate()?(currentDate=new Date,currentDate.setMinutes(currentDate.getMinutes()-currentDate.getMinutes()%15+15),currentDate.setSeconds(0),currentTimeSpan=currentDate.toString("HH:mm:ss"),timeSpan==currentTimeSpan):timeSpan=="07:00:00"}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.FeedbackViewModel=function(viewModel){var _self=this;this.display=ko.computed(function(){return viewModel.displayMTMNullState()||viewModel.displayNullState()},this);this.isMTM=ko.computed(function(){return viewModel.displayMTMNullState()},this);this.email=ko.observable().extend({required:{message:"Please fill in your Email"},email:!0});this.emailVisible=function(){return!(viewModel.memberId()&&viewModel.memberId().length>0)};this.submitDisabled=function(){return _self.email.isValid()?!_self.email.isValid():_self.emailVisible()};this.feedbackSubmitted=ko.observable(!1);this.submitFeedback=function(){!_self.emailVisible()||_self.email.isValid()?(LSHelper.HelperLib.blockUI(),viewModel.saveSearch(_self.email(),"ThroughEmptySearchResults",function(memberId,memberName){viewModel.memberId(memberId);_self.feedbackSubmitted(!0);_self.submitFeedbackEmail(memberId,memberName);LSHelper.HelperLib.unblockUI()},Enum.SavedSearchSourceType.CreateAlertNoResults,viewModel.workspaceCount()==0)):_self.emailVisible()&&ko.validation.group(_self).showAllMessages()};this.submitFeedbackEmail=function(memberId,memberName){var filters=[{Name:"Reservation Method",DisplayValue:viewModel.timeFilters.method.isMonthly()?"Monthly":"Hourly"},{Name:"Search Address",DisplayValue:viewModel.searchRequest.Address()}],appliedFilters,data;viewModel.searchRequest.Latitude()&&filters.push({Name:"Latitude",DisplayValue:viewModel.searchRequest.Latitude()});viewModel.searchRequest.Longitude()&&filters.push({Name:"Longitude",DisplayValue:viewModel.searchRequest.Longitude()});appliedFilters=$.map(viewModel.appliedFilters(),function(element,index){return{Name:element.name,DisplayValue:element.displayValue}});Array.prototype.push.apply(filters,appliedFilters);data={IsMonthToMonth:_self.isMTM(),FeedbackEmail:_self.email(),FeedbackName:memberName,SearchQuery:window.location.href,Filters:filters};$.ajax({url:"/Search/SubmitNullStateFeedback",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(data),success:function(data){viewModel.noVenuesFeedbackSubmitted(data)},complete:function(){LSHelper.HelperLib.unblockUI()}})};this.hasTrackedNGFeedback=!1;this.hasClosedNGFeedback=ko.observable(!1);this.NGFeedbackFound=ko.observable(!1);this.displayNGFeedback=ko.computed(function(){var result=!_self.hasClosedNGFeedback()&&!_self.display()&&viewModel&&viewModel.searchPager&&viewModel.searchPager.currentPage()==0&&viewModel.pinDataModel().length>=6;return result&&!_self.hasTrackedNGFeedback&&(_self.trackGAVPV(),_self.hasTrackedNGFeedback=!0),result});this.closeNGFeedback=function(){_self.hasClosedNGFeedback(!0)};this.NGFeedbackYes=function(){_self.NGFeedbackFound(!0)};this.NGFeedbackNo=function(){$zopim(function(){$zopim.livechat.window.show()})};this.trackGAVPV=function(){typeof ga=="function"&&ga("send","pageview",{page:"/vpv/search/did-you-find-space"})}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.NarrowGuideViewModel=function(viewModelInterface){viewModelInterface=$.extend({shouldOpen:!0,searchRequest:{},clearAppliedFilters:function(){},startSearch:function(){},saveSearch:function(){}},viewModelInterface);var _self=this;this.searchRequest=viewModelInterface.searchRequest;this.cancelCookie="ngcn";this.isVisible=ko.observable(function(){var result=typeof viewModelInterface.shouldOpen=="undefined"?!0:viewModelInterface.shouldOpen,urlParamShouldOpen=LSHelper.HelperLib.getURLParameter("search-guide");if(urlParamShouldOpen!=undefined)try{result=JSON.parse(urlParamShouldOpen.toLowerCase())}catch(exc){}else $.cookie(_self.cancelCookie)==="true"&&(result=!1);return result}());this.visibleStepList=function(){var result=[];return LSHelper.HelperLib.getURLParameter("rms")||result.push(1),_self.searchRequest.displayWorkspaceCapacity()<=1&&result.push(2),_self.searchRequest.SpaceTypes()||result.push(3),result.push(4),result}();_self.visibleStepList.length<=1&&_self.isVisible(!1);this.currentStep=ko.observable(_self.visibleStepList[0]);this.stepsCss=ko.computed(function(){return"ng-steps-wrapper-step-"+_self.currentStep()});this.closeButtonVisible=ko.computed(function(){return _self.currentStep()==4});this.close=function(){$.cookie(_self.cancelCookie,!0);_self.isVisible(!1)};this.goToNextStep=function(){var currentStep=_self.currentStep(),indexOfCurrentStep=_self.visibleStepList.indexOf(currentStep),nextStep;indexOfCurrentStep>-1&&indexOfCurrentStep<_self.visibleStepList.length-1&&(nextStep=_self.visibleStepList[indexOfCurrentStep+1],_self.goToStep(nextStep))};this.goToStep=function(step){var currentStep=_self.currentStep();_self.trackGAVPV(currentStep);_self.currentStep(step)};this.trackGAVPV=function(step,attempt){attempt=attempt||0;var trackPage=undefined;switch(step){case 1:trackPage="hourly-or-monthly";break;case 2:trackPage="how-many-people";break;case 3:trackPage="space-type";break;case 4:trackPage="save-search";break;default:break}typeof ga=="function"?trackPage&&ga("send","pageview",{page:"/vpv/guided-search/"+trackPage}):attempt<3&&setTimeout(function(){_self.trackGAVPV(step,++attempt)},700)};this.applyFilter=function(){viewModelInterface.startSearch();_self.goToNextStep()};this.applyReservationMethod=function(method){_self.searchRequest.timeFilters.method(method);_self.applyFilter()};this.applySpaceTypeFilter=function(spaceType){_self.searchRequest.SpaceTypes(spaceType);_self.applyFilter()};_self.saveSearch=function(){viewModelInterface.saveSearch(null,null,function(){_self.trackGAVPV(4);_self.close()})}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.SearchMapTooltipViewModel=function(params){params=$.extend({venueWithWorkspaces:{Workspaces:[],VenueId:"",VenueName:"",VenueAddress:""},showInvisibleSpaces:!1},params);this.HideLink=params.venueWithWorkspaces.HideLink;this.IsOnCurrentPage=params.venueWithWorkspaces.IsOnCurrentPage;this.IsAltSpace=params.venueWithWorkspaces.IsAltSpace;this.Workspaces=params.venueWithWorkspaces.Workspaces.filter(function(workspace){return params.showInvisibleSpaces||workspace.IsVisibleForSearch}).map(function(workspace){var venueUrlWithParams=workspace.VenueUrlWithParams(),workspaceUrlWithParams=workspace.WorkspaceUrlWithParams();return{Id:workspace.Id,VenueId:params.venueWithWorkspaces.VenueId,VenueName:params.venueWithWorkspaces.VenueName,VenueAddress:params.venueWithWorkspaces.VenueAddress,VenueUrl:venueUrlWithParams+(venueUrlWithParams.indexOf("?")==-1?"?":"&")+(workspace.IsNearMatch?"&src=srpmap-almost":"&src=srpmap"),WorkspaceUrl:workspaceUrlWithParams+(workspaceUrlWithParams.indexOf("?")==-1?"?":"&")+(workspace.IsNearMatch?"&src=srpmap-almost":"&src=srpmap"),Name:workspace.WorkspaceName,ImageUrl:workspace.ImageUrl,PricesString:workspace.PricesString,Favorited:workspace.Favorited,PriceAmount:workspace.PriceAmount,PriceDescription:workspace.PriceDescription,OpenWPLinksInNewTab:workspace.OpenWPLinksInNewTab,IsAltSpace:workspace.IsAltSpace}});this.Workspaces.length==0};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.SearchRequest=function(params){var _self=this,mappings,isRangeSelected,toggleRange,sortOrderVisibleParam;params=$.extend({searchRequest:null},params);this.timeFilters=new LiquidSpace.Search.SearchTimeFilters;mappings={ignore:["Id","CreatedDate","ModifiedDate","FromOnboarding","City","State","Country","LocationIndex"],ReservationMethod:{create:function(options){return _self.timeFilters.method(options.data),ko.computed({read:function(){return _self.timeFilters.method()},write:function(val){_self.timeFilters.method(val)}})}},StartTime:{create:function(options){return _self.timeFilters.startDate.date(Date.parse(options.data)),ko.computed({read:function(){return _self.timeFilters.startDate.date()},write:function(val){_self.timeFilters.startDate.date(val)}})},update:function(options){return Date.parse(options.data)}},ReservationStart:{create:function(options){return _self.timeFilters.startTime.timeSpan(options.data),ko.computed({read:function(){return _self.timeFilters.startTime.timeSpan()},write:function(val){_self.timeFilters.startTime.timeSpan(val)}})}},ReservationLengthMinutes:{create:function(options){return _self.timeFilters.duration.minutes(options.data),ko.computed({read:function(){return _self.timeFilters.duration.minutes()},write:function(val){_self.timeFilters.duration.minutes(val)}})}}};ko.mapping.fromJS(params.searchRequest,mappings,this);this.toJS=function(){var result=ko.mapping.toJS(_self);return result.StartTime=_self.timeFilters.startDate.textValue(),result};this.update=function(searchRequest){ko.mapping.fromJS(searchRequest,mappings,_self)};isRangeSelected=LiquidSpace.Search.SRPHelper.isRangeSelected;toggleRange=LiquidSpace.Search.SRPHelper.toggleRange;this.ignoreMapBoundsAdjust=ko.observable(!1);this.constMinCapacity=1;this.constMaxCapacity=999;this.constMinSize=100;this.incrementCapacity=function(incr){var currentValue=_self.displayWorkspaceCapacity(),newValue=currentValue+incr;newValue<_self.constMinCapacity&&(newValue=_self.constMinCapacity);newValue>_self.constMaxCapacity&&(newValue=_self.constMaxCapacity);_self.displayWorkspaceCapacity(newValue)};this.displayWorkspaceCapacity=ko.computed({read:function(){var val=parseInt(_self.WorkspaceCapacity());return val||1},write:function(value){value<=_self.constMinCapacity&&(value=0);_self.WorkspaceCapacity(value);_self.counterTriggerSearch(value+"capacity"+Date.now())},owner:_self});this.incrementSize=function(incr){var currentValue=_self.displaySize(),newValue=currentValue,threshold=1e3;incr=currentValue<threshold||currentValue==threshold&&incr<0?incr*100:incr*500;newValue=currentValue+incr;newValue<_self.constMinSize&&(newValue=_self.constMinSize);_self.displaySize(newValue)};this.displaySize=ko.computed({read:function(){return parseInt(_self.MinSize())||_self.constMinSize},write:function(value){value<=_self.constMinSize&&(value=0);_self.MinSize(value);_self.counterTriggerSearch(value+"size"+Date.now())},owner:_self});this.displaySizeText=ko.computed(function(){return _self.displaySize()+"+ sq ft"});this.counterTriggerSearch=ko.observable().extend({throttle:800});this.toggleSizeRange=function(min,max){_self.ignoreMapBoundsAdjust(!0);toggleRange({min:min,max:max,currentMin:parseFloat(_self.MinSize()),currentMax:parseFloat(_self.MaxSize()),setMin:function(value){_self.MinSize(value)},setMax:function(value){_self.MaxSize(value)}})};this.isSizeRangeSelected=function(min,max){return isRangeSelected({min:min,max:max,currentMin:parseFloat(_self.MinSize()),currentMax:parseFloat(_self.MaxSize())})};this.toggleCapacityRange=function(min,max){_self.ignoreMapBoundsAdjust(!0);toggleRange({min:min,max:max,currentMin:parseFloat(_self.WorkspaceCapacity()),currentMax:parseFloat(_self.WorkspaceMaxCapacity()),setMin:function(value){value==max?_self.WorkspaceCapacity(value+1):_self.WorkspaceCapacity(value)},setMax:function(value){value==min?_self.WorkspaceMaxCapacity(value-1):_self.WorkspaceMaxCapacity(value)}})};this.toggleCapacityRange1=function(){_self.ignoreMapBoundsAdjust(!0);_self.toggleCapacityRange(0,1);_self.WorkspaceCapacity()==0&&_self.WorkspaceCapacity(null)};this.isCapacityRangeSelected=function(min,max){return isRangeSelected({min:min,max:max,currentMin:parseInt(_self.WorkspaceCapacity()),currentMax:parseInt(_self.WorkspaceMaxCapacity())})};this.isEnvironmentSelected=function(environment){return _self.Environments()&environment};this.toggleEnvironment=function(environment){_self.ignoreMapBoundsAdjust(!0);_self.Environments(_self.Environments()^environment)};this.isSpaceTypeSelected=function(spaceType){return spaceType==Enum.SpaceType.Desk?_self.SpaceTypes()&(Enum.SpaceType.Desk|Enum.SpaceType.OpenDesk|Enum.SpaceType.DedicatedDesk):_self.SpaceTypes()&spaceType};this.toggleSpaceType=function(spaceType){_self.ignoreMapBoundsAdjust(!0);spaceType==Enum.SpaceType.Desk&&_self.isSpaceTypeSelected(Enum.SpaceType.Desk)?_self.SpaceTypes(_self.SpaceTypes()&~(Enum.SpaceType.Desk|Enum.SpaceType.OpenDesk|Enum.SpaceType.DedicatedDesk)):_self.SpaceTypes(_self.SpaceTypes()^spaceType)};this.isDeskSpaceSubtypeSelected=function(deskSubtype){return _self.SpaceTypes()&deskSubtype};this.toggleDeskSpaceSubtype=function(deskSubtype){_self.ignoreMapBoundsAdjust(!0);_self.isDeskSpaceSubtypeSelected(deskSubtype)||_self.SpaceTypes(_self.SpaceTypes()&~(Enum.SpaceType.Desk|Enum.SpaceType.OpenDesk|Enum.SpaceType.DedicatedDesk)|deskSubtype)};this.toggleNeighborhood=function(neighborhoodId){_self.ignoreMapBoundsAdjust(!0);_self.isNeighborhoodSelected(neighborhoodId)?_self.NeighborhoodIds.remove(neighborhoodId):_self.NeighborhoodIds.push(neighborhoodId)};this.isNeighborhoodSelected=function(neighborhoodId){return _self.NeighborhoodIds.indexOf(neighborhoodId)!=-1};this.toggleAmenity=function(amenityId){_self.ignoreMapBoundsAdjust(!0);_self.isAmenitySelected(amenityId)?_self.AmenityIds.remove(amenityId):_self.AmenityIds.push(amenityId)};this.isAmenitySelected=function(amenityId){return _self.AmenityIds.indexOf(amenityId)!=-1};this.isStartTimeSelected=function(timeSpan){return _self.timeFilters.startTime.timeSpan()==timeSpan};this.priceFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinPrice=parseFloat(_self.MinPrice()),filterMaxPrice=parseFloat(_self.MaxPrice()),getMinLabel,getMaxLabel;return isNaN(filterMinPrice)&&(filterMinPrice=0),isNaN(filterMaxPrice)&&(filterMaxPrice=Infinity),(filterMinPrice!=0||filterMaxPrice!=Infinity)&&(displayValue="Price filter",filterMaxPrice<=1?displayValue="Free":(getMinLabel=function(){var result="";return result=filterMinPrice<.001?"Free":filterMinPrice<=1?"$1":filterMinPrice==Infinity?"":"$"+filterMinPrice,filterMaxPrice==Infinity&&(result+="+"),result},getMaxLabel=function(){return filterMaxPrice==Infinity?"":"-$"+filterMaxPrice},displayValue=getMinLabel()+getMaxLabel())),displayValue});this.sizeFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinSize=parseFloat(_self.MinSize()),filterMaxSize=parseFloat(_self.MaxSize());return isNaN(filterMinSize)&&(filterMinSize=0),isNaN(filterMaxSize)&&(filterMaxSize=Infinity),(filterMinSize!=0||filterMaxSize!=Infinity)&&(displayValue=filterMaxSize==Infinity?"over "+filterMinSize+" sq ft":filterMinSize==0?"up to "+filterMaxSize+" sq ft":filterMinSize+"-"+filterMaxSize+" sq ft"),displayValue});this.capacityFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinCapacity=parseInt(_self.WorkspaceCapacity());return!isNaN(filterMinCapacity)&&filterMinCapacity>1&&(displayValue="over "+filterMinCapacity),displayValue});this.capacityMinMaxFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinCapacity=parseInt(_self.WorkspaceCapacity()),filterMaxCapacity=parseInt(_self.WorkspaceMaxCapacity());return isNaN(filterMinCapacity)&&(filterMinCapacity=0),isNaN(filterMaxCapacity)&&(filterMaxCapacity=Infinity),(filterMinCapacity>1||filterMaxCapacity!=Infinity)&&(displayValue=filterMaxCapacity==Infinity?"over "+filterMinCapacity:filterMinCapacity<=1?"up to "+filterMaxCapacity:filterMinCapacity+"-"+filterMaxCapacity),displayValue});this.priceFilterParams=ko.observable();this.getSpaceTypesString=function(){var currentSpaceTypes=_self.SpaceTypes(),spaceType="";if(currentSpaceTypes==Enum.SpaceType.Any)spaceType="Space";else{var eligibleSpaceTypes=Enum.SpaceType.getValues(),includedTypes=eligibleSpaceTypes.filter(function(spaceType){return spaceType.Value?currentSpaceTypes&parseInt(spaceType.Value):!1}),incudedTypesDescriptions=includedTypes.map(function(spaceType){return spaceType.Description});spaceType=incudedTypesDescriptions.join(", ")}return spaceType};this.getStringRepresentation=function(){var resultArray=[_self.getSpaceTypesString()];return _self.displayWorkspaceCapacity()>1&&resultArray.push("for "+_self.displayWorkspaceCapacity()),resultArray.push("in "+_self.Address()),resultArray.join(" ")};this.SortOrder(this.SortOrder().toString());this.sortOrderOptions=Enum.SearchRequestSortOrder.getValues().map(function(e){return{text:e.Description,value:e.Value}});sortOrderVisibleParam=LSHelper.HelperLib.getURLParameter("sortOrderVisible");sortOrderVisibleParam!=null&&(parseInt(sortOrderVisibleParam)?$.cookie("sortOrderVisible",1,{path:"/"}):$.removeCookie("sortOrderVisible"));this.sortOrderVisible=ko.observable(!!parseInt($.cookie("sortOrderVisible")))};typeof LiquidSpace=="undefined"&&(LiquidSpace={});LiquidSpace.SavedSearch=function(options,data){function getSearchById(id){return _self.searches().filter(function(val){return val.SearchRequest.Id==id})[0]}function positionCollectionWrapper($elem){var rightClass="right-align",leftClass="left-align",windowWidth=window.innerWidth,eOffset=$elem.offset(),eWidth=$elem.width(),eHeight=$elem.height(),wWidth=$searchCollectionWrapper.width(),wPinHeight=15,wPinRightOffset=20,wOffset={top:eOffset.top+eHeight+wPinHeight,left:eOffset.left+eWidth/2-wWidth/2};wOffset.left+wWidth>windowWidth?(wOffset.left=wOffset.left-wWidth/2+wPinRightOffset,$searchCollectionWrapper.addClass(rightClass)):$searchCollectionWrapper.removeClass(rightClass);wOffset.left<0||options.alwaysLeft?(wOffset.left=wOffset.left+wWidth/2-wPinRightOffset,$searchCollectionWrapper.addClass(leftClass)):$searchCollectionWrapper.removeClass(leftClass);$searchCollectionWrapper.css("left",wOffset.left);$searchCollectionWrapper.css("top",wOffset.top)}var _self,$searchCollectionWrapper,_selectedSearch;options=$.extend({memberId:null,selectedSavedSearchId:null,onSearchSelected:function(search){},onInitComplete:function(){},alwaysLeft:!1,showCreateOption:!1},options);_self=this;$searchCollectionWrapper=$('<div class="saved-search-collection-wrapper" data-bind="visible: collectionVisible, component: { name: \'saved-search-directory\', params: $data }"><\/div>');$("body").append($searchCollectionWrapper);this.searches=ko.observableArray(data);this.selectedSearch=ko.observable(null);this.collectionVisible=ko.observable(!1);this.showCreateOption=ko.observable(options.showCreateOption);this.tooltipVisible=ko.observable(!1);options.selectedSavedSearchId&&(_selectedSearch=getSearchById(options.selectedSavedSearchId),_selectedSearch&&_self.selectedSearch(_selectedSearch));this.searchesSorted=ko.computed(function(){return _self.searches().sort(function(a,b){return new Date(b.SearchRequest.ModifiedDate)-new Date(a.SearchRequest.ModifiedDate)})});this.selectSearch=function(data,event){if(data){_self.selectedSearch(data);options.onSearchSelected(data);_self.collectionVisible(!1)}};this.openCollection=function(data,event){event.stopPropagation();var $elem=$(event.target);_self.searchesSorted().length&&!_self.collectionVisible()?(_self.collectionVisible(!0),positionCollectionWrapper($elem)):_self.collectionVisible(!1)};this.isSearchSelected=function(data){var _selectedSearch=_self.selectedSearch();return _selectedSearch&&_selectedSearch.SearchRequest.Id==data.SearchRequest.Id};this.addOrUpdateSearch=function(savedSearch,select){if(savedSearch&&savedSearch.SearchRequest){var isFirstSearch=!_self.searches().length,existingSearch=getSearchById(savedSearch.SearchRequest.Id);existingSearch&&_self.searches.remove(existingSearch);_self.searches.push(savedSearch);select&&_self.selectedSearch(savedSearch);isFirstSearch&&_self.showTooltip()}};this.removeSearch=function(savedSearch){var existingSearch,latestSearch;savedSearch&&savedSearch.SearchRequest&&(existingSearch=getSearchById(savedSearch.SearchRequest.Id),existingSearch&&_self.searches.remove(existingSearch),latestSearch=_self.searchesSorted()[0],latestSearch?_self.selectedSearch(latestSearch):_self.selectedSearch(null))};this.createSearch=function(){_self.selectedSearch(null);_self.collectionVisible(!1);options.onSearchCreate()};this.refresh=function(callback){LSHelper.HelperLib.blockUI();$.ajax({url:"/Search/MemberSearches",type:"POST",success:function(response){response&&response.success?(_self.searches(response.searches),callback&&callback()):LSHelper.Dialog.alertDialog(response.message)},complete:function(){LSHelper.HelperLib.unblockUI()}})};this.showTooltip=function(){_self.collectionVisible()||$(".saved-search-browser:visible").click();_self.tooltipVisible(!0);setTimeout(function(){_self.tooltipVisible(!1)},5e3)};ko.applyBindings(_self,$searchCollectionWrapper[0])};LiquidSpace.SavedSearch.getModel=function(options,callback){$.ajax({url:"/Search/MemberSearches?memberId="+(options.memberId||""),type:"POST",success:function(response){response&&response.success?callback(new LiquidSpace.SavedSearch(options,response.searches)):LSHelper.Dialog.alertDialog(response.message)},complete:function(){}})},function($){$.deparam=function(params,coerce){var obj={},coerce_types={"true":!0,"false":!1,"null":null};return $.each(params.replace(/\+/g," ").split("&"),function(j,v){var param=v.split("="),key=decodeURIComponent(param[0]),val,cur=obj,i=0,keys=key.split("]["),keys_last=keys.length-1;if(/\[/.test(keys[0])&&/\]$/.test(keys[keys_last])?(keys[keys_last]=keys[keys_last].replace(/\]$/,""),keys=keys.shift().split("[").concat(keys),keys_last=keys.length-1):keys_last=0,param.length===2)if(val=decodeURIComponent(param[1]),coerce&&(val=val&&!isNaN(val)?+val:val==="undefined"?undefined:coerce_types[val]!==undefined?coerce_types[val]:val),keys_last)for(;i<=keys_last;i++)key=keys[i]===""?cur.length:keys[i],cur=cur[key]=i<keys_last?cur[key]||(keys[i+1]&&isNaN(keys[i+1])?{}:[]):val;else $.isArray(obj[key])?obj[key].push(val):obj[key]=obj[key]!==undefined?[obj[key],val]:val;else key&&(obj[key]=coerce?undefined:"")}),obj}}(jQuery);typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.Search=function(params){function sendSearchTermToGoogleAnalitycs(result){if(typeof ga=="function"){var searchTerm="unknown";result&&result.address&&(searchTerm=result.address);ga("send","pageview",{page:"/vpv/search?search-term="+searchTerm})}}function checkNullStateConditions(){return!_self.viewModel.searchIsProcessingInitial()&&!_self.viewModel.searchIsProcessing()&&_self.viewModel.searchAvailable()&&_self.viewModel.searchCompleted()&&_self.viewModel.searchPager&&_self.viewModel.searchPager.pageCount()==0}function applyTimeFilterRoutine(){_self.rememberSearchSettings();_self.startSearch();_self.viewModel.timeFilters.hideFilterExtensions()}var options={locationTempateName:null,elementToBindSelector:".page-wrapper",showMemberGroupPreferred:!1,searchAvailable:!1,maxVenueWorkspacesPerPage:0,pageSize:50,searchRequest:null,memberId:"",memberName:"",isDynamicSearchRoute:!1,selectedSavedSearchId:null,geoLocation:null,guestOnboardingModel:null},getDocumentTitle,onMapMoveRoutine,calculateNeighborhoodDistancesFromCenter,_scrollTop,boundsToFitForCitySearch,pageNumberFromUrl,_documentWidth,updateSwipers,initNarrowGuide;$.extend(options,params);var _self=this,mapTrackText="Location based on map",searchAddressDefaultText=$("#searchbar_address").attr("placeholder"),defaultCityZoom=12,blockSearchUI=function(){LSHelper.HelperLib.blockUI("#searchWorkspacesForm");LSHelper.HelperLib.blockUI(".filters-wrapper-table");LSHelper.HelperLib.blockUI(".searchbar-neighborhoods-wrapper")},unblockSearchUI=function(){LSHelper.HelperLib.unblockUI("#searchWorkspacesForm");LSHelper.HelperLib.unblockUI(".filters-wrapper-table");LSHelper.HelperLib.unblockUI(".searchbar-neighborhoods-wrapper")},storedSearchAdress;this.startSearch=function(autocompleteRequest){var currentAdress,newAddress,segments,documentTitle,data,displayRadius;if(autocompleteRequest&&(currentAdress=_self.viewModel.searchRequest.Address(),newAddress=autocompleteRequest.Address,_self.viewModel.searchIsProcessing()||currentAdress==newAddress||_self.viewModel.searchRequest.NeighborhoodIds([]),_self.viewModel.searchRequest.Address(autocompleteRequest.Address)),!_self.viewModel.searchIsProcessing()){_self.viewModel.searchIsProcessing(!0);try{$("#StartTime").rules("remove")}catch(e){}autocompleteRequest&&(_self.viewModel.searchRequest.IsFullTextSearch(autocompleteRequest.IsFullTextSearch),_self.viewModel.searchRequest.Latitude(autocompleteRequest.Latitude),_self.viewModel.searchRequest.Longitude(autocompleteRequest.Longitude),_self.viewModel.setVenueAndVenueGroupIds(autocompleteRequest.VenueId||"",autocompleteRequest.VenueGroupId||"",_self.viewModel.searchRequest.SearchByANDCondition()),_self.viewModel.searchRequest.IsCurrentLocationSearch(autocompleteRequest.IsCurrentLocationSearch),storedSearchAdress=$("#searchbar_address").val());$(document).scrollTop(0);_self.viewModel.searchRequest.ExclusiveHotelsVenueGroupId(LSHelper.sessionStorage.get("ExclusiveHotelsVenueGroupId"));$(".search-featured-description, .promotion-header-wrapper").remove();segments=window.location.href.split("?");segments[0]="/search";documentTitle=getDocumentTitle();document.title=documentTitle;history.replaceState(null,documentTitle,segments.join("?"));$("#searchbar_address").blur();autocompleteRequest&&_self.rememberSearchSettings();_self.viewModel.searchPager.setCurrentPage(0,"normal");data=_self.viewModel.searchRequest.toJS();$("#searchbar_address").val()||(displayRadius=_self.map.getDisplayRadius(),displayRadius&&(data.Distance=displayRadius));autocompleteRequest&&_self.viewModel.searchRequest.UpdateSearchWhenMapMoves(!1);blockSearchUI();_self.getWorkspaces(_self.viewModel.searchRequest.VenueId(),data,function(result){sendSearchTermToGoogleAnalitycs(result);_self.viewModel.timeFilters.isSameMethod(result.reservationMethod)||_self.viewModel.timeFilters.method(result.reservationMethod);result.searchAvailable!=undefined&&_self.viewModel.searchAvailable(result.searchAvailable);_self.populateViewModel(result);$(".scroll-container").scrollTop(0);unblockSearchUI();result.geoLocation&&result.geoLocation.City?(_self.viewModel.city(result.geoLocation.City),_self.viewModel.state(result.geoLocation.State),_self.viewModel.country(result.geoLocation.Country)):(_self.viewModel.city(""),_self.viewModel.state(""),_self.viewModel.country(""));_self.viewModel.searchIsProcessing(!1);_self.viewModel.searchRequest.SourceType(null);document.title=getDocumentTitle()},function(){unblockSearchUI()})}};getDocumentTitle=function(){var isMonthly,spaceTypes,titleComponents,city,resource;return typeof _self.viewModel=="undefined"||typeof _self.viewModel.searchRequest=="undefined"?Const.Search.SearchPageTitle:(isMonthly=_self.viewModel.searchRequest.ReservationMethod()==Enum.WorkspaceReservationMethod.Period,spaceTypes=_self.viewModel.searchRequest.SpaceTypes()&(isMonthly?Enum.SpaceType._monthly:Enum.SpaceType._hourly),spaceTypes=Enum.SpaceType.getValues().filter(function(x){return spaceTypes&x.Value}),titleComponents=[],city=_self.viewModel.city(),city&&titleComponents.push(city),titleComponents.push(isMonthly?"Monthly":"Hourly"),titleComponents.push(spaceTypes.length==1?spaceTypes[0].Description+"s":"Spaces"),_self.viewModel.searchRequest.AmenityIds().length==1&&(resource=_self.amenitiesNormalizedNames[_self.viewModel.searchRequest.AmenityIds()[0]],resource!=null&&titleComponents.push("with "+resource.name)),titleComponents.push("| LiquidSpace"),titleComponents.join(" "))};_self.memberFavoriteWorkspaceIds=[];this.searchOnMapMove=function(){var sdata,displayRadius,performSearch;_self.viewModel.searchRequest.IsFullTextSearch(!1);_self.viewModel.searchRequest.IsCurrentLocationSearch(!1);$("#searchbar_address").val("");_self.viewModel.searchRequest.Address(null);sdata=_self.viewModel.searchRequest.toJS();displayRadius=_self.map.getDisplayRadius();displayRadius&&(sdata.Distance=displayRadius);blockSearchUI();performSearch=function(){_self.viewModel.searchIsProcessing(!0);onMapMoveRoutine=function(){};_self.getWorkspaces(undefined,sdata,function(data){_self.populateViewModel(data);onMapMoveRoutine();_self.viewModel.searchIsProcessing(!1);unblockSearchUI();_self.rememberSearchSettings()})};_self.viewModel.searchCompleted()?performSearch():onMapMoveRoutine=performSearch};this.setViewModelMapParams=function(lat,lng,zoom){if(lat==undefined&&lng==undefined){var center=_self.map.getCenter();lat=center.latitude;lng=center.longitude}_self.viewModel.searchRequest.Latitude(lat);_self.viewModel.searchRequest.Longitude(lng);zoom==undefined&&(zoom=_self.map.getZoom());_self.viewModel.searchRequest.Zoom(zoom)};this.map={clearMarkers:function(){},addMarker:function(){},fitBounds:function(){},resizeMap:function(){},lastSelectedItem:null};this.initMap=function(mapSource,supportedCountries){_self.map=new LiquidSpace.Mapbox({mapOptions:{container:"searchbar_map_canvas",scrollZoom:!0}});_self.map.map.on("dragstart",function(){_self.viewModel.showMapDragHint()||_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()||(_self.viewModel.showMapDragHint(!0),setTimeout(function(){_self.viewModel.showMapDragHint(!1)},7e3));_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()||_self.viewModel.mapWasMovedAfterLastSearch(!0)});var renderTimeout=null;_self.map.map.on("dragend",function(){clearTimeout(renderTimeout);renderTimeout=setTimeout(function(){_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()&&(_self.setViewModelMapParams(),_self.searchOnMapMove())},500)});_self.map.map.on("render",function(){var center=_self.map.getCenter();calculateNeighborhoodDistancesFromCenter(center)})};$("#searchbar_address").searchAutocomplete({memberId:options.memberId,onSubmit:_self.startSearch,onSelect:function(item){if(_self.viewModel.searchRequest.ignoreMapBoundsAdjust(!1),item.extended||item.extended_city){if(item.extended_city){var geocoder=new LiquidSpace.Geocoder;geocoder.geocode({address:item.value},function(results,status){if(results!=null&&results.length>0){var latlng=results[0].geometry.location;_self.map.showMapCenter(latlng.lat,latlng.lng)}})}}else _self.map.showMapCenter(item.latitude,item.longitude)},appendElement:".filter-input-wrapper.address"});this.getWorkspaces=function(venueId,data,onSuccess,onError){_self.viewModel.savedSearchDirty(!0);$("#searchbar_address").val()&&_self.viewModel.searchRequest.Address($("#searchbar_address").val());_self.getData(venueId,data,GetUrl("GetWorkspaces","Search"),onSuccess,onError)};this.sessionExpiredShown=!1;this.getData=function(venueId,data,url,onSuccess,onError,skipShowLoading){skipShowLoading||_self.viewModel.searchCompleted(!1);data.VenueId=venueId;data.loggedInUserId=User.id;var onSuccessInternal=function(data){data!=null&&data.sessionExpired&&!_self.sessionExpiredShown&&(_self.sessionExpiredShown=!0,LSHelper.UI.showError({title:"Your administrator session has expired",content:"Search results is for anonymous user, please refresh page or relogin."}));onSuccess(data)};$.ajax({type:"POST",url:url,data:JSON.stringify(data),contentType:"application/json; charset=utf-8",success:onSuccessInternal,error:function(xhr,ajaxOptions,thrownError){$.isFunction(onError)&&onError(xhr,ajaxOptions,thrownError)},complete:function(){_self.viewModel.searchCompleted(!0);_self.viewModel.noVenuesFeedbackSubmitted(!1)}})};this.setMapCenter=function(lat,lng){lat!=undefined&&lat!=_self.viewModel.searchRequest.Latitude()&&_self.viewModel.searchRequest.Latitude(lat);lng!=undefined&&lng!=_self.viewModel.searchRequest.Longitude()&&_self.viewModel.searchRequest.Longitude(lng);_self.map.showMapCenter(_self.viewModel.searchRequest.Latitude(),_self.viewModel.searchRequest.Longitude());!_self.viewModel.searchRequest.ignoreMapBoundsAdjust()&&_self.viewModel.pinDataModel().length>0&&_self.map.fitBounds(_self.viewModel.searchRequest.Latitude(),_self.viewModel.searchRequest.Longitude())};this.setAmenities=function(amenitiesInResult){_self.viewModel.amenitiesInResult(amenitiesInResult.filter(function(a){return a.Name=="WiFi"&&_self.viewModel.timeFilters.method.isHourly()?!1:_self.viewModel.timeFilters.method.isMonthly()&&a.HourlyMonthly&Enum.HourlyMonthly.Monthly||_self.viewModel.timeFilters.method.isHourly()&&a.HourlyMonthly&Enum.HourlyMonthly.Hourly}).map(function(a){var normalizedName=_self.amenitiesNormalizedNames[a.Id].normalizedString;return $.extend({normalizedName:normalizedName,trackingEventName:"event-click-search-filter-amenity-"+normalizedName,checked:ko.computed(function(){return _self.viewModel.searchRequest.isAmenitySelected(a.Id)})},a)}).sort(function(a,b){return a.Name>b.Name}));_self.viewModel.searchRequest.AmenityIds(_self.viewModel.amenitiesInResult().filter(function(a){return a.checked()}).map(function(a){return a.Id}))};this.viewModel={mouseOver:function(workspace){if(_self.markersData[workspace.VenueId]){var marker=_self.markersData[workspace.VenueId].marker;marker&&marker.setHover(!0)}},mouseOut:function(workspace){if(_self.markersData[workspace.VenueId]){var marker=_self.markersData[workspace.VenueId].marker;marker&&marker.setHover(!1)}},searchType:function(){return _self.viewModel.searchRequest.VenueId()?"venue":_self.viewModel.searchRequest.VenueGroupId()?"venuegroup":"city"},city:ko.observable(options.geoLocation&&options.geoLocation.City?options.geoLocation.City:""),state:ko.observable(options.geoLocation&&options.geoLocation.State?options.geoLocation.State:""),country:ko.observable(options.geoLocation&&options.geoLocation.Country?options.geoLocation.Country:""),showMapDragHint:ko.observable(!1),mapWasMovedAfterLastSearch:ko.observable(!1),searchCompleted:ko.observable(!1),UpdateSearchWhenMapMoves:ko.observable(!1),narrowGuideViewModel:ko.observable(null),setPageCount:function(){},pageSize:function(){return _self.viewModel.searchType()=="venuegroup"?100:options.pageSize},searchIsProcessing:ko.observable(!1),searchIsProcessingInitial:ko.observable(!0),searchAvailable:ko.observable(options.searchAvailable),isDynamicSearchRoute:ko.observable(options.isDynamicSearchRoute),setVenueAndVenueGroupIds:function(venueId,venueGroupId,searchByANDCondition){searchByANDCondition||(_self.viewModel.searchRequest.SearchByANDCondition(!1),_self.viewModel.searchRequest.VenueId(venueId),_self.viewModel.searchRequest.VenueGroupId(venueGroupId))},memberId:ko.observable(options.memberId),pageDataModel:ko.observableArray(),pinDataModel:ko.observableArray(),totalWorkspacesUntrimmed:ko.observable(0),featuredWorkspaces:ko.observableArray(),featuredWorkspacesTemp:ko.observableArray(),filters:ko.observableArray(),filterMemberGroups:ko.observableArray([]),filterMemberGroupsImmutable:ko.observableArray([]),cacheId:ko.observable(),discountDescription:ko.observable(),searchRequest:new LiquidSpace.Search.SearchRequest({searchRequest:options.searchRequest}),searchPerformance:ko.observableArray(),noVenuesAvailableVisibility:function(){return!this.searchIsProcessingInitial()&&!this.searchIsProcessing()&&this.workspaceCount()==0&&this.searchAvailable()&&!this.appliedFilters().length&&this.searchCompleted()},noVenuesFeedbackSubmitted:ko.observable(!1),template:function(){return"ListTemplate"},templateFeatured:function(){return"FeaturedListTemplate"}.bind(_self.viewModel),filtersShown:ko.observable(!1),sizeFilterVisible:ko.observable(!1),neighborhoods:ko.observableArray([]),amenities:ko.observableArray(),amenitiesInResult:ko.observableArray([]),savedSearchDirty:ko.observable(!options.selectedSavedSearchId),previousNotLoggedInCallback:null,memberName:ko.observable(options.memberName),selectedSavedSearchId:ko.observable(null),savedSearchList:ko.observable(),saveSearch:function(email,memberConnectionType,callback,sourceType,sendEmail){var userId=_self.viewModel.memberId(),userName=_self.viewModel.memberName(),data,displayRadius,url;if(!_self.viewModel.savedSearchDirty()){$.isFunction(callback)&&callback(userId,userName);return}_self.viewModel.previousNotLoggedInCallback=document.notLoggedInCallBack;document.notLoggedInCallBack=function(){var searchInfo=_self.viewModel.searchRequest.getStringRepresentation();LSHelper.Account.popUpSignIn({redirectUrl:"",onLogInSuccessCallback:function(userId,memberName,joinFlow){_self.viewModel.memberId(userId);_self.viewModel.memberName(memberName);_self.viewModel.savedSearchList().refresh(function(){_self.viewModel.saveSearch(email,memberConnectionType,callback,sourceType,joinFlow&&sendEmail)})},onCloseCallback:function(){document.notLoggedInCallBack=_self.viewModel.previousNotLoggedInCallback},onlyHeaderReload:!0,signInMessage:'<div class="ss-caption">Sign in to save your search:<\/div><div class="ss-info h3">'+searchInfo+"<\/div>",joinMessage:'<div class="ss-caption">Join to save your search:<\/div><div class="ss-info h3">'+searchInfo+"<\/div>",popupParams:{email:email,mode:"join",memberConnectionType:memberConnectionType?memberConnectionType:"SaveSearchPreferences",supressEmail:sendEmail}})};_self.viewModel.searchRequest.SourceType(sourceType?sourceType:Enum.SavedSearchSourceType.SavedSearch);data=_self.viewModel.searchRequest.toJS();data.sendEmail=sendEmail||!1;_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()&&(displayRadius=_self.map.getDisplayRadius(),displayRadius&&(data.Distance=displayRadius));url=GetUrl("SaveMemberSearch","Search");_self.viewModel.isSavedSearchInSameCity()&&(url+="?searchId="+_self.viewModel.selectedSavedSearchId());_self.getData(_self.viewModel.searchRequest.VenueId(),data,url,function(er){document.notLoggedInCallBack=_self.viewModel.previousNotLoggedInCallback;_self.viewModel.savedSearchDirty(!1);$.isFunction(callback)&&callback(userId,userName);er.success&&(_self.viewModel.savedSearchList().addOrUpdateSearch(er.savedSearch,!0),_self.viewModel.selectedSavedSearchId(er.savedSearch.SearchRequest.Id),_self.rememberSearchSettings())},function(er,status,desc){},!0)},searchedVenue:ko.observable(),searchedVenueGroup:ko.observable(),searchForVenueGroup:function(venueGroup){_self.viewModel.searchRequest.IsFullTextSearch(!1);_self.viewModel.setVenueAndVenueGroupIds(null,venueGroup.Id,!1);_self.viewModel.searchRequest.IsCurrentLocationSearch(!1);$("#searchbar_address").val(venueGroup.Name);_self.viewModel.searchRequest.Address(venueGroup.Name);_self.rememberSearchSettings();_self.startSearch()},showSearchbarNeighborhoods:ko.observable(!1),guestOnboardingVisible:ko.observable(!1)};this.viewModel.guestOnboardingVisible.subscribe(function(){_self.viewModel.guestOnboardingVisible()?$("html").addClass("gonb-visible"):$("html").removeClass("gonb-visible")});LiquidSpace.SavedSearch.getModel({selectedSavedSearchId:options.selectedSavedSearchId,onSearchSelected:function(searchRequest){_self.viewModel.selectedSavedSearchId(searchRequest.SearchRequest.Id);_self.viewModel.searchRequest.update(searchRequest.SearchRequest);$("#searchbar_address").val(searchRequest.SearchRequest.Address||(searchRequest.SearchRequest.City?searchRequest.SearchRequest.City+", "+searchRequest.SearchRequest.State:""));_self.rememberSearchSettings();searchRequest.SearchRequest.UpdateSearchWhenMapMoves?_self.searchOnMapMove():_self.startSearch();_self.viewModel.savedSearchDirty(!1)}},function(viewModel){_self.viewModel.savedSearchList(viewModel);var selectedSearch=_self.viewModel.savedSearchList().selectedSearch();selectedSearch&&selectedSearch.SearchRequest&&_self.viewModel.selectedSavedSearchId(selectedSearch.SearchRequest.Id)});this.viewModel.timeFilters=this.viewModel.searchRequest.timeFilters;this.viewModel.searchRequest.UpdateSearchWhenMapMoves.subscribe(function(newValue){newValue==!0?($("#searchbar_address").val(""),_self.viewModel.searchRequest.Address(null),_self.viewModel.showMapDragHint(!1),_self.viewModel.mapWasMovedAfterLastSearch()&&(_self.setViewModelMapParams(),_self.searchOnMapMove(),_self.viewModel.mapWasMovedAfterLastSearch(!1),storedSearchAdress="")):($("#searchbar_address").val(storedSearchAdress),_self.viewModel.searchRequest.Address(storedSearchAdress));_self.rememberSearchSettings()});this.viewModel.isSavedSearchInSameCity=ko.computed(function(){var selectedSavedSearchId=_self.viewModel.selectedSavedSearchId(),selectedSearch;return selectedSavedSearchId&&_self.viewModel.savedSearchList()&&(selectedSearch=_self.viewModel.savedSearchList().selectedSearch(),selectedSearch&&selectedSearch.SearchRequest.City&&selectedSearch.SearchRequest.City.toUpperCase()==_self.viewModel.city().toUpperCase())?!0:!1});this.viewModel.saveSearchLabel=ko.computed(function(){return _self.viewModel.isSavedSearchInSameCity()?"Update Saved Search":"Save Search"});this.viewModel.searchRequest.UpdateSearchWhenMapMovesDependent=ko.computed(function(){_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()?$("#searchbar_address").attr("placeholder",mapTrackText):$("#searchbar_address").attr("placeholder",searchAddressDefaultText)});this.viewModel.neighborhoodsForSearchbar=ko.computed(function(){return _self.viewModel.neighborhoods().filter(function(n){return!n.checked()})});this.viewModel.neighborhoodsSorted=ko.computed(function(){return _self.viewModel.neighborhoods().sort(function(a,b){return a.distanceFromCenter()>b.distanceFromCenter()})});calculateNeighborhoodDistancesFromCenter=function(center){_self.viewModel.neighborhoods().forEach(function(n){n.distanceFromCenter(_self.map.getDistance(center,n.center))})};this.setNeighborhoods=function(neighborhoodsInResult){_self.viewModel.neighborhoods(neighborhoodsInResult.map(function(n){return $.extend({checked:ko.computed(function(){return _self.viewModel.searchRequest.isNeighborhoodSelected(n.id)}),center:{latitude:n.latitude,longitude:n.longitude},distanceFromCenter:ko.observable(_self.map.getDistanceFromCenter(new LiquidSpace.MapPoint(n.latitude,n.longitude))||0)},n)}));_self.viewModel.searchRequest.NeighborhoodIds(_self.viewModel.neighborhoods().filter(function(n){return n.checked()==!0}).map(function(n){return n.id}));viewModel.uncheckedNeighborhoods.removeAll();var swiper=document.getElementById("searchbarNeighborhoods").swiper;swiper&&swiper.slideTo(0)};this.viewModel.toggleNeighborhood=function(neighborhood){_self.viewModel.searchRequest.toggleNeighborhood(neighborhood.id);_self.rememberSearchSettings();_self.startSearch()};this.viewModel.displayMTMNullState=function(){return checkNullStateConditions()&&_self.viewModel.timeFilters.method.isMonthly()};this.viewModel.displayNullState=function(){return checkNullStateConditions()&&_self.viewModel.timeFilters.method.isHourly()};this.viewModel.urlWithParams=function(url){var params={StartTime:_self.viewModel.timeFilters.startDate.textValue(),ReservationStart:_self.viewModel.timeFilters.startTime.timeSpan(),WorkspaceCapacity:_self.viewModel.searchRequest.WorkspaceCapacity(),Amenities:_self.viewModel.searchRequest.AmenityIds().join(","),SpaceTypes:_self.viewModel.searchRequest.SpaceTypes(),ReservationMethod:_self.viewModel.timeFilters.method(),SortOrder:_self.viewModel.searchRequest.SortOrder()};return _self.viewModel.timeFilters.method()!=Enum.WorkspaceReservationMethod.Period&&(params.ReservationLengthMinutes=_self.viewModel.timeFilters.duration.minutes()),url+"?"+$.param(params)};this.viewModel.feedbackViewModel=new LiquidSpace.View.FeedbackViewModel(_self.viewModel);this.viewModel.amenitiesSelected=ko.computed(function(){return _self.viewModel.amenitiesInResult().filter(function(a){return a.checked()})});this.viewModel.neighborhoodsSelected=ko.computed(function(){return _self.viewModel.neighborhoods().filter(function(n){return n.checked()})});this.viewModel.neighborhoodsFollowCompleted=ko.observable(!1);this.viewModel.neighborhoodsLocation=ko.computed(function(){var neighborhoodsSorted=_self.viewModel.neighborhoodsSorted();return neighborhoodsSorted.length>0?neighborhoodsSorted[0].location:null});this.viewModel.cityClass=ko.computed(function(){return _self.viewModel.neighborhoodsLocation()?_self.viewModel.neighborhoodsLocation().toLowerCase().replace(" ","-"):null});this.viewModel.uncheckedNeighborhoods=ko.observableArray();this.viewModel.neighborhoodsToFollow=ko.computed(function(){for(var result=[],neighborhoodsSorted=_self.viewModel.neighborhoodsSorted().filter(function(element){return element.location==_self.viewModel.neighborhoodsLocation()}),i=0;i<neighborhoodsSorted.length;i++)if(_self.viewModel.uncheckedNeighborhoods.indexOf(neighborhoodsSorted[i].id)==-1&&(result.push(neighborhoodsSorted[i]),result.length==6))return result;return result});this.viewModel.uncheckNeighborhood=function(neighborhood){_self.viewModel.uncheckedNeighborhoods.push(neighborhood.id)};this.viewModel.followNeighborhoods=function(){if(_self.viewModel.neighborhoodsToFollow().length>0){var neighborhoodsIds=_self.viewModel.neighborhoodsToFollow().map(function(value){return value.id});$(".neighborhoods-panel-wrapper").lsLoading("set");$.ajax({url:"/Search/FollowNeighborhoods",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({neighborhoods:neighborhoodsIds,location:_self.viewModel.neighborhoodsLocation()}),success:function(data){data&&data.success?(_self.viewModel.neighborhoodsFollowCompleted(!0),$("#neighborhoods-follow-completed-banner").fadeIn(1e3).delay(5e3).fadeOut(1e3)):data&&data.loginNeeded&&LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){_self.viewModel.followNeighborhoods()},onlyHeaderReload:!0,popupParams:{mode:"join",memberConnectionType:"ThroughFollowNeighborhoods",regType:"ThroughFollowNeighborhoods",additionalRegData:JSON.stringify(neighborhoodsIds)}})},complete:function(){$(".neighborhoods-panel-wrapper").lsLoading("remove")}})}};this.viewModel.workspaceCount=ko.computed(function(){return _self.viewModel.pinDataModel?_self.viewModel.pinDataModel().reduce(function(accum,current){return accum.concat(current.Workspaces)},[]).filter(function(w){return w.IsVisibleForSearch&&!w.IsNearMatch}).length:_self.viewModel.totalWorkspacesUntrimmed()});var getPriceFilterDisplayValue=ko.computed(function(){var displayValue=_self.viewModel.searchRequest.priceFilterDisplayValue();return displayValue!=null?"Price: "+displayValue:null}),getSizeFilterDisplayValue=ko.computed(function(){var displayValue=_self.viewModel.searchRequest.sizeFilterDisplayValue();return displayValue!=null?"Size: "+displayValue:null}),getCapacityFilterDisplayValue=ko.computed(function(){var displayValue=_self.viewModel.searchRequest.capacityFilterDisplayValue();return displayValue!=null?"Capacity: "+displayValue:null});this.viewModel.appliedFilters=ko.computed(function(){var result=[],filterSpaceTypes,filterEnvironment,priceFilterDisplayValue,capacityFilterDisplayValue,sizeFilterDisplayValue;return _self.viewModel.filterMemberGroupsImmutable().forEach(function(memberGroup){result.push({displayValue:"Approved by "+memberGroup,launchSearch:!1,removeFunc:function(clearAll){},name:"group_immutable",immutable:!0})}),_self.viewModel.filterMemberGroups().forEach(function(memberGroup){result.push({displayValue:"Approved by "+memberGroup,launchSearch:!1,removeFunc:function(clearAll){_self.viewModel.filterMemberGroups(_self.viewModel.filterMemberGroups().filter(function(m){return m!=memberGroup}))},name:"group",immutable:!1})}),_self.viewModel.timeFilters.startDate.isValidDate()&&result.push({displayValue:_self.viewModel.timeFilters.startDateText(),launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.timeFilters.startDate.date(null);clearAll||_self.startSearch()},name:"startDate",immutable:!1}),_self.viewModel.timeFilters.startTime.timeSpan()&&result.push({displayValue:_self.viewModel.timeFilters.startTimeText(),launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.timeFilters.startTime.timeSpan("");clearAll||_self.startSearch()},name:"startTime",immutable:!1}),_self.viewModel.timeFilters.method.isHourly()&&_self.viewModel.timeFilters.duration.minutes()!=Enum.WorkspacePriceDuration.Hour&&result.push({displayValue:_self.viewModel.timeFilters.durationText(),launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.timeFilters.duration.minutes(+Enum.WorkspacePriceDuration.Hour);clearAll||_self.startSearch()},name:"reservationLength",immutable:!1}),filterSpaceTypes=_self.viewModel.searchRequest.SpaceTypes(),filterSpaceTypes&&Enum.SpaceType.getValues().forEach(function(spaceType){var intValue=parseInt(spaceType.Value);intValue&&intValue&_self.viewModel.searchRequest.SpaceTypes()&&result.push({displayValue:spaceType.Description,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.SpaceTypes(_self.viewModel.searchRequest.SpaceTypes()&~intValue);clearAll||_self.startSearch()},name:"space",immutable:!1})}),filterEnvironment=_self.viewModel.searchRequest.Environments(),filterEnvironment&&Enum.VenueEnvironmentType.getValues().forEach(function(environment){var intValue=parseInt(environment.Value);intValue&&intValue&_self.viewModel.searchRequest.Environments()&&result.push({displayValue:environment.Description,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.Environments(_self.viewModel.searchRequest.Environments()&~intValue);clearAll||_self.startSearch()},name:"environment",immutable:!1})}),_self.viewModel.neighborhoodsSelected().forEach(function(neighborhood){result.push({displayValue:neighborhood.name,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.NeighborhoodIds.remove(neighborhood.id);clearAll||_self.startSearch()},name:"neighborhood",immutable:!1})}),priceFilterDisplayValue=getPriceFilterDisplayValue(),priceFilterDisplayValue&&result.push({displayValue:priceFilterDisplayValue,launchSearch:!0,removeFunc:function(clearAll){_self.setMinPriceFilter(0);_self.setMaxPriceFilter(Infinity,!0);clearAll||_self.startSearch()},name:"price",immutable:!1}),capacityFilterDisplayValue=getCapacityFilterDisplayValue(),capacityFilterDisplayValue&&result.push({displayValue:capacityFilterDisplayValue,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.WorkspaceCapacity(0);_self.viewModel.searchRequest.WorkspaceMaxCapacity(Infinity);clearAll||_self.startSearch()},name:"capacity",immutable:!1}),sizeFilterDisplayValue=getSizeFilterDisplayValue(),sizeFilterDisplayValue&&result.push({displayValue:sizeFilterDisplayValue,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.MinSize(0);_self.viewModel.searchRequest.MaxSize(Infinity);_self.rememberSearchSettings();clearAll||_self.startSearch()},name:"size",immutable:!1}),_self.viewModel.amenitiesSelected().forEach(function(amenity){result.push({displayValue:amenity.Name,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.AmenityIds.remove(amenity.Id);clearAll||_self.startSearch()},name:"amenities",immutable:!1})}),result});this.viewModel.appliedFiltersCount=ko.computed(function(){return _self.viewModel.appliedFilters().filter(function(appliedFilter){return appliedFilter.name!="reservationLength"&&appliedFilter.name!="startDate"&&appliedFilter.name!="startTime"}).length});this.viewModel.showClearFilter=ko.computed(function(){return _self.viewModel.appliedFilters().filter(function(filter){return!filter.immutable}).length>0});this.viewModel.clearAppliedFilters=function(){var launchSearch=!1;_self.viewModel.appliedFilters().forEach(function(filter){filter.removeFunc(!0);launchSearch=launchSearch||filter.launchSearch});_self.viewModel.searchRequest.VenueClassifications([]);_self.rememberSearchSettings();launchSearch&&_self.startSearch()};this.viewModel.setReservationMethod=function(method){_self.viewModel.timeFilters.method(method);_self.viewModel.clearAppliedFilters();_self.rememberSearchSettings();_self.startSearch()};this.viewModel.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:(new Date).getUTCHours()>12?0:-1,dayNamesMin:["S","M","T","W","T","F","S"],onSelect:function(dateText,inst){_self.viewModel.applyStartDateFilter(inst.input.datepicker("getDate"))}};this.viewModel.applyStartDateFilter=function(date){_self.viewModel.timeFilters.startDate.date(date);applyTimeFilterRoutine()};this.viewModel.applyStartTimeFilter=function(timeSpan){_self.viewModel.timeFilters.startTime.timeSpan(timeSpan);applyTimeFilterRoutine()};this.viewModel.applyLengthFilter=function(value){_self.viewModel.timeFilters.duration.minutes(value);applyTimeFilterRoutine()};this.viewModel.toggleSizeRange=function(min,max){_self.viewModel.searchRequest.toggleSizeRange(min,max);_self.rememberSearchSettings();_self.startSearch()};this.viewModel.toggleCapacityRange1=function(){_self.viewModel.searchRequest.toggleCapacityRange1();_self.rememberSearchSettings();_self.startSearch()};this.viewModel.toggleCapacityRange=function(min,max){_self.viewModel.searchRequest.toggleCapacityRange(min,max);_self.rememberSearchSettings();_self.startSearch()};this.viewModel.toggleAmenity=function(amenity){_self.viewModel.searchRequest.toggleAmenity(amenity.Id);_self.viewModel.savedSearchDirty(!0);_self.rememberSearchSettings();_self.startSearch()};this.viewModel.toggleSpaceType=function(spaceType){_self.viewModel.searchRequest.toggleSpaceType(spaceType);_self.rememberSearchSettings();_self.startSearch()};this.viewModel.toggleDeskSpaceSubtype=function(deskSubtype){_self.viewModel.searchRequest.isDeskSpaceSubtypeSelected(deskSubtype)||(_self.viewModel.searchRequest.toggleDeskSpaceSubtype(deskSubtype),_self.rememberSearchSettings(),_self.startSearch())};this.viewModel.toggleEnvironment=function(environment){_self.viewModel.searchRequest.toggleEnvironment(environment);_self.rememberSearchSettings();_self.startSearch()};this.viewModel.isMemberGroupSelected=function(memberGroup){return _self.viewModel.filterMemberGroups().indexOf(memberGroup)!=-1};this.viewModel.toggleMemberGroup=function(memberGroup){var filtred=_self.viewModel.filterMemberGroups().filter(function(m){return m==memberGroup});filtred.length>0?_self.viewModel.filterMemberGroups.remove(filtred[0]):_self.viewModel.filterMemberGroups.push(memberGroup)};_scrollTop=ko.observable($(window).scrollTop());$(document).on("scroll",function(){_scrollTop($(window).scrollTop())});this.viewModel.headerSearchIconVisible=ko.computed(function(){return _scrollTop()>$(".searchbar-row").outerHeight()});this.viewModel.toggleFiltersVisibility=function(){var isCurrentlyVisible=_self.viewModel.filtersShown(),scrollTop;isCurrentlyVisible?(_self.viewModel.filtersShown(!1),window.scrollTo(0,0)):(scrollTop=_scrollTop(),scrollTop==0?_self.viewModel.filtersShown(!0):window.scrollTo(0,0))};this.viewModel.searchRequest.counterTriggerSearch.subscribe(function(){_self.viewModel.searchIsProcessing()||(_self.rememberSearchSettings(),_self.startSearch())});this.viewModel.searchRequest.SortOrder.subscribe(function(){_self.viewModel.searchIsProcessing()||(_self.rememberSearchSettings(),_self.startSearch())});boundsToFitForCitySearch=null;pageNumberFromUrl=LSHelper.HelperLib.getURLParameter("Page");Knockout.assignPager(_self.viewModel,{pagerName:"searchPager",pageSizeFunc:_self.viewModel.pageSize,dataFunc:_self.viewModel.pageDataModel,onlineMode:!0,postProcessFunc:function(workspacesOnCurrentPage){var _pager=this;_self.viewModel.searchCompleted()!=!1&&setTimeout(function(){var venuesOnCurrentPage,processedVenues,featuredData,i;if(_self.viewModel.featuredWorkspaces(_self.viewModel.featuredWorkspacesTemp()),_self.markersData={},_self.map.clearMarkers(),setExactLocationMarker($("#searchbar_address").val(),_self.viewModel.pinDataModel().length>0),venuesOnCurrentPage={},$.each(workspacesOnCurrentPage,function(index,workspace){venuesOnCurrentPage[workspace.VenueId]=!0}),$.each(_self.viewModel.pinDataModel(),function(index,venue){venue.Favorited=venue.Workspaces.some(function(p){return p.Favorited});venue.IsAltSpace=venue.Workspaces.some(function(p){return p.IsAltSpace});venue.IsOnCurrentPage=!!venuesOnCurrentPage[venue.VenueId]}),processedVenues={},$.each(_self.viewModel.pinDataModel(),function(index,venue){processedVenues[venue.VenueId]||(venue.Workspaces.length==1&&venue.Workspaces[0].IsVisibleForSearch==!1?_self.addMarker(venue,"map-venue-tooltip",!0):_self.addMarker(venue,options.locationTempateName),processedVenues[venue.VenueId]=!0)}),_pager.currentPage()==0)for(featuredData=_self.viewModel.featuredWorkspacesTemp(),i=featuredData.length-1;i>=0;i--)processedVenues[featuredData[i].VenueId]||_self.addMarker(featuredData[i],options.locationTempateName),processedVenues[featuredData[i].VenueId]=!0;$.isEmptyObject(processedVenues)?_self.viewModel.pinDataModel().length>0?_self.setMapCenter(_self.viewModel.pinDataModel()[0].Latitude,_self.viewModel.pinDataModel()[0].Longitude):_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()||(_self.setMapCenter(),_self.map.setZoomSilently(defaultCityZoom)):boundsToFitForCitySearch?(_self.map.fitBoundsSilent(boundsToFitForCitySearch),boundsToFitForCitySearch=null):_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()||_self.onPopstate||_self.setMapCenter()},100)},maxResults:options.maxResults,goToTop:!0,selectPageFunction:function(currentPage){var data=_self.viewModel.searchRequest.toJS();data.Page=currentPage;data.CacheId=_self.viewModel.cacheId();blockSearchUI();_self.getWorkspaces(_self.viewModel.searchRequest.VenueId(),data,function(result){_self.populateViewModel(result);$(".scroll-container").scrollTop(0);unblockSearchUI();_self.viewModel.city("");_self.viewModel.state("");_self.viewModel.country("");_self.viewModel.searchIsProcessing(!1);_self.viewModel.searchPager.setCurrentPage(currentPage,"normal")},function(){unblockSearchUI()})}});this.viewModel.searchPager.currentPage.subscribe(function(value){_self.rememberSearchSettings()});this.viewModel.showNearMatchSectionHeader=ko.computed(function(){var nearMatchworkspaces=_self.viewModel.pinDataModel().filter(function(w){return w.Workspaces.some(function(p){return p.IsNearMatch})});return _self.viewModel&&_self.viewModel.searchPager&&_self.viewModel.searchPager.pagedData().filter(function(w){return w.IsNearMatch}).length&&nearMatchworkspaces.length});this.viewModel.showExtendedSectionHeader=ko.computed(function(){return _self.viewModel&&_self.viewModel.searchPager&&!_self.viewModel.showNearMatchSectionHeader()&&_self.viewModel.searchPager.pagedData().filter(function(w){return!w.IsVisibleForSearch}).length});ko.applyBindings(this.viewModel,$(options.elementToBindSelector)[0]);this.isWorkspaceAdded=function(workspace){return _self.viewModel.pageDataModel().some(function(w){return workspace.Id==w.Id})};this.setMinPriceFilter=function(value){value<=0?_self.viewModel.searchRequest.MinPrice(0):_self.viewModel.searchRequest.MinPrice(value)};this.setMaxPriceFilter=function(value){value==null||isNaN(value)||value==Infinity?_self.viewModel.searchRequest.MaxPrice(null):_self.viewModel.searchRequest.MaxPrice(value)};_documentWidth=ko.observable($(document).width()).extend({throttle:500});$(window).on("resize",function(){_documentWidth($(document).width())});var locationMarker=null,geocoder=new LiquidSpace.Geocoder,setExactLocationMarker=function(address,ignoreMapBounds){locationMarker!=null&&(locationMarker.remove(),locationMarker=null);address&&geocoder.geocode({address:address},function(results,status){var exactLocations,location;results!=null&&results.length>0&&(exactLocations=results.filter(function(e){return e.geometry.location_type=="ROOFTOP"||e.address_components.some(function(a){return a.types.some(function(t){return t=="street_number"})})}),exactLocations.length>0&&(location=exactLocations[0].geometry.location,locationMarker=_self.map.addMarker({latitude:location.lat,longitude:location.lng,icon:"exactLocation",ignoreMapBounds:ignoreMapBounds,extendBounds:!ignoreMapBounds})))})},swipers=[];this.swiperOptions={on:{init:function(){swipers.push(this)},beforeDestroy:function(){var t=this;swipers=swipers.filter(function(e){return e!=t})}}};updateSwipers=function(){swipers.forEach(function(swiper){swiper.update()})};this.viewModel.filtersShown.subscribe(function(){updateSwipers()});this.populateViewModel=function(params){var workspaceRatingsMemoized,featuredWorkspaceIds,length,dataToPush,isSmartSearch,searchPerformanceArray,key,prices,searchedVenue,fitToWorkspaces,bounds,min,i,venue;if(params=$.extend({pinDataModel:null,pageDataModel:null,amenitiesInResult:null,memberFavoriteWorkspaceIds:null,featuredWorkspaces:null,searchPerformance:null,totalWorkspacesUntrimmed:null,geoLocation:null,filterDataModel:null,cacheId:null,discountDescription:null},params),_self.viewModel.searchRequest.Latitude()||_self.viewModel.searchRequest.Longitude()||(_self.viewModel.searchRequest.Latitude(params.locationLatitude),_self.viewModel.searchRequest.Longitude(params.locationLongitude)),this.viewModel.searchIsProcessingInitial(!1),workspaceRatingsMemoized={},_self.viewModel.Rating=function(workspaceId){if(workspaceRatingsMemoized[workspaceId]==null){var wspace=params.featuredWorkspaces.find(function(w){return w.Id==workspaceId})||params.pageDataModel.find(function(w){return w.Id==workspaceId});workspaceRatingsMemoized[workspaceId]=new LiquidSpace.View.review({RatesCount:wspace.RatesCount,AverageRating:wspace.AverageRating,WorkspaceId:wspace.Id,ReadMoreReviewsUrl:wspace.WorkspaceUrl+"#review-content"})}return workspaceRatingsMemoized[workspaceId]},featuredWorkspaceIds={},params.featuredWorkspaces&&(_self.viewModel.featuredWorkspacesTemp.removeAll(),$.each(params.featuredWorkspaces,function(i,wspace){_self.viewModel.featuredWorkspacesTemp.push(wspace);featuredWorkspaceIds[e.Id]=!0})),_self.viewModel.totalWorkspacesUntrimmed(params.totalWorkspacesUntrimmed),_self.viewModel.cacheId(params.cacheId),_self.viewModel.discountDescription(params.discountDescription),this.viewModel.pinDataModel.removeAll(),this.viewModel.pageDataModel.removeAll(),length=params.pinDataModel.reduce(function(accum,current){return accum+current.Workspaces.length},0),_self.map.clearMarkers(),_self.viewModel.pageDataModel([]),_self.viewModel.pinDataModel([]),_self.viewModel.searchPager.setPageCount(length),_self.setAmenities(params.filterDataModel.Resources),dataToPush=[],isSmartSearch=_self.viewModel.searchRequest.IsFullTextSearch(),$.each(params.pinDataModel,function(i,venue){$.each(venue.Workspaces,function(j,workspace){workspace.VenueUrl=venue.VenueUrl})}),$.each(params.pageDataModel.concat(params.pinDataModel.reduce(function(accum,current){return accum.concat(current.Workspaces)},[])),function(i,wspace){$.extend(wspace,{IsSmartSearch:isSmartSearch});wspace.WorkspaceUrlWithParams=function(){return model.viewModel.urlWithParams(wspace.WorkspaceUrl)};wspace.VenueUrlWithParams=function(){return model.viewModel.urlWithParams(wspace.VenueUrl)};var _openWPLinksInNewTab=wspace.OpenWPLinksInNewTab;wspace.OpenWPLinksInNewTab=ko.computed(function(){return _openWPLinksInNewTab&&_documentWidth()>=640});wspace.swiperOptions=_self.swiperOptions;params.pageDataModel.some(function(p){return p.Id==wspace.Id})&&dataToPush.every(function(p){return p.Id!=wspace.Id})&&_self.isWorkspaceAdded(wspace)==!1&&!featuredWorkspaceIds[wspace.Id]&&dataToPush.push(wspace)}),searchPerformanceArray=[],params.searchPerformance)for(key in params.searchPerformance)searchPerformanceArray.push({key:key,value:params.searchPerformance[key]});if(_self.viewModel.searchPerformance(searchPerformanceArray),_self.memberFavoriteWorkspaceIds=params.memberFavoriteWorkspaceIds,_self.setNeighborhoods(params.filterDataModel.Neighbourhoods),_self.viewModel.pageDataModel(dataToPush),_self.viewModel.pinDataModel(params.pinDataModel),prices=params.filterDataModel!=null?params.filterDataModel.Prices:dataToPush.concat(params.pinDataModel.reduce(function(accum,current){return accum.concat(current.Workspaces)},[])).map(function(w){return w.PriceAmountValue}),_self.viewModel.searchRequest.priceFilterParams({prices:prices,callback:function(){_self.rememberSearchSettings();_self.startSearch()}}),params.filterDataModel.SearchedVenue&&(searchedVenue=params.filterDataModel.SearchedVenue,searchedVenue.searchNearby=function(){_self.viewModel.searchRequest.IsFullTextSearch(!1);_self.viewModel.setVenueAndVenueGroupIds(null,null,!1);_self.viewModel.searchRequest.IsCurrentLocationSearch(!1);$("#searchbar_address").val(searchedVenue.VenueAddress);_self.viewModel.searchRequest.Address(searchedVenue.VenueAddress);_self.rememberSearchSettings();_self.startSearch()}),_self.viewModel.searchedVenue(params.filterDataModel.SearchedVenue),_self.viewModel.searchedVenueGroup(params.filterDataModel.SearchedVenueGroup),_self.viewModel.searchCompleted(!0),this.viewModel.searchIsProcessing(!1),fitToWorkspaces=parseInt($.cookie("fit-to-workspaces"))||1,boundsToFitForCitySearch=null,_self.viewModel.showSearchbarNeighborhoods(params.geoLocation&&params.geoLocation.Accuracy==Enum.LocationAccuracy.CityLevel),params.geoLocation&&params.geoLocation.Accuracy==Enum.LocationAccuracy.CityLevel&&!_self.viewModel.searchRequest.UpdateSearchWhenMapMoves()){for(bounds=new LiquidSpace.MapBounds(new LiquidSpace.MapPoint(params.geoLocation.Viewport.southwest.lat,params.geoLocation.Viewport.southwest.lng),new LiquidSpace.MapPoint(params.geoLocation.Viewport.northeast.lat,params.geoLocation.Viewport.northeast.lng)),min=Math.min(fitToWorkspaces,_self.viewModel.pinDataModel().length),i=0;i<min&&i<self.viewModel.pinDataModel().length;i++)venue=_self.viewModel.pinDataModel()[i],bounds.extend(venue.Latitude,venue.Longitude);boundsToFitForCitySearch=bounds;$.cookie("fit-to-city-show-bounds")&&(window.boundsToFitForCitySearchRectangle&&window.boundsToFitForCitySearchRectangle.setMap(null),window.boundsToFitForCitySearchRectangle=new google.maps.Rectangle({map:_self.map.map,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,bounds:bounds}))}};this.markersData={};this.addMarker=function(venueWithWorkspaces,templateName,showInvisibleSpaces){var markerData={venueWithWorkspaces:venueWithWorkspaces,marker:null,renderedTemplate:null},renderedTemplateAccessor=function(){return markerData.renderedTemplate||(markerData.renderedTemplate=ko.renderTemplateInMemory(templateName,new LiquidSpace.View.SearchMapTooltipViewModel({venueWithWorkspaces:venueWithWorkspaces,showInvisibleSpaces:showInvisibleSpaces}))),markerData.renderedTemplate};markerData.marker=this.map.addMarker({latitude:venueWithWorkspaces.Latitude,longitude:venueWithWorkspaces.Longitude,ignoreMapBounds:!0,title:renderedTemplateAccessor,icon:_self.getMarkerIcon(venueWithWorkspaces),extendBounds:venueWithWorkspaces.IsOnCurrentPage,className:venueWithWorkspaces.IsOnCurrentPage?"mapbox-marker--on-current-page":null});_self.markersData[venueWithWorkspaces.VenueId]=markerData};this.getMarkerIcon=function(venueWithWorkspaces){return venueWithWorkspaces.Workspaces==null||venueWithWorkspaces.Workspaces.length===1&&venueWithWorkspaces.Workspaces[0].IsVisibleForSearch==!1?"darkocean":venueWithWorkspaces.Workspaces.reduce(function(acc,workspace){return acc&&workspace.IsNearMatch},!0)?"darkocean":venueWithWorkspaces.VenueStatusNew!=Enum.VenueStatusNew.Launched&&venueWithWorkspaces.VenueStatusNew!=Enum.VenueStatusNew.Internal?venueWithWorkspaces.IsOnCurrentPage?venueWithWorkspaces.Favorited?"greyFavorited":"grey":"greyDot":venueWithWorkspaces.IsAltSpace?venueWithWorkspaces.IsOnCurrentPage?venueWithWorkspaces.Favorited?"charcoalFavorited":"charcoal":"dot":venueWithWorkspaces.IsOnCurrentPage?venueWithWorkspaces.Favorited?"favorited":"teardrop":"dot"};this.updateMarkerFavorite=function(venueId,workspaceId,isFavorited){var markerData,marker,icon;_self.viewModel.pageDataModel().forEach(function(workspace){workspace.Id==workspaceId&&(workspace.Favorited=isFavorited)});markerData=_self.markersData[venueId];markerData.venueWithWorkspaces.Workspaces.forEach(function(workspace){workspace.Favorited=isFavorited});markerData.venueWithWorkspaces.Favorited=markerData.venueWithWorkspaces.Workspaces.some(function(workspace){return workspace.Favorited});markerData.venueWithWorkspaces.IsOnCurrentPage&&(marker=markerData.marker,icon=_self.getMarkerIcon(markerData.venueWithWorkspaces),marker.setIcon(icon))};this.amenitiesNormalizedNames=[];this.viewModel.guestOnboardingDialogParams={searchViewModel:this.viewModel,guestOnboardingModel:params.guestOnboardingModel};this.viewModel.guestOnboardingVisible(params.guestOnboardingModel!=null);initNarrowGuide=function(){var shouldOpen=!_self.viewModel.memberId()&&!_self.viewModel.isDynamicSearchRoute()&&!LSHelper.HelperLib.getURLParameter("sng"),ngSearchInterface={shouldOpen:shouldOpen,searchRequest:_self.viewModel.searchRequest,clearAppliedFilters:_self.viewModel.clearAppliedFilters,startSearch:_self.startSearch,saveSearch:_self.viewModel.saveSearch};_self.viewModel.narrowGuideViewModel(new LiquidSpace.View.NarrowGuideViewModel(ngSearchInterface))};this.initModel=function(initialData){_self.initMap("SRP",initialData.supportedCountries);_self.amenitiesNormalizedNames=initialData.amenitiesNormalizedNames;var initialDataZoom=parseInt(initialData.zoom);isNaN(initialDataZoom)&&(initialDataZoom=defaultCityZoom);initialData.latitude&&initialData.longitude?(_self.viewModel.searchRequest.Latitude(initialData.latitude),_self.viewModel.searchRequest.Longitude(initialData.longitude),_self.viewModel.searchRequest.Zoom(initialDataZoom),_self.setMapCenter(initialData.latitude,initialData.longitude),_self.map.setZoomSilently(initialDataZoom)):initialData.hasWorkspaces||(_self.viewModel.searchRequest.Latitude(initialData.defaultSearchLatitude),_self.viewModel.searchRequest.Longitude(initialData.defaultSearchLongitude),_self.setMapCenter(initialData.defaultSearchLatitude,initialData.defaultSearchLongitude));_self.viewModel.searchRequest.UpdateSearchWhenMapMoves(initialData.updateSearchWhenMapMoves);initialData.maxPrice!=null&&initialData.maxPrice>=0&&_self.setMaxPriceFilter(initialData.maxPrice);initialData.minPrice!=null&&_self.setMinPriceFilter(initialData.minPrice);_self.viewModel.timeFilters.method(_self.viewModel.searchRequest.ReservationMethod());_self.viewModel.timeFilters.startDate.date(Date.parse(options.searchRequest.StartTime));initialData.searchDisplayName&&($("#searchbar_address").val(initialData.searchDisplayName),_self.viewModel.searchRequest.Address(initialData.searchDisplayName),storedSearchAdress=initialData.searchDisplayName);_self.populateViewModel(initialData);_self.rememberSearchSettings();initialData.approvedMemberGroups.forEach(function(memberGroup){memberGroup.IsImmutable?_self.viewModel.filterMemberGroupsImmutable.push(memberGroup.Name):options.showMemberGroupPreferred&&_self.viewModel.filterMemberGroups.push(memberGroup.Name)});initNarrowGuide();$(".iconbutton:has(.iconbutton-tooltip)").hover(function(){var $button=$(this),$tooltip,triangleHeight,buttonOffset,$absoluteTooltip,tooltipOffsets;if($button.hasClass("checked")){$(".iconbutton-tooltip-absolute").remove();return}$tooltip=$button.find(".iconbutton-tooltip");triangleHeight=12;$tooltip.length&&(buttonOffset=$button.offset(),$absoluteTooltip=$tooltip.clone(),$absoluteTooltip.appendTo("body").show(),tooltipOffsets={left:buttonOffset.left+$button.outerWidth()/2-$absoluteTooltip.outerWidth()/2,top:buttonOffset.top-$absoluteTooltip.outerHeight()-triangleHeight},$absoluteTooltip.css("top",tooltipOffsets.top).css("left",tooltipOffsets.left).addClass("iconbutton-tooltip-absolute"))},function(){$(".iconbutton-tooltip-absolute").remove()});pageNumberFromUrl!=null&&_self.viewModel.searchPager.setCurrentPage(parseInt(pageNumberFromUrl),"normal")};this.rememberSearchSettings=function(){var urlSplit=window.location.href.split("?"),baseUrl=urlSplit[0],existingQueryParams=urlSplit.slice(1).join("?").split("#")[0],existingParams=$.deparam(existingQueryParams,!0),existingParamsKeys=Object.keys(existingParams),searchRequest=_self.viewModel.searchRequest.toJS(),params={},ignoreList=["SourceType","Distance","WorkspaceMaxCapacity"],i,value,currentPage,selectedSavedSearchId;for(i in searchRequest)existingParamsKeys.filter(function(e){return e.toUpperCase()==i.toUpperCase()}).forEach(function(e){delete existingParams[e]}),ignoreList.indexOf(i)==-1&&(value=searchRequest[i],(value&&value!=Infinity||i=="ReservationMethod")&&(params[i]=value));params.Distance==Const.FilterLocationRadiusMeters&&delete params.Distance;currentPage=_self.viewModel.searchPager.currentPage();currentPage?params.Page=currentPage:delete existingParams.Page;selectedSavedSearchId=_self.viewModel.selectedSavedSearchId();selectedSavedSearchId&&(params.SelectedSavedSearchId=selectedSavedSearchId);history.replaceState(null,null,baseUrl+"?"+$.param($.extend(existingParams,params),!0));_self.setSearchRequestCookies()};this.viewModel.rememberSearchSettings=this.rememberSearchSettings;this.viewModel.startSearch=this.startSearch;this.setSearchRequestCookies=function(){$.cookie("search-request",JSON.stringify({ReservationMethod:_self.viewModel.searchRequest.ReservationMethod()}),{path:"/"})};this.workspaceId="";LSHelper.Account.getJoinDataObject=function(){return{venueId:_self.viewModel.searchRequest.VenueId(),workspaceId:_self.workspaceId,startDate:_self.viewModel.timeFilters.date.textValue(),reservationLength:_self.viewModel.timeFilters.duration.minutes()}}},function($){$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};$.fn.lionbars=function(options){function mainLoop(){for(var childrens,i=0;elements[i]!==undefined;i++)childrens=$(elements[i]).find(".lb-content").children(),childrens.length>0&&$(elements[i]).html(childrens),$(elements[i]).find(".lb-wrap").remove(),$(elements[i]).find(".lb-v-scrollbar").remove(),!$(elements[i]).hasClass("nolionbars")&&$(elements[i]).find(".lb-content").length==0&&needScrollbars(elements[i])&&(target=elements[i],getDimentions(target),wrap(target,addVScroll,addHScroll),hideScrollbars(target,addVScroll,addHScroll),reduceScrollbarsWidthHeight(target),setSlidersHeight(target),setScrollRatios(target),setEvents(target),resetVars())}function setEvents(elem){var el=$(elem);(addVScroll||addHScroll)&&el.find(".lb-wrap").scroll(function(e){var self;el.find(".lb-v-scrollbar-slider").css({top:-$(this).scrollTop()/el.attr("vratio")});el.find(".lb-h-scrollbar-slider").css({left:-$(this).scrollLeft()/el.attr("hratio")});el.find(".lb-v-scrollbar").height()!=parseInt(el.find(".lb-v-scrollbar-slider").css("top"))+el.find(".lb-v-scrollbar-slider").height()||typeof options.reachedBottom!="function"||vEventFired||(vEventFired=!0,self=$(this),options.reachedBottom.apply($(this).children(".lb-content"),[function(){getDimentions($(self).parent(),{height:$(self).children(".lb-content").get(0).scrollHeight,width:$(self).children(".lb-content").get(0).scrollWidth});reduceScrollbarsWidthHeight($(self).parent());setSlidersHeight($(self).parent());setScrollRatios($(self).parent());resetVars();vEventFired=!1}]));el.find(".lb-h-scrollbar").width()!=parseInt(el.find(".lb-h-scrollbar-slider").css("left"))+el.find(".lb-h-scrollbar-slider").width()||typeof options.reachedRight!="function"||hEventFired||(hEventFired=!0,self=$(this),options.reachedRight.apply($(this).children(".lb-content"),[function(){getDimentions($(self).parent(),{height:$(self).children(".lb-content").get(0).scrollHeight,width:$(self).children(".lb-content").get(0).scrollWidth});reduceScrollbarsWidthHeight($(self).parent());setSlidersHeight($(self).parent());setScrollRatios($(self).parent());resetVars();hEventFired=!1}]));autohide&&(el.find(".lb-v-scrollbar, .lb-h-scrollbar").fadeIn(150),clearTimeout(timeout),timeout=setTimeout(function(){el.find(".lb-v-scrollbar, .lb-h-scrollbar").fadeOut(150)},2e3))});addVScroll&&(el.find(".lb-v-scrollbar-slider").mousedown(function(e){return eventY=e.pageY,VDragging=!0,activeScroll=$(this),activeWrap=el.find(".lb-wrap"),currentRatio=activeWrap.parent().attr("vratio"),initPos=activeScroll.position().top,!1}),el.find(".lb-v-scrollbar").mousedown(function(e){return $(e.target).hasClass("lb-v-scrollbar-slider")||el.find(".lb-wrap").scrollTop((e.pageY-$(this).offset().top)*Math.abs(el.attr("vratio"))-$(this).find(".lb-v-scrollbar-slider").height()/2),!1}));addHScroll&&(el.find(".lb-h-scrollbar-slider").mousedown(function(e){return eventX=e.pageX,HDragging=!0,activeScroll=$(this),activeWrap=el.find(".lb-wrap"),currentRatio=activeWrap.parent().attr("hratio"),initPos=activeScroll.position().left,!1}),el.find(".lb-h-scrollbar").mousedown(function(e){return $(e.target).hasClass("lb-h-scrollbar-slider")||el.find(".lb-wrap").scrollLeft((e.pageX-$(this).offset().left)*Math.abs(el.attr("hratio"))-$(this).find(".lb-h-scrollbar-slider").width()/2),!1}));(addVScroll||addHScroll)&&autohide&&(el.find(".lb-v-scrollbar, .lb-h-scrollbar").hide(),el.hover(function(){},function(){el.find(".lb-v-scrollbar, .lb-h-scrollbar").fadeOut(150)}))}function setScrollRatios(elem){vRatio=(offsetHeight-$(elem).find(".lb-wrap").get(0).scrollHeight-borderTop-borderBottom)/(vLbHeight-vSliderHeight);hRatio=(offsetWidth-$(elem).find(".lb-wrap").get(0).scrollWidth-borderLeft-borderRight)/(hLbHeight-hSliderHeight);var el=$(elem);el.attr("vratio",vRatio);el.attr("hratio",hRatio)}function setSlidersHeight(elem){var el=$(elem),hmin,hmax,gap;el.find(".lb-v-scrollbar").length!=0&&(hmin=20,gap=offsetHeight-el.find(".lb-v-scrollbar").height(),hmax=offsetHeight-gap-hmin,vSliderHeight=Math.round(offsetHeight*hmax/scrollHeight),vSliderHeight=vSliderHeight<hmin?hmin:vSliderHeight);el.find(".lb-h-scrollbar").length!=0&&(hmin=20,gap=offsetWidth-el.find(".lb-h-scrollbar").width(),hmax=offsetWidth-gap-hmin,hSliderHeight=Math.round(offsetWidth*hmax/scrollWidth),hSliderHeight=hSliderHeight<hmin?hmin:hSliderHeight);el.find(".lb-v-scrollbar-slider").css({height:vSliderHeight});el.find(".lb-h-scrollbar-slider").css({width:hSliderHeight})}function resetVars(){vScrollWidth=0;hScrollWidth=0;addHScroll=!1;addVScroll=!1;paddingTop=0;paddingLeft=0;paddingBottom=0;paddingRight=0;borderTop=0;borderLeft=0;borderBottom=0;borderRight=0;scrollHeight=0;scrollWidth=0;offsetWidth=0;offsetHeight=0;clientWidth=0;clientHeight=0;vSliderHeight=0;hSliderHeight=0;vLbHeight=0;hLbHeight=0}function reduceScrollbarsWidthHeight(elem){var el=$(elem);addVScroll&&addHScroll?(vLbHeight=el.height()-12,hLbHeight=el.width()-12,el.find(".lb-v-scrollbar").css({height:vLbHeight}),el.find(".lb-h-scrollbar").css({width:hLbHeight})):(vLbHeight=el.height()-16,hLbHeight=el.width()-4,el.find(".lb-v-scrollbar").css({height:vLbHeight}),el.find(".lb-h-scrollbar").css({width:hLbHeight}))}function hideScrollbars(elem,vscroll,hscroll){var el=$(elem);(vscroll||hscroll)&&(el.css({overflow:"hidden"}),movePadding(el,el.find(".lb-wrap")),resizeMainBox(el),resizeInnerWrap(el,el.find(".lb-wrap")))}function resizeMainBox(elem){var el=$(elem);el.css({width:el.width()+paddingLeft+paddingRight,height:el.height()+paddingTop+paddingBottom})}function movePadding(from,to){var fromEl=$(from),toEl=$(to);fromEl.css({padding:0});toEl.css({"padding-top":paddingTop+"px","padding-left":paddingLeft+"px","padding-bottom":paddingBottom+"px","padding-right":paddingRight+"px"})}function resizeInnerWrap(main,child){var mainEl=$(main),childEl=$(child);mainEl.css({position:"relative"});childEl.css({width:mainEl.width()+vScrollWidth+3-paddingLeft-paddingRight,height:mainEl.height()+hScrollWidth-paddingTop-paddingBottom})}function setVScrollbarWidth(elem){var el=$(elem);el.css({overflow:"auto"});vScrollWidth=offsetWidth-clientWidth-borderLeft-borderRight;el.css({overflow:"hidden"})}function setHScrollbarWidth(elem){var el=$(elem);el.css({overflow:"auto"});hScrollWidth=offsetHeight-clientHeight-borderTop-borderBottom;el.css({overflow:"hidden"})}function wrap(elem,vscroll,hscroll){var el=$(elem),elemId=el.attr("id"),wrap=0;elemId!==undefined?(el.wrapInner('<div class="lb-wrap" id="lb-wrap-'+id+"-"+elemId+'"><\/div>'),wrap=$("#lb-wrap-"+id+"-"+elemId)):(el.wrapInner('<div class="lb-wrap" id="lb-wrap-'+id+'"><\/div>'),wrap=$("#lb-wrap-"+id));wrap.wrapInner('<div class="lb-content"><\/div>');vscroll&&(el.prepend('<div class="lb-v-scrollbar"><\/div>'),el.find(".lb-v-scrollbar").append('<div class="lb-v-scrollbar-slider"><\/div>'));hscroll&&(el.prepend('<div class="lb-h-scrollbar"><\/div>'),el.find(".lb-h-scrollbar").append('<div class="lb-h-scrollbar-slider"><\/div>'));id=id+1}function needScrollbars(elem){var el=$(elem);return addVScroll=!1,addHScroll=!1,getPadding(el),getBorders(el),el.css({overflow:"hidden"}),el.get(0).scrollHeight>el.get(0).clientHeight&&(addVScroll=!0),options.showHScroll&&el.get(0).scrollWidth>el.get(0).clientWidth&&(addHScroll=!0),el.css({overflow:"auto"}),addVScroll||addHScroll?!0:void 0}function getPadding(elem){var el=$(elem);paddingTop=parseInt(el.css("padding-top").replace("px",""));paddingLeft=parseInt(el.css("padding-left").replace("px",""));paddingBottom=parseInt(el.css("padding-bottom").replace("px",""));paddingRight=parseInt(el.css("padding-right").replace("px",""))}function getBorders(elem){var el=$(elem),setValue=function(val){return isNaN(val)?0:val};borderTop=setValue(parseInt(el.css("border-top-width").replace("px","")));borderRight=setValue(parseInt(el.css("border-right-width").replace("px","")));borderBottom=setValue(parseInt(el.css("border-bottom-width").replace("px","")));borderLeft=setValue(parseInt(el.css("border-left-width").replace("px","")))}function getDimentions(elem,scroll){var el=$(elem).get(0);scrollHeight=typeof scroll!="undefined"?scroll.height:el.scrollHeight;scrollWidth=typeof scroll!="undefined"?scroll.width:el.scrollWidth;clientHeight=el.clientHeight;clientWidth=el.clientWidth;offsetHeight=el.offsetHeight;offsetWidth=el.offsetWidth;setVScrollbarWidth($(elem));setHScrollbarWidth($(elem))}options=options||{};autohide=options.autohide;options.showHScroll==undefined&&(options.showHScroll=!0);var timeout,HDragging=!1,VDragging=!1,activeScroll=0,activeWrap=0,eventX,eventY,mouseX,mouseY,currentRatio,initPos,scrollValue,hideTimeoutSet=!1,vEventFired=!1,hEventFired=!1,elements=$(this),id=0,vScrollWidth=0,hScrollWidth=0,addHScroll=!1,addVScroll=!1,paddingTop=0,paddingLeft=0,paddingBottom=0,paddingRight=0,borderTop=0,borderRight=0,borderBottom=0,borderLeft=0,scrollHeight=0,scrollWidth=0,offsetWidth=0,offsetHeight=0,clientWidth=0,clientHeight=0,vRatio=0,hRatio=0,vSliderHeight=0,hSliderHeight=0,vLbHeight=0,hLbHeight=0;return mainLoop(),$(document).mousemove(function(e){VDragging&&(mouseY=e.pageY,activeWrap.scrollTop((initPos+mouseY-eventY)*Math.abs(currentRatio)));HDragging&&(mouseX=e.pageX,activeWrap.scrollLeft((initPos+mouseX-eventX)*Math.abs(currentRatio)))}),$(document).mouseup(function(e){VDragging&&(VDragging=!1);HDragging&&(HDragging=!1)}),this.each(function(){})}}(jQuery);
/*!
* jQuery outside events - v1.1 - 3/16/2010
* http://benalman.com/projects/jquery-outside-events-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
(function($,doc,outside){function jq_addOutsideEvent(event_name,outside_event_name){function handle_event(event){$(elems).each(function(){var elem=$(this);this===event.target||elem.has(event.target).length||elem.triggerHandler(outside_event_name,[event.target])})}outside_event_name=outside_event_name||event_name+outside;var elems=$(),event_namespaced=event_name+"."+outside_event_name+"-special-event";$.event.special[outside_event_name]={setup:function(){elems=elems.add(this);elems.length===1&&$(doc).bind(event_namespaced,handle_event)},teardown:function(){elems=elems.not(this);elems.length===0&&$(doc).unbind(event_namespaced)},add:function(handleObj){var old_handler=handleObj.handler;handleObj.handler=function(event,elem){event.target=elem;old_handler.apply(this,arguments)}}}}$.map("click dblclick mousemove mousedown mouseup mouseover mouseout touchstart touchend touchmove change select submit keydown keypress keyup".split(" "),function(event_name){jq_addOutsideEvent(event_name)});jq_addOutsideEvent("focusin","focus"+outside);jq_addOutsideEvent("focusout","blur"+outside);$.addOutsideEvent=jq_addOutsideEvent})(jQuery,document,"outside"),function($){$.fn.charCount=function(options){function calculate(obj){var count=$(obj).val().length,available=options.allowed-count;if(available<=options.warning&&available>=0?$(obj).next().addClass(options.cssWarning):$(obj).next().removeClass(options.cssWarning),available<0)if(options.limitInput==!0){$(obj).val($(obj).val().substring(0,options.allowed));calculate(obj);return}else $(obj).next().addClass(options.cssExceeded);else $(obj).next().removeClass(options.cssExceeded);$(obj).next().html(options.counterText+available)}var defaults={allowed:140,warning:25,css:"counter",counterElement:"span",cssWarning:"warning",cssExceeded:"exceeded",counterText:"",limitInput:!1},options=$.extend(defaults,options);this.each(function(){$(this).after("<"+options.counterElement+' class="'+options.css+'">'+options.counterText+"<\/"+options.counterElement+">");calculate(this);$(this).keyup(function(){calculate(this)});$(this).change(function(){calculate(this)})})}}(jQuery);
/*!
 * jQuery Expander Plugin v1.4.3
 *
 * Date: Tue Jun 19 11:54:00 2012 EDT
 * Requires: jQuery v1.3+
 *
 * Copyright 2011, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 *
 *
*/
(function($){$.expander={version:"1.4.3",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null}};$.fn.expander=function(options){function buildHTML(o,blocks){var el="span",summary=o.summary;return blocks?(el="div",rLastCloseTag.test(summary)&&!o.expandAfterSummary?summary=summary.replace(rLastCloseTag,o.moreLabel+"$1"):summary+=o.moreLabel,summary='<div class="'+o.summaryClass+'">'+summary+"<\/div>"):summary+=o.moreLabel,[summary,"<",el+' class="'+o.detailClass+'"',">",o.details,"<\/"+el+">"].join("")}function buildMoreLabel(o){var ret='<span class="'+o.moreClass+'">'+o.expandPrefix;return ret+('<a href="#">'+o.expandText+"<\/a><\/span>")}function backup(txt,preserveWords){return txt.lastIndexOf("<")>txt.lastIndexOf(">")&&(txt=txt.slice(0,txt.lastIndexOf("<"))),preserveWords&&(txt=txt.replace(rAmpWordEnd,"")),$.trim(txt)}function reCollapse(o,el){el.stop(!0,!0)[o.collapseEffect](o.collapseSpeed,function(){var prevMore=el.prev("span."+o.moreClass).show();prevMore.length||el.parent().children("div."+o.summaryClass).show().find("span."+o.moreClass).show()})}function delayCollapse(option,$collapseEl,thisEl){option.collapseTimer&&(delayedCollapse=setTimeout(function(){reCollapse(option,$collapseEl);$.isFunction(option.onCollapse)&&option.onCollapse.call(thisEl,!1)},option.collapseTimer))}var meth="init";typeof options=="string"&&(meth=options,options={});var opts=$.extend({},$.expander.defaults,options),rSelfClose=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,rAmpWordEnd=opts.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,rOpenCloseTag=/<\/?(\w+)[^>]*>/g,rOpenTag=/<(\w+)[^>]*>/g,rCloseTag=/<\/(\w+)>/g,rLastCloseTag=/(<\/[^>]+>)\s*$/,rTagPlus=/^<[^>]+>.?/,delayedCollapse,methods={init:function(){this.each(function(){function expand(event){event.preventDefault();$readMore.hide();$summEl.hide();defined.beforeExpand&&o.beforeExpand.call(thisEl);$thisDetails.stop(!1,!0)[o.expandEffect](expandSpeed,function(){$thisDetails.css({zoom:""});defined.afterExpand&&o.afterExpand.call(thisEl);delayCollapse(o,$thisDetails,thisEl)})}var i,l,tmp,newChar,summTagless,summOpens,summCloses,lastCloseTag,detailText,detailTagless,$thisDetails,$readMore,openTagsForDetails=[],closeTagsForsummaryText=[],defined={},thisEl=this,$this=$(this),$summEl=$([]),o=$.extend({},opts,$this.data("expander")||$.meta&&$this.data()||{}),hasDetails=!!$this.find("."+o.detailClass).length,hasBlocks=!!$this.find("*").filter(function(){var display=$(this).css("display");return/^block|table|list/.test(display)}).length,el=hasBlocks?"div":"span",detailSelector=el+"."+o.detailClass,moreSelector="span."+o.moreClass,expandSpeed=o.expandSpeed||0,allHtml=$.trim($this.html()),allText=$.trim($this.text()),summaryText=allHtml.slice(0,o.slicePoint),html;if(!$.data(this,"expanderInit")){for($.data(this,"expanderInit",!0),$.each(["onSlice","beforeExpand","afterExpand","onCollapse"],function(index,val){defined[val]=$.isFunction(o[val])}),summaryText=backup(summaryText),summTagless=summaryText.replace(rOpenCloseTag,"").length;summTagless<o.slicePoint;)newChar=allHtml.charAt(summaryText.length),newChar=="<"&&(newChar=allHtml.slice(summaryText.length).match(rTagPlus)[0]),summaryText+=newChar,summTagless++;for(summaryText=backup(summaryText,o.preserveWords),summOpens=summaryText.match(rOpenTag)||[],summCloses=summaryText.match(rCloseTag)||[],tmp=[],$.each(summOpens,function(index,val){rSelfClose.test(val)||tmp.push(val)}),summOpens=tmp,l=summCloses.length,i=0;i<l;i++)summCloses[i]=summCloses[i].replace(rCloseTag,"$1");if($.each(summOpens,function(index,val){var thisTagName=val.replace(rOpenTag,"$1"),closePosition=$.inArray(thisTagName,summCloses);closePosition===-1?(openTagsForDetails.push(val),closeTagsForsummaryText.push("<\/"+thisTagName+">")):summCloses.splice(closePosition,1)}),closeTagsForsummaryText.reverse(),hasDetails)detailText=$this.find(detailSelector).remove().html(),summaryText=$this.html(),allHtml=summaryText+detailText,lastCloseTag="";else{if(detailText=allHtml.slice(summaryText.length),detailTagless=$.trim(detailText.replace(rOpenCloseTag,"")),detailTagless===""||detailTagless.split(/\s+/).length<o.widow)return;lastCloseTag=closeTagsForsummaryText.pop()||"";summaryText+=closeTagsForsummaryText.join("");detailText=openTagsForDetails.join("")+detailText}o.moreLabel=$this.find(moreSelector).length?"":buildMoreLabel(o);hasBlocks&&(detailText=allHtml);summaryText+=lastCloseTag;o.summary=summaryText;o.details=detailText;o.lastCloseTag=lastCloseTag;defined.onSlice&&(tmp=o.onSlice.call(thisEl,o),o=tmp&&tmp.details?tmp:o);html=buildHTML(o,hasBlocks);$this.html(html);$thisDetails=$this.find(detailSelector);$readMore=$this.find(moreSelector);$thisDetails[o.collapseEffect](0);$readMore.find("a").unbind("click.expander").bind("click.expander",expand);$summEl=$this.find("div."+o.summaryClass);o.userCollapse&&!$this.find("span."+o.lessClass).length&&$this.find(detailSelector).append('<span class="'+o.lessClass+'">'+o.userCollapsePrefix+'<a href="#">'+o.userCollapseText+"<\/a><\/span>");$this.find("span."+o.lessClass+" a").unbind("click.expander").bind("click.expander",function(event){event.preventDefault();clearTimeout(delayedCollapse);var $detailsCollapsed=$(this).closest(detailSelector);reCollapse(o,$detailsCollapsed);defined.onCollapse&&o.onCollapse.call(thisEl,!0)})}})},destroy:function(){this.data("expander")&&(this.removeData("expander"),this.each(function(){var $this=$(this),o=$.meta?$.extend({},opts,$this.data()):opts,details=$this.find("."+o.detailClass).contents();$this.find("."+o.moreClass).remove();$this.find("."+o.summaryClass).remove();$this.find("."+o.detailClass).after(details).remove();$this.find("."+o.lessClass).remove()}))}};return methods[meth]&&methods[meth].call(this),this};$.fn.expander.defaults=$.expander.defaults})(jQuery);Array.prototype.map||(Array.prototype.map=function(fun){var len=this.length,res,thisp,i;if(typeof fun!="function")throw new TypeError;for(res=new Array(len),thisp=arguments[1],i=0;i<len;i++)i in this&&(res[i]=fun.call(thisp,this[i],i,this));return res});String.prototype.escapeDateTimeTokens=function(){return this.replace(/([dMyHmsft])/g,"\\$1")};Date.fromISOCache={};Date.isSameDay=function(date,date1){return date.getYear()==date1.getYear()&&date.getMonth()==date1.getMonth()&&date.getDate()==date1.getDate()};Date.fromISO=function(){var diso=Date.parse("2011-04-26T13:16:50Z"),common=function(val){var offset,dt;return val!=null&&$.isFunction(val.indexOf)&&val.indexOf("Date")!=-1?(val=val.replace("/Date(",""),offset=parseInt(val.substr(val.indexOf("+")+1,2)),val=val.substr(0,val.indexOf("+")!=-1?val.indexOf("+"):val.indexOf(")")),dt=new Date(parseInt(val)),Math.abs(dt.getTimezoneOffset())!=Math.abs(offset*60)&&dt.getFullYear()!=1&&(dt=new Date(dt.addMinutes(dt.getTimezoneOffset()))),dt):null};return diso===130382381e4?function(s){var cacheKey=s;return Date.fromISOCache[cacheKey]?new Date(Date.fromISOCache[cacheKey].getTime()):(Date.fromISOCache[cacheKey]=common(s)!=null?common(s):new Date(Date.parse(s)),new Date(Date.fromISOCache[cacheKey].getTime()))}:function(s){var cacheKey=s,result,day,tz,rx,p;if(Date.fromISOCache[cacheKey])return new Date(Date.fromISOCache[cacheKey].getTime());if(result=common(s),result!=null)Date.fromISOCache[cacheKey]=result;else{if(s==null)return NaN;if(rx=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/,p=rx.exec(s)||[],p[1]){if(day=p[1].split(/\D/).map(function(itm){return parseInt(itm,10)||0}),day[1]-=1,day=eval("new Date("+day.join(",")+")"),!day.getDate())return NaN;p[5]&&(tz=parseInt(p[5],10)*60,p[6]&&(tz+=parseInt(p[6],10)),p[4]=="+"&&(tz*=-1),tz&&day.setUTCMinutes(day.getUTCMinutes()+tz));Date.fromISOCache[cacheKey]=day}else Date.fromISOCache[cacheKey]=new Date(s)}return new Date(Date.fromISOCache[cacheKey].getTime())}}();Imtech=Imtech||{};Imtech.Utils={date:{"1033":{monthsLong:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysLong:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy H:mm tt",F:"dddd, MMMM dd, yyyy H:mm:ss tt",g:"M/d/yyyy H:mm tt",G:"M/d/yyyy H:mm:ss tt",m:"MMMM dd",M:"MMMM, yyyy",o:"yyyy-MM-ddTHH:mm:ss.fff",s:"yyyy-MM-ddTHH:mm:ss",t:"H:mm tt",T:"H:mm:ss tt",U:"dddd, MMMM dd, yyyy HH:mm:ss tt",y:"MMMM, yyyy",i:"ddd, MMMM dd, yyyy",l:"ddd, M/d"},tt:{AM:"AM",PM:"PM"},clockType:12},"1043":{monthsLong:["januari","febrauri","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],daysLong:["maandag","dinsdag","woensdag","donderdag","vridag","zaterdag","zondag"],daysShort:["ma","di","wo","do","vr","za","zo"],patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",g:"d-M-yyyy H:mm",G:"d-M-yyyy H:mm:ss",m:"dd MMMM",M:"MMMM, yyyy",o:"yyyy-MM-ddTHH:mm:ss.fff",s:"yyyy-MM-ddTHH:mm:ss",t:"H:mm",T:"H:mm:ss",U:"dddd d MMMM yyyy HH:mm:ss",y:"MMMM, yyyy"},tt:{AM:"",PM:""},clockType:24}}};Date.prototype.cache={};Date.prototype.daysTo=function(to){return Math.abs(Math.floor(to.getTime()/864e5)-Math.floor(this.getTime()/864e5))};Date.prototype.cformat=Date.prototype.format=function(format,locale){var cacheKey=format+locale+this,fd,dateFormat,pattern,month,dayOfWeek,day,hour,minutes,seconds;return Date.prototype.cache[cacheKey]?Date.prototype.cache[cacheKey]:(locale==undefined&&(locale="1033"),fd=this.toString(),dateFormat=Imtech.Utils.date[locale],typeof dateFormat!="undefined"&&(pattern=typeof dateFormat.patterns[format]!="undefined"?dateFormat.patterns[format]:format,fd=pattern.replace(/yyyy/g,this.getFullYear()),fd=fd.replace(/yy/g,(this.getFullYear()+"").substring(2)),isNaN(this)||(month=this.getMonth(),fd=fd.replace(/MMMM/g,dateFormat.monthsLong[month].escapeDateTimeTokens()),fd=fd.replace(/MMM/g,dateFormat.monthsShort[month].escapeDateTimeTokens()),fd=fd.replace(/MM/g,month+1<10?"0"+(month+1):month+1),fd=fd.replace(/(\\)?M/g,function($0,$1){return $1?$0:month+1}),dayOfWeek=this.getDay(),fd=fd.replace(/dddd/g,dateFormat.daysLong[dayOfWeek].escapeDateTimeTokens()),fd=fd.replace(/ddd/g,dateFormat.daysShort[dayOfWeek].escapeDateTimeTokens()),day=this.getDate(),fd=fd.replace(/dd/g,day<10?"0"+day:day),fd=fd.replace(/(\\)?d/g,function($0,$1){return $1?$0:day}),hour=this.getHours(),dateFormat.clockType==12&&(hour==0&&(hour=12),hour>12&&(hour-=12)),fd=fd.replace(/HH/g,hour<10?"0"+hour:hour),fd=fd.replace(/(\\)?H/g,function($0,$1){return $1?$0:hour}),minutes=this.getMinutes(),fd=fd.replace(/mm/g,minutes<10?"0"+minutes:minutes),fd=fd.replace(/(\\)?m/g,function($0,$1){return $1?$0:minutes}),seconds=this.getSeconds(),fd=fd.replace(/ss/g,seconds<10?"0"+seconds:seconds),fd=fd.replace(/(\\)?s/g,function($0,$1){return $1?$0:seconds}),fd=fd.replace(/fff/g,this.getMilliseconds()),fd=fd.replace(/tt/g,this.getHours()>12||this.getHours()==12?dateFormat.tt.PM:dateFormat.tt.AM))),Date.prototype.cache[cacheKey]=fd.replace(/\\/g,""),Date.prototype.cache[cacheKey])};Date.prototype.toServerString=function(){return this.toString("yyyy-MM-ddTHH:mm:ss")},function($){$.fn.lsCalendarSettings=[];$.fn.lsCalendar=function(config,events,tours,options){var viewModel={},getDateFromStr=function(val){return Date.fromISO(val)},isPeriodReservation=function(res,dt){return res.ReservationMethod==Enum.WorkspaceReservationMethod.Period&&(viewModel.isMonthView()?res.BlockWorkspaceFrom:res.StartTime)<=dt.Date&&res.EndTime>=dt.Date},getResFunction=function(dayId,externalVal){var id=externalVal.Id,result=[],days,ev,width,i,coord;if(viewModel.alreadyLoadedWorkspaces.indexOf(id)==-1&&viewModel.selectedWorkspaces.indexOf(id)==-1)return result;days=viewModel.currentPeriod();$.each(viewModel.events[id](),function(i,val){if(val.WorkspaceId==id){var day=days[dayId!=null?dayId:0];day!=null&&(isSameDay(day.Date,val.StartTime)==!0||isReservationOverlapDay(day.Date,val)==!0||isPeriodReservation(val,day))&&result.push(val)}});result.sort(function(left,right){if(left.StartTime-right.StartTime==0){if(left._previousOrder<right._previousOrder)return-1;else if(left._previousOrder>right._previousOrder)return 1;return 0}return left.StartTime<right.StartTime?-1:1});var days=[],evs_originals=[],stack=[];for(i=0;i<result.length;i++){for(ev=result[i];stack.length&&stack[stack.length-1].EndTime<=ev.StartTime;)stack.splice(stack.length-1,1);stack.length&&(stack[stack.length-1]._inner=!0);ev._sorder=stack.length;ev._previousOrder||(ev._previousOrder=stack.length);stack.push(ev);stack.length>(stack.max_count||0)&&(stack.max_count=stack.length)}if(!viewModel.isMonthView())for(width=1/stack.max_count,i=0;i<result.length;i++)result[i].Workspace=externalVal,result[i]._sorder=result[i]._sorder,result[i]._count=stack.max_count,coord=viewModel.getReservationCoord(result[i]),coord.left=result[i]._sorder*width,coord.width=result[i]._inner?width:width*(result[i]._count-result[i]._sorder),result[i].coord=coord;return result},convertDate=function(config,reservations,tours){var convert=function(val){val.Date=getDateFromStr(val.Date);val.StartTime=getDateFromStr(val.StartTime);val.EndTime=getDateFromStr(val.EndTime)};config!=null&&(config.SelectedDate=new Date(getDateFromStr(config.SelectedDate).setHours(0,0,0)),$.each(config.Workspaces,function(i1,val1){$.each(val1.CalendarDays,function(i,val){convert(val);$.each(val.Blocked,function(i2,val2){convert(val2)});$.each(val.Opened,function(i2,val2){convert(val2)})})}));reservations!=null&&$.each(reservations,function(i,val){val.StartTime=getDateFromStr(val.StartTime);val.EndTime=getDateFromStr(val.EndTime);val.PaidEndTime!=null&&val.PaidEndTime!=""&&(val.PaidEndTime=getDateFromStr(val.PaidEndTime));val.BlockWorkspaceFrom!=null&&val.BlockWorkspaceFrom!=""&&(val.BlockWorkspaceFrom=getDateFromStr(val.BlockWorkspaceFrom));val.MTMEndDate!=null&&(val.MTMEndDate=getDateFromStr(val.MTMEndDate))});tours!=null&&$.each(tours,function(i,val){val.StartTime=getDateFromStr(val.StartTime);val.EndTime=getDateFromStr(val.EndTime);val.MTMEndDate!=null&&(val.MTMEndDate=getDateFromStr(val.MTMEndDate))})},templateToUseApplier=function(funcDay,funcWeek,funcMonth,funcAgenda,template){switch(template!=null?template:viewModel.templateToUse()){case"calendar-day":funcDay();break;case"calendar-week":funcWeek();break;case"calendar-month":funcMonth();break;case"calendar-agenda":funcAgenda();break}},isReservationOverlapDay=function(date,res){return res.StartTime<=date&&res.EndTime>date},isSameDay=function(date,date1){return date.getYear()==date1.getYear()&&date.getMonth()==date1.getMonth()&&date.getDate()==date1.getDate()},_this=$(this),_thisWrapper=$(".innerContent"),selectedWorkspacesKey,workspacesColorsKey,navigation,header,iOSRegex,hideBookItButton,blockAmmountForBlockedWeek,capacityChanged,restoreMonthViewWorkspaces,copyEvent;if(typeof config=="object"){config.$wrapper!=null&&(_thisWrapper=config.$wrapper);selectedWorkspacesKey=config.VenueId+"_selectedWorkspaces";workspacesColorsKey=config.VenueId+"_workspacesColors";options=options||{navTemplate:"#calendar-navigation",headerTemplate:"#calendar-header"};convertDate(config,events,tours);config.CalendarDate=config.SelectedDate.format("i");$(this).addClass("ls_cal");navigation=$($(options.navTemplate).html());header=$($(options.headerTemplate).html());navigation.find(".view-mode").controlgroup();navigation.appendTo(this);header.appendTo(this);$('<div class="ls_calendar_loading" data-bind="visible: processing() && !silentProcessing()"><\/div>').appendTo(this);$(this).css("position","relative");var currentTime=new Date,currentTimeHours=currentTime.getUTCHours()+(currentTime.getUTCMinutes()+config.TimeZoneDetail.OffsetMinutes)/60,instance=new Date,msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]);isNaN(msie)&&(msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]));(!0||msie!=11)&&(_this.refreshInterval=setInterval(function(){viewModel.processing()||viewModel.pauseSilentProcessing()||viewModel.refreshCalendar(null,null,null,null,null,null,null,!0)},3e5));_this.currentTimeInterval=setInterval(function(){if(viewModel!=null&&$.isFunction(viewModel.currentTimeHours)){var currentTime=new Date,currentTimeHours=currentTime.getUTCHours()+(currentTime.getUTCMinutes()+config.TimeZoneDetail.OffsetMinutes)/60;viewModel.currentTimeHours(currentTimeHours)}},6e4);ko.utils.domNodeDisposal.addDisposeCallback(_this[0],function(){clearInterval(_this.currentTimeInterval);_this.refreshInterval!=undefined&&clearInterval(_this.refreshInterval);for(var prop in viewModel)ko.isComputed(viewModel[prop])&&viewModel[prop].dispose()});iOSRegex=new RegExp("iPhone|iPad|iPod","g");hideBookItButton=iOSRegex.test(navigator.userAgent);viewModel={calendarHeaderMouseDown:function(data,ev){viewModel.isUserEmpty()==!1&&viewModel.getReservationPopupDetails("day-pass",data,null,ev,!0)},currentWeekMouseDown:function(data,ev){data.list=$parent[Id][$index];viewModel.getReservationPopupDetails("day-pass",data,Date,ev)},workspaceColorsPool:["FCD0BD","CFFFBF","FFEFBF","BFFFFF","EFBFFF","FF9999","FFBF00","A3D900","4DFFD2","73DCFF"],workspaceAssignedColors:{},getDateWithoutTime:function(dateTime){var result=new Date(dateTime);return result.setHours(0,0,0,0),result},mtmCheckFunc:function(res,index,checkFunc){var period=viewModel.currentPeriod(),resStartDate=viewModel.getDateWithoutTime(res.StartTime);return(resStartDate>period[0].Date&&resStartDate<period[period.length-1].Date&&isSameDay(resStartDate,period[index].Date)||period[0].Date>resStartDate&&isSameDay(period[0].Date,period[index].Date))&&checkFunc(res,period[index].Date)},isMtmBooked:function(res,date){var resStartDate=viewModel.getDateWithoutTime(res.StartTime);return date>=resStartDate&&date<=res.PaidEndTime},showMtmBooked:function(res,index){return viewModel.mtmCheckFunc(res,index,viewModel.isMtmBooked)},isMtmRenewal:function(res,date){var resStartDate=viewModel.getDateWithoutTime(res.StartTime);return date>res.PaidEndTime||date<resStartDate},showMtmRenewal:function(res,index){var period=viewModel.currentPeriod(),dt=new Date(res.PaidEndTime).addDays(1);return isSameDay(dt,period[index].Date)},getTitleText:function(res,index){if(res.ReservationMethod==Enum.WorkspaceReservationMethod.Period){if(viewModel.showMtmRenewal(res,index))return"Renewal";if(viewModel.showMtmBooked(res,index))return"Booked"}else if(res.IsCreditCardPayment&&viewModel.isSuperUser()||viewModel.getEventIconState(res.Id)>1)return viewModel.getTimePartFromStr(res.StartTime,!1,!0)+"-"+viewModel.getTimePartFromStr(res.EndTime,!0,!0);else if(!(res.IsCreditCardPayment&&viewModel.isSuperUser()||viewModel.getEventIconState(res.Id)>1))return viewModel.getTimePartFromStr(res.StartTime)+" - "+viewModel.getTimePartFromStr(res.EndTime,!0)},getWorkspaceColor:function(id,res,index){var color,period;if(!viewModel.workspaceAssignedColors[id]){if(viewModel.workspaceColorsPool.length>0)color="#"+viewModel.workspaceColorsPool.shift();else{function getRandomInt(max){return Math.floor(Math.random()*max)}function generateRandomColor(){var red=getRandomInt(256),green=getRandomInt(256),blue=getRandomInt(256);return red=Math.floor((red+255)/2),green=Math.floor((green+255)/2),blue=Math.floor((blue+255)/2),"#"+red.toString(16)+green.toString(16)+blue.toString(16)}color=generateRandomColor()}viewModel.workspaceAssignedColors[id]=color;LSHelper.sessionStorage.set(workspacesColorsKey,viewModel.workspaceAssignedColors)}return res!=null&&res.ReservationMethod==Enum.WorkspaceReservationMethod.Period&&(period=viewModel.currentPeriod(),viewModel.isMtmRenewal(res,period[index].Date))?color="repeating-linear-gradient(-60deg, white, white 2px, "+viewModel.workspaceAssignedColors[id]+" 2px,"+viewModel.workspaceAssignedColors[id]+" 6px)":viewModel.workspaceAssignedColors[id]},selectedWorkspaces:ko.observableArray([]),workspace_visible_in_conatiner:function(id){var e=$(".ls_events_display."+id),width=0,pos=e.position(),result;return $.each(e,function(i,val){width+=$(val).width()}),result=!1,pos==null||(result=(pos.left>0||pos.left+width>0)&&pos.left<viewModel.calendarWidth()),result},getWorkspacesVisibleInContainer:function(){var result=[],ws=viewModel.workspaces();return $.each(ws,function(i,val){viewModel.workspace_visible_in_conatiner(val.Id)&&result.push(val.Id)}),result.length==0&&$.each(ws,function(i,val){if(result.length<6)result.push(val.Id);else return!1}),result},alreadyLoadedWorkspaces:ko.observableArray([]),calendarHeaderScroll:function(){$(".ls_calendar_month_fullday").hide();_this.find(".calendar-display-content").css("margin-left",-1*_this.find(".calendar-header-content").scrollLeft()+"px");var currentlyVisibleW=viewModel.getWorkspacesVisibleInContainer(),addedEls=currentlyVisibleW.filter(function(el){return viewModel.alreadyLoadedWorkspaces.indexOf(el)==-1});$.each(addedEls,function(i,added){viewModel.alreadyLoadedWorkspaces.push(added)});$(".calendar-reservation-popup").remove()},pauseSilentProcessing:ko.observable(!1),silentProcessing:ko.observable(!1),_isPaused:ko.observable(!1),progressBarTop:function(){return parseInt(_this.height()/2)+"px"},progressBarLeft:function(){return parseInt(_this.width()/2-100)+"px"},afterRender:function(elements){$(elements).find("button").button();$(".qtip").tooltipster("destroy");$.each($(elements).find(".ls_calendar_event_title").not(".after-render-disabled"),function(i,val){var content=$(val).next().html();content&&content.length>0&&$(val).tooltipster({content:content,contentAsHTML:!0,position:"left"})});applyButtonPermissions()},currentPeriodCache:{},currentPeriod:function(date,template,getCloseDateInfo){var result=[],start=0,today=new Date(new Date(date!=null?date:viewModel.calendarConfig().SelectedDate).setHours(0,0,0,0)),cacheKey=today.toString()+"_"+(template||viewModel.templateToUse()),weekFunc;return!getCloseDateInfo&&viewModel.currentPeriodCache[cacheKey]?viewModel.currentPeriodCache[cacheKey]:(weekFunc=function(){var day=today.getDay()-start,date=today.getDate()-day,i,d;for(today=new Date(today.setDate(date)),i=0;i<7;i++)d=new Date(new Date(today).setDate(new Date(today).getDate()+i)),result.push({Date:d,DateStr:d.format("ddd, MMM dd"),IsLast:i==6})},templateToUseApplier(function(){result.push({Date:today,DateStr:today.format("ddd, MMM dd"),IsLast:!0})},function(){weekFunc()},function(){var i,counter,d;end=new Date(today.getFullYear(),today.getMonth()+1,0).getDate();var firstShow=0,firstDay=new Date(today.getFullYear(),today.getMonth(),1).getDay(),calendarViewTopBound=firstDay==0?firstShow-6:firstShow-firstDay+1,calendarViewBottomBound=firstDay==0?35-firstDay:42-firstDay;for(i=calendarViewTopBound,counter=0;i<=calendarViewBottomBound;i++,counter++)d=new Date(new Date(today).setDate(i)),result.push({Date:d,DateStr:d.format("MMM dd"),OtherMonth:i<1||i>end,IsLast:d.getDay()==6,CloseDateInfo:getCloseDateInfo?viewModel.monthCloseDateInfo(d):null,IsLastLine:counter>=35})},function(){for(var d,i=0;i<7;i++)d=new Date(new Date(today).setDate(new Date(today).getDate()+i)),result.push({Date:d,DateStr:d.format("ddd, MMM dd"),IsLast:i==6})},template),viewModel.currentPeriodCache[cacheKey]=result,result)},monthCloseDateInfo:function(date){var closeReason,closedWorkspaces=0;return($.each(viewModel.selectedWorkspaces(),function(index,value){var dayInfo=viewModel.getCalendarDayInfo(date,viewModel.getWorkspaceById(value),!0);typeof dayInfo!="undefined"&&dayInfo!=null&&(dayInfo.LastHour-dayInfo.FirstHour==0||dayInfo.Opened.length==0)&&(closedWorkspaces++,dayInfo.ClosedReason&&dayInfo.ClosedReason.length>0?closeReason=dayInfo.ClosedReason:dayInfo.Blocked&&dayInfo.Blocked.length>0&&(closeReason=dayInfo.Blocked[0].ClosedReason))}),closedWorkspaces>0)?{IsClosed:closedWorkspaces==viewModel.selectedWorkspaces().length,CloseReason:closedWorkspaces==1?closeReason:null}:null},agendaFirstDate:function(){var events=viewModel.allEvents();if(events.length>0)return events[0].isMoveOut?events[0].EndTime.format("MMMM dd, yyyy"):events[0].StartTime.format("MMMM dd, yyyy")},agendaLastDate:function(){var days=viewModel.currentPeriod();return days[6].Date.format("MMMM dd")},calendarDate:function(){var result=(new Date).format("i"),weekFunc=function(){var days=viewModel.currentPeriod();result=days[0].Date.format("MMM dd")+" - "+days[6].Date.format("MMM dd, yyyy")};return templateToUseApplier(function(){result=viewModel.calendarConfig().SelectedDate.format("i")},function(){weekFunc()},function(){result=viewModel.calendarConfig().SelectedDate.format("M")},function(){weekFunc()}),result},headerVertical:function(){return viewModel.isDayView()&&viewModel.getWorkspacesPaged().length>3},headerHeight:function(){var res=viewModel.headerVertical()?150:110,scrollHeight=10;return viewModel.worskpacePageSize()<viewModel.workspaces().length&&templateToUseApplier(function(){res=res+scrollHeight},function(){res=res+scrollHeight},function(){},function(){res=res+scrollHeight}),res+"px"},currentTimeHours:ko.observable(currentTimeHours),currentTimeHoursSymbolTop:function(){return(viewModel.currentTimeHours()-viewModel.getMaximumRange().FirstHour)*viewModel.hourSizePx()-6},currentTimeHoursLineTop:function(){return viewModel.currentTimeHoursSymbolTop()+7},processing:ko.observable(!1),sortedWorkspacesId:ko.observable(config.SortedWorkspacesId),calendarConfig:ko.observable(config),reservationsForToday:ko.observable(config.ReservationsForToday),hourSizePx:ko.observable(42),getCalendarDayInfo:function(date,w,skipReservationCheck){return koExtend.cacheFunction("getCalendarDayInfo"+date+w.Id,function(){var result,min,max;return skipReservationCheck=skipReservationCheck==null?!1:skipReservationCheck,result=null,$.each(w.CalendarDays,function(i,val){if(isSameDay(val.Date,date))return result=$.extend({},val),!1}),skipReservationCheck==!1&&result!=null&&viewModel.events[w.Id]().length>0&&(min=100,max=-1,$.each(viewModel.events[w.Id](),function(i,val){if(isSameDay(date,val.StartTime)&&val.ReservationMetod==0){var w=viewModel.getWorkspaceById(val.WorkspaceId);min>val.StartTime.getHours()&&(min=val.StartTime.getHours());max<val.EndTime.getHours()&&(max=val.EndTime.getHours()+(val.EndTime.getMinutes()>0?1:0));isSameDay(date,val.EndTime)||(max=24);max<min&&(max=24)}}),result.FirstHour==result.LastHour&&result.FirstHour<min&&isSameDay(result.StartTime,result.EndTime)&&(result.FirstHour=min),result.LastHour!=0||isSameDay(result.StartTime,result.EndTime)||(result.LastHour=24),result.FirstHour>min&&(result.FirstHour=min),result.LastHour<max&&(result.LastHour=max)),result})},availableCapacities:ko.observableArray(config.WorkspaceCapacityList),templateToUse:ko.observable(config&&config.TemplateToUse?config.TemplateToUse:"calendar-day"),getCurrentDayPassReservationsCount:function(id,substractFrom){if($.isFunction(viewModel[id]))return substractFrom!=null?substractFrom-viewModel[id]().length:viewModel[id]().length},calendarViewChange:function(val,viewType){if(viewModel.templateToUse()!=val){LSHelper.Calendar.trackCalendarViewSwitchEvents(viewType);_this.find(".calendar-header-content").html("");_this.find(".calendar-display-content").html("");_this.find(".calendar-display-time").html("");viewModel.alreadyLoadedWorkspaces([]);val=="calendar-month"?viewModel.selectedWorkspaces([viewModel.workspaces()[0].Id]):viewModel.selectedWorkspaces([]);function setContentMargin(){_this.find(".calendar-display-content").css("margin-left",-1*_this.find(".calendar-header-content").scrollLeft()+"px")}return templateToUseApplier(setContentMargin,setContentMargin,setContentMargin,setContentMargin),viewModel.processing(!1),viewModel.silentProcessing(!1),viewModel.refreshCalendar(null,null,null,new Date((new Date).setHours(0,0,0,0)),val,!0),!0}},isFullScreen:ko.observable(!1),previuosOverflowStyle:"",resizeFunctionSet:!1,fullScreenCalendar:function(){function onFullScreenResize(){viewModel.isFullScreen()&&(changeWrapperPos(),setTimeout(function(){viewModel.calendarWidth()}))}$(".drop-down-table.dropdown-table-opened").length>0&&$(".drop-down-table.dropdown-table-opened").dropDownTable().close();var val=viewModel.isFullScreen(),changeWrapperPos=function(){var winW=window.innerWidth-17,docW=document.documentElement.clientWidth||document.body.clientWidth,w=winW<docW?winW:docW;w<960&&(w=960);viewModel.deltaWidth(w)},$header=$("header"),$footer=$("footer");if(viewModel.isFullScreen(!val),val!=!0){viewModel.calendarHeaderScroll();$footer.hide();$header.hide();$(".my-page-wrapper").addClass("my-page-wrapper--fullscreen");changeWrapperPos();_thisWrapper.addClass("calendar-full-screen");setTimeout(function(){viewModel.calendarHeaderScroll()});$(window).on("resize",onFullScreenResize)}else _thisWrapper.removeClass("calendar-full-screen"),$footer.show(),$header.show(),$(".my-page-wrapper").removeClass("my-page-wrapper--fullscreen"),$(window).off("resize",onFullScreenResize);return setTimeout(function(){viewModel.calendarWidth();viewModel.setIsScrollVisible()}),viewModel.isFullScreen()},calendarHourColumnOffset:ko.observable($(".ls_cal_hours_column")[0].offsetWidth+$(".ls_cal_hours_column")[0].offsetLeft),wrapperWidth:ko.observable($(_this).width()),deltaWidth:ko.observable($(document).width()-(_thisWrapper.outerWidth()-_thisWrapper.width())),isScrollVisible:ko.observable(!0),setIsScrollVisible:function(){var wsCount=viewModel.workspaces().length,visibleCount=viewModel.calendarWidth()/viewModel.blockWidth();viewModel.isScrollVisible(visibleCount<wsCount)},calendarWidth:function(){var width=viewModel.isFullScreen()?viewModel.deltaWidth():viewModel.wrapperWidth(),result;return viewModel.calendarWidthObs(width),result=0,templateToUseApplier(function(){result=width-viewModel.calendarHourColumnOffset()},function(){result=width-viewModel.calendarHourColumnOffset()},function(){result=width},function(){result=width-viewModel.calendarHourColumnOffset()}),result},calendarWidthObs:ko.observable(),blockWidth:function(){var pagerVisible=viewModel.workspaces().length>viewModel.worskpacePageSize(),isFullScreen=viewModel.isFullScreen(),result=0,fullScreenResult=viewModel.calendarWidth()/viewModel.workspaces().length;return templateToUseApplier(function(){result=165},function(){result=800},function(){result=viewModel.calendarWidth()-273},function(){}),viewModel.isMonthView()||fullScreenResult>result&&(result=fullScreenResult),result},subBlockWidth:function(x){var result=1;return templateToUseApplier(function(){result=viewModel.blockWidth()},function(){result=viewModel.blockWidth()/7},function(){result=parseInt(viewModel.blockWidth()/7)},function(){}),result},worskpacePage:ko.observable(0),capacity:ko.observable(config.WorkspaceCapacityList[0]),targetPageSize:5,worskpacePageSize:function(){var result=1;return templateToUseApplier(function(){result=viewModel.workspaces().length>viewModel.targetPageSize?viewModel.targetPageSize:viewModel.workspaces().length},function(){},function(){},function(){}),result},workspaces:ko.observableArray(config.Workspaces),calendarDateChange:function(val){var date=null;templateToUseApplier(function(){date=new Date(new Date(viewModel.calendarConfig().SelectedDate).addDays(val))},function(){date=new Date(new Date(viewModel.calendarConfig().SelectedDate).addDays(val*7));date=new Date(date.addDays(-date.getDay()))},function(){var d=new Date(viewModel.calendarConfig().SelectedDate);date=new Date(d.setMonth(d.getMonth()+val,1))},function(){date=new Date(new Date(viewModel.calendarConfig().SelectedDate).addDays(val*7))});val==0&&(date=new Date((new Date).setHours(0,0,0,0)));viewModel.refreshCalendar(null,null,null,date,null,!0)},getTimePartFromStr:function(val,isEnd,noSpaces){var date=getDateFromStr(val);return viewModel.getTime(date.getHours(),date.getMinutes(),isEnd,noSpaces)},getTime:function(hour,minutes,isEnd,noSpaces){isEnd&&isEnd==!0&&hour==0&&minutes==0&&(hour=23,minutes=59);var result=hour==0?"12":hour>12?hour-12:hour;return minutes<10&&(minutes="0"+minutes),result+":"+minutes+(noSpaces?"":" ")+(hour<12?"AM":"PM")},getReservationCoord:function(res,date,skipResMethodCheck){var start=res.StartTime,length=res.EndTime-res.StartTime,h=parseInt(viewModel.hourSizePx()*length/36e5),delta=viewModel.timeDisplayed().length>0?viewModel.timeDisplayed()[0].Hour:0,top=parseInt(viewModel.hourSizePx()*(start.getHours()-delta+start.getMinutes()/60));return h+top>viewModel.calendarHeight()&&(h=viewModel.calendarHeight()-top),res.ReservationMethod==null||res.ReservationMethod==Enum.WorkspaceReservationMethod.SpecificTimePeriod||skipResMethodCheck||(h=viewModel.calendarHeight(),top=0),{id:res.Id,height:h,top:top,width:viewModel.blockWidth()-3,left:1,counter:0}},ajaxFunction:function(url,params,success,method){return viewModel.processing(!0),method==null&&(method="GET"),$.ajax({type:method,data:params,url:url,async:!0,success:function(result){viewModel.processing(!1);success(result)},error:function(xhr,ajaxOptions,thrownError){viewModel.processing(!1)}})},getWorkspacesPaged:function(){var items=[],monthData=function(){if(viewModel.workspaces().length>0){var item=$.extend({},viewModel.workspaces()[0]);item.blockWidth=viewModel.blockWidth();item.list=function(){return viewModel.getWorkspaceReservations()};items.push(item)}},common=function(){items=viewModel.workspaces();$.each(items,function(j,val){val.blockWidth=viewModel.blockWidth();val.list=function(){return viewModel.getWorkspaceReservations(this.Id)}})};return templateToUseApplier(common,common,monthData,function(){}),items},lastRefreshCalendarRequest:null,refreshCalendar:function(data,event,userId,date,template,capacityChanged,res,silent,wId,reservationAddedOrDeleted){var common,templateChanged;if(silent||$(".calendar-reservation-popup").remove(),viewModel.processing()&&viewModel.silentProcessing()&&!viewModel.reservationPopupOpened()&&wId==null){viewModel.silentProcessing(!1);return}capacityChanged==null&&(capacityChanged=!1);viewModel.silentProcessing(silent);viewModel._isPaused(!0);common=function(){var period=viewModel.currentPeriod(date,template);fromDate=period[0].Date;toDate=period[period.length-1].Date};templateChanged=!1;template!=null&&template!=viewModel.templateToUse()&&(viewModel.initGetResFunctions(date,template),viewModel.templateToUse(template),templateChanged=!0);var wIds=wId==null?viewModel.getWorkspacesVisibleInContainer():[wId],fromDate=date!=null?date:viewModel.calendarConfig().SelectedDate,toDate=null,agendaView=!1;templateToUseApplier(function(){},function(){common()},function(){common();wIds=viewModel.selectedWorkspaces()},function(){agendaView=!0;common()},template);viewModel.lastRefreshCalendarRequest&&viewModel.lastRefreshCalendarRequest.readyState!=4&&viewModel.lastRefreshCalendarRequest.abort();viewModel.lastRefreshCalendarRequest=viewModel.ajaxFunction("/Calendar/ReservationsJson",{id:viewModel.calendarConfig().VenueId,userId:userId!=null?userId:viewModel.calendarConfig().UserId,capacity:viewModel.capacity().Value,shownWorkspacesIds:null,from:LSHelper.Calendar.toServerString(fromDate),to:LSHelper.Calendar.toServerString(toDate),loggedInUserId:viewModel.calendarConfig().LoggedInUserId,showAllWorkspaces:agendaView,capacityChanged:reservationAddedOrDeleted||capacityChanged},function(result){var ev;if(result.isException)if(result.sessionExpired==!0){viewModel.pauseSilentProcessing(!0);try{$("#editReservationDialog").dialog("close")}catch(e){}ev=viewModel.getReservation(null,null);viewModel.events[ev.WorkspaceId].remove(ev);LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){userId!=viewModel.calendarConfig().LoggedInUserId?window.location.reload():(viewModel.pauseSilentProcessing(!1),viewModel.refreshCalendar(data,event,userId,date,template,capacityChanged,res,silent))},onlyHeaderReload:!0,signInMessage:result.content})}else LSHelper.UI.showError(result);else{viewModel.reservationsForToday(result.config.ReservationsForToday);convertDate(result.config,result.reservations,result.tours);result.config.SelectedDate=date!=null?date:viewModel.calendarConfig().SelectedDate;var replaceEvents=!isSameDay(result.config.SelectedDate,viewModel.calendarConfig().SelectedDate)||templateChanged,isEqual=function(v,newRes){var result=!0;for(var p in newRes)if(newRes[p]!=v[p]&&(result=p=="Id"?v.Id==newRes.Id||v.IsRecurrentReservation&&newRes.IsRecurrentReservation&&v.ParentId==newRes.ParentId&&v.OccurrenceDate==newRes.OccurrenceDate:isNaN(new Date(newRes[p]))||isNaN(new Date(v[p]))?!1:newRes[p]-v[p]==0,result==!1))return result},isSameReservationInstance=function(res1,res2){return!res1||!res2?!1:res1.Id==res2.Id||res1.IsRecurrentReservation&&res2.IsRecurrentReservation&&res1.ReadId==res2.ReadId&&res1.OccurrenceDate==res2.OccurrenceDate?!0:!1};replaceEvents?(viewModel.initEventObs(result.reservations,result.tours),viewModel.calendarConfig(result.config),viewModel.workspaces(result.config.Workspaces),viewModel.alreadyLoadedWorkspaces(viewModel.isMonthView()?[]:viewModel.getWorkspacesVisibleInContainer())):(viewModel.initEventObs(result.reservations,result.tours),viewModel.workspaces(result.config.Workspaces),viewModel.selectedWorkspaces(viewModel.selectedWorkspaces()));viewModel.silentProcessing()?viewModel.silentProcessing(!1):result&&result.config&&!$.isEmptyObject(result.config.SortedWorkspacesId)&&viewModel.sortedWorkspacesId(result.config.SortedWorkspacesId);replaceEvents||viewModel.calendarConfig(result.config);koExtend.clearCacheFunction();viewModel._isPaused(!1);$(".qtip").tooltipster("destroy");templateChanged&&viewModel.setIsScrollVisible()}},"POST")},initGetResFunctions:function(date,template){var common=function(setThrottle){$.each(viewModel.workspaces(),function(externalI,externalVal){viewModel[externalVal.Id]==null&&(viewModel[externalVal.Id]={});$.each(viewModel.currentPeriod(date,template),function(i,val){var func=function(){return getResFunction(i,externalVal)};viewModel[externalVal.Id][i]=ko.computed(function(){return func()})})})};$.each(viewModel.workspaces(),function(externalI,externalVal){viewModel[externalVal.Id]!=null&&ko.isComputed(viewModel[externalVal.Id])&&viewModel[externalVal.Id].dispose();for(var prop in viewModel[externalVal.Id])viewModel[externalVal.Id].hasOwnProperty(prop)&&ko.isComputed(viewModel[externalVal.Id][prop])&&viewModel[externalVal.Id][prop].dispose()});templateToUseApplier(function(){$.each(viewModel.workspaces(),function(externalI,externalVal){var func=function(){return getResFunction(null,externalVal)};viewModel[externalVal.Id]=ko.computed(function(){return func()})})},function(){common()},function(){common(!0)},function(){common()},template)},getDateFromEvent:function(e,date){var y=e.pageY-$(e.currentTarget).offset().top,date=new Date(new Date(date==null?viewModel.calendarConfig().SelectedDate:date).addHours(viewModel.timeDisplayed()[0].Hour)),time=date.addSeconds(3600*y/viewModel.hourSizePx()),minutes=time.getMinutes();return time=new Date(new Date(time.setMinutes(0)).setSeconds(0)).setMilliseconds(0),minutes>45&&(minutes=60),minutes<15&&(minutes=0),new Date(time).addMinutes(Math.floor(minutes/15)*15)},mousePressed:ko.observable(!1),oneClickReservation:ko.observable(!0),reservationPopupOpened:ko.observable(!1),getAffectedEvents:function(ev,workspace,date){var check=function(val,val1){var check1=function(val,val1){return val.StartTime<=val1.StartTime&&(val.EndTime>=val1.EndTime||val.EndTime>val1.StartTime)||val.ReservationMethod!=Enum.WorkspaceReservationMethod.SpecificTimePeriod||val1.ReservationMethod!=Enum.WorkspaceReservationMethod.SpecificTimePeriod};return check1(val,val1)||check1(val1,val)},affected=[];return $.each(viewModel.getWorkspaceReservations(workspace.Id,date!=null?new Date(date):null),function(i,val){ev.Id!=val.Id&&check(ev,val)&&affected.push(val)}),affected},refreshAffectedEvents:function(ev,workspace,date){var affected=viewModel.getAffectedEvents(ev,workspace,date);affected.push(ev);ev.WorkspaceId!=workspace.Id&&(viewModel.events[ev.WorkspaceId].remove(ev),ev.WorkspaceId=workspace.Id,viewModel.events[workspace.Id].push(ev));$.each(affected,function(i,val){viewModel.events[val.WorkspaceId].replace(val,val)})},bookItButton:$('<div class="calendar-bookItButton"><\/div>'),bookItNowData:{StartTime:new Date,EndTime:new Date},bookItButtonLabel:function(workspace){var buttonLabel=viewModel.isMonthView()?"Book It":"Book It Now";return workspace.NeedToDoRequest&&(buttonLabel=workspace.IsInquiry?"Request":"Schedule a Tour"),buttonLabel},mouseMoving:function(date,workspace,e){var datesInRange=function(d1,d2){return!0},timeLess=function(d1,d2){return d1.getHours()<d2.getHours()||d1.getHours()==d2.getHours()&&d1.getMinutes()<d2.getMinutes()},dt=viewModel.getDateFromEvent(e,date),ev,wasModified,bbStartTime,cDay,buttonLabel;if(viewModel.mousePressed()){viewModel.oneClickReservation(!1);ev=viewModel.getReservation(null,null);ev&&(wasModified=!1,dt>ev.StartTime&&datesInRange(dt,ev.EndTime)?(ev.EndTime=dt,ev.EndTime.getDate()!=ev.StartTime.getDate()&&viewModel.isWeekView()&&(ev.StartTime=new Date(ev.EndTime.getFullYear(),ev.EndTime.getMonth(),ev.EndTime.getDate(),ev.StartTime.getHours(),ev.StartTime.getMinutes())),wasModified=!0):dt<ev.EndTime&&datesInRange(ev.StartTime,dt)&&(ev.StartTime=dt,ev.EndTime.getDate()!=ev.StartTime.getDate()&&(ev.EndTime=new Date(ev.StartTime.getFullYear(),ev.StartTime.getMonth(),ev.StartTime.getDate(),ev.EndTime.getHours(),ev.EndTime.getMinutes())),wasModified=!0),ev.WorkspaceId!=workspace.Id&&(wasModified=!0),wasModified&&viewModel.refreshAffectedEvents(ev,workspace,date))}else if(bbStartTime=dt,cDay=viewModel.getCalendarDayInfo(date==null?viewModel.calendarConfig().SelectedDate:date,workspace),cDay!=null){timeLess(bbStartTime,cDay.StartTime)&&(bbStartTime=cDay.StartTime);var bbEndTime=new Date(bbStartTime).addHours(1),coord=viewModel.getReservationCoord({StartTime:bbStartTime,EndTime:bbEndTime},date,!0),affected=viewModel.getAffectedEvents({StartTime:bbStartTime,EndTime:new Date(bbStartTime).addMinutes(1),ReservationMethod:workspace.ReservationMethod},workspace,date);(affected.length==0||workspace.CurrentReservationMethodCapacity>0)&&(buttonLabel=viewModel.bookItButtonLabel(workspace),viewModel.bookItNowData.StartTime=bbStartTime,viewModel.bookItNowData.EndTime=bbEndTime,hideBookItButton||(viewModel.bookItButton.html(buttonLabel),viewModel.bookItButton.css("top",coord.top),viewModel.bookItButton.appendTo(e.currentTarget)))}},mouseOut:function(data,ev){var elem=_this.find(".calendar-display-content"),offset=elem.offset(),res;(ev.pageX>=offset.left+elem.width()||ev.pageX<=offset.left||ev.pageY<=offset.top||ev.pageY>=offset.top+elem.height())&&(hideBookItButton||viewModel.bookItButton.detach(),viewModel.mousePressed()&&(res=viewModel.getReservation(null,null),res!=null&&(viewModel.mousePressed(!1),viewModel.getReservationDetails(null,res.Workspace,null,res.StartTime,res.EndTime))))},mouseUp:function(date,workspace,data,e){if(e==null&&(e=data),viewModel.mousePressed()==!0){viewModel.mousePressed(!1);viewModel.oneClickReservation()==!0?(hideBookItButton||viewModel.bookItButton.detach(),viewModel.getReservationDetails(null,workspace,null,viewModel.bookItNowData.StartTime,viewModel.bookItNowData.EndTime,!0)):viewModel.getReservationDetails(null,workspace);viewModel.oneClickReservation(!0)}},mouseDown:function(date,workspace,data,e){function detectLeftButton(evt){evt=evt||window.event;var button=evt.which||evt.button;return button==1}var ev;if(date&&date.getFullYear&&(date=new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0)),e==null&&(e=data),workspace.w!=null&&(workspace=workspace.w),e!=null&&detectLeftButton(e)==!0){var time=viewModel.getDateFromEvent(e,date),endTime=null,day=null;if(workspace.ReservationMethod==Enum.WorkspaceReservationMethod.Period||workspace.IsInquiry)day=viewModel.getCalendarDayInfo(time,workspace),day!=null&&(time=day.StartTime,endTime=new Date(time).addMinutes(workspace.MinimumBookingLength));else if(workspace.ReservationMethod==Enum.WorkspaceReservationMethod.DayPass)day=viewModel.getCalendarDayInfo(time,workspace),day!=null&&(time=day.StartTime,endTime=day.EndTime);else if(workspace.ReservationMethod==Enum.WorkspaceReservationMethod.SpecificTimePeriod){viewModel.oneClickReservation(!0);viewModel.mousePressed(!0);endTime=new Date(time);ev=viewModel.getReservation(null,null);viewModel.events[workspace.Id].remove(ev)}(workspace.ReservationMethod!=Enum.WorkspaceReservationMethod.SpecificTimePeriod||workspace.IsInquiry)&&day==null||(viewModel.events[workspace.Id].push({Id:null,WorkspaceId:workspace.Id,VenueId:workspace.VenueId,VenueSlug:workspace.VenueSlug,StartTime:time,EndTime:endTime,IsCreditCardPayment:!1}),(workspace.ReservationMethod!=Enum.WorkspaceReservationMethod.SpecificTimePeriod||workspace.IsInquiry)&&viewModel.getReservationDetails(null,workspace,null,time,endTime,!0))}},calendarMonthDayOver:function(date,e){$(".ls_calendar_month_fullday").hide();var overlay=$(e.currentTarget).next(),offset=$(e.currentTarget).position(),overlayHeight=overlay.height(),overlayMinHeight=parseInt(overlay.css("min-height"));!date.IsLastLine||overlayHeight<=overlayMinHeight?overlay.css("top",offset.top-5+"px"):overlay.css("top",offset.top-20-(overlayHeight-overlayMinHeight)+"px");overlay.css("left",offset.left-5+"px");overlay.show();overlay.mouseleave(function(){overlay.hide()})},updateEvent:function(ev){var event=viewModel.getReservation(ev.Id,null);viewModel.events[event.WorkspaceId].remove(event);viewModel.events[event.WorkspaceId].push(event)},currentReservationPopUp:ko.observable(),stateSelector:function(r,checkInAllowed,checkOutAllowed,cancelAllowed){var exec=function(f){typeof f!="undefined"&&$.isFunction(f)&&f()};r.CheckInState!=3&&r.CheckInState!=6&&r.CheckInState!=4?exec(checkInAllowed):r.CheckInState==3?exec(checkOutAllowed):r.CheckInState==6&&viewModel.isSuperUser()&&exec(checkInAllowed)},setCurrentReservationPopUp:function(state,id,showUndo){var res=id==null?viewModel.currentReservationPopUp():viewModel.getReservation(id,null),w,undoAvailable,isSuperUser;res.canCheckIn=!1;res.canCheckOut=!1;res.canEdit=!0;res.canDelete=!0;w=viewModel.getWorkspaceById(res.WorkspaceId);res.infoText="";res.error=!1;undoAvailable=!1;state!=null&&(res.CheckInState=state.checkInState,state.errorMessage!=null&&state.errorMessage.length>0?res.infoText=state.errorMessage:(isSuperUser=viewModel.isSuperUser(),res.CheckInState==3?(res.IconState=2,res.infoText=res.CreatorName+" is now checked in. ",isSuperUser&&(undoAvailable=!0)):res.CheckInState==6?(res.IconState=3,res.infoText=res.CreatorName+" is now checked out. ",isSuperUser&&(undoAvailable=!0)):res.CheckInState==2&&(res.IconState=0)));viewModel.stateSelector(res,function(){res.canCheckIn=!0},function(){res.canCheckOut=!0},function(){});viewModel.isSuperUser()||viewModel.calendarConfig().UserId==res.MemberId||viewModel.isBookingDelegate()&&viewModel.calendarConfig().UserId==res.OriginatingBookingDelegateId||(res.canCheckIn=!1,res.canCheckOut=!1,res.canEdit=!1,res.canDelete=!1);res.MeetingRequestOriginated&&!viewModel.isSuperUser()&&(res.canEdit=!1,res.canDelete=!1);res.canRefund=res.RefundPaymentAllowed&&viewModel.calendarConfig().IsLoggedInUserSuperUser;viewModel.currentReservationPopUp(res);undoAvailable&&(showUndo==undefined||showUndo!=undefined&&showUndo)&&$("<a><\/a>",{"class":"undo",href:"#",text:"Undo",click:function(){var undoLink=$(this);return undoLink.hasClass("disabled")?!1:(undoLink.addClass("disabled"),LSHelper.Reservation.undocheckinout(viewModel.currentReservationPopUp().Id,viewModel.calendarConfig().UserId,state.checkInState,null,function(result){return result!=undefined&&result.result?(viewModel.setCurrentReservationPopUp(result,null,!1),viewModel.updateEvent(viewModel.currentReservationPopUp()),undoLink.remove()):LSHelper.Dialog.alertDialog("There was some unexpected error.","Error"),!1},function(){return undoLink.removeClass("disabled"),!1},viewModel.currentReservationPopUp().IsRecurrentReservation?viewModel.currentReservationPopUp().OccurrenceDate:null),!1)}}).appendTo(".calendar-reservation-popup-message")},isUserEmpty:function(){return viewModel.calendarConfig().UserId=="00000000-0000-0000-0000-000000000000"||viewModel.calendarConfig().UserId==null},isBookingDelegate:function(){return viewModel.calendarConfig().IsBookingDelegate},getReservationPopupDetails:function(reservationId,res,date,event,headerClick){var isDayPass=reservationId=="day-pass",reservation=isDayPass?res.list()[0]:viewModel.getReservation(reservationId,null),w=isDayPass?res.w==null?res:res.w:viewModel.getWorkspaceById(reservation.WorkspaceId),day,isSuperUser,occurrenceDate,quickLook,baseWrapper,wrapperSelector,wrapperWidths,reverseDirection,$resEl,resElementOffset,resList,left,arrow;if(reservation==null)return(day=viewModel.getCalendarDayInfo(date==null?viewModel.calendarConfig().SelectedDate:date,w),day.StartTime==day.EndTime)?void 0:viewModel.mouseDown(date,w,event);if(isSuperUser=viewModel.isSuperUser(),isDayPass){if(baseWrapper=".ls_events_display",wrapperSelector=baseWrapper+"."+w.Id,templateToUseApplier(function(){},function(){wrapperSelector=baseWrapper+"."+w.Id+(date!=null?"."+date.getOrdinalNumber():"")},function(){},function(){}),$(".calendar-reservation-popup").remove(),isSuperUser||!res.GrayedOut||!res.ReadOnly){var wrapper=headerClick?$(event.currentTarget):$(wrapperSelector),dayPassWrapper=_this,$header=$(".calendar-header-content"),offset=wrapper.position(),dOffset=dayPassWrapper.offset();res.coord={left:offset.left-$header.scrollLeft(),width:wrapper.width(),top:event.clientY-(headerClick?0:dOffset.top)+$(window).scrollTop(),height:headerClick?wrapper.height():100};wrapperWidths=wrapper.width();reverseDirection=!1;parseInt(res.coord.left+res.coord.width)+325>wrapperWidths&&(reverseDirection=!0);$resEl=$(event.currentTarget);$resEl.length==0&&($resEl=$(".ls_events_display."+w.Id).find(".ls_calendar_event"));resElementOffset=$resEl.offset();resList=res.list();$.each(resList,function(i,val){val.error=val.ReservationMethod!=w.ReservationMethod});reservation.resList=resList;viewModel.currentReservationPopUp(reservation);viewModel.setCurrentReservationPopUp();var day=viewModel.getCalendarDayInfo(date!=null?date:viewModel.calendarConfig().SelectedDate,w),isDayOpened=day.StartTime-day.EndTime!=0,html=$($("#calendar-reservation-popup").html()),popupViewModel={res:reservation,reverseDirection:reverseDirection,isSuperUser:isSuperUser,isDayPass:isDayPass,resList:resList,w:w,date:date,showNewButton:isDayPass&&isDayOpened&&resList.length<w.CurrentReservationMethodCapacity&&(isSuperUser||resList.filter(function(val){return val.MemberId==viewModel.calendarConfig().UserId}).length===0),viewModel:viewModel},html=html.appendTo($("body"));html.find(".reservation-popup-body.daypass .scroller").lionbars();LSHelper.HelperLib.autoEllipseText(html.find(".reservation-popup-title-text"),250);ko.applyBindings(popupViewModel,html[0]);html.css("position","absolute");reverseDirection?(left=resElementOffset.left-(html.width()+12),left<0&&(left=resElementOffset.left+res.coord.width-325,arrow=$(".calendar-reservation-popup-arrow-right"),arrow.removeClass("calendar-reservation-popup-arrow-right"),arrow.addClass("calendar-reservation-popup-arrow")),html.css("left",left+"px")):html.css("left",resElementOffset.left+res.coord.width+"px");html.css("top",resElementOffset.top+res.coord.height/2-html.height()/2+"px");html.find(".reservation-popup-icon-close").bind("mousedown",function(ev){$(this).closest(".calendar-reservation-popup").remove();ev.stopPropagation()});html.bind("mousedown",function(ev){ev.stopPropagation()});html.find("button").button({disabled:res.ReadOnly})}}else!isSuperUser&&(reservation.GrayedOut||reservation.ReadOnly)||($(".calendar-reservation-popup").remove(),occurrenceDate=reservation.IsRecurrentReservation?reservation.OccurrenceDate:null,quickLook=LSHelper.Reservation.quickLook({reservationId:reservation.ReadId,occurrenceDate:occurrenceDate,memberId:viewModel.calendarConfig().UserId,checkInFunction:function(){LSHelper.HelperLib.blockUI();LSHelper.Reservation.checkIn(reservation.ReadId,reservation.MemberId,!1,function(result){viewModel.refreshCalendar(null,null,null,null,null,null,null,null,null);LSHelper.HelperLib.unblockUI();quickLook.refresh()},function(){LSHelper.HelperLib.unblockUI();quickLook.refresh()},!1,occurrenceDate)},checkOutFunction:function(){LSHelper.HelperLib.blockUI();LSHelper.Reservation.checkout(reservation.ReadId,reservation.MemberId,null,function(result){viewModel.refreshCalendar(null,null,null,null,null,null,null,null,null);LSHelper.HelperLib.unblockUI();quickLook.refresh()},function(){LSHelper.HelperLib.unblockUI();quickLook.refresh()},occurrenceDate)},editFunction:function(){quickLook.$dialog.dialog("close");viewModel.getReservationDetails(reservation.ReadId,w,null,null,null,null,occurrenceDate)},deleteFunction:function(){$(document).unbind("reservationDeleted.reservationQuickLook");$(document).bind("reservationDeleted.reservationQuickLook",function(){quickLook.$dialog.dialog("close")});viewModel.deleteReservation(reservation)},stopAutoRenewSuccessFunc:function(){viewModel.refreshCalendar();quickLook.refresh()}}))},getReservationDetails:function(resId,workspace,event,startDate,endDate,recurrenceEditType,occurrenceDate){var res,readId,closeOrErrorFunc,guestCount,params;if(($(".calendar-reservation-popup").remove(),viewModel.reservationPopupOpened()!=!0)&&(event!=null&&event.stopPropagation(),res=viewModel.getReservation(resId,occurrenceDate),res==null||!res.ReadOnly)){if(readId=res!=null?res.ReadId:resId,res!=null&&res.IsRecurrentReservation&&!recurrenceEditType){LSHelper.Reservation.showRecurrentDialog(LSHelper.Reservation.RecurrentDialogModes.edit,function(el,opts){viewModel.getReservationDetails(resId,workspace,event,startDate,endDate,opts.recurrenceEditType,occurrenceDate)});return}var sD=startDate!=null||!res?startDate:res.Id!=null?null:res.StartTime,eD=endDate!=null||!res?endDate:res.Id!=null?null:res.EndTime,previousEvent=resId!=null?copyEvent(viewModel.getReservation(resId,occurrenceDate)):null;LSHelper.Account.getJoinDataObject=function(){return{type:"getReservationDetails",resId:res.Id,workspaceId:workspace.Id!=null?workspace.Id:res.WorkspaceId,startDate:startDate,endDate:endDate}};var wId=workspace.Id!=null?workspace.Id:res.WorkspaceId,ws=workspace!=null?workspace:viewModel.getWorkspaceById(wId),ev={id:readId,workspace_id:wId,venue_id:viewModel.calendarConfig().VenueId,start_date:sD,end_date:eD,workspace:ws};viewModel.calendarConfig().UserId==null&&(viewModel.calendarConfig().UserId="00000000-0000-0000-0000-000000000000");closeOrErrorFunc=function(id,refresh,confirmed){viewModel._isPaused(!1);var ev=viewModel.getReservation(id,occurrenceDate);confirmed||(ev!=null&&viewModel.events[ev.WorkspaceId].remove(ev),previousEvent!=null&&viewModel.events[previousEvent.WorkspaceId].push(previousEvent));viewModel.reservationPopupOpened(!1);(refresh==!0||ev&&!isSameDay(viewModel.calendarConfig().SelectedDate,ev.StartTime))&&viewModel.refreshCalendar()};viewModel.capacity()&&(guestCount=viewModel.capacity().Value);params={ev:ev,userId:viewModel.calendarConfig().UserId,onClose:function(ev,refresh,confirmed){closeOrErrorFunc(res.Id,!1,confirmed)},successCallBack:function(userId){viewModel.calendarConfig().UserId=userId;viewModel.reservationPopupOpened(!1)},errorCallback:function(){closeOrErrorFunc(res.Id,!1)},guestCount:guestCount,confirmationCallback:function(userId){viewModel.calendarConfig().UserId=userId},reservationSourcePage:LSHelper.Calendar.reservationSourceNames.CalendarDirect,occurrenceDate:recurrenceEditType&&recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.SingleEvent?res.OccurrenceDate:undefined,applyDate:recurrenceEditType&&recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.AllFollowing?res.OccurrenceDate:undefined,notLoggedInCallBack:function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){viewModel.calendarConfig().UserId=userId;viewModel.refreshCalendar();params.userId=userId;LSHelper.Calendar.editReservation(params)},onlyHeaderReload:!0})},skipCurrentUtcOverride:!0};(params.userId==null||params.userId==Guid.Empty)&&(params.userId=User.id);LSHelper.Calendar.editReservation(params);ws.ReservationMethod==Enum.WorkspaceReservationMethod.Period||ws.IsInquiry?(viewModel.events[wId].remove(viewModel.getReservation(null,null)),viewModel.reservationPopupOpened(!1)):viewModel.reservationPopupOpened(!0)}},getReservation:function(id,occurrenceDate){id==""&&(id=null);var result=null;return $.each(viewModel.workspaces(),function(i,val){var res=viewModel.events[val.Id]().find(function(v){return v.Id==id||v.ReadId==id&&occurrenceDate==v.OccurrenceDate});if(res!=null)return result=res,!1}),result},getWorkspaceReservations:function(workspaceId,date){var result=[];return viewModel.events&&viewModel.events[workspaceId]&&$.each(viewModel.events[workspaceId](),function(i,val){val.WorkspaceId==workspaceId&&(date==null||isSameDay(val.StartTime,date))&&result.push(val)}),result},calendarDatePicker:ko.observable(null),calendarChooseDate:function(data,elem){var p=viewModel.calendarDatePicker(),getCalendarPickerWidth=function(){var width=$(".ls_cal_date ").width();return width<175&&(width=175),width},dt,widget;p==null&&(dt=$('<input type="text" style="height: 0px; width:0px; border: 0px; position: absolute;" />'),p=$(dt).insertAfter($(elem)),p.datepicker({onSelect:function(dateText,inst){viewModel.refreshCalendar(null,null,null,new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay),null,!0)},onChangeMonthYear:function(y,m,inst){setTimeout(function(){$(inst.dpDiv[0]).width(getCalendarPickerWidth())})}}),viewModel.calendarDatePicker(p));widget=p.datepicker("widget");widget.is(":visible")?p.datepicker("hide"):(p.datepicker("setDate",viewModel.calendarConfig().SelectedDate),p.datepicker("show"),widget.width(getCalendarPickerWidth()),widget.css("top",$(elem).offset().top+$(elem).outerHeight()),widget.css("left",$(elem).offset().left),widget.css("z-index",215))},getTopByDate:function(date,firstHour){date=new Date(date);var hoursOffset=date.getHours()>=firstHour?date.getHours()-firstHour:0;return parseInt((hoursOffset+date.getMinutes()/60)*viewModel.hourSizePx())},getBlockedIntervals:function(date,workspace,getFreeInterval){var result,hasReservations,day,max,min;if(getFreeInterval=getFreeInterval==null?!1:!0,result=[],hasReservations=viewModel.events[workspace.Id]().length>0,workspace=viewModel.getWorkspaceById(workspace.Id),day=viewModel.getCalendarDayInfo(date!=null?date:viewModel.calendarConfig().SelectedDate,workspace),day!=null&&day.StartTime-day.EndTime!=0){var firstHour=viewModel.timeDisplayed().length>0?viewModel.timeDisplayed()[0].Hour:0,lastHour=viewModel.timeDisplayed().length>0?viewModel.timeDisplayed()[viewModel.timeDisplayed().length-1].Hour+1:0,begin=new Date(day.StartTime),end=new Date(day.EndTime);day.Opened.length==0&&(begin.setHours(firstHour),begin.setMinutes(0),end.setHours(lastHour),end.setMinutes(0));getFreeInterval?result.push({Start:viewModel.getTopByDate(new Date(begin),firstHour),End:viewModel.getTopByDate(new Date(end.getHours()==0&&end.getMinutes()==0?new Date(end).setHours(23,59,0):new Date(end)),firstHour)}):((begin.getMinutes()>0||firstHour<begin.getHours())&&result.push({Start:viewModel.getTopByDate(new Date(begin).setHours(firstHour,0,0),firstHour),End:viewModel.getTopByDate(day.StartTime,firstHour),ClosedReason:day.ClosedReason,DayClosed:day.FirstHour==day.LastHour}),(end.getMinutes()>0||lastHour>end.getHours()&&end.getHours()!=0)&&result.push({Start:viewModel.getTopByDate(day.LastHour!=0?day.EndTime:new Date(day.StartTime).setHours(firstHour),firstHour),End:viewModel.getTopByDate(new Date(end).setHours(lastHour==24?23:lastHour,lastHour==24?59:0,0),firstHour),ClosedReason:day.ClosedReason,DayClosed:day.FirstHour==day.LastHour,EndingBlock:!0}),$.each(day.Blocked,function(i,val){day.Opened.length!=0&&(begin=new Date(val.StartTime),end=new Date(val.EndTime));result.push({Start:viewModel.getTopByDate(new Date(begin),firstHour),End:viewModel.getTopByDate(new Date(end.getHours()==0&&end.getMinutes()==0?new Date(end).setHours(23,59,0):new Date(end)),firstHour),ClosedReason:val.ClosedReason,DayClosed:!1})}))}else day!=null&&day.StartTime-day.EndTime==0?hasReservations?getFreeInterval?(max=null,min=null,$.each(viewModel.events[workspace.Id](),function(i,val){(val.StartTime<min||min==null)&&(min=val.StartTime);(val.EndTime>max||max==null)&&(max=val.EndTime)}),result.push({Start:(min.getHours()-day.FirstHour)*viewModel.hourSizePx(),End:((max.getHours()==0&&max.getMinutes()==0?24:max.getHours())-day.FirstHour)*viewModel.hourSizePx()})):result.push({Start:0,End:0,ClosedReason:day.ClosedReason,DayClosed:day.StartTime-day.EndTime==0}):result.push({Start:0,End:0,ClosedReason:day.ClosedReason,DayClosed:day.StartTime-day.EndTime==0}):getFreeInterval&&result.push({Start:0,End:0,ClosedReason:"Incorrect Day",DayClosed:!0});return result},eventCssClass:function(event_id){var event=viewModel.getReservation(event_id,null),cssClass="ls_calendar_event",workspace;return event!=null&&(event.GrayedOut==!0&&(cssClass=cssClass+" grayed_out_event"),event.ReadOnly==!0&&(event.GrayedOut==!1&&(cssClass=cssClass+" grayed_out_event"),cssClass=cssClass+" readonly_event"),event.IconState!=undefined&&(event.IconState==0?cssClass=cssClass+" future_reservations":event.IconState==1?cssClass=cssClass+" never_checked_in":event.IconState==2?cssClass=cssClass+" checked_in":event.IconState==3&&(cssClass=cssClass+" checked_out")),event.BlockSpace==!0&&(cssClass=cssClass+" reservation_block_space"),workspace=viewModel.getWorkspaceById(event.WorkspaceId),event.ReservationMethod!=workspace.ReservationMethod&&(cssClass=cssClass+" reservationmethod_wrong")),cssClass},getEventIconState:function(event_id){var event=viewModel.getReservation(event_id,null);return event!=null?event.IconState:0},isReservationMethodIncorrect:function(event_id){var event=viewModel.getReservation(event_id,null),workspace;return event!=null?(workspace=viewModel.getWorkspaceById(event.WorkspaceId),event.ReservationMethod!=workspace.ReservationMethod):!1},getWorkspaceById:function(id){var result=null;return $.each(viewModel.workspaces(),function(i,val){if(val.Id==id)return result=val,!1}),result},monthlyViewBookItNowTargetWorkspaceId:function(){var selected=viewModel.selectedWorkspaces();return selected.length>0?selected[selected.length-1]:viewModel.workspaces()[0].Id},monthlyViewBookItButtonLabel:function(){var workspaceId=viewModel.monthlyViewBookItNowTargetWorkspaceId(),workspace=viewModel.getWorkspaceById(workspaceId);return viewModel.bookItButtonLabel(workspace)},bookItNow:function(date,useDateAsStartSearch,daysAhead,w,event){var workspaceId=w.Id,ev;templateToUseApplier(function(){},function(){},function(){workspaceId=viewModel.monthlyViewBookItNowTargetWorkspaceId()},function(){});w.Id!=workspaceId&&(w=viewModel.getWorkspaceById(workspaceId));daysAhead=daysAhead==null?LSHelper.Constants.reservationSearchDaysAhead():daysAhead;useDateAsStartSearch=useDateAsStartSearch==null?!1:useDateAsStartSearch;var currentTime=new Date,currentTimeHours=currentTime.getUTCHours()+(currentTime.getUTCMinutes()+viewModel.calendarConfig().TimeZoneDetail.OffsetMinutes)/60,dtmCalendarTimeVenue=new Date(viewModel.calendarConfig().SelectedDate.getFullYear(),viewModel.calendarConfig().SelectedDate.getMonth(),viewModel.calendarConfig().SelectedDate.getDate(),0,0,0,0),operatingInterval=viewModel.calendarConfig().LastHour-viewModel.calendarConfig().FirstHour,venueClosed=operatingInterval==0;if(LSHelper.Account.getJoinDataObject=function(){return{type:"bookItNow",workspaceId:w.Id,venueId:w.VenueId,startDate:date,useDateAsStartSearch:useDateAsStartSearch}},venueClosed)return!1;else ev={workspace_id:workspaceId,venue_id:w.VenueId,start_date:date!=null&&useDateAsStartSearch==!0?date.Date:null,workspace:w},LSHelper.Calendar.editReservation({ev:ev,onClose:function(ev,refresh){if(refresh!=null&&refresh==!1){var ev=viewModel.getReservation(null,null);viewModel.events[ev.WorkspaceId].remove(ev)}},daysAhead:daysAhead,currentVenueDate:LSHelper.Calendar.toServerString(useDateAsStartSearch==!0?date.Date:dtmCalendarTimeVenue),errorCallback:viewModel.refreshCalendar,skipCurrentUtcOverride:useDateAsStartSearch,reservationSourcePage:LSHelper.Calendar.reservationSourceNames.Calendar})},quickLookWorkspace:function(data){LSHelper.Workspace.quickLook({venueId:data.VenueId,workspaceId:data.Id,bookItFunction:function(){viewModel.bookItNow(null,null,null,data)}})},deleteReservation:function(res){var trackReservationProcess=function(action,res){LSHelper.Calendar.trackCalendarReservation("ReservationDialog"+action+"?vid="+res.VenueId+"&wid="+res.WorkspaceId)},deleteCallback;res.IsRecurrentReservation?(deleteCallback=function(elem,options){var occurrenceDate=null,applyDate=null;options.recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.SingleEvent?occurrenceDate=res.OccurrenceDate:options.recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.AllFollowing&&(applyDate=res.OccurrenceDate);LSHelper.Reservation.deleteAction(res.ReadId,function(result){trackReservationProcess("Delete/Success",res);$(document).trigger("reservationDeleted",{reservationId:res.Id});try{$("#editReservationDialog").dialog("close")}catch(e){}},function(){trackReservationProcess("Delete/Failure",res)},!1,occurrenceDate,applyDate)},LSHelper.Reservation.showRecurrentDialog(LSHelper.Reservation.RecurrentDialogModes.del,deleteCallback)):LSHelper.Reservation.deleteReservation(res.ReadId,function(result){trackReservationProcess("Delete/Success",res);$(document).trigger("reservationDeleted",{reservationId:res.Id});try{$("#editReservationDialog").dialog("close")}catch(e){}},function(){trackReservationProcess("Delete/Failure",res)},null,null,null,function(){trackReservationProcess("Delete",res)},res.ReservationMethod==Enum.WorkspaceReservationMethod.Period,null,res.IsCreditCardPayment,viewModel.calendarConfig().IsLoggedInUserVenueAdmin,res.CreatorName)},refundReservation:function(reservation){LSHelper.Dialog.editDialog("Refund Payment","/Calendar/RefundPayment/"+reservation.Id,"/Calendar/RefundPayment",function(result){$.each(viewModel.events[reservation.WorkspaceId](),function(i,item){if(item.Id==reservation.Id){item.RefundPaymentAllowed=result.RefundPaymentAllowed;viewModel.events[item.WorkspaceId].replace(item,item);var currentReservationPopUp=viewModel.currentReservationPopUp();return currentReservationPopUp&&currentReservationPopUp.Id==reservation.Id&&(currentReservationPopUp.canRefund=result.RefundPaymentAllowed,currentReservationPopUp.RefundPaymentAllowed=result.RefundPaymentAllowed,viewModel.currentReservationPopUp(currentReservationPopUp)),!1}})},function(){})},eventsDatasource:function(){var wPaged=viewModel.workspacesPaged();return viewModel.isAgendaView()?viewModel.allEvents():wPaged},allEvents:function(){var currentPeriod=viewModel.currentPeriod(),firstPeriodDate=currentPeriod[0].Date,lastPeriodDate=currentPeriod[currentPeriod.length-1].Date,allresult=[],result,res;return $.each(viewModel.workspaces(),function(i,val){var monthlyReservations,allTours;viewModel.events[val.Id]&&(allresult=allresult.concat(viewModel.events[val.Id]().filter(function(res){return res.ReservationMethod!=Enum.WorkspaceReservationMethod.Period})),monthlyReservations=viewModel.events[val.Id]().filter(function(res){return res.ReservationMethod==Enum.WorkspaceReservationMethod.Period}),$.each(monthlyReservations,function(i,val){var startDate=new Date(val.StartTime.getFullYear(),val.StartTime.getMonth(),val.StartTime.getDate()),endDate;startDate>=firstPeriodDate&&startDate<=lastPeriodDate&&(val.isMoveIn=!0,allresult.push(val));val.MTMEndDate!=null&&(endDate=new Date(val.EndTime.getFullYear(),val.EndTime.getMonth(),val.EndTime.getDate()),endDate>=firstPeriodDate&&endDate<=lastPeriodDate&&(val.isMoveOut=!0,allresult.push(val)))}));viewModel.tours[val.Id]&&(allTours=viewModel.tours[val.Id](),$.each(allTours,function(i,val){val.isTour=!0;allresult.push(val)}))}),result=allresult.sort(function(left,right){var leftTime=left.StartTime,rightTime=right.StartTime;return left.isMoveOut&&(leftTime=left.EndTime),right.isMoveOut&&(rightTime=right.EndTime),leftTime<rightTime?-1:1}),res=[],$.each(result,function(i,val){if(val!=null){if(res.length>0){var lastAddedDate=res[res.length-1].StartTime,currentDate=val.StartTime;res[res.length-1].isMoveOut&&(lastAddedDate=res[res.length-1].EndTime);val.isMoveOut&&(currentDate=val.EndTime);isSameDay(lastAddedDate,currentDate)||(res[res.length-1].delimiter&&res.pop(),res.push({StartTime:currentDate,delimiter:!0}))}res.push(val)}}),res.length>0&&res[res.length-1].delimiter&&res.pop(),res},events:{},tours:{},initEventObs:function(evs,tours){$.each(viewModel.workspaces(),function(i,val){viewModel.events[val.Id]=ko.observableArray(evs!=null?evs.filter(function(v){return v.WorkspaceId==val.Id}):[]);viewModel.tours[val.Id]=ko.observableArray(tours!=null?tours.filter(function(v){return v.WorkspaceId==val.Id}):[])})}};viewModel.isDayView=ko.computed(function(){return viewModel.templateToUse()==="calendar-day"});viewModel.isWeekView=ko.computed(function(){return viewModel.templateToUse()==="calendar-week"});viewModel.isMonthView=ko.computed(function(){return viewModel.templateToUse()==="calendar-month"});viewModel.isAgendaView=ko.computed(function(){return viewModel.templateToUse()==="calendar-agenda"});viewModel.isSuperUser=ko.computed(function(){return viewModel.calendarConfig().IsLoggedInUserSuperUser==!0||viewModel.calendarConfig().IsLoggedInUserVenueAdmin==!0||viewModel.calendarConfig().IsLoggedInUserCalendarAdmin==!0});viewModel.initEventObs(events,tours);viewModel.getMaximumRange=ko.pauseableComputed(function(){var obj={FirstHour:24,LastHour:0},weekFunc=function(){$.each(viewModel.currentPeriod(),function(i,val){$.each(viewModel.workspaces(),function(i1,val1){if(val1.ReservationMethod!=Enum.WorkspaceReservationMethod.Period){var cDay=viewModel.getCalendarDayInfo(val.Date,val1,!1);cDay!=null&&cDay.FirstHour!=cDay.LastHour&&(obj.FirstHour>cDay.FirstHour&&(obj.FirstHour=cDay.FirstHour),obj.LastHour<cDay.LastHour&&(obj.LastHour=cDay.LastHour))}})})},isClosed;return templateToUseApplier(function(){$.each(viewModel.workspaces(),function(i1,val1){val1.ReservationMethod!=Enum.WorkspaceReservationMethod.Period&&$.each(val1.CalendarDays,function(i,val){val.Opened.length>0&&(obj.FirstHour>val.FirstHour&&val.FirstHour!=val.LastHour&&(obj.FirstHour=val.FirstHour),obj.LastHour<val.LastHour&&(obj.LastHour=val.LastHour))})})},function(){weekFunc()},function(){},function(){}),isClosed=obj.LastHour==0&&obj.FirstHour==24,$.each(viewModel.workspaces(),function(j,w){$.each(viewModel.events[w.Id](),function(i,val){if(val.ReservationMethod==Enum.WorkspaceReservationMethod.SpecificTimePeriod){obj.FirstHour>val.StartTime.getHours()&&(obj.FirstHour=val.StartTime.getHours());var resLastHour=val.EndTime.getHours()==0||val.EndTime.getHours()==23&&val.EndTime.getMinutes()!=0?24:val.EndTime.getHours();obj.LastHour<resLastHour&&(obj.LastHour=resLastHour);obj.LastHour==obj.FirstHour&&(obj.LastHour=obj.FirstHour+1)}})}),obj.LastHour-obj.FirstHour<5&&isClosed&&(obj.FirstHour==24&&obj.LastHour==0&&(obj.FirstHour=8),obj.LastHour=obj.FirstHour+9),obj},viewModel,viewModel._isPaused);viewModel.getMonthReservations=function(index){var result=[];return $.each(viewModel.selectedWorkspaces(),function(i,val){result=result.concat(viewModel[val][index]())}),result};blockAmmountForBlockedWeek=7;viewModel.timeDisplayed=ko.pauseableComputed(function(){var common=function(){for(var i=cDay.FirstHour;i<cDay.LastHour;i++)result.push({Time:viewModel.getTime(i,0),Hour:i,Display:i<viewModel.currentTimeHours()&&i+1>viewModel.currentTimeHours()&&isSameDay(date,currDate)})},fixClosedWeek=function(){if(cDay.FirstHour==cDay.LastHour||cDay.FirstHour>cDay.LastHour){result=[];for(var i=0;i<blockAmmountForBlockedWeek;i++)result.push({Time:"",Hour:"",Display:""})}},result=[],date=viewModel.calendarConfig().SelectedDate,currDate=new Date,cDay=viewModel.getMaximumRange();return templateToUseApplier(function(){common();fixClosedWeek()},function(){common();fixClosedWeek()},function(){},function(){}),result},viewModel,viewModel._isPaused);window.viewModel=viewModel;viewModel.calendarHeight=ko.pauseableComputed(function(){var cDay=null,result=0,cDay=viewModel.getMaximumRange();return templateToUseApplier(function(){result=(cDay.LastHour-cDay.FirstHour)*viewModel.hourSizePx()},function(){result=cDay.LastHour-cDay.FirstHour>0?(cDay.LastHour-cDay.FirstHour)*viewModel.hourSizePx():blockAmmountForBlockedWeek*viewModel.hourSizePx()},function(){result=viewModel.subBlockWidth()*6},function(){return 500}),result<=0&&(result=300),result},viewModel,viewModel._isPaused);viewModel.workspacesPaged=ko.pauseableComputed(function(){return viewModel.getWorkspacesPaged()},viewModel,viewModel._isPaused);capacityChanged=function(newValue){var temp=[];$.each(viewModel.sortedWorkspacesId()[newValue.Value],function(i,val){var w=viewModel.getWorkspaceById(val);temp.push(w)});viewModel.workspaces(temp)};restoreMonthViewWorkspaces=function(){viewModel.selectedWorkspaces(LSHelper.sessionStorage.get(selectedWorkspacesKey)||[viewModel.workspaces()[0].Id]);var colors=LSHelper.sessionStorage.get(workspacesColorsKey);colors&&(viewModel.workspaceAssignedColors=colors,viewModel.workspaceColorsPool=viewModel.workspaceColorsPool.slice(colors.length))};viewModel.selectedWorkspaces.subscribe(function(newValue){LSHelper.sessionStorage.set(selectedWorkspacesKey,newValue)});var activateSelectedViewMode=function(){$('.view-mode input[value="'+viewModel.templateToUse()+'"]').prop("checked",!0);$(".switcher-radio").controlgroup("refresh")},skipInitialRefresh=!1,previousCapacityValue=viewModel.capacity().Value;viewModel.hashTracker=ko.dependentObservable(function(){var baseUrl=window.location.href.split("?")[0],capacity=viewModel.capacity(),data={date:viewModel.calendarConfig().SelectedDate.toServerString(),templateToUse:viewModel.templateToUse(),sortType:capacity.Value},refresh;history.replaceState(null,null,baseUrl+"?"+$.param(data,!0));refresh=previousCapacityValue!=capacity.Value;previousCapacityValue=capacity.Value;refresh&&(skipInitialRefresh=!0,activateSelectedViewMode(),viewModel.refreshCalendar())},viewModel);viewModel.alreadyLoadedWorkspaces().length==0&&viewModel.alreadyLoadedWorkspaces(viewModel.getWorkspacesVisibleInContainer());viewModel.initGetResFunctions();ko.applyBindings(viewModel,$(this)[0]);$(document).bind("reservationSaved",function(event,reservationId,venueId,workspaceId,isNewReservation,reservationDateTime,workspaceName,visaGranted,userId){viewModel.refreshCalendar(null,null,null,reservationDateTime!=null?new Date(reservationDateTime.setHours(0,0,0)):null,null,null,null,null,null,!0);userId&&venueId&&LSHelper.Calendar.memberVisaStatus(userId,venueId)});$(document).bind("reservationDeleted",function(){viewModel.reservationPopupOpened(!1);viewModel.refreshCalendar(null,null,null,null,null,null,null,null,null,!0)});$(document).bind("reservationCheckedIn",function(){viewModel.refreshCalendar()});$(document).bind("reservationCheckedOut",function(){viewModel.refreshCalendar()});$(window).bind("agreeToShareApproved",function(e,args){viewModel.refreshCalendar();LSHelper.Calendar.memberVisaStatus(args.userId,args.venueId)});viewModel.setIsScrollVisible();$(document).bind("afterRegister",function(e,args){var workspace;args&&args.type&&(args.type=="bookItNow"?(workspace={Id:args.workspaceId,VenueId:args.venueId},viewModel.bookItNow(args.startDate,args.useDateAsStartSearch,LSHelper.Constants.reservationSearchDaysAhead(),workspace)):args.type=="getReservationDetails"&&(workspace={Id:args.workspaceId},viewModel.getReservationDetails(args.resId,workspace,null,parseJsonDate(args.startDate),parseJsonDate(args.endDate))))});$(this).data("viewModel",viewModel);viewModel.isDayView()||skipInitialRefresh||setTimeout(function(){activateSelectedViewMode();viewModel.refreshCalendar(null,null,events)},100)}else{viewModel=$(this).data("viewModel");switch(config){case"refreshCalendar":viewModel.refreshCalendar(null,null,events);break;case"resize":viewModel.wrapperWidth(_thisWrapper.width());break}}return copyEvent=function(ev){var copy=$.extend({},ev);return ev!=null&&(copy.StartTime=new Date(ev.StartTime),copy.EndTime=new Date(ev.EndTime)),copy},{resize:function(){$(".calendar-reservation-popup").remove();viewModel.wrapperWidth(_thisWrapper.width());viewModel.setIsScrollVisible()},fullScreen:function(){return viewModel.fullScreenCalendar()},refresh:function(){viewModel.refreshCalendar()},deleteEvent:function(id){var event=viewModel.getReservation(id,null);event&&viewModel.events[event.WorkspaceId].remove(event)},getEvent:function(id){var item=null;return viewModel&&((id=="null"||id=="")&&(id=null),item=viewModel.getReservation(id,null)),item},event_updated:function(ev){if(viewModel){var event=viewModel.getReservation(ev.Id,ev.OccurrenceDate);viewModel._isPaused(!1);isSameDay(viewModel.calendarConfig().SelectedDate,ev.StartTime)?viewModel.events[ev.WorkspaceId].replace(event,ev):viewModel.refreshCalendar()}},copy_event:function(ev){return copyEvent(ev)},current_date:function(val,res){if(viewModel)if(val==null)return viewModel.calendarConfig().SelectedDate;else{var config=viewModel.calendarConfig();isSameDay(config.SelectedDate,val)||viewModel.refreshCalendar(null,null,null,val,null,null,res)}else return null},setUserId:function(id){if(viewModel){var cc=viewModel.calendarConfig();cc.UserId=id;viewModel.calendarConfig(cc)}}}}}(jQuery),function($,window,document){function _handleKeyBoardNav(e,$dk){var code=e.keyCode,data=$dk.data("dropkick"),options=$dk.find(".dk_options"),open=$dk.hasClass("dk_open"),current=$dk.find(".dk_option_current"),first=options.find("li").first(),last=options.find("li").last(),next,prev;switch(code){case keyMap.enter:open?data.settings.disableKeyNavigation||(_onSelect(e,current.find("a"),$dk),e.isDefaultPrevented()||(_updateFields(current.find("a"),$dk),_closeDropdown($dk))):_openDropdown($dk);e.preventDefault();break;case keyMap.up:prev=current.prev("li");open?data.settings.disableKeyNavigation||(prev.length?_setCurrent(prev,$dk):_setCurrent(last,$dk)):_openDropdown($dk);e.preventDefault();break;case keyMap.down:open?data.settings.disableKeyNavigation||(next=current.next("li").first(),next.length?_setCurrent(next,$dk):_setCurrent(first,$dk)):_openDropdown($dk);e.preventDefault();break;default:break}}function _onSelect(event,option,$dk){var data=$dk.data("dropkick");if(data&&data.settings.onSelect)data.settings.onSelect(event,option,$dk)}function _updateFields(option,$dk,reset){var value,label,data;value=option.attr("data-dk-dropdown-value");label=option.text();data=$dk.data("dropkick");$select=data.$select;$select.val(value);$dk.find(".dk_label").text(label);reset=reset||!1;data.settings.change&&!reset&&data.settings.change.call($select,value,label)}function _setCurrent($current,$dk){$dk.find(".dk_option_current").removeClass("dk_option_current");$current.addClass("dk_option_current");_setScrollPos($dk,$current)}function _setScrollPos($dk,anchor){var height=anchor.prevAll("li").outerHeight()*anchor.prevAll("li").length;$dk.find(".dk_options_inner").animate({scrollTop:height+"px"},0)}function _closeDropdown($dk){$dk.removeClass("dk_open");var data=$dk.data("dropkick");if(data&&data.settings.onClose)data.settings.onClose($dk)}function _openDropdown($dk){var data=$dk.data("dropkick"),openedOrgDD;if($dk.find(".dk_options").css({top:$dk.find(".dk_toggle").outerHeight()-1}),data.settings.onOpen)data.settings.onOpen($dk);$dk.toggleClass("dk_open");_setScrollPos($dk,$dk.find(".dk_option_current"));openedOrgDD=$(".dropdown-table-opened");openedOrgDD.length>0&&openedOrgDD.trigger("clickoutside")}function _build(tpl,view){var template=tpl,options=[],$dk,isEmpty,i,l;if(template=template.replace("{{ id }}",view.id),template=template.replace("{{ label }}",view.label),template=template.replace("{{ tabindex }}",view.tabindex),isEmpty=!1,view.options&&view.options.length)for(i=0,l=view.options.length;i<l;i++){var $option=$(view.options[i]),current="dk_option_current",oTemplate=optionTemplate;oTemplate=oTemplate.replace("{{ value }}",$option.val());oTemplate=oTemplate.replace("{{ current }}",_notBlank($option.val())===view.value?current:"");oTemplate=oTemplate.replace("{{ text }}",$option.text());options[options.length]=oTemplate}else isEmpty=!0;return $dk=$(template),$dk.find(".dk_options_inner").html(options.join("")),isEmpty&&$dk.addClass("empty"),$dk}function _notBlank(text){return $.trim(text).length>0?text:!1}var methods={},lists=[],keyMap={left:37,up:38,right:39,down:40,enter:13},dropdownTemplate='<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}"><a class="dk_toggle"><span class="dk_label">{{ label }}<\/span><\/a><div class="dk_options"><ul class="dk_options_inner"><\/ul><\/div><\/div>',optionTemplate='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}<\/a><\/li>',defaults={startSpeed:1e3,theme:!1,change:!1,onSelect:!1,disableKeyNavigation:!1},keysBound=!1;methods.init=function(settings){return settings=$.extend({},defaults,settings),this.each(function(){var $select=$(this),$original=$select.find(":selected").first(),$options=$select.find("option"),data=$select.data("dropkick")||{},id=$select.attr("id")||$select.attr("name"),width=settings.width||$select.outerWidth(),tabindex=$select.attr("tabindex")?$select.attr("tabindex"):"",$dk=!1,theme;if(data.id)return $select;else data.settings=settings,data.tabindex=tabindex,data.id=id,data.$original=$original,data.$select=$select,data.value=_notBlank($select.val())||_notBlank($original.attr("value")),data.label=$original.text(),data.options=$options;$dk=_build(dropdownTemplate,data);$dk.find(".dk_toggle").css({width:width+"px"});$select.before($dk);$dk=$("#dk_container_"+id).fadeIn(settings.startSpeed);theme=settings.theme?settings.theme:"default";$dk.addClass("dk_theme_"+theme);data.theme=theme;data.$dk=$dk;$select.data("dropkick",data);$dk.data("dropkick",data);lists[lists.length]=$select;$dk.bind("clickoutside",function(event){_closeDropdown($dk)});$("body").click(function(event){$(event.target).parents(".dk_container").length&&($(event.target).parents(".dk_container").attr("id")==$dk.attr("id")||$(event.target).parents(".dk_container").attr("id")==undefined)||_closeDropdown($dk)});setTimeout(function(){$select.hide()},0)})};methods.theme=function(newTheme){var $select=$(this),list=$select.data("dropkick"),$dk=list.$dk,oldtheme="dk_theme_"+list.theme;$dk.removeClass(oldtheme).addClass("dk_theme_"+newTheme);list.theme=newTheme};methods.reset=function(){for(var i=0,l=lists.length;i<l;i++){var listData=lists[i].data("dropkick"),$dk=listData.$dk,$current=$dk.find("li").first();$dk.find(".dk_label").text(listData.label);$dk.find(".dk_options_inner").animate({scrollTop:0},0);_setCurrent($current,$dk);_updateFields($current,$dk,!0)}};methods.close=function(){$select=$(this);$.each($(this),function(i,val){if(list=$(val).data("dropkick"),list!=null){var $dk=list.$dk;_closeDropdown($dk)}})};$.fn.dropkick=function(method){if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method=="object"||!method)return methods.init.apply(this,arguments)};$(function(){$(document).on("click",".dk_toggle",function(e){var $dk=$(this).parents(".dk_container").first();return $dk.find(".dk_options_inner li").length&&(_openDropdown($dk),"ontouchstart"in window&&($dk.addClass("dk_touch"),$dk.find(".dk_options_inner").addClass("scrollable vertical"))),e.preventDefault(),!1});$(document).on($.browser&&$.browser.msie?"mousedown":"click",".dk_options a",function(e){var $option=$(this),$dk=$option.parents(".dk_container").first(),data=$dk.data("dropkick");return _onSelect(e,$option,$dk),e.isDefaultPrevented()||(_closeDropdown($dk),_updateFields($option,$dk),_setCurrent($option.parent(),$dk),e.preventDefault()),!1});$(document).bind("keydown.dk_nav",function(e){var $open=$(".dk_container.dk_open"),$focused=$(".dk_container.dk_focus"),$dk=null;$open.length?$dk=$open:$focused.length&&!$open.length&&($dk=$focused);$dk&&_handleKeyBoardNav(e,$dk)})})}(jQuery,window,document),function($){$.fn.wresize=function(f){function resizeOnce(){var version,width;if($.browser.msie)if(wresize.fired){if(version=parseInt($.browser.version,10),wresize.fired=!1,version<7)return!1;else if(version==8)return(width=$(window).width(),width!=wresize.width)?(wresize.width=width,!0):!1}else wresize.fired=!0;return!0}function handleWResize(e){if(resizeOnce())return f.apply(this,[e])}return version="1.1",wresize={fired:!1,width:0},this.each(function(){this==window?$(this).resize(handleWResize):$(this).resize(f)}),this}}(jQuery),function(window,undefined){var kg=window.kg={},SELECTED_PROP,GRID_TEMPLATE,utils;kg.templates={};SELECTED_PROP="__kg_selected__";GRID_TEMPLATE="koGridTmpl";kg.labels={};utils={forEach:function(arr,action){for(var len=arr.length,i=0;i<len;i++)arr[i]!==undefined&&action(arr[i],i)},forIn:function(obj,action){for(var prop in obj)obj.hasOwnProperty(prop)&&action(obj[prop],prop)}};utils.newId=function(){var seedId=(new Date).getTime();return function(){return seedId+=1}}();utils.StringBuilder=function(){var strArr=[];this.append=function(str,data){var len=arguments.length,intMatch=0,strMatch="{0}",i=1;if(len>1)while(i<len){while(str.indexOf(strMatch)!==-1)str=str.replace(strMatch,arguments[i]);i++;intMatch=i-1;strMatch="{"+intMatch.toString()+"}"}strArr.push(str)};this.toString=function(){var separator=arguments[0];return separator!==null&&separator!==undefined?strArr.join(separator):strArr.join("")}};kg.utils=utils;kg.templates.defaultGridInnerTemplate=function(){return'<div><div class="kgTopPanel" data-bind="kgSize: $data.headerDim"><div class="kgHeaderContainer h5b" style="position: relative; overflow-x: hidden" data-bind="kgSize: $data.headerDim"><div class="kgHeaderScroller" data-bind="kgHeaderRow: $data, kgSize: $data.headerScrollerDim"><\/div><\/div><\/div><div class="kgViewport" data-bind="kgSize: $data.viewportDim"><div class="kgRow kgNoMatch" data-bind="visible:$data.rows().length==0">No match<\/div><div class="kgCanvas" data-bind="kgRows: $data.rows, style: { height: $data.canvasHeight }" style="position: relative"><\/div><\/div><div class="kgFooterPanel" data-bind="kgFooter: $data, kgSize: $data.footerDim" style="position: relative;"><\/div><\/div>'};kg.templates.generateHeaderTemplate=function(options){var b=new kg.utils.StringBuilder,cols=options.columns,showFilter=options.showFilter;return b.append("<div>"),utils.forEach(cols,function(col,i){col.field==="__kg_selected__"?(b.append('<div class="kgSelectionCell" data-bind="kgHeader: { value: \'{0}\' } ">',col.field),b.append('  <input type="checkbox" data-bind="checked: $parent.toggleSelectAll, visible: $parent.config.isMultiSelect"/>'),b.append("<\/div>")):col.field==="rowIndex"&&showFilter?(b.append("<div data-bind=\"kgHeader: { value: '{0}' } \">",col.field),b.append('      <div title="Filter Results" class="kgFilterBtn openBtn" data-bind="visible: !$data.filterVisible(), click: $parent.showFilter_Click, clickBubble: false"><\/div>'),b.append('      <div title="Close" class="kgFilterBtn closeBtn" data-bind="visible: $data.filterVisible(), click: $parent.showFilter_Click, clickBubble: false"><\/div>'),b.append('      <div title="Clear Filters" class="kgFilterBtn clearBtn" data-bind="visible: $data.filterVisible(), click: $parent.clearFilter_Click, clickBubble: false"><\/div>'),b.append("<\/div>")):(b.append("<div data-bind=\"kgHeader: { value: '{0}' } \">",col.field),b.append("<\/div>"))}),b.append("<\/div>"),b.toString()};kg.templates.defaultHeaderCellTemplate=function(){var b=new kg.utils.StringBuilder;return b.append("<div>"),b.append('<div data-bind="click: $data.sort, css: { kgSorted: !$data.noSortVisible() }">'),b.append('  <span data-bind="html: $data.displayName"><\/span>'),b.append('  <img class="kgSortImg" data-bind="visible: $data.noSortVisible" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAEFJREFUKFNjYICC+vp6YyDeDcSCMDEwDRRQAuK7QPwfpAAuiSYBkkQoAHLOQAVgEjB6FYrxGBy8OvHaide1+PwJAMBIWUlZ9vlNAAAAAElFTkSuQmCC"/>'),b.append('  <img class="kgSortImg" data-bind="visible: $data.sortAscVisible" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAPElEQVQoU2NggIL6+npjIN4NxIIwMTANFFAC4rtA/B+kAC6JJgGSRCgAcs5ABWASMHoVw////3HigZAEACKmlTwMfriZAAAAAElFTkSuQmCC"/>'),b.append('  <img class="kgSortImg" data-bind="visible: $data.sortDescVisible" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAPUlEQVQoU2P4//8/Ay6MUwKkgQJJBnygvr7+DBD/x4JXMQAFlYD4LprkbriBaAoQEjAVQAXGQLwbiAVhYgD6kIBR+tr9IgAAAABJRU5ErkJggg=="/>'),b.append("<\/div>"),b.append('<div data-bind="visible: $parent.filterVisible" style="position:absolute; bottom:5px;width:92%">'),b.append('  <input class="filter" type="text" data-bind="visible: displayFilter, value: $data.column.filter, valueUpdate: \'afterkeydown\'" style="width: 90%" tabindex="1" />'),b.append("<\/div>"),b.append("<\/div>"),b.toString()};kg.templates.generateRowTemplate=function(options){var b=new kg.utils.StringBuilder,cols=options.columns;return b.append("<div>"),b.append('<div data-bind="kgRow: $data, click: $data.toggleSelected, css: $data.cssClass">'),utils.forEach(cols,function(col,i){if(col.field==="__kg_selected__")b.append('<div class="kgSelectionCell" data-bind="kgCell: { value: \'{0}\' } ">',col.field),b.append('  <input type="checkbox" data-bind="checked: $data.selected" />'),b.append("<\/div>");else if(col.field==="rowIndex")b.append('<div class="kgRowIndexCell" data-bind="kgCell: { value: \'{0}\' } "><\/div>',col.field);else if(col.hasCellTemplate){var tmpl=kg.templateManager.getTemplateText(col.cellTemplate),replacer="{ value: '"+col.field+"' }";tmpl=tmpl.replace(/\$cellClass/g,col.cellClass||"");tmpl=tmpl.replace(/\$cellValue/g,"$data."+col.field);tmpl=tmpl.replace(/\$cell/g,replacer);b.append(tmpl)}else b.append('<div class="{0}"  data-bind="kgCell: { value: \'{1}\' }" ><\/div>',col.cellClass||"",col.field)}),b.append("<\/div>"),b.append("<\/div>"),b.toString()};kg.templates.defaultFooterTemplate=function(){return'<div><div class="kgTotalSelectContainer" data-bind="visible: footerVisible" style="width:auto;"><div class="kgFooterTotalItems"><span class="kgLabel h5b">Total Items:<\/span> <span data-bind="text: maxRows"><\/span><\/div><\/div><div class="kgPagerContainer" data-bind="visible: pagerVisible() && footerVisible()"><div style="float: right;"><div class="kgRowCountPicker""><span class="kgLabel h5b">Rows:<\/span><select data-bind="options: pageSizes, value: selectedPageSize"><\/select><\/div><div class="kgPagerControl"><input class="kgPagerFirst" type="button" data-bind="click: pageToFirst, enable: canPageBackward" title="First Page"/><input class="kgPagerPrev" type="button"  data-bind="click: pageBackward, enable: canPageBackward" title="Previous Page"/><input class="kgPagerCurrent" type="text" data-bind="value: protectedCurrentPage, enable: maxPages() > 1" /><input class="kgPagerNext" type="button"  data-bind="click: pageForward, enable: canPageForward" title="Next Page"/><input class="kgPagerLast" type="button"  data-bind="click: pageToLast, enable: canPageForward" title="Last Page"/><\/div><\/div><\/div><\/div>'};kg.templateManager=new function(){var self=this,templateExists=function(tmplId){var el=document.getElementById(tmplId);return el!==undefined&&el!==null},addTemplate=function(templateText,tmplId){var tmpl=document.createElement("SCRIPT");tmpl.type="text/x-tmpl";tmpl.id=tmplId;tmpl.text=templateText;document.body.appendChild(tmpl)};this.addTemplateSafe=function(tmplId,templateTextAccessor){templateExists(tmplId)||addTemplate(templateTextAccessor(),tmplId)};this.ensureGridTemplates=function(options){var defaults={rowTemplate:"",headerTemplate:"",headerCellTemplate:"",footerTemplate:"",columns:null,showFilter:!0},config=$.extend(defaults,options);self.addTemplateSafe(GRID_TEMPLATE,kg.templates.defaultGridInnerTemplate);config.headerTemplate&&self.addTemplateSafe(config.headerTemplate,function(){return kg.templates.generateHeaderTemplate(config)});config.headerCellTemplate&&self.addTemplateSafe(config.headerCellTemplate,kg.templates.defaultHeaderCellTemplate);config.rowTemplate&&self.addTemplateSafe(config.rowTemplate,function(){return kg.templates.generateRowTemplate(config)});config.footerTemplate&&self.addTemplateSafe(config.footerTemplate,kg.templates.defaultFooterTemplate)};this.getTemplateText=function(tmplId){if(templateExists(tmplId)){var el=document.getElementById(tmplId);return el.text}else return""}};kg.Dimension=function(options){this.innerHeight=null;this.innerWidth=null;this.outerHeight=null;this.outerWidth=null;this.widthDiff=null;this.heightDiff=null;this.autoFitHeight=!1;this.autoFitWidth=!1;$.extend(this,options)};kg.Cell=function(col){this.data="";this.column=col;this.row=null};kg.Column=function(colDef){this.width=ko.observable(0);this.sortField=colDef.sortField;this.field=colDef.field;this.displayName=colDef.displayName;this.displayFilter=ko.observable(colDef.displayFilter);this.colIndex=0;this.isVisible=ko.observable(!1);this.width=ko.observable();this.visible=colDef.visible;this.autowidth=!1;this.allowSort=colDef.allowSort;this.sortDirection=ko.observable("");this.filter=ko.observable();this.cellTemplate=colDef.cellTemplate;this.hasCellTemplate=this.cellTemplate?!0:!1;this.cellClass=colDef.cellClass;this.headerClass=colDef.headerClass;this.headerTemplate=colDef.headerTemplate;this.hasHeaderTemplate=this.headerTemplate?!0:!1;colDef.visible==!0||colDef.visible==null?colDef.width||(colDef.width=(this.displayName?this.displayName.length:0)*kg.domUtility.letterW,colDef.width+=30,this.autowidth=!0):colDef.width=0;this.width(colDef.width)};kg.ColumnCollection=function(){var obs=ko.observableArray([]);return ko.utils.extend(obs,kg.ColumnCollection.fn),obs};kg.ColumnCollection.fn={};kg.Row=function(entity){var self=this;this.entity=ko.isObservable(entity)?entity:ko.observable(entity);this.entity().__kg_selected__===undefined&&(this.entity().__kg_selected__=ko.observable(!1));this.selected=ko.dependentObservable({read:function(){return self.entity().__kg_selected__()},write:function(val){self.entity().__kg_selected__(val);self.onSelectionChanged()}});this.cssClass=ko.dependentObservable({read:function(){var val=self.entity().row_css_class;return(self.selected()?"kgSelected ":"")+val},write:function(val){self.entity().row_css_class=val}});this.toggleSelected=function(data,event){var element=event.target;if(element.type=="checkbox"&&element.parentElement.className.indexOf(!0))return!0;else self.selected()?self.selected(!1):self.selected(!0);return!0};this.cells=ko.observableArray([]);this.cellMap={};this.rowIndex=0;this.offsetTop=0;this.rowKey=entity.rowKey;this.rowDisplayIndex=0;this.onSelectionChanged=function(){},function(){utils.forIn(entity,function(prop,propName){self[propName]=prop})}()};kg.Range=function(bottom,top){this.topRow=top;this.bottomRow=bottom};kg.CellFactory=function(cols){var colCache=cols,len=colCache.length;this.buildRowCells=function(row){for(var cell,cells=[],col,i=0;i<len;i++)col=colCache[i],cell=new kg.Cell(col),cell.row=row,cell.data=row.entity()[col.field],cells.push(cell),row.cellMap[col.field]=cell;return row.cells(cells),row}};kg.HeaderCell=function(col,grid){var self=this;this.colIndex=0;this.displayName=col.displayName;this.field=col.field;this.column=col;this.headerClass=col.headerClass;this.headerTemplate=col.headerTemplate;this.hasHeaderTemplate=col.hasHeaderTemplate;this.width=ko.computed(function(){return col.width()});this.filter=ko.computed({read:function(){return self.column.filter()},write:function(val){self.column.filter(val)}});this.filterVisible=ko.observable(grid.filterIsOpen());this.displayFilter=col.displayFilter;this.sortAscVisible=ko.computed(function(){return self.column.sortDirection()==="asc"});this.sortDescVisible=ko.computed(function(){return self.column.sortDirection()==="desc"});this.noSortVisible=ko.computed(function(){if(self.column.allowSort==!1)return!1;var sortDir=self.column.sortDirection();return sortDir!=="asc"&&sortDir!=="desc"});this.sort=function(){if(self.column.allowSort!=!1){var dir=self.column.sortDirection()==="asc"?"desc":"asc";self.column.sortDirection(dir)}};this.filterHasFocus=ko.observable(!1)};kg.HeaderRow=function(grid){this.headerCells=[];this.height;this.headerCellMap={};this.filterVisible=ko.observable(grid.config.alwaysShowFilters||grid.filterIsOpen())};kg.RowManager=function(grid){var self=this,prevMaxRows=0,prevMinRows=0,dataChanged=!0,currentPage=grid.config.currentPage,pageSize=grid.config.pageSize,prevRenderedRange=new kg.Range(0,1),prevViewableRange=new kg.Range(0,1),internalRenderedRange=ko.observable(prevRenderedRange),buildRowFromEntity,calcRenderedRange;this.rowCache={};this.dataSource=grid.finalData;this.dataSource.subscribe(function(){dataChanged=!0;self.rowCache={}});this.minViewportRows=grid.minRowsToRender;this.excessRows=8;this.rowHeight=grid.config.rowHeight;this.cellFactory=new kg.CellFactory(grid.columns());this.viewableRange=ko.observable(prevViewableRange);this.renderedRange=ko.observable(prevRenderedRange);this.rows=ko.observableArray([]);this.rowSubscriptions={};buildRowFromEntity=function(entity,rowIndex,pagingOffset){var row=self.rowCache[rowIndex];return row||(row=new kg.Row(entity),row.rowIndex=rowIndex+1,row.rowDisplayIndex=row.rowIndex+pagingOffset,row.offsetTop=self.rowHeight*rowIndex,row.onSelectionChanged=function(){var ent=this.entity();grid.changeSelectedItem(ent)},self.cellFactory.buildRowCells(row),self.rowCache[rowIndex]=row),row};this.renderedRange.subscribe(function(rg){var rowArr=[],row,pagingOffset=pageSize()*(currentPage()-1),dataArr=self.dataSource().slice(rg.bottomRow,rg.topRow);utils.forEach(dataArr,function(item,i){row=buildRowFromEntity(item,rg.bottomRow+i,pagingOffset);rowArr.push(row);row=null});self.rows(rowArr)});calcRenderedRange=function(){var rg=self.viewableRange(),minRows=self.minViewportRows(),maxRows=self.dataSource().length,isDif=!1,newRg;rg?(isDif=rg.bottomRow!==prevViewableRange.bottomRow||rg.topRow!==prevViewableRange.topRow||dataChanged,isDif||prevMaxRows===maxRows||(isDif=!0,rg=new kg.Range(prevViewableRange.bottomRow,prevViewableRange.topRow)),isDif||prevMinRows===minRows||(isDif=!0,rg=new kg.Range(prevViewableRange.bottomRow,prevViewableRange.topRow)),isDif&&(rg.bottomRow<0&&(rg.bottomRow=0),rg.topRow=rg.bottomRow+minRows,prevViewableRange=rg,newRg=new kg.Range(rg.bottomRow,rg.topRow),newRg.bottomRow=Math.max(0,rg.bottomRow-self.excessRows),newRg.topRow=Math.min(maxRows,rg.topRow+self.excessRows),prevMaxRows=maxRows,prevMinRows=minRows,(prevRenderedRange.topRow!==newRg.topRow||prevRenderedRange.bottomRow!==newRg.bottomRow||dataChanged)&&(dataChanged=!1,prevRenderedRange=newRg,self.renderedRange(newRg)))):self.renderedRange(new kg.Range(0,0))};self.viewableRange.subscribe(calcRenderedRange);self.minViewportRows.subscribe(calcRenderedRange);self.dataSource.subscribe(calcRenderedRange)};kg.Footer=function(grid){var self=this;this.maxRows;this.maxRows=grid.config.totalServerItems()!==null&&grid.config.totalServerItems()!==undefined?grid.config.totalServerItems:grid.maxRows;this.selectedItemCount=grid.selectedItemCount;this.footerVisible=grid.config.footerVisible;this.pagerVisible=ko.observable(grid.config.enablePaging);this.selectedPageSize=grid.config.pageSize;this.pageSizes=ko.observableArray(grid.config.pageSizes);this.currentPage=grid.config.currentPage;this.maxPages=ko.computed(function(){var maxCnt=self.maxRows()||1,pageSize=self.selectedPageSize();return Math.ceil(maxCnt/pageSize)});this.protectedCurrentPage=ko.computed({read:function(){return self.currentPage()},write:function(page){page&&page<=self.maxPages()&&page>0&&self.currentPage(page)},owner:self});this.pageForward=function(){var page=self.currentPage();self.currentPage(Math.min(page+1,self.maxPages()))};this.pageBackward=function(){var page=self.currentPage();self.currentPage(Math.max(page-1,1))};this.pageToFirst=function(){self.currentPage(1)};this.pageToLast=function(){var maxPages=self.maxPages();self.currentPage(maxPages)};this.canPageForward=ko.computed(function(){var curPage=self.currentPage(),maxPages=self.maxPages();return curPage<maxPages});this.canPageBackward=ko.computed(function(){var curPage=self.currentPage();return curPage>1})};kg.FilterManager=function(options){var self=this,wildcard=options.filterWildcard||"*",includeDestroyed=options.includeDestroyed||!1,regExCache={},initPhase=0,internalFilteredData=ko.observableArray([]),filterDestroyed,isEmpty,matchString,filterData;if(wildcard!=="*"&&wildcard!=="%")throw new Error("You can only declare a percent sign (%) or an asterisk (*) as a wildcard character");filterDestroyed=function(arr){return ko.utils.arrayFilter(arr,function(item){return item._destroy===!0?!1:!0})};this.filterInfo=options.filterInfo||ko.observable();this.data=options.data;this.filteredData=ko.computed(function(){var data=internalFilteredData();return initPhase>0?data:filterDestroyed(self.data())});isEmpty=function(data){return data===null||data===undefined||data===""};matchString=function(itemStr,filterStr){var regex,replacer,regexStr;if(itemStr=$("<div/>").html(itemStr).text(),regex=regExCache[filterStr],!regex){replacer="";filterStr=filterStr.replace(/\\/g,"\\");replacer=wildcard==="*"?/\*/g:/\%/g;filterStr=filterStr.replace(/\+/g,"\\+");regexStr=filterStr.replace(replacer,"[^']*");try{regex=new RegExp(regexStr,"gi")}catch(e){regex=/.*/gi}regExCache[filterStr]=regex}return itemStr.match(regex)};this.matchString=matchString;filterData=function(){var filterInfo=self.filterInfo(),data=self.data(),keepRow=!1,match=!0,newArr=[],field,itemData,itemDataStr,filterStr;if(data=filterDestroyed(data),!filterInfo||$.isEmptyObject(filterInfo)||options.useExternalFiltering){internalFilteredData(data);return}regExCache={};newArr=ko.utils.arrayFilter(data,function(item){for(field in filterInfo)if(filterInfo.hasOwnProperty(field)&&(itemData=ko.utils.unwrapObservable(item["sort_"+field]!=null?item["sort_"+field]:item[field]),filterStr=filterInfo[field],isEmpty(filterStr)||filterStr===wildcard||(isEmpty(itemData)?match=!1:typeof itemData=="string"?match=matchString(itemData,filterStr):(itemDataStr=itemData.toString(),match=matchString(itemDataStr,filterStr)))),keepRow&&!match?keepRow=!1:!keepRow&&match&&(keepRow=!0),!match)break;return filterStr=null,itemData=null,itemDataStr=null,match=!0,keepRow});internalFilteredData(newArr)};this.data.subscribe(filterData);this.filterInfo.subscribe(filterData);this.createFilterChangeCallback=function(col){return function(newFilterVal){var info=self.filterInfo();(info||newFilterVal)&&(info||(info={}),(newFilterVal===null||newFilterVal===undefined||newFilterVal==="")&&info[col.field]?delete info[col.field]:newFilterVal!==null&&newFilterVal!==undefined&&(info[col.field]=newFilterVal),self.filterInfo(info))}};initPhase=1};kg.SortManager=function(options){var self=this,colSortFnCache={},dateRE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,ASC="asc",DESC="desc",prevSortInfo={},dataSource=options.data,initPhase=0,internalSortedData=ko.observableArray([]),isEmpty=function(val){return val===null||val===undefined||val===""},sortData;this.sortInfo=options.sortInfo||ko.observable();this.sortedData=ko.computed(function(){var sortData=internalSortedData();return initPhase>0?sortData:dataSource()});this.guessSortFn=function(item){var sortFn,itemStr,itemType,dateParts,month,day;if(item===undefined||item===null||item==="")return null;itemType=typeof item;switch(itemType){case"number":sortFn=self.sortNumber;break;case"boolean":sortFn=self.sortBool;break}return sortFn?sortFn:Object.prototype.toString.call(item)==="[object Date]"?self.sortDate:itemType!=="string"?null:item.match(/^-?[$]?[\d,.]+%?$/)?self.sortNumberStr:(dateParts=item.match(dateRE),dateParts)?(month=parseInt(dateParts[1]),day=parseInt(dateParts[2]),month>12?self.sortDDMMStr:day>12?self.sortMMDDStr:self.sortMMDDStr):self.sortAlpha};this.sortNumber=function(a,b){return a-b};this.sortNumberStr=function(a,b){var numA,numB,badA=!1,badB=!1;return(numA=parseFloat(a.replace(/[^0-9.-]/g,"")),isNaN(numA)&&(badA=!0),numB=parseFloat(b.replace(/[^0-9.-]/g,"")),isNaN(numB)&&(badB=!0),badA&&badB)?0:badA?1:badB?-1:numA-numB};this.sortAlpha=function(a,b){var strA=a.toUpperCase(),strB=b.toUpperCase();return strA==strB?0:strA<strB?-1:1};this.sortDate=function(a,b){var timeA=a.getTime(),timeB=b.getTime();return timeA==timeB?0:timeA<timeB?-1:1};this.sortBool=function(a,b){return a&&b?0:a||b?a?1:-1:0};this.sortDDMMStr=function(a,b){var dateA,dateB,mtch,m,d,y;return(mtch=a.match(dateRE),y=mtch[3],m=mtch[2],d=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateA=y+m+d,mtch=b.match(dateRE),y=mtch[3],m=mtch[2],d=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateB=y+m+d,dateA==dateB)?0:dateA<dateB?-1:1};this.sortMMDDStr=function(a,b){var dateA,dateB,mtch,m,d,y;return(mtch=a.match(dateRE),y=mtch[3],d=mtch[2],m=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateA=y+m+d,mtch=b.match(dateRE),y=mtch[3],d=mtch[2],m=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateB=y+m+d,dateA==dateB)?0:dateA<dateB?-1:1};this.sort=function(col,direction){(col!==prevSortInfo.column||direction!==prevSortInfo.direction)&&self.sortInfo({column:col,direction:direction})};sortData=function(){var data=dataSource(),sortInfo=self.sortInfo(),col,direction,sortFn,item,prop;if(!data||!sortInfo||options.useExternalSorting){internalSortedData(data);return}col=sortInfo.column;direction=sortInfo.direction;colSortFnCache[col.field]?sortFn=colSortFnCache[col.field]:(item=dataSource()[0],item&&(prop=ko.utils.unwrapObservable(item[col.field])),sortFn=self.guessSortFn(prop),sortFn?colSortFnCache[col.field]=sortFn:sortFn=self.sortAlpha);data.sort(function(itemA,itemB){var propA=ko.utils.unwrapObservable(itemA[col.sortField!=null&&col.sortField.length>0?col.sortField:col.field]),propB=ko.utils.unwrapObservable(itemB[col.sortField!=null&&col.sortField.length>0?col.sortField:col.field]),propAEmpty=isEmpty(propA),propBEmpty=isEmpty(propB);if(propAEmpty&&propBEmpty)return 0;else if(propAEmpty)return 1;else if(propBEmpty)return-1;return direction===ASC?sortFn(propA,propB):0-sortFn(propA,propB)});internalSortedData(data)};dataSource.subscribe(sortData);this.sortInfo.subscribe(sortData);initPhase=1};kg.SelectionManager=function(options){var self=this,isMulti=options.isMultiSelect,dataSource=options.data,KEY="__kg_selected__",maxRows=ko.computed(function(){return dataSource().length});this.selectedItem=options.selectedItem;this.selectedItems=options.selectedItems;this.selectedIndex=options.selectedIndex;this.selectedItemCount=ko.computed(function(){var single=self.selectedItem(),arr=self.selectedItems();return isMulti?arr.length:single!==null&&single!==undefined?1:0});this.selectedItem.subscribe(function(currentEntity){isMulti||currentEntity&&currentEntity[KEY]&&currentEntity[KEY](!1)},self,"beforeChange");this.selectedItem.subscribe(function(entity){entity&&!entity[KEY]?entity[KEY]=ko.observable(!0):entity&&entity[KEY](!0)});this.selectedItems.subscribe(function(newItems){var data=dataSource();newItems||(newItems=[]);utils.forEach(data,function(item,i){item[KEY]||(item[KEY]=ko.observable(!1));ko.utils.arrayIndexOf(newItems,item)>-1?item[KEY](!0):item[KEY](!1)})});this.changeSelectedItem=function(changedEntity){var currentEntity=self.selectedItem(),currentItems=self.selectedItems,len=0,keep=!1;isMulti?(len=currentItems().length,changedEntity&&changedEntity[KEY]&&(keep=changedEntity[KEY]()),keep?currentItems.indexOf(changedEntity)===-1&&currentItems.push(changedEntity):currentItems.remove(changedEntity)):(changedEntity&&changedEntity[KEY]&&(keep=changedEntity[KEY]()),self.selectedItem(changedEntity),keep||changedEntity[KEY](!0))};this.toggleSelectAll=ko.computed({read:function(){var cnt=self.selectedItemCount();return isMulti?maxRows()===0?!1:cnt===maxRows():cnt===1},write:function(val){var checkAll=val,dataSourceCopy=[];isMulti&&(utils.forEach(dataSource(),function(item){dataSourceCopy.push(item)}),checkAll?self.selectedItems(dataSourceCopy):self.selectedItems([]))}});dataSource.subscribe(function(items){var selectedItems,selectedItem,itemsToRemove;items&&(isMulti?(selectedItems=self.selectedItems(),itemsToRemove=[],ko.utils.arrayForEach(selectedItems,function(item){ko.utils.arrayIndexOf(items,item)<0&&itemsToRemove.push(item)}),itemsToRemove.length>0&&self.selectedItems.removeAll(itemsToRemove)):selectedItem=self.selectedItem())})};kg.gridManager=new function(){var self=this,elementGridKey="__koGrid__";this.gridCache={};this.storeGrid=function(element,grid){self.gridCache[grid.gridId]=grid;element[elementGridKey]=grid.gridId};this.getGrid=function(element){var grid;return element[elementGridKey]&&(grid=self.gridCache[element[elementGridKey]]),grid};this.clearGridCache=function(){self.gridCache={}};this.assignGridEventHandlers=function(grid){var $parent,timeoutHandler,resizeFunc;grid.$viewport.scroll(function(e){var scrollLeft=e.target.scrollLeft,scrollTop=e.target.scrollTop;grid.config.scrollPosition(scrollTop);grid.adjustScrollLeft(scrollLeft)});$parent=grid.$root.parent();$parent.length==0&&($parent=grid.$root);timeoutHandler=null;resizeFunc=function(){clearTimeout(timeoutHandler);timeoutHandler=setTimeout(function(){var dt=new Date,prevSizes={rootMaxH:grid.elementDims.rootMaxH,rootMaxW:grid.elementDims.rootMaxW,rootMinH:grid.elementDims.rootMinH,rootMinW:grid.elementDims.rootMinW},scrollTop=0,isDifferent=!1,$hiddens=grid.$root.parents(":hidden");if(!($hiddens.length>0)){if(scrollTop=grid.$viewport.scrollTop(),kg.domUtility.measureGrid(grid.$root,grid),prevSizes.rootMaxH!==grid.elementDims.rootMaxH&&grid.elementDims.rootMaxH!==0)isDifferent=!0;else if(prevSizes.rootMaxW!==grid.elementDims.rootMaxW&&grid.elementDims.rootMaxW!==0)isDifferent=!0;else if(prevSizes.rootMinH!==grid.elementDims.rootMinH)isDifferent=!0;else if(prevSizes.rootMinW!==grid.elementDims.rootMinW)isDifferent=!0;else return;grid.elementDims.rootMinW==0&&prevSizes.rootMinW!=0&&(grid.elementDims.rootMinW=prevSizes.rootMinW);isDifferent&&(grid.refreshDomSizes(),grid.adjustScrollTop(scrollTop,!0),kg.cssBuilder.buildStyles(grid))}},500)};$(window).wresize(resizeFunc)}};kg.KoGrid=function(options){var defaults={rowHeight:30,columnWidth:100,headerRowHeight:30,footerRowHeight:55,filterRowHeight:30,rowTemplate:"kgRowTemplate",headerTemplate:"kgHeaderRowTemplate",headerCellTemplate:"kgHeaderCellTemplate",footerTemplate:"kgFooterTemplate",footerVisible:ko.observable(!0),autogenerateColumns:!0,data:null,columnDefs:[],pageSizes:[250,500,1e3],enablePaging:!1,pageSize:ko.observable(250),totalServerItems:ko.observable(),currentPage:ko.observable(1),selectedItem:ko.observable(),selectedItems:ko.observableArray([]),selectedIndex:ko.observable(0),isMultiSelect:!0,displaySelectionCheckbox:!0,displayRowIndex:!0,useExternalFiltering:!1,useExternalSorting:!1,filterInfo:ko.observable(),sortInfo:ko.observable(),filterWildcard:"*",includeDestroyed:!1,scrollIntoTheView:ko.observable(),scrollPosition:ko.observable(),finalData:ko.observableArray([])},self=this,filterManager,sortManager,selectionManager,isSorting=!1,prevScrollTop,prevScrollLeft,prevMinRowsToRender,maxCanvasHt=0,h_updateTimeout,scrollIntoView,buildColumnDefsFromData,buildColumns;this.$root;this.$topPanel;this.$headerContainer;this.$headerScroller;this.$headers;this.$viewport;this.$canvas;this.$footerPanel;this.config=$.extend(defaults,options);this.filterIsOpen=ko.observable(this.config.alwaysShowFilters);this.gridId="kg"+kg.utils.newId();this.initPhase=0;this.data=self.config.data;$.each(this.data(),function(i,val){val.rowKey=utils.newId()});this.data.subscribe(function(){$.each(self.data(),function(i,val){val.rowKey=utils.newId()})});filterManager=new kg.FilterManager(self.config);this.filterManager=filterManager;sortManager=new kg.SortManager({data:filterManager.filteredData,sortInfo:self.config.sortInfo,useExternalSorting:self.config.useExternalFiltering});this.sortInfo=sortManager.sortInfo;this.filterInfo=filterManager.filterInfo;this.finalData=sortManager.sortedData;this.canvasHeight=ko.observable(maxCanvasHt.toString()+"px");selectionManager=new kg.SelectionManager({isMultiSelect:self.config.isMultiSelect,data:self.finalData,selectedItem:self.config.selectedItem,selectedItems:self.config.selectedItems,selectedIndex:self.config.selectedIndex});this.maxRows=ko.computed(function(){var rows=self.finalData();return maxCanvasHt=rows.length*self.config.rowHeight,self.canvasHeight(maxCanvasHt.toString()+"px"),rows.length||0});this.maxCanvasHeight=function(){return maxCanvasHt||0};this.selectedItemCount=selectionManager.selectedItemCount;this.columns=new kg.ColumnCollection;this.rowManager;this.rows;this.headerRow;this.footer;this.elementDims={scrollW:0,scrollH:0,cellHdiff:0,cellWdiff:0,rowWdiff:0,rowHdiff:0,rowIndexCellW:35,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0,rootMinW:0,rootMinH:0};this.elementsNeedMeasuring=!0;this.rootDim=ko.observable(new kg.Dimension({outerHeight:0,outerWidth:2e4}));this.headerDim=ko.computed(function(){var rootDim=self.rootDim(),filterOpen=self.filterIsOpen(),newDim=new kg.Dimension;return newDim.outerHeight=self.config.headerRowHeight,newDim.outerWidth=rootDim.outerWidth,filterOpen&&(newDim.outerHeight+=self.config.filterRowHeight),newDim});this.footerDim=ko.computed(function(){var rootDim=self.rootDim(),showFooter=ko.unwrap(self.config.footerVisible),newDim=new kg.Dimension;return newDim.outerHeight=self.config.footerRowHeight,newDim.outerWidth=rootDim.outerWidth,showFooter||(newDim.outerHeight=3),newDim});this.viewportDim=ko.computed(function(){var rootDim=self.rootDim(),headerDim=self.headerDim(),footerDim=self.footerDim(),newDim=new kg.Dimension,wDelta=self.config.alwaysShowFilters==!0?self.config.filterRowHeight:0,rowHeights=self.rowManager!=null&&footerDim.outerHeight<5&&self.finalData().length!=self.data().length?self.rowManager.rowHeight*self.finalData().length:-1;return self.finalData().length==0&&self.rowManager!=null&&footerDim.outerHeight<5&&(rowHeights=self.rowManager.rowHeight),newDim.outerHeight=rowHeights!=-1?rowHeights:rootDim.outerHeight-headerDim.outerHeight-footerDim.outerHeight+wDelta,newDim.outerWidth=rootDim.outerWidth,newDim.innerHeight=newDim.outerHeight-wDelta,newDim.innerWidth=newDim.innerWidth,newDim});this.totalRowWidth=ko.computed(function(){var width=0,cols=self.columns();return utils.forEach(cols,function(col,i){width+=col.width()}),width});this.minRowsToRender=ko.computed(function(){var viewportH=self.viewportDim().outerHeight||1;return prevMinRowsToRender=Math.floor(viewportH/self.config.rowHeight)});this.headerScrollerDim=ko.computed(function(){var viewportH=self.viewportDim().outerHeight,filterOpen=self.filterIsOpen(),maxHeight=self.maxCanvasHeight(),vScrollBarIsOpen=maxHeight>viewportH,hScrollBarIsOpen=self.viewportDim().outerWidth<self.totalRowWidth();return newDim=new kg.Dimension,newDim.autoFitHeight=!0,newDim.outerWidth=self.totalRowWidth(),vScrollBarIsOpen?newDim.outerWidth+=self.elementDims.scrollW:maxHeight-viewportH<=self.elementDims.scrollH&&(newDim.outerWidth+=self.elementDims.scrollW),newDim});this.changeSelectedItem=selectionManager.changeSelectedItem;this.toggleSelectAll=selectionManager.toggleSelectAll;this.sortData=function(col,dir){isSorting=!0;utils.forEach(self.columns(),function(column){column.field!==col.field&&column.sortDirection()!==""&&column.sortDirection("")});sortManager.sort(col,dir);isSorting=!1};this.config.scrollIntoTheView.subscribe(function(){var item=self.config.scrollIntoTheView();item!=null&&scrollIntoView(item)});this.config.scrollPosition.subscribe(function(){self.adjustScrollTop(self.config.scrollPosition())});this.finalData.subscribe(function(){var item;self.config.isMultiSelect&&self.config.selectedItems()?item=self.config.selectedItems()[0]:self.config.selectedItem()&&(item=self.config.selectedItem());item&&scrollIntoView(item);self.config.finalData(self.finalData())});scrollIntoView=function(entity){var itemIndex,viewableRange=self.rowManager.viewableRange();entity&&(itemIndex=ko.utils.arrayIndexOf(self.finalData(),entity));itemIndex>-1&&(!0||itemIndex>viewableRange.topRow||itemIndex<viewableRange.bottomRow-5)&&(self.rowManager.viewableRange(new kg.Range(itemIndex-self.minRowsToRender(),itemIndex+self.minRowsToRender())),setTimeout(function(){self.$viewport&&self.$viewport.scrollTop(itemIndex*self.config.rowHeight)},1))};this.refreshDomSizes=function(){var dim=new kg.Dimension,oldDim=self.rootDim(),rootH=0,rootW=0,canvasH=0;self.elementsNeedMeasuring=!0;rootH=self.maxCanvasHeight()+self.config.headerRowHeight+self.config.footerRowHeight;rootH=Math.min(self.elementDims.rootMaxH,rootH);rootH=Math.max(self.elementDims.rootMinH,rootH);canvasH=rootH-self.config.headerRowHeight-self.config.footerRowHeight;rootW=self.totalRowWidth()+self.elementDims.rowWdiff;$(".kgViewport").css("overflow-y")!="scroll"&&(self.elementDims.scrollW=0);self.maxCanvasHeight()>canvasH&&(rootW+=self.elementDims.scrollW||0);dim.outerWidth=Math.min(self.elementDims.rootMaxW,rootW);dim.outerWidth=Math.max(self.elementDims.rootMinW,dim.outerWidth);dim.outerHeight=rootH;(dim.outerHeight!==oldDim.outerHeight||dim.outerWidth!==oldDim.outerWidth)&&self.rootDim(dim)};this.refreshDomSizesTrigger=ko.computed(function(){var data=self.data();h_updateTimeout&&(window.setImmediate?window.clearImmediate(h_updateTimeout):window.clearTimeout(h_updateTimeout));self.initPhase>0&&(self.filterIsOpen()||isSorting||(self.refreshDomSizes(),kg.cssBuilder.buildStyles(self),self.initPhase>0&&self.$root&&self.$root.show()))});buildColumnDefsFromData=function(){var item;if(!self.data()||!self.data()[0])throw'If auto-generating columns, "data" cannot be of null or undefined type!';item=self.data()[0];utils.forIn(item,function(prop,propName){propName!=="__kg_selected__"&&self.config.columnDefs.push({field:propName})})};buildColumns=function(){var columnDefs=self.config.columnDefs,cols=[],column,createColumnSortClosure;self.config.autogenerateColumns&&buildColumnDefsFromData();self.config.displaySelectionCheckbox&&columnDefs.splice(0,0,{field:"__kg_selected__",width:self.elementDims.rowSelectedCellW});self.config.displayRowIndex&&columnDefs.splice(0,0,{field:"rowIndex",width:self.elementDims.rowIndexCellW});createColumnSortClosure=function(col){return function(dir){dir&&self.sortData(col,dir)}};columnDefs.length>1&&(utils.forEach(columnDefs,function(colDef,i){column=new kg.Column(colDef);column.index=i;column.sortDirection.subscribe(createColumnSortClosure(column));column.filter.subscribe(filterManager.createFilterChangeCallback(column));cols.push(column)}),self.columns(cols))};this.init=function(){buildColumns();self.config.rowTemplate==="kgRowTemplate"&&(self.config.rowTemplate=self.gridId+self.config.rowTemplate);self.config.headerTemplate==="kgHeaderRowTemplate"&&(self.config.headerTemplate=self.gridId+self.config.headerTemplate);self.rowManager=new kg.RowManager(self);self.rows=self.rowManager.rows;kg.cssBuilder.buildStyles(self);self.initPhase=1};this.update=function(){var updater=function(){self.refreshDomSizes();kg.cssBuilder.buildStyles(self);self.initPhase>0&&self.$root&&self.$root.show()};window.setImmediate?h_updateTimeout=setImmediate(updater):setTimeout(updater,1)};this.showFilter_Click=function(){var isOpen=self.filterIsOpen()?!1:!0;self.headerRow.filterVisible(isOpen);self.filterIsOpen(isOpen)};this.clearFilter_Click=function(){utils.forEach(self.columns(),function(col,i){col.filter(null)})};this.adjustScrollTop=function(scrollTop,force){var rowIndex;(prevScrollTop!==scrollTop||force)&&(rowIndex=Math.floor(scrollTop/self.config.rowHeight),prevScrollTop=scrollTop,self.rowManager.viewableRange(new kg.Range(rowIndex,rowIndex+self.minRowsToRender())))};this.adjustScrollLeft=function(scrollLeft){self.$headerContainer&&self.$headerContainer.scrollLeft(scrollLeft)};self.init()};kg.cssBuilder={buildStyles:function(grid){var rowHeight=grid.config.rowHeight-grid.elementDims.rowHdiff,$style=grid.$styleSheet,gridId=grid.gridId,rules,i=0,len=grid.columns().length,css=new kg.utils.StringBuilder,col,sumWidth=0,colWidth,colToAdjust,adjustableIndex,widthToAdjust,borderLessIndex,j;for($style||($style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"))),$style.empty(),css.append(".{0} .kgCell { height: {1}px; }",gridId,rowHeight),css.append(".{0} .kgCanvas { width: {1}px; }",gridId,grid.elementDims.rootMinW-grid.elementDims.scrollW-2),css.append(".{0} .kgRow { position: absolute; left: 0; right: 0; height: {1}px; line-height: {1}px; display: inline; }",gridId,rowHeight),css.append(".{0} .kgHeaderCell { top: 0; bottom: 0; }",gridId,rowHeight),css.append(".{0} .kgHeaderScroller { line-height: {1}px; overflow: none; }",gridId,rowHeight-4),colToAdjust=[],adjustableIndex=[];i<len;i++)col=grid.columns()[i],colWidth=col.width()-grid.elementDims.cellWdiff,colToAdjust.push({col:col,left:sumWidth,right:grid.elementDims.rootMaxW-grid.elementDims.scrollW-sumWidth-col.width(),width:colWidth}),(col.visible==!0||col.visible==null)&&col.autowidth==!0&&adjustableIndex.push(i),sumWidth+=col.width();if(widthToAdjust=grid.elementDims.rootMaxW-grid.elementDims.scrollW-sumWidth,widthToAdjust!=0){if(adjustableIndex.length==0)for(j=colToAdjust.length-1;j>=0;j--)(colToAdjust[j].col.visible==!0||colToAdjust[j].col.visible==null)&&adjustableIndex.push(j);$.each(adjustableIndex,function(i,val){var col=colToAdjust[val],inc=parseInt(widthToAdjust*col.width/sumWidth),j;for(col.width=col.width+inc,col.right=col.right+inc,j=val+1;j<colToAdjust.length;j++)colToAdjust[j].left=colToAdjust[j].left+inc,colToAdjust[j].right=colToAdjust[j].right+inc})}for(borderLessIndex=0,j=colToAdjust.length-1;j>=0;j--)if(colToAdjust[j].col.visible==!0||colToAdjust[j].col.visible==null){borderLessIndex=j;break}$.each(colToAdjust,function(i,val){css.append(".{0} .col{1} { left: {2}px; right: {3}px; width: {4}px; {5} }",gridId,i,val.left,val.right,colToAdjust.length-1==i?val.width-10:val.width,i==borderLessIndex||val.col.visible==!1?"border-right: none":"")});$style[0].styleSheet?$style[0].styleSheet.cssText=css.toString(" "):$style[0].appendChild(document.createTextNode(css.toString(" ")));grid.$styleSheet=$style}};kg.domUtility=new function(){var $testContainer=$("<div><\/div>"),self=this,parsePixelString=function(pixelStr){if(!pixelStr)return 0;var numStr=pixelStr.replace("/px/gi",""),num=parseInt(numStr,10);return isNaN(num)?0:num};this.assignGridContainers=function(rootEl,grid){grid.$root=$(rootEl);var dataDivId="postData_"+grid.$root[0].id;grid.$dataDiv=$('<div id="'+dataDivId+'"><\/div>').insertAfter(grid.$root);grid.$topPanel=$(".kgTopPanel",grid.$root[0]);grid.$headerContainer=$(".kgHeaderContainer",grid.$topPanel[0]);grid.$headerScroller=$(".kgHeaderScroller",grid.$headerContainer[0]);grid.$headers=grid.$headerContainer.children();grid.$viewport=$(".kgViewport",grid.$root[0]);grid.$canvas=$(".kgCanvas",grid.$viewport[0]);grid.$footerPanel=$(".kgFooterPanel",grid.$root[0])};this.measureElementMaxDims=function($container){var dims={},$test=$("<div style='height: 20000px; width: 100%;'><\/div>"),$tempContainer=$container,pixelStr;return $tempContainer.append($test),dims.maxWidth=$tempContainer.width(),dims.maxHeight=$tempContainer.height(),dims.maxWidth||(pixelStr=$tempContainer.css("max-width"),dims.maxWidth=parsePixelString(pixelStr)),dims.maxHeight||(pixelStr=$tempContainer.css("max-height"),dims.maxHeight=parsePixelString(pixelStr)),dims.maxWidth===0&&(dims.maxWidth=$tempContainer.parent().width()),dims.maxHeight===0&&(dims.maxHeight=$tempContainer.parent().height()),$test.remove(),dims};this.measureElementMinDims=function($container){var dims={},$testContainer=$container.clone(),$test,pixelStr;return $testContainer.appendTo($container.parent().first()),dims.minWidth=0,dims.minHeight=0,$testContainer.empty(),$test=$("<div style='height: 0x; width: 0px;'><\/div>"),$testContainer.append($test),dims.minWidth=$testContainer.width(),dims.minHeight=$testContainer.height(),dims.minWidth||(pixelStr=$testContainer.css("min-width"),dims.minWidth=parsePixelString(pixelStr)),dims.minHeight||(pixelStr=$testContainer.css("min-height"),dims.minHeight=parsePixelString(pixelStr)),$testContainer.remove(),dims};this.measureGrid=function($container,grid,measureMins){var dims=self.measureElementMaxDims($container);grid.elementDims.rootMaxW=dims.maxWidth;grid.elementDims.rootMaxH=dims.maxHeight;grid.elementDims.scrollW=kg.domUtility.scrollW;grid.elementDims.scrollH=kg.domUtility.scrollH;dims=self.measureElementMinDims($container);grid.elementDims.rootMinW=dims.minWidth;dims.minHeight=Math.max(dims.minHeight,grid.config.headerRowHeight+grid.config.footerRowHeight+3*grid.config.rowHeight);dims.minHeight=Math.min(grid.elementDims.rootMaxH,dims.minHeight);grid.elementDims.rootMinH=dims.minHeight};this.measureRow=function($canvas,grid){var $row,$cell,isDummyRow,isDummyCell;$row=$canvas.children().first();$row.length===0&&($canvas.append('<div class="kgRow"><\/div>'),$row=$canvas.children().first(),isDummyRow=!0);$cell=$row.children().first();$cell.length===0&&($row.append('<div class="kgCell col0"><\/div>'),$cell=$row.children().first(),isDummyCell=!0);grid.elementDims.rowWdiff=$row.outerWidth()-$row.width();grid.elementDims.rowHdiff=$row.outerHeight()-$row.height();grid.elementDims.cellWdiff=$cell.outerWidth()-$cell.width();grid.elementDims.cellHdiff=$cell.outerHeight()-$cell.height();grid.elementsNeedMeasuring=!1;isDummyRow?$row.remove():isDummyCell&&$cell.remove()};this.scrollH=17;this.scrollW=17;this.letterW=5;$(function(){$testContainer.appendTo("body");$testContainer.height(100).width(100).css("position","absolute").css("overflow","scroll");$testContainer.append('<div style="height: 400px; width: 400px;"><\/div>');self.scrollH=$testContainer.height()-$testContainer[0].clientHeight;self.scrollW=$testContainer.width()-$testContainer[0].clientWidth;$testContainer.empty();$testContainer.attr("style","");$testContainer.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M<\/strong><\/span>');self.letterW=$testContainer.children().first().width();$testContainer.remove()})};ko.bindingHandlers.kgWith=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var val=ko.utils.unwrapObservable(valueAccessor()),newContext=bindingContext.createChildContext(val);if(!val)throw Error("Cannot use a null or undefined value with the 'kgWith' binding");return ko.applyBindingsToDescendants(newContext,element),{controlsDescendantBindings:!0}}}}();ko.bindingHandlers.koGrid=function(){var makeNewValueAccessor=function(grid){return function(){return{name:GRID_TEMPLATE,data:grid}}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid,options=valueAccessor(),$element=$(element);return grid=new kg.KoGrid(options),kg.gridManager.storeGrid(element,grid),kg.domUtility.measureGrid($element,grid,!0),$element.hide(),$(element).addClass("kgGrid").addClass("ui-widget").addClass(grid.gridId.toString()),kg.templateManager.ensureGridTemplates({rowTemplate:grid.config.rowTemplate,headerTemplate:grid.config.headerTemplate,headerCellTemplate:grid.config.headerCellTemplate,footerTemplate:grid.config.footerTemplate,columns:grid.columns(),showFilter:grid.config.allowFiltering}),ko.bindingHandlers.template.init(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext)},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid,returnVal;if(grid=kg.gridManager.getGrid(element),grid.initComplete!=!0)return grid?(returnVal=ko.bindingHandlers.template.update(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext),kg.domUtility.assignGridContainers(element,grid),kg.gridManager.assignGridEventHandlers(grid),grid.update(),grid.initComplete=grid.data().length>0,returnVal):{controlsDescendantBindings:!0}}}}();ko.bindingHandlers.kgRows=function(){var RowSubscription=function(){this.rowKey;this.rowIndex;this.node;this.subscription},compareRows=function(rows,rowSubscriptions,add){return rowMap={},newRows=[],rowSubscriptionsToRemove=[],ko.utils.arrayForEach(rows,function(row){rowMap[row.rowIndex]=row;var possibleRow=rowSubscriptions[row.rowIndex];!possibleRow||add?newRows.push(row):(possibleRow.rowKey!==row.rowKey||add)&&newRows.push(row)}),utils.forIn(rowSubscriptions,function(rowSubscription,index){var compareRow=rowMap[index];compareRow?compareRow.rowKey!==rowSubscription.rowKey&&rowSubscriptionsToRemove.push(rowSubscription):rowSubscriptionsToRemove.push(rowSubscription)}),{add:newRows,remove:rowSubscriptionsToRemove}};return{init:function(element,valueAccessor,allBindings,viewModel,bindingContext){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var rowManager=bindingContext.$data.rowManager,rows=ko.utils.unwrapObservable(valueAccessor()),grid=bindingContext.$data,rowChanges;return rowChanges=compareRows(rows,rowManager.rowSubscriptions||{},grid.elementsNeedMeasuring),rowChanges.remove.length==0&&rowChanges.add.length==0&&(rowChanges=compareRows(rows,rowManager.rowSubscriptions||{},!0)),ko.utils.arrayForEach(rowChanges.remove,function(rowSubscription){var data=viewModel.data().filter(function(val){return val.rowKey==rowSubscription.rowKey})[0],wasModified=!1,childrens=$(rowSubscription.node).children();data!=null&&($.each(childrens,function(i,val){var colName=$(val).attr("col-name"),inputs=$(val).find("input[type=checkbox]"),value;$.each(inputs,function(i1,val1){val1.checked?$(val1).attr("checked","checked"):$(val1).removeAttr("checked")});value=$(val).children().first().html();value!=data[colName]&&inputs.length>0&&(wasModified=!0,data[colName]=value)}),wasModified==!0&&(viewModel.rowManager.rowCache[rowSubscription.rowIndex-1]=null,$.each(childrens.find("input"),function(i,val){var name=$(val).attr("name");name!=null&&name.length>0&&val.id!=null&&val.id.length>0&&(viewModel.$dataDiv.find('[name="'+name+'"]').remove(),viewModel.$dataDiv.append("<input type='hidden' value='"+(val.type=="checkbox"?val.checked:$(val).val())+"' name='"+name+"' />"))})));rowSubscription.node&&ko.removeNode(rowSubscription.node);rowSubscription.subscription.dispose();delete rowManager.rowSubscriptions[rowSubscription.rowIndex]}),ko.utils.arrayForEach(rowChanges.add,function(row){var newBindingCtx,rowSubscription,divNode=document.createElement("DIV"),oldNode;newBindingCtx=bindingContext.createChildContext(row);element.appendChild(divNode);oldNode=rowManager.rowSubscriptions[row.rowIndex];oldNode&&(ko.removeNode(oldNode.node),oldNode.subscription.dispose(),delete rowManager.rowSubscriptions[row.rowIndex]);rowSubscription=new RowSubscription;rowSubscription.rowKey=row.rowKey;rowSubscription.rowIndex=row.rowIndex;rowManager.rowSubscriptions[row.rowIndex]=rowSubscription;rowSubscription.subscription=ko.renderTemplate(grid.config.rowTemplate,newBindingCtx,null,divNode,"replaceNode");$.each($(rowSubscription.node).children().find("input"),function(i,val){var name=$(val).attr("name");name!=null&&name.length>0&&viewModel.$dataDiv.find('[name="'+name+'"]').remove()})}),grid.elementsNeedMeasuring&&grid.initPhase>0&&kg.domUtility.measureRow($(element),grid),{controlsDescendantBindings:!0}}}}();ko.bindingHandlers.kgRow=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var row=valueAccessor(),classes="kgRow",grid=bindingContext.$parent,rowManager=bindingContext.$parent.rowManager,rowSubscription;classes+=row.rowIndex%2==0?" even":" odd";element._kg_rowIndex_=row.rowIndex;element.style.top=row.offsetTop+"px";element.className=classes;rowSubscription=rowManager.rowSubscriptions[row.rowIndex];rowSubscription&&(rowSubscription.node=element)}}}();ko.bindingHandlers.kgCell=function(){var makeValueAccessor=function(cell){var func;return cell.column.field==="rowIndex"?function(){return cell.row.rowDisplayIndex}:function(){return"<span>"+cell.data+"<\/span>"}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var options=valueAccessor(),cell,row=bindingContext.$data,text,fi,matches;cell=row.cellMap[options.value];element.className+=" kgCell col"+cell.column.index;$(element).attr("col-name",cell.column.field);cell.column.field==="__kg_selected__"||cell.column.hasCellTemplate||(text=makeValueAccessor(cell),fi=ko.unwrap(bindingContext.$root.filterInfo),fi!=null&&fi[cell.column.field]!=null&&fi[cell.column.field].length>0?(matches=bindingContext.$parent.filterManager.matchString(cell.data,fi[cell.column.field]),matches&&matches.length>0?ko.bindingHandlers.html.update(element,function(){var htmlRegex=new RegExp(/<[/a-zA-Z][/a-zA-Z0-9]*\b[^>]*>/g),str=cell.data,htmlMatches=str.match(htmlRegex),i;if(htmlMatches!=null)for(i=0;i<htmlMatches.length;i++)str=str.replace(htmlMatches[i],String.fromCharCode(i));if(str=$("<div/>").html(str).text(),$.each(matches,function(i,v){str=str.replace(v,String.fromCharCode(27)+v+String.fromCharCode(28))}),str="<span>"+str.replace(String.fromCharCode(27),'<span class="under-line">').replace(String.fromCharCode(28),"<\/span>")+"<\/span>",htmlMatches!=null)for(i=0;i<htmlMatches.length;i++)str=str.replace(String.fromCharCode(i),htmlMatches[i]);return str.replace(/&lt;/g,"<").replace(/&gt;/g,">")}):ko.bindingHandlers.html.update(element,text)):ko.bindingHandlers.html.update(element,text),setTimeout(function(){if($(element).children(0).width()>$(element).width()){var toolTip=$('<div class="ui-corner-all grid_tooltip" style="z-index:100000;position:absolute;top:'+(parseInt($(element).offset().top)+$(element).height())+"px;left:"+$(element).offset().left+'px">'+text()+"<\/div>");$(element).mouseover(function(){$(".grid_tooltip").remove();var offset=$(element).offset();$(toolTip).css("top",offset.top+$(element).height()+"px");$(toolTip).css("left",offset.left+"px");toolTip=$(toolTip).appendTo(document.body)});$(element).mouseout(function(){toolTip.remove()})}else $(element).mouseover(function(){$(".grid_tooltip").remove()})},10))}}}();ko.bindingHandlers.kgHeaderRow=function(){var buildHeaders=function(grid){var cols=grid.columns(),cell,headerRow=new kg.HeaderRow(grid);utils.forEach(cols,function(col,i){cell=new kg.HeaderCell(col,grid);cell.colIndex=i;headerRow.headerCells.push(cell);headerRow.headerCellMap[col.field]=cell});grid.headerRow=headerRow;grid.headerRow.height=grid.config.headerRowHeight},makeNewValueAccessor=function(grid){return function(){return{name:grid.config.headerTemplate,data:grid.headerRow}}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return buildHeaders(grid),ko.bindingHandlers.template.init(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext)},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return ko.bindingHandlers.template.update(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext)}}}();ko.bindingHandlers.kgHeader=function(){var makeNewValueAccessor=function(headerCell,grid){return function(){return{name:headerCell.headerTemplate||grid.config.headerCellTemplate,data:headerCell}}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var headerRow=bindingContext.$data,cell,property,options=valueAccessor();if(options&&(property=options.value,cell=headerRow.headerCellMap[property],cell&&property!=="rowIndex"&&property!=="__kg_selected__"))return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var headerRow=bindingContext.$data,grid=bindingContext.$parent,cell,property,options=valueAccessor();if(options&&(property=options.value,cell=headerRow.headerCellMap[property],cell&&(element.className+=" kgHeaderCell col"+cell.colIndex,cell.headerClass&&(element.className+=" "+cell.headerClass),property!=="rowIndex"&&property!=="__kg_selected__")))return ko.bindingHandlers.template.update(element,makeNewValueAccessor(cell,grid),allBindingsAccessor,viewModel,bindingContext)}}}();ko.bindingHandlers.kgFooter=function(){var makeNewValueAccessor=function(grid){return function(){return{name:grid.config.footerTemplate,data:grid.footer}}},makeNewBindingContext=function(bindingContext,footer){return bindingContext.createChildContext(footer)};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return grid.footer=new kg.Footer(grid),ko.bindingHandlers.template.init(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,makeNewBindingContext(bindingContext,grid.footer))},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return ko.unwrap(grid.config.footerVisible)==!1&&$(element).css("display","none"),ko.bindingHandlers.template.update(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,makeNewBindingContext(bindingContext,grid.footer))}}}();ko.bindingHandlers.kgSize=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){if(!$(element).hasClass("kgHeaderScroller")){var $container=$(element),$parent=$container.parent(),dim=ko.utils.unwrapObservable(valueAccessor()),oldHt=$container.outerHeight(),oldWdth=$container.outerWidth();if(dim.autoFitHeight&&(dim.outerHeight=$parent.height()),dim.innerHeight&&dim.innerWidth){$container.height(dim.innerHeight);$container.width(dim.innerWidth);return}(oldHt!==dim.outerHeight||oldWdth!==dim.outerWidth)&&($container.height(dim.outerHeight).width(dim.outerWidth),oldHt=$container.outerHeight(),oldWdth=$container.outerWidth(),dim.heightDiff=oldHt-$container.height(),dim.widthDiff=oldWdth-$container.width(),$container.height(dim.outerHeight-dim.heightDiff),$container.width(dim.outerWidth-dim.widthDiff+1))}}}}()}(window),function($){DropDownTableCache={image:new Image};$(function(){DropDownTableCache.image.src="/Content/Images/Icons/v4/Search-icon-333.svg"});$.fn.dropDownTable=function(settings,viewModel,wrapperDivId,attachToParentElement){var dataKey="dropDownTable-"+this[0].id,thisObj=$.data(window,dataKey),i,changeVisibilityStyle;if(typeof settings=="object"){for(thisObj=this,settings.TargetElement.indexOf("#")==-1&&(settings.TargetElement="#"+settings.TargetElement),i=0;i<settings.ColumnToProperty.length;i++)settings.ColumnToProperty[i].TargetProperty&&settings.ColumnToProperty[i].TargetProperty!=""&&settings.ColumnToProperty[i].TargetProperty.indexOf("#")==-1&&(settings.ColumnToProperty[i].TargetProperty="#"+settings.ColumnToProperty[i].TargetProperty);this.settings=settings;this.wrapperDivId=wrapperDivId;this.viewModel=viewModel;this.nextLoad=this.settings.SelectedId==""||this.settings.SelectedId=="00000000-0000-0000-0000-000000000000";this.wrapperId="#"+wrapperDivId;this.divLineId=this.wrapperId+"-line";this.image=$(DropDownTableCache.image).clone();this.isOpened=!1;this.mouseDetected=!1;this.emptyFilterClass="dropdown-table-empty";this.openTableClass="dropdown-table-opened";this.openBtnClass="dropdown-table-opened-btn";this.dialogDragEventName="dialogdrag.ddt";this.dialogDragStopEventName="dialogdragstop.ddt";this.attachToParentElement=attachToParentElement;$.data(window,dataKey,thisObj)}else thisObj=$.data(window,dataKey);return changeVisibilityStyle=function(self){var divId=self.wrapperId,btn=jQuery(self.settings.TargetElement).parent().find(".drop_down_table_btn"),btnImg=btn.find("img"),btnDiv=btn.find("div"),$targetElem=jQuery(self.settings.TargetElement),w;jQuery(divId).css("display")=="none"?(jQuery(divId).removeClass(self.openTableClass),$targetElem.width($targetElem.width()),btn.removeClass(self.openBtnClass),jQuery(divId).removeClass(self.emptyFilterClass),btn.removeClass(self.emptyFilterClass),$(btnDiv).fadeTo(.5,1),$targetElem.removeClass(self.openTableClass),$targetElem.removeClass(self.emptyFilterClass),self.isOpened=!1):($targetElem.width($targetElem.width()),jQuery(divId).addClass(self.openTableClass),btn.addClass(self.openBtnClass),$(btnDiv).fadeTo(0,.5),$targetElem.addClass(self.openTableClass),w=$(self.wrapperId).outerWidth()-$targetElem.parent().outerWidth()-3,w>0?($(self.divLineId).show(),$(self.divLineId).width(w)):$(self.divLineId).hide(),self.isOpened=!0)},this.close=function(){if(thisObj!=null&&jQuery(thisObj.wrapperId).css("display")!="none"){jQuery(thisObj.wrapperId).toggle();var $targetElem=jQuery(thisObj.settings.TargetElement),$dialog=$targetElem.closest(".ui-dialog-content");$dialog.off(thisObj.dialogDragEventName);$dialog.off(thisObj.dialogDragStopEventName);changeVisibilityStyle(thisObj)}},this.open=function(event,wasRowSelected){var divId=thisObj.wrapperId,$targetElem=jQuery(thisObj.settings.TargetElement),$dialog=$targetElem.closest(".ui-dialog-content"),$div=jQuery(divId),obj,$posElem,setCoord,tempSelf,tempSettings;$dialog.bind("dialogbeforeclose",function(event,ui){thisObj.close()});$div.css("display")=="none"?(obj=thisObj.viewModel.filterInfo(null),$div.find(".filter").val("")):wasRowSelected===!1&&$targetElem.val(thisObj.settings.selectedValue);$posElem=$targetElem.parent().find(".drop_down_table_btn");setCoord=function(reverse){var offset=$posElem.offset();thisObj.attachToParentElement?($div.css("top",$posElem.outerHeight()+"px"),$div.css("left",$posElem.outerWidth()-3+$targetElem.outerWidth()-$div.outerWidth()-(reverse==!0?-1:1)*($posElem.outerWidth()-$posElem.width())+"px")):($div.css("top",offset.top+$posElem.outerHeight()+"px"),$div.css("left",Math.ceil(offset.left-$div.outerWidth()+$posElem.width()-(reverse==!0?-1:1)*($posElem.outerWidth()-$posElem.width()))+"px"))};setCoord();$div.toggle();changeVisibilityStyle(thisObj);$dialog.on(thisObj.dialogDragEventName,function(event,ui){setCoord(!0)});$dialog.on(thisObj.dialogDragStopEventName,function(event,ui){setCoord(!0)});event&&event.stopPropagation?event.stopPropagation():event&&(event.cancelBubble=!0);tempSelf=thisObj;tempSettings=thisObj.settings;$div.unbind("clickoutside");$div.bind("clickoutside",function(event){return $div.is(":visible")&&($div.toggle(),changeVisibilityStyle(tempSelf),tempSettings.selectedValue&&$targetElem.val(tempSettings.selectedValue)),$(divId).unbind("clickoutside"),!0})},this.stringFormat=function(stringFormat,args){for(arg in args)stringFormat=stringFormat.replace("{"+arg+"}",args[arg]);return stringFormat},this.setTargetPropertyValue=function(row){var args=[],i,j,valueToSet,element,text;if(row!=undefined&&!jQuery.isEmptyObject(row))for(i=0;i<this.settings.ColumnToProperty.length;i++)if(this.settings.ColumnToProperty[i].TargetProperty&&this.settings.ColumnToProperty[i].TargetProperty!=""){for(j=0;j<this.settings.ColumnToProperty[i].Columns.length;j++)args[this.settings.ColumnToProperty[i].Columns[j].FormatIndex]=eval("row.column"+this.settings.ColumnToProperty[i].Columns[j].GridColumnIndex);if(valueToSet=this.stringFormat(this.settings.ColumnToProperty[i].TargetPropertyVaueFormat,args),jQuery(this.settings.ColumnToProperty[i].TargetProperty).val(valueToSet).change(),this.settings.ColumnToProperty[i].TargetProperty===this.settings.TargetElement&&(this.settings.selectedValue=valueToSet),this.settings.ColumnToProperty[i].TargetPropertyList)for(k=0;k<this.settings.ColumnToProperty[i].TargetPropertyList.length;k++)if(element=jQuery("#"+this.settings.ColumnToProperty[i].TargetPropertyList[k]),text=this.stringFormat(this.settings.ColumnToProperty[i].TargetPropertyVaueFormat,args),element.length>0)switch(element[0].tagName.toLowerCase()){case"input":element.val(text).change();break;default:element.text(text);break}args=[]}},this._selectRow=function(rowid,status){if(this.viewModel!=null){var gridData=this.viewModel.dataSource(),resultIndex=-1,row=null;typeof rowid!="object"?($.each(gridData,function(key,value){return value.column0==rowid?(row=value,resultIndex=key,!1):!0}),this.viewModel.selectedItem(row)):row=rowid;row!=null&&this.setTargetPropertyValue(row)}},this.onInitSelectRow=function(rowid,status){this._selectRow(rowid,status)},this.onSelectRow=function(rowid,status){thisObj.mouseDetected=!1;rowid!=null&&(this._selectRow(rowid,status),this.close(),this.nextLoad&&this.settings.OnItemSelected&&this.settings.OnItemSelected!=""&&eval(this.settings.OnItemSelected+"('"+(typeof rowid=="object"?rowid.column0:rowid)+"')"))},this.fixZIndex=function(){jQuery("#"+wrapperDivId).css("z-index",this.settings.OrderOnPage)},this.init=function(assignData){var elemToInit=jQuery(this.settings.TargetElement),isVisible=elemToInit.is(":visible"),height=isVisible?elemToInit.outerHeight():elemToInit.actual("outerHeight"),delta=height-(isVisible?elemToInit.innerHeight():elemToInit.actual("innerHeight")),width=elemToInit.actual("width"),imagePadding,dimensionStyle,image,button,gridData,clearSubscription,initFunc,initialVal;if(imgWidth=height,elemToInit.width(width-imgWidth-this.settings.LabelWidth-delta),elemToInit.css("line-height",elemToInit.actual("height")+"px"),elemToInit.wrap("<div style='position:relative;height:"+height+"px;'><\/div>"),elemToInit.css("float","left"),imagePadding=4,dimensionStyle="height:"+(height-delta)+"px;width:"+(imgWidth-delta)+"px;",this.image[0].width=height-delta-imagePadding*2,this.image[0].height=height-delta-imagePadding*2,this.image[0].id=this.tableId+"_drop_down_table_btn",image=$(this.image).wrap('<div class="drop_down_table_btn" style="'+dimensionStyle+'float:left;"><div style="'+dimensionStyle+"padding: "+imagePadding+'px;"><\/div><\/div>'),button=elemToInit.after(image.parent().parent()).next(),elemToInit.parent().width(elemToInit.outerWidth()+this.settings.LabelWidth+imgWidth-1),this.settings.Label&&this.settings.Label!="null"&&(elemToInit.after("<div style='position:absolute;"+this.settings.LabelStyle+"'>"+this.settings.Label+"<\/div>"),elemToInit.css("padding-left",this.settings.LabelWidth+"px")),gridData=this.settings.Data,gridData&&gridData.length>0&&(this.viewModel.dataSource(gridData),button.click(function(event){var timepickers=$(".dk_theme_timepicker");timepickers.length>0&&timepickers.trigger("clickoutside");thisObj.open(event,!1)})),clearSubscription=function(){for(var i in thisObj.viewModel.subscriptions)typeof thisObj.viewModel.subscriptions[i].dispose!="undefined"&&thisObj.viewModel.subscriptions[i].dispose()},clearSubscription(),initFunc=function(model){model.subscriptions.push(model.finalData.subscribe(function(data){var input=jQuery(thisObj.settings.TargetElement),btn=jQuery(thisObj.settings.TargetElement).parent().find(".drop_down_table_btn");data.length==0&&thisObj.isOpened==!0?(input.addClass(thisObj.emptyFilterClass),btn.addClass(thisObj.emptyFilterClass)):(input.removeClass(thisObj.emptyFilterClass),btn.removeClass(thisObj.emptyFilterClass))}));button.unbind("click");button.click(function(event){var timepickers=$(".dk_theme_timepicker");timepickers.length>0&&timepickers.trigger("clickoutside");thisObj.open(event,!1)})},this.settings.DataUrl&&(!gridData||gridData.length==0)?(elemToInit.attr("disabled","disabled"),initialVal=elemToInit.val(),elemToInit.val("Loading..."),thisObj=this,$.ajax({type:"POST",url:this.settings.DataUrl,async:!0,context:thisObj,success:function(result){elemToInit.val(initialVal);var data=eval(result);thisObj.viewModel=assignData(data);thisObj.viewModel.subscriptions.push(thisObj.viewModel.selectedItem.subscribe(function(newValue){if(thisObj.nextLoad==!0&&thisObj.isOpened==!1||thisObj.mouseDetected==!0)thisObj.onSelectRow(newValue);thisObj.nextLoad=!0}));elemToInit.removeAttr("disabled");thisObj.onInitSelectRow(thisObj.settings.SelectedId,null);initFunc(thisObj.viewModel)},error:function(xhr,ajaxOptions,thrownError){}})):(this.nextLoad=!0,thisObj.viewModel.subscriptions.push(thisObj.viewModel.selectedItem.subscribe(function(newValue){if(thisObj.isOpened==!1||thisObj.mouseDetected==!0)thisObj.onSelectRow(newValue)})),initFunc(thisObj.viewModel)),this.fixZIndex(),this.settings.SelectedId!="")this.onInitSelectRow(this.settings.SelectedId,null);thisObj.close();$.data(thisObj,"data",thisObj);elemToInit.mouseup(function(){$(thisObj.settings.TargetElement).val("");setTimeout(thisObj.open,1)});$(thisObj.wrapperId).mouseup(function(){thisObj.mouseDetected=!0});$(document).keyup(function(ev){var preventEvent,index,i,item;if(elemToInit.is(":focus")==!0&&(preventEvent=!0,thisObj.isOpened==!0)){index=thisObj.viewModel.finalData().indexOf(thisObj.viewModel.selectedItem());switch(ev.keyCode){case 13:thisObj.close();break;case 38:index--;index<0&&(index=0);break;case 40:index++;index>thisObj.viewModel.finalData().length-1&&index--;break;default:if(elemToInit.is(":focus")==!0){var value=$(thisObj.settings.TargetElement).val()+(ev.charCode!=0?String.fromCharCode(ev.charCode):""),columnValues=value.split(","),filter={},validColumnIndexes=[];for(i=0;i<100;i++)validColumnIndexes.push(i);for($.each(thisObj.settings.GridColumnOverrides,function(index,val){val.Visible==!1&&validColumnIndexes.splice(val.GridColumnIndex,1)}),i=0;i<columnValues.length;i++)eval("filter.column"+(validColumnIndexes[i]+1)+" = columnValues["+i+"];");thisObj.viewModel.filterInfo(filter);index=thisObj.viewModel.finalData().indexOf(thisObj.viewModel.selectedItem());(index<0||index>thisObj.viewModel.finalData().length-1)&&(index=0);preventEvent=!1}break}item=thisObj.viewModel.finalData()[index];thisObj.viewModel.selectedItem(item);thisObj.viewModel.scrollIntoTheView(item);preventEvent&&(ev.preventDefault(),ev.stopPropagation())}})},this}}(jQuery);Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","liquidspace.com","gene.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(opts){opts.domains=opts.domains||Kicksend.mailcheck.defaultDomains;opts.topLevelDomains=opts.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;opts.distanceFunction=opts.distanceFunction||Kicksend.sift3Distance;var result=Kicksend.mailcheck.suggest(encodeURI(opts.email),opts.domains,opts.topLevelDomains,opts.distanceFunction);result?opts.suggested&&opts.suggested(result):opts.empty&&opts.empty()},suggest:function(email,domains,topLevelDomains,distanceFunction){var emailParts,closestDomain,closestTopLevelDomain,domain;if(email=email.toLowerCase(),emailParts=this.splitEmail(email),closestDomain=this.findClosestDomain(emailParts.domain,domains,distanceFunction),closestDomain){if(closestDomain!=emailParts.domain)return{address:emailParts.address,domain:closestDomain,full:emailParts.address+"@"+closestDomain}}else if(closestTopLevelDomain=this.findClosestDomain(emailParts.topLevelDomain,topLevelDomains),emailParts.domain&&closestTopLevelDomain&&closestTopLevelDomain!=emailParts.topLevelDomain)return domain=emailParts.domain,closestDomain=domain.substring(0,domain.lastIndexOf(emailParts.topLevelDomain))+closestTopLevelDomain,{address:emailParts.address,domain:closestDomain,full:emailParts.address+"@"+closestDomain};return!1},findClosestDomain:function(domain,domains,distanceFunction){var dist,minDist=99,closestDomain=null,i;if(!domain||!domains)return!1;for(distanceFunction||(distanceFunction=this.sift3Distance),i=0;i<domains.length;i++){if(domain===domains[i])return domain;dist=distanceFunction(domain,domains[i]);dist<minDist&&(minDist=dist,closestDomain=domains[i])}return minDist<=this.threshold&&closestDomain!==null?closestDomain:!1},sift3Distance:function(s1,s2){var i;if(s1==null||s1.length===0)return s2==null||s2.length===0?0:s2.length;if(s2==null||s2.length===0)return s1.length;for(var c=0,offset1=0,offset2=0,lcs=0,maxOffset=5;c+offset1<s1.length&&c+offset2<s2.length;){if(s1.charAt(c+offset1)==s2.charAt(c+offset2))lcs++;else for(offset1=0,offset2=0,i=0;i<maxOffset;i++){if(c+i<s1.length&&s1.charAt(c+i)==s2.charAt(c)){offset1=i;break}if(c+i<s2.length&&s1.charAt(c)==s2.charAt(c+i)){offset2=i;break}}c++}return(s1.length+s2.length)/2-lcs},splitEmail:function(email){var parts=email.split("@"),i;if(parts.length<2)return!1;for(i=0;i<parts.length;i++)if(parts[i]==="")return!1;var domain=parts.pop(),domainParts=domain.split("."),tld="";if(domainParts.length==0)return!1;else if(domainParts.length==1)tld=domainParts[0];else{for(i=1;i<domainParts.length;i++)tld+=domainParts[i]+".";domainParts.length>=2&&(tld=tld.substring(0,tld.length-1))}return{topLevelDomain:tld,domain:domain,address:parts.join("@")}}}};window.jQuery&&function($){$.fn.mailcheck=function(opts){var self=this,oldSuggested,oldEmpty;opts.suggested&&(oldSuggested=opts.suggested,opts.suggested=function(result){oldSuggested(self,result)});opts.empty&&(oldEmpty=opts.empty,opts.empty=function(){oldEmpty.call(null,self)});opts.email=this.val();Kicksend.mailcheck.run(opts)}}(jQuery);
/*!
 * jQuery.scrollTo
 * Copyright (c) 2007 Ariel Flesler - aflesler  gmail  com | https://github.com/flesler
 * Licensed under MIT
 * https://github.com/flesler/jquery.scrollTo
 * @projectDescription Lightweight, cross-browser and highly customizable animated scrolling with jQuery
 * @author Ariel Flesler
 * @version 2.1.2
 */
(function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):typeof module!="undefined"&&module.exports?module.exports=factory(require("jquery")):factory(jQuery)})(function($){"use strict";function isWin(elem){return!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}function both(val){return $.isFunction(val)||$.isPlainObject(val)?val:{top:val,left:val}}var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings)};return $scrollTo.defaults={axis:"xy",duration:0,limit:!0},$.fn.scrollTo=function(target,duration,settings){typeof duration=="object"&&(settings=duration,duration=0);typeof settings=="function"&&(settings={onAfter:settings});target==="max"&&(target=9e9);settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;var queue=settings.queue&&settings.axis.length>1;return queue&&(duration/=2),settings.offset=both(settings.offset),settings.over=both(settings.over),this.each(function(){function animate(callback){var opts=$.extend({},settings,{queue:!0,duration:duration,complete:callback&&function(){callback.call(elem,targ,settings)}});$elem.animate(attr,opts)}var offset;if(target!==null){var win=isWin(this),elem=win?this.contentWindow||window:this,$elem=$(elem),targ=target,attr={},toff;switch(typeof targ){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=win?$(targ):$(targ,elem);case"object":if(targ.length===0)return;(targ.is||targ.style)&&(toff=(targ=$(targ)).offset())}offset=$.isFunction(settings.offset)&&settings.offset(elem,targ)||settings.offset;$.each(settings.axis.split(""),function(i,axis){var Pos=axis==="x"?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,prev=$elem[key](),max=$scrollTo.max(elem,axis),val;toff?(attr[key]=toff[pos]+(win?0:prev-$elem.offset()[pos]),settings.margin&&(attr[key]-=parseInt(targ.css("margin"+Pos),10)||0,attr[key]-=parseInt(targ.css("border"+Pos+"Width"),10)||0),attr[key]+=offset[pos]||0,settings.over[pos]&&(attr[key]+=targ[axis==="x"?"width":"height"]()*settings.over[pos])):(val=targ[pos],attr[key]=val.slice&&val.slice(-1)==="%"?parseFloat(val)/100*max:val);settings.limit&&/^\d+$/.test(attr[key])&&(attr[key]=attr[key]<=0?0:Math.min(attr[key],max));!i&&settings.axis.length>1&&(prev===attr[key]?attr={}:queue&&(animate(settings.onAfterFirst),attr={}))});animate(settings.onAfter)}})},$scrollTo.max=function(elem,axis){var Dim=axis==="x"?"Width":"Height",scroll="scroll"+Dim;if(!isWin(elem))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size="client"+Dim,doc=elem.ownerDocument||elem.document,html=doc.documentElement,body=doc.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])},$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(t){return $(t.elem)[t.prop]()},set:function(t){var curr=this.get(t),next;if(t.options.interrupt&&t._last&&t._last!==curr)return $(t.elem).stop();next=Math.round(t.now);curr!==next&&($(t.elem)[t.prop](next),t._last=this.get(t))}},$scrollTo});
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function($){function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=!0,deltaX=0,deltaY=0;return event=$.event.fix(orgEvent),event.type="mousewheel",orgEvent.wheelDelta&&(delta=orgEvent.wheelDelta/120),orgEvent.detail&&(delta=-orgEvent.detail/3),deltaY=delta,orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaY=0,deltaX=-1*delta),orgEvent.wheelDeltaY!==undefined&&(deltaY=orgEvent.wheelDeltaY/120),orgEvent.wheelDeltaX!==undefined&&(deltaX=orgEvent.wheelDeltaX/-120),args.unshift(event,delta,deltaX,deltaY),($.event.dispatch||$.event.handle).apply(this,args)}var types=["DOMMouseScroll","mousewheel"],i;if($.event.fixHooks)for(i=types.length;i;)$.event.fixHooks[types[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var i=types.length;i;)this.addEventListener(types[--i],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=types.length;i;)this.removeEventListener(types[--i],handler,!1);else this.onmousewheel=null}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})})(jQuery);FastEllipsisGlobal={cache:{}};typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")});typeof String.prototype.strip_tags_fast!="function"&&(String.prototype.strip_tags_fast=function(){return this.replace(/<br>/g," %br% ").replace(/<\/?[^>]+(>|$)/g,"")});typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.EditReservation=function(params){function getFriendlyEmails(requestNumber){requestNumber==undefined&&(requestNumber=0);$.ajax({async:!0,data:{requestNumber:requestNumber,totalEmailCount:friendlyEmails.length},url:"/Calendar/GetFriends",type:"POST",success:function(result){result&&result.success==!0&&($(result.emails).each(function(i,val){$.inArray(val.Email,friendlyEmails)<0&&friendlyEmails.push(val.Email)}),result.continueRequest&&(requestNumber++,getFriendlyEmails(requestNumber)))},error:function(){}})}function trackDialogEntry(){trackReservationProcess(params.isReservationNew?"Create":"Edit")}function trackReservationProcess(action){LSHelper.Calendar.trackCalendarReservation("ReservationDialog"+action+"?vid="+params.venueId+"&wid="+params.workspaceId)}function isButtonDisabled(elem){return elem.currentTarget&&(elem=elem.currentTarget),$(elem)[0].getAttribute!=undefined?$(elem)[0].getAttribute("disabled")!=null&&$(elem)[0].getAttribute("disabled")!="":!1}function validatePart(selector){var isValid=!0;return $(selector).find(":input").each(function(i,item){try{$(item).valid()||(isValid=!1)}catch(ex){}}),isValid}function getTimeDigit(data,diffData,order){var result=parseInt(data[order],10);return diffData!=undefined&&(result=$.isArray(diffData)?result+parseInt(diffData[order],10):result+diffData),result}function formatDigitToString(digit){return(digit+"").length==1?"0"+digit:digit}function getTimeString(data,diffData){var hours=getTimeDigit(data,diffData,0),minutes=getTimeDigit(data,diffData,1),seconds=getTimeDigit(data,diffData,2);return minutes>=60&&(minutes=minutes-60,hours=hours+1),hours==24&&(hours=23,minutes=59,seconds=59),formatDigitToString(hours)+":"+formatDigitToString(minutes)+":"+formatDigitToString(seconds)}function setDate(date,hours){return hours.length==3?(hours[0]=="1.00"&&(hours[0]=24),new Date(new Date(date).setHours(hours[0],hours[1],hours[2]))):date}function updateValidationRules(){$.validator.unobtrusive.parseDynamicContent("#editReservationForm");$("#Reservation_StartTime").rules("remove");$("#Reservation_EndTime").rules("remove")}function checkReservationState(){var isDisabled=($("select[id=startTime] option").length==0||$("select[id=endTime] option").length==0)&&!(params.reservationMethod=="Period"||params.reservationMethod=="DayPass");isDisabled?(params.canEditPastReservation||($("#startTime").attr("disabled","disabled"),$("#endTime").attr("disabled","disabled")),_self.setValidationProperty({startTimeEndTime:params.canEditPastReservation})):(_self.setValidationProperty({startTimeEndTime:!0}),refreshEvent());$(".monthly-cost-wrapper .lsPopupHost").tooltipster({position:"top",maxWidth:330})}function initLicensePreview(){$("#previewDashLicense").off("click").on("click",function(ev){ev.preventDefault();previewDashLicense()})}function saveBtnClickMonthly(elem,options){$("#editReservationForm").valid()&&saveBtnClick(elem,options)}function previewDashLicense(){for(var data,formData=$("#editReservationForm").formToArray(),$form=$("<form/>",{action:"/Calendar/PreviewLicense",method:"POST",target:"_blank"}),i=0;i<formData.length;i++)data=formData[i],$form.append($("<input>",{name:data.name,value:data.value,type:"hidden"}));$("body").append($form);$form.submit();$form.remove()}function saveBtnClick(elem,options){var reservationDateTime,reservationEvent,formData;if(options||(options={}),!isButtonDisabled(elem)&&$("#editReservationForm").validate().form()){if(!_self.validateDashLicense())return;if(options.CanContinueRecurrentRule===!1)return;if(isRecurrent()&&!isRecurrenceStateConfirmed()){reservationModel.calculateReservationPrice({successCallback:function(data){options.CanContinueRecurrentRule=data.CanContinueRecurrentRule;saveBtnClick(elem,options)},source:"saveBtnClick availability validation"});return}switchView("waiting");reservationDateTime=undefined;try{reservationDateTime=Date.parse($("#ReservationDay").val()+" "+$("#startTime").val())}catch(ex){}trackReservationProcess("Save");reservationEvent={reservationId:params.reservationId,memberId:params.memberId,totalPrice:params.totalPrice,city:params.city,state:params.state,country:params.country,venueName:params.venueName,workspaceName:params.workspaceName,scenario:params.scenario,reservationMethod:params.reservationMethod,unitPrice:params.unitPrice,units:"1"};formData=_self.braintree!=null?LSHelper.HelperLib.encodeDataForPaymentGateway("#editReservationForm",_self.braintree):null;LSHelper.HelperLib.submitAjaxForm("#editReservationForm",$("#editReservationForm").parent(),function(data){var isReservationAnonymous,isBookingOnBehalf,rcpUrl,$dialogWrapper,$dialogCloseButton;if(data.isException)LSHelper.UI.showError(data);else{if(_self.scheduler.current_date()){var schedulerDateSelected=new Date(_self.scheduler.current_date().getFullYear(),_self.scheduler.current_date().getMonth(),_self.scheduler.current_date().getDate(),0,0,0,0),dateStr=$("#ReservationDay").val(),eventDateSelected=Date.parse(dateStr);_self.scheduler.reservationDialogOpened=!1}if(isReservationAnonymous=$("#IsAnonymousMode").val()=="True",isBookingOnBehalf=data.Data.isBookingOnBehalf,trackReservationProcess("Save/Success"),data.Data.appliedCouponCode&&data.Data.appliedCouponIsFirstTimeOnly&&LSHelper.SessionCoupon.getCouponFromCookie()==data.Data.appliedCouponCode&&LSHelper.SessionCoupon.removeCouponCookie(),reservationEvent.reservationId=data.Data.id,LSHelper.Calendar.trackCalendarReservationTransaction(params.googleAnalyticsAccount,params.googleAnalyticsDomain,reservationEvent,params.isReservationNew,!isReservationAnonymous),rcpUrl="/Reservations/"+data.Data.id,(params.isReservationNew||$("#vlp").length||$("#srp").length)&&(isReservationAnonymous||!$("#scheduler_new").length)&&(rcpUrl=rcpUrl+"?sc="+data.Data.sc,isBookingOnBehalf&&(rcpUrl=rcpUrl+"&"+params.reservationConfirmationCreatorParam+"="+params.reservationDoneByBookingDelegateKey),params.trackAdWordsConversion&&LSHelper.Calendar.trackAdWordsConversion(data.Data.totalPriceIncludeDeferred,!isReservationAnonymous,data.Data.isCreditCardBilled,data.Data.id),params.isMobileView)){window.location=rcpUrl;return}if(params.isMobileView)$("#editReservationDialog").dialog("close");else if($("#waiting-div .rcp-link a").attr("href",rcpUrl),$("#waiting-div").addClass("confirmed"),params.showGetAppSection||params.isAdmin&&($("#scheduler_new").length||$("#dashboard-wrapper").length))$dialogWrapper=$($dialog.parent()),$dialogCloseButton=$($dialogWrapper.find(".ui-dialog-titlebar-close")),$dialogCloseButton.show();else{window.location=rcpUrl;return}$(document).trigger("reservationSaved",[data.Data.id,params.venueId,params.workspaceId,params.isReservationNew,reservationDateTime,data.Data.workspaceName,data.Data.visaGranted,data.Data.userId,data.Data.reservationReferenceId,data.Data.occurrenceDate])}},function(){trackReservationProcess("Save/Failure");trackDialogEntry();switchView(params.isOneWindowMode?"reservation":"reservation-step1")},!1,null,formData)}}function cancelingReservation(reservationId){trackReservationProcess("Cancel");$("#scheduler_new").length>0&&revertReservationView(reservationId);$dialog.dialog("close")}function switchView(mode){var dateTime,checkboxes,amenityStr,offset;previousMode=currentMode;currentMode=mode;var $dialogWrapper=$($dialog.parent()),$dialogTitle=$($dialogWrapper.find(".ui-dialog-title")),$dialogCloseButton=$($dialogWrapper.find(".ui-dialog-titlebar-close")),$waitingDiv=$("#waiting-div"),$reservationDiv=$("#reservation-div");if(mode=="waiting")$reservationDiv.hide(),$dialogWrapper.addClass("waiting-mode"),$dialogCloseButton.hide(),params.isMobileView?$dialogTitle.html("Your reservation is being processed"):($dialogTitle.html(""),dateTime=Date.fromISO($("#ReservationDay").val()).format("ddd, MMM d"),$("#dk_container_startTime .dk_label").text()&&(dateTime+=" at "+$("#dk_container_startTime .dk_label").text()),$waitingDiv.find(".reservation-time").text(dateTime)),$waitingDiv.show();else{$waitingDiv.hide();$dialogCloseButton.show();$dialogWrapper.removeClass("waiting-mode");$("#reservation-div").show();switch(mode){case"reservation":$(".show-at-step1, .show-at-step2").show();$(".show-only-at-step1, .show-only-at-step2").hide();params.isMobileView||$(".reservation-step1 .focus").first().focus();$dialogTitle.html(params.dialogTitle);break;case"reservation-step1":$(".show-at-step1, .show-only-at-step1").show();$(".show-at-step2, .show-only-at-step2").hide();params.isMobileView||$(".reservation-step1 .focus").first().focus();$dialogTitle.html(params.dialogTitle);break;case"reservation-step2":$(".show-at-step2, .show-only-at-step2").show();$(".show-at-step1, .show-only-at-step1").hide();$(".signed-in-holder").hide();params.isMobileView||$(".reservation-step2 .focus").first().focus();checkboxes=$(".amenities-list input[type=checkbox]");amenityStr="";$.each(checkboxes,function(i,val){val.checked&&(amenityStr=amenityStr+(amenityStr.length==0?"":", ")+$(val).siblings(".amenity-name").text())});amenityStr.length==0&&(amenityStr="none");$("#amenities-request-string-value").html(amenityStr);$dialogTitle.html(params.dialogTitle2?params.dialogTitle2:params.dialogTitle);break}params.isMobileView&&(offset=$dialogWrapper.offset(),$("html, body").scrollTop(offset.top))}$(".textarea-resizeable").change();params.isMobileView||$dialog.dialog("option","position",{my:"center",at:"center",of:window,collision:"fit"})}function checkAmenitiesDispaly(){var isReservationAnonymous=$("#IsAnonymousMode").val()=="True";params.isReservationNew&&(isReservationAnonymous||!$("#scheduler_new").length)?$(".attendees-display").hide():$(".attendees-display").show()}function revertReservationView(reservationId){if(reservationId=="")_self.scheduler.deleteEvent(params.eventId,!0);else{var ev=_self.scheduler.getEvent(params.eventId);ev!=undefined&&(ev.StartTime=originalEvent.StartTime,ev.EndTime=originalEvent.EndTime,_self.scheduler.event_updated(ev))}}function refreshEvent(){var ev=_self.scheduler.getEvent(params.eventId);ev&&$("#startTime").val()!=undefined&&$("#endTime").val()!=undefined&&(ev.StartTime=setDate(ev.StartTime,$("#startTime").val().split(":")),ev.EndTime=setDate(ev.StartTime,$("#endTime").val().split(":")),_self.scheduler.current_date(new Date($("#ReservationDay").val()),ev),_self.scheduler.event_updated(ev))}var isRecurrent=function(){return typeof recurrenceBuilder!="undefined"?recurrenceBuilder.viewModel.enabled():!1},isRecurrenceStateConfirmed=function(){return typeof recurrenceBuilder!="undefined"?!recurrenceBuilder.viewModel.hasChanges():!0},$dialog=$("#editReservationDialog"),_self=this,friendlyEmails=[],previousMode,currentMode="reservation",originalEvent,validationProperties,continueBtnClick;this.scheduler=$("#scheduler_new").lsCalendar();originalEvent=_self.scheduler.copy_event(_self.scheduler.getEvent(params.eventId));this.validateDashLicense=function(){var $checkbox=$("#IAcceptDash"),$message,invalidClass;if($checkbox.length)if($message=$(".dash-validation-message"),invalidClass="not-valid",$checkbox.is(":checked"))$checkbox.removeClass(invalidClass),$message.hide();else return $checkbox.addClass(invalidClass),$message.show(),!1;return!0};this.redeemCoupon=function(){$(".coupon-redeem-link").hide();$(".coupon-input-form").show();$("#promotionCode").focus()};this.cancelBtnClick=function(elem,reservationId){isButtonDisabled(elem)||cancelingReservation(reservationId)};this.reservationIntervalChanged=function(isStartTime){var originalTimeDiff=params.originalTimeDiff.split(":"),startTime=$("#startTime").val().split(":"),endTime=$("#endTime").val().split(":"),tempDate=new Date,newEndTime="",changeEndDate=!0,options={source:"reservationIntervalChanged"},endTimeElem;!isStartTime&&setDate(tempDate,startTime)>=setDate(tempDate,endTime)?newEndTime=getTimeString(startTime,[0,60,0]):isStartTime?newEndTime=getTimeString(startTime,originalTimeDiff):changeEndDate=!1;changeEndDate&&(endTimeElem=$("#endTime option[value='"+newEndTime+"']"),endTimeElem.length>0?endTimeElem.attr("selected","selected"):options.endTime=newEndTime);_self.calculateReservationPrice(options)};this.moveResevationDialogBtnClick=function(item,val){$("#UseExistingPrice").val(val);var $item=$(item);$item.parent().find("button.orange-button").removeClass("orange-button");$item.addClass("orange-button");this.calculateReservationPrice({source:"moveResevationDialogBtnClick"})};this.hideMoveResevationDialog=function(item,val){var $parent=$(".move-reservation-dialog");$parent.hide("Drop");$("#Reservation_WorkspaceId option[value="+val+"]").attr("selected","selected");$("#UseExistingPrice").val(!1);$parent.find(".default-button").addClass("orange-button")};this.showMoveResevationDialog=function(item,val){var $item=$(".move-reservation-dialog");$("#Reservation_WorkspaceId").val()==val?this.hideMoveResevationDialog(item,val):($("#ShowMoveResevationDialog").val(!0),this.calculateReservationPrice({reloadAmenities:!0,source:"showMoveResevationDialog"}))};this.calculateReservationPrice=function(calculateReservationPriceOptions){var elementReplaced,reservationWorkspaceId;calculateReservationPriceOptions=$.extend({source:null,dateText:null,inst:null,doNotReloadPaymentMethod:!1,reloadOrganizer:!1,reloadTime:!0,trackCouponState:!1,reloadAmenities:!1,successCallback:function(result){}},calculateReservationPriceOptions);var $form=$("#editReservationForm"),formData=$form.formToArray(),$loader=$form.find(".loader");LSHelper.HelperLib.blockUI($form);$loader.show();_self.setValidationProperty({calculatingReservationPrice:!1});$("#continueBtn").button({disabled:!0});$form.find("button").button({disabled:!0});$form.find(".reservation-timepicker").addClass("reservation-timepicker-loading");formData.push({name:"reloadOrganizer",value:calculateReservationPriceOptions.reloadOrganizer});formData.push({name:"isRecurrenceStateConfirmed",value:isRecurrenceStateConfirmed()});formData.push({name:"hasPaymentProfileForm",value:typeof creditCardModel!="undefined"&&creditCardModel!=undefined});calculateReservationPriceOptions.endTime&&(elementReplaced=!1,$.each(formData,function(index,value){value&&value.name=="endTime"&&(elementReplaced=!0,value.value=calculateReservationPriceOptions.endTime)}),elementReplaced||formData.push({name:"endTime",value:calculateReservationPriceOptions.endTime}));calculateReservationPriceOptions.source=="TimePickers Selected"&&(reservationWorkspaceId=formData.find(function(i){return i.name=="Reservation.WorkspaceId"}),reservationWorkspaceId.value=params.workspaceId);$.ajax({type:"POST",url:"/Calendar/CalculateReservationPrice",data:formData,async:!0,success:function(result){if($(document).unbind("recurrenceRuleChanged.reservation"),$loader.hide(),LSHelper.HelperLib.unblockUI($form),$form.find(".reservation-timepicker").removeClass("reservation-timepicker-loading"),result.isException)LSHelper.UI.showError(result);else{if(calculateReservationPriceOptions.trackCouponState&&(result.CouponSuccess?LSHelper.Calendar.trackCalendarReservationCoupon("Success"):LSHelper.Calendar.trackCalendarReservationCoupon("Fail: "+result.CouponError)),$("#costDetails").html(result.RenderedCostDetailsView),calculateReservationPriceOptions.reloadTime&&$(".reservation-timepicker").html(result.RenderedView),$(".recurrent-notifications").html(result.RenderedRecurrenceNotifications).show(),LSHelper.HelperLib.autoEllipseText(".autoellipse380",280),calculateReservationPriceOptions.doNotReloadPaymentMethod)currentMode=="reservation-step2"&&$(".time-picker-view").hide();else{var restorePaymentProfileState=typeof creditCardModel!="undefined"?creditCardModel.isPaymentProfileChange:!1;$("#paymentProfileDetails").html(result.RenderedPaymentProfileDetails);restorePaymentProfileState?_self.changePaymentMethod():typeof creditCardModel!="undefined"&&creditCardModel.cancelChange();$(".agree-to-share-wrap").html(result.RenderedAgreeToShare)}calculateReservationPriceOptions.reloadOrganizer&&$(".organizer-wrapper").html(result.RenderedOrganizerView);calculateReservationPriceOptions.reloadAmenities&&$("#amenities-wrapper").html(result.RenderedAmenities);$("#promotionDataWrapper").html(result.PromotionData);$("#amenities .amenities-other").tooltipster({maxWidth:200});$("#ApplyDate").val(result.ApplyDate);LSHelper.HelperLib.autoEllipseText(".reservationOneLineEllipse",170,null,[0,0]);currentMode=="reservation-step2"&&(calculateReservationPriceOptions.source=="loginSuccess"&&$("#recurrenceBuilderDiv").length==0?switchView("reservation-step1"):switchView(currentMode));_self.setValidationProperty({calculatingReservationPrice:!0});_self.setValidationProperty(result.SaveBtnDisabledReasons);$("#continueBtn").button({disabled:result.ContinueBtnDisabled==="true"});$form.find("button").button({disabled:!1});checkReservationState();updateValidationRules();checkAmenitiesDispaly();initLicensePreview();typeof creditCardModel!="undefined"&&creditCardModel.recalculateModelstate(creditCardModel.recalculateModelstate()+1);typeof recurrenceBuilder!="undefined"&&(recurrenceBuilder.viewModel.hasChanges()&&recurrenceBuilder.viewModel.hasChanges(!1),$(document).bind("recurrenceRuleChanged.reservation",function(){_self.setValidationProperty({recurrenceRule:!0});$("#continueBtn").button({disabled:!1})}));calculateReservationPriceOptions.successCallback(result)}},error:function(){LSHelper.HelperLib.unblockUI($form);$form.find(".reservation-timepicker").removeClass("reservation-timepicker-loading");$loader.hide()}})};this.changePaymentMethod=function(cancel){cancel?($(".change-show").hide(),$(".change-hide").show(),typeof creditCardModel!="undefined"&&creditCardModel.cancelChange()):($(".change-show").show(),$(".change-hide").hide(),typeof creditCardModel!="undefined"&&creditCardModel.startChange(),$(".ccard-number").focus())};this.correctEmail=function(email){$(".anonymous-email").val(email);$(".anonymous-email").trigger("update");$(".anonymous-email").trigger("keyup");$(".anonymous-email").blur()};this.changeBookedDesksCountHandler=function(value){timepickerModel&&(timepickerModel.BookedDesksCount(parseInt(value)),reservationModel.calculateReservationPrice({source:"TimePickers desksCountToBookSelected"}))};validationProperties=[];this.setValidationProperty=function(state){var saveEnabled,i;$.each(state,function(i,val){validationProperties[i]=val});saveEnabled=!0;for(i in validationProperties)if(!validationProperties[i]){saveEnabled=!1;break}$("#saveBtn").button({disabled:!saveEnabled})};this.showValidationProperty=function(){console.log(validationProperties)};this.plaidLink=function(){};$(function(){checkReservationState();initLicensePreview();LSHelper.HelperLib.autoEllipseText(".reservationOneLineEllipse",170,null,[0,0]);LSHelper.HelperLib.autoEllipseText(".autoellipse380",280);getFriendlyEmails();initUI()});$(document).one("editReservationDialogOpened",function(e){$dialog.dialog("option","title",params.dialogTitle);updateValidationRules();trackDialogEntry();checkAmenitiesDispaly()});continueBtnClick=function(data){if($("#continueBtn").is(":visible")){if(data&&data.CanContinueRecurrentRule===!1)return;if(isRecurrent()&&!isRecurrenceStateConfirmed()){reservationModel.calculateReservationPrice({successCallback:continueBtnClick,source:"continueBtnClick"});return}validatePart(".reservation-step1")&&validatePart(".reservation-timepicker")&&(trackReservationProcess("Continue"),switchView("reservation-step2"))}};$("#continueBtn").bind("click",continueBtnClick);$("#backBtn").bind("click",function(){trackReservationProcess("Back");switchView("reservation-step1")});params.reservationMethod=="Period"&&params.isReservationNew?$("#saveBtn").bind("click",saveBtnClickMonthly):$("#saveBtn").bind("click",saveBtnClick);$("#editReservationDialog .ui-dialog-titlebar-close").bind("click",function(ev){cancelingReservation(params.isReservationNew?"":params.reservationId);ev.preventDefault()});var elemId="#inviteeEmailsText",separatorReg=/[;,\s]+/,lastInviteeTypingReg=/[;,\s]+[a-zA-Z0-9_\-\.\+@@]+?$/;!$(".reservation-invitee-autocomplete").length>0&&$("body").append('<div class="reservation-invitee-autocomplete"><\/div>');$(elemId).autocomplete({delay:0,appendTo:".reservation-invitee-autocomplete",focus:function(event,ui){var curVal=$(elemId).val();separatorReg.test(curVal)?$(elemId).val(curVal.replace(lastInviteeTypingReg,", "+ui.item.value)):$(elemId).val(ui.item.value);event.preventDefault()},select:function(event,ui){var curVal=$(elemId).val();separatorReg.test(curVal)?$(elemId).val(curVal.replace(lastInviteeTypingReg,", "+ui.item.value)):$(elemId).val(ui.item.value);event.preventDefault()},source:function(request,response){var maxDisplay=10,curdisplay=0,data=friendlyEmails.filter(function(val){var result=!1,term;return val&&(term=request.term,separatorReg.test(term)&&(term=request.term.match(lastInviteeTypingReg),term=term!=undefined?term[0].replace(separatorReg,""):""),result=val.toLowerCase().indexOf(term)==0&&term!="",result&&curdisplay++,curdisplay>maxDisplay&&(result=!1)),result});response(data)}});$(".anonymous-email").blur(function(){$(".anonymous-email-suggest").hide();$(this).mailcheck({suggested:function(element,suggestion){$(".anonymous-email-suggest").html('Did you mean <a href="#" onclick="reservationModel.correctEmail(\''+suggestion.full+"');return false;\">"+suggestion.full+"<\/a>?");$(".anonymous-email-suggest").show()},empty:function(element){}})});$.getScript("https://js.braintreegateway.com/v1/braintree.js",function(){reservationModel.braintree=Braintree.create(params.braintreeEncryptionKey)})};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Reservation=="undefined"&&(LiquidSpace.Reservation={});LiquidSpace.Reservation.Dialog=function(request,options){request=$.extend({id:null,venueId:null,workspaceId:null,startDate:null,endDate:null,userId:null,daysAhead:0,reservationName:"LiquidSpacing",skipCurrentUtcOverride:!1,exactDateAndTimeSpecified:!1,memberListDataId:"memberListDataInputBIN"+(request.workspaceId?request.workspaceId.replace(/-/g,""):null)},request);options=$.extend({onOpen:function(){},onClose:function(){},notLoggedInCallBack:function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){request.userId=userId;LiquidSpace.Reservation.Dialog(request,options)},onlyHeaderReload:!0,joinMessage:"As a next step to your new office, join our community."})},confirmationCallback:function(userId){},errorCallback:function(){},selectedAmenityIds:null},options);request.startDate&&(request.startDate=request.startDate.toServerString());request.endDate&&(request.endDate=request.endDate.toServerString());document.confirmationCallback=function(changedUserId){var finalUserId=changedUserId||request.userId;$.isFunction(options.confirmationCallback)&&options.confirmationCallback(finalUserId);request.userId=userId;LiquidSpace.Reservation.Dialog(request,options)};document.notLoggedInCallBack=options.notLoggedInCallBack;$.ajax({data:request,type:"POST",url:"/Calendar/GetReservationDetails",success:function(response){var $dialog=$(response).dialog({width:"auto",heigth:"auto",title:"Reservation Dialog Title",resizable:!1,modal:!0,open:function(){options.onOpen()},close:function(event,ui){options.onClose()}});$dialog.dialog("option","position",{my:"center center",at:"center center",of:window,collision:"fit"})},error:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530||options.errorCallback!=null&&$.isFunction(options.errorCallback)&&options.errorCallback()},complete:function(){}})};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Reservation=="undefined"&&(LiquidSpace.Reservation={});LiquidSpace.Reservation.ExtendWidget=function(options){options=$.extend({$element:$(".content-section"),memberId:null},options);$.ajax({url:"/My/ReservationsToExtendWidget",type:"GET",data:{memberId:options.memberId},success:function(response){response&&response.success&&options.$element.prepend(response.View)}})};LiquidSpace.Reservation.Extend=function(options){function initModel(data){function refreshModel(data){ko.mapping.fromJS(data,_self.viewModel)}_self.viewModel=ko.mapping.fromJS(data);_self.viewModel.extendType=ko.observable(0);_self.viewModel.NewFinishDate("");_self.viewModel.NewFinishDate.extend({required:{message:"Please, select Date to proceed",onlyIf:function(){return _self.viewModel.extendType()==1}}});_self.viewModel.extendValidationErrors=ko.validation.group(_self.viewModel.NewFinishDate,{deep:!0,live:!0});_self.viewModel.submitExtend=function(){if(_self.viewModel.extendValidationErrors().length!==0){_self.viewModel.extendValidationErrors.showAllMessages();return}_self.toggleBlockDialog();var unmapped=ko.mapping.toJS(_self.viewModel),data={ReservationId:unmapped.ReservationId,NewFinishDate:unmapped.extendType==0?null:unmapped.NewFinishDate};$.ajax({contentType:"application/json; charset=utf-8",dataType:"json",url:"/Calendar/ExtendReservationDialog",type:"POST",data:JSON.stringify(data),success:function(response){response&&response.success?(_self.$dialog.dialog("close"),options.extendedCallback&&options.extendedCallback()):LSHelper.Dialog.alertDialog(response.message)},complete:function(){_self.toggleBlockDialog(!0)}})};_self.viewModel.closeDialog=function(){_self.$dialog.dialog("close")};_self.toggleBlockDialog=function(unblock){unblock?LSHelper.HelperLib.unblockUI(_self.$dialog):LSHelper.HelperLib.blockUI(_self.$dialog)}}options=$.extend({reservationId:null,extendedCallback:function(){}},options);var _self=this;_self.$dialog=null;LSHelper.HelperLib.blockUI();$.ajax({url:"/Calendar/ExtendReservationDialog",type:"GET",data:{reservationId:options.reservationId},success:function(response){response&&response.success?(initModel(response.Model),_self.$dialog=$(response.View).dialog({width:580,title:"Extend Booking",resizable:!1,modal:!0,close:function(event,ui){$(this).dialog("destroy").remove()}}),$.validator.unobtrusive.parse(_self.$dialog),ko.applyBindings(_self.viewModel,_self.$dialog[0]),_self.$dialog.dialog("option","position",{my:"center",at:"center",of:window})):LSHelper.Dialog.alertDialog(response.message)},complete:function(){LSHelper.HelperLib.unblockUI()}})};
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,window,undefined){function get_fragment(url){return url=url||location.href,"#"+url.replace(/^[^#]*#?(.*)$/,"$1")}var str_hashchange="hashchange",doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange="on"+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange)};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange)return!1;$(fake_onhashchange.start)},teardown:function(){if(supports_onhashchange)return!1;$(fake_onhashchange.stop)}});fake_onhashchange=function(){function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);hash!==last_hash?(history_set(last_hash=hash,history_hash),$(window).trigger(str_hashchange)):history_hash!==last_hash&&(location.href=location.href.replace(/#.*/,"")+history_hash);timeout_id=setTimeout(poll,$.fn[str_hashchange].delay)}var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val},history_set=fn_retval,history_get=fn_retval;return self.start=function(){timeout_id||poll()},self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined},self}()})(jQuery,this),function($){$.fn.numeric=function(config,callback){typeof config=="boolean"&&(config={decimal:config});config=config||{};typeof config.negative=="undefined"&&(config.negative=!0);var decimal=config.decimal===!1?"":config.decimal||".",negative=config.negative===!0?!0:!1,callback=typeof callback=="function"?callback:function(){};return this.data("numeric.decimal",decimal).data("numeric.negative",negative).data("numeric.callback",callback).keypress($.fn.numeric.keypress).keyup($.fn.numeric.keyup).blur($.fn.numeric.blur)};$.fn.numeric.keypress=function(e){var decimal=$.data(this,"numeric.decimal"),negative=$.data(this,"numeric.negative"),key=e.charCode?e.charCode:e.keyCode?e.keyCode:0,allow;if(key==13&&this.nodeName.toLowerCase()=="input")return!0;else if(key==13)return!1;if((allow=!1,e.ctrlKey&&key==97||e.ctrlKey&&key==65)||e.ctrlKey&&key==120||e.ctrlKey&&key==88||e.ctrlKey&&key==99||e.ctrlKey&&key==67||e.ctrlKey&&key==122||e.ctrlKey&&key==90||e.ctrlKey&&key==118||e.ctrlKey&&key==86||e.shiftKey&&key==45)return!0;if(key<48||key>57){if(this.value.indexOf("-")!=0&&negative&&key==45&&(this.value.length==0||$.fn.getSelectionStart(this)==0))return!0;decimal&&key==decimal.charCodeAt(0)&&this.value.indexOf(decimal)!=-1&&(allow=!1);key!=8&&key!=9&&key!=13&&key!=35&&key!=36&&key!=37&&key!=39&&key!=46?allow=!1:typeof e.charCode!="undefined"&&(e.keyCode==e.which&&e.which!=0?(allow=!0,e.which==46&&(allow=!1)):e.keyCode!=0&&e.charCode==0&&e.which==0&&(allow=!0));decimal&&key==decimal.charCodeAt(0)&&(allow=this.value.indexOf(decimal)==-1?!0:!1)}else allow=!0;return allow};$.fn.numeric.keyup=function(e){var val=this.value,dot,validChars,length,validChar,j,firstDecimal,i,ch;if(val.length>0){var carat=$.fn.getSelectionStart(this),decimal=$.data(this,"numeric.decimal"),negative=$.data(this,"numeric.negative");for(decimal!=""&&(dot=val.indexOf(decimal),dot==0&&(this.value="0"+val),dot==1&&val.charAt(0)=="-"&&(this.value="-0"+val.substring(1)),val=this.value),validChars=[0,1,2,3,4,5,6,7,8,9,"-",decimal],length=val.length,i=length-1;i>=0;i--){for(ch=val.charAt(i),i!=0&&ch=="-"?val=val.substring(0,i)+val.substring(i+1):i!=0||negative||ch!="-"||(val=val.substring(1)),validChar=!1,j=0;j<validChars.length;j++)if(ch==validChars[j]){validChar=!0;break}validChar&&ch!=" "||(val=val.substring(0,i)+val.substring(i+1))}if(firstDecimal=val.indexOf(decimal),firstDecimal>0)for(i=length-1;i>firstDecimal;i--)ch=val.charAt(i),ch==decimal&&(val=val.substring(0,i)+val.substring(i+1));this.value=val;$.fn.setSelection(this,carat)}};$.fn.numeric.blur=function(){var decimal=$.data(this,"numeric.decimal"),callback=$.data(this,"numeric.callback"),val=this.value,re;val!=""&&(re=new RegExp("^\\d+$|\\d*"+decimal+"\\d+"),re.exec(val)||callback.apply(this))};$.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",$.fn.numeric.keypress).unbind("blur",$.fn.numeric.blur)};$.fn.getSelectionStart=function(o){if(o.createTextRange){var r=document.selection.createRange().duplicate();return(r.moveEnd("character",o.value.length),r.text=="")?o.value.length:o.value.lastIndexOf(r.text)}else return o.selectionStart};$.fn.setSelection=function(o,p){if(typeof p=="number"&&(p=[p,p]),p&&p.constructor==Array&&p.length==2)if(o.createTextRange){var r=o.createTextRange();r.collapse(!0);r.moveStart("character",p[0]);r.moveEnd("character",p[1]);r.select()}else o.setSelectionRange&&(o.focus(),o.setSelectionRange(p[0],p[1]))}}(jQuery);jQuery.base64=function($){function _getbyte64(s,i){var idx=_ALPHA.indexOf(s.charAt(i));if(idx===-1)throw"Cannot decode base64";return idx}function _decode(s){var pads=0,i,b10,imax=s.length,x=[];if(s=String(s),imax===0)return s;if(imax%4!=0)throw"Cannot decode base64";for(s.charAt(imax-1)===_PADCHAR&&(pads=1,s.charAt(imax-2)===_PADCHAR&&(pads=2),imax-=4),i=0;i<imax;i+=4)b10=_getbyte64(s,i)<<18|_getbyte64(s,i+1)<<12|_getbyte64(s,i+2)<<6|_getbyte64(s,i+3),x.push(String.fromCharCode(b10>>16,b10>>8&255,b10&255));switch(pads){case 1:b10=_getbyte64(s,i)<<18|_getbyte64(s,i+1)<<12|_getbyte64(s,i+2)<<6;x.push(String.fromCharCode(b10>>16,b10>>8&255));break;case 2:b10=_getbyte64(s,i)<<18|_getbyte64(s,i+1)<<12;x.push(String.fromCharCode(b10>>16));break}return x.join("")}function _getbyte(s,i){var x=s.charCodeAt(i);if(x>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return x}function _encode(s){if(arguments.length!==1)throw"SyntaxError: exactly one argument required";s=String(s);var i,b10,x=[],imax=s.length-s.length%3;if(s.length===0)return s;for(i=0;i<imax;i+=3)b10=_getbyte(s,i)<<16|_getbyte(s,i+1)<<8|_getbyte(s,i+2),x.push(_ALPHA.charAt(b10>>18)),x.push(_ALPHA.charAt(b10>>12&63)),x.push(_ALPHA.charAt(b10>>6&63)),x.push(_ALPHA.charAt(b10&63));switch(s.length-imax){case 1:b10=_getbyte(s,i)<<16;x.push(_ALPHA.charAt(b10>>18)+_ALPHA.charAt(b10>>12&63)+_PADCHAR+_PADCHAR);break;case 2:b10=_getbyte(s,i)<<16|_getbyte(s,i+1)<<8;x.push(_ALPHA.charAt(b10>>18)+_ALPHA.charAt(b10>>12&63)+_ALPHA.charAt(b10>>6&63)+_PADCHAR);break}return x.join("")}var _PADCHAR="=",_ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_VERSION="1.0";return{decode:_decode,encode:_encode,VERSION:_VERSION}}(jQuery);typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.initReviewModel=function(data,wrapper){var currentModel={reviews:ko.observableArray([])};return currentModel.loadReviews=function(reviews){var reviewsToAdd=[];$.each(reviews,function(i,val){reviewsToAdd.push(new LiquidSpace.View.review(val))});currentModel.reviews(reviewsToAdd)},currentModel.getReview=function(workspaceId){var index=-1;return $.each(currentModel.reviews(),function(i,val){if(val.workspaceId==workspaceId)return index=i,!1}),index>-1?currentModel.reviews()[index]:new LiquidSpace.View.review},currentModel.loadReviews(data),ko.cleanNode(wrapper[0]),ko.applyBindings(currentModel,wrapper[0]),currentModel};LiquidSpace.View.review=function(indata,params){function reviewModel(data){var _self=this,calculateStars;this.loading=!1;this.workspaceImage=data.WorkspaceImage;this.workspaceName=data.WorkspaceName;this.venueName=data.VenueName;this.workspaceId=data.WorkspaceId;this.memberId=data.MemberId;this.venueId=data.VenueId;this.readMoreReviewsUrl=data.ReadMoreReviewsUrl;this.ratingsDisabled=data.RatingsDisabled;data.Rates&&$.each(data.Rates,function(i,val){val.ratingsDisabled=data.RatingsDisabled});this.editMode=ko.observable(!1);this.availableUserNames=ko.observableArray(data.AvailableUserNames);this.reviews=ko.observableArray(data.Rates);this.starsCountData=ko.observable(5);this.currentReviewId=ko.observable("");this.currentReviewText=ko.observable("");this.currentReviewDisplayName=ko.observable(data.AvailableUserNames?data.AvailableUserNames[0]:"");this.currentReviewStars=ko.observable(0);this.currentReviewStarsText=ko.observable("");this.ratesCount=ko.observable(data.RatesCount?data.RatesCount:0);this.averageRating=ko.observable(data.AverageRating?data.AverageRating:0);this.topArrowVisible=ko.observable(!1);this.myReview=ko.computed(function(){var result=null;return $.each(this.reviews(),function(i,val){if(val.MemberId==_self.memberId&&val.WorkspaceId==_self.workspaceId)return result=val,!1}),result},this);calculateStars=function(val){for(var res,starsArray=[],i=0;i<_self.starsCountData();i++)res=0,Math.floor(val)>i?starsArray.push(1):Math.floor(val)<i||i==val?starsArray.push(0):(starsArray.push(.5),starsArray.push(-.5));return starsArray};this.starsCountFunc=function(data){return calculateStars(data.Stars)};this.starsCountMy=ko.computed(function(){var r=_self.myReview();return calculateStars(r!=null?r.TempStars||r.Stars:0)},this);this.starsCount=ko.computed(function(){var starsArray=[],r=this.averageRating();return calculateStars(r)},this);this.modified=!1;this.setReviewForEdit=function(){var r=_self.myReview();return r!=null&&(_self.currentReviewId(r.Id),_self.currentReviewText(r.Text),r.Name&&r.Name.length>0&&_self.availableUserNames.indexOf(r.Name)>-1&&_self.currentReviewDisplayName(r.Name),_self.currentReviewStars(r.Stars),_self.setCurrentReviewStarsText(r.Stars)),_self.editMode(!0),r};this.previousState={};this.editReviewHandlerInline=function(el){_self.editMode()?(_self.previousState==null||$.isEmptyObject(_self.previousState)||_self.reviews.replace(_self.myReview(),_self.previousState),_self.editMode(!1)):(_self.previousState=$.extend({},_self.setReviewForEdit()),$(el.currentTarget).parent().find("textarea").trigger("show"))};this.editReviewHandler=function(allowed,stars,reservationId){if(allowed){_self.modified=!1;var previousState=null,reviewEditHtml=$("#review-edit").html(),dialogOptions={resizable:!1,height:"auto",width:580,modal:!0,position:"center",afterOpen:function(el){var r=_self.setReviewForEdit();previousState=$.extend({},r);stars===null||stars===undefined||isNaN(stars)||_self.setReviewStarsHandler(stars);ko.applyBindings({review:_self,reservationId:reservationId},el[0])},close:function(){_self.modified||(previousState==null||$.isEmptyObject(previousState)?_self.reviews.remove(function(r){return r.Id==null}):(previousState.TempStars=undefined,_self.reviews.replace(_self.myReview(),previousState)));_self.editMode(!1);_self.modified=!1}};LSHelper.HelperLib.showDialog({html:reviewEditHtml,divId:"rating-dialog",dialogOptions:dialogOptions})}else stars!=null&&_self.setReviewStarsHandler(stars)};this.setCurrentReviewStarsText=function(val){switch(val){case 0:this.currentReviewStarsText("Select a star rating");break;case 1:this.currentReviewStarsText("It was terrible");break;case 2:this.currentReviewStarsText("I was disappointed");break;case 3:this.currentReviewStarsText("It was okay");break;case 4:this.currentReviewStarsText("I liked it!");break;case 5:this.currentReviewStarsText("I loved it!");break}};this.setReviewStarsHandler=function(stars){if(this.editMode()==!0){var r=_self.myReview();r==null?(r={Stars:stars+1,MemberId:this.memberId,WorkspaceId:this.workspaceId,VenueId:this.venueId},this.reviews.push(r)):(r.Stars=stars+1,this.reviews.replace(r,r));this.setCurrentReviewStarsText(r.Stars);this.currentReviewStars(r.Stars)}};this.deleteReviewHandler=function(event,review){LSHelper.Dialog.confirmDialog("Review will be removed",function(){$.ajax({type:"POST",data:{ratingId:review.Id,venueId:_self.venueId,workspaceId:_self.workspaceId},url:GetUrl("DeleteRating","Rating"),async:!0,success:function(result){_self.reviews.remove(review);_self.ratesCount(result.RatingCount);_self.averageRating(result.RatingAverage)},error:function(xhr,ajaxOptions,thrownError){}})},"Are you sure?")};this.saveReviewHandler=function(event,reservationId){if(_self.currentReviewStars()){var $btn=$(event.currentTarget);$btn.button({disabled:!0});$.ajax({type:"POST",data:{Id:_self.currentReviewId(),MemberId:_self.memberId,WorkspaceId:_self.workspaceId,Stars:_self.currentReviewStars(),Text:_self.currentReviewText(),Name:_self.currentReviewDisplayName(),VenueId:_self.venueId,ReservationId:reservationId},url:GetUrl("EditRating","Rating"),async:!0,success:function(result){var r=_self.myReview();if(_self.modified=!0,_self.reviews.replace(r,result.Rating),_self.ratesCount(result.RatingCount),_self.averageRating(result.RatingAverage),$btn.button({disabled:!1}),$btn.closest(".ui-dialog-content").dialog("close"),_self.editMode(!1),$.isFunction(params.onSaveReview))params.onSaveReview(result)},error:function(xhr,ajaxOptions,thrownError){$btn.button({disabled:!1})}})}};this.getReviewsToShow=function(callback){if(_self.loading)setTimeout(function(){_self.getReviewsToShow(callback)},100);else{var returnCount=2,reviews=_self.reviews(),ids=[];$.each(reviews,function(i,val){ids.push(val.Id)});_self.ratesCount&&reviews.length<_self.ratesCount()&&reviews.length<returnCount?(_self.loading=!0,$.ajax({type:"POST",data:{id:_self.workspaceId,returnCount:returnCount-reviews.length,skip:JSON.stringify(ids)},url:GetUrl("GetRatingByWorkspace","Rating"),async:!0,success:function(result){for(var i=0;i<result.length;i++)_self.reviews.push(result[i]);_self.loading=!1;callback&&callback()},error:function(xhr,ajaxOptions,thrownError){_self.loading=!1}})):callback&&callback()}};this.showReviews=function(event,params){var options=$.extend({align:"left",topPadding:12,toggle:!1},params);if($(".review-show").length){if(options.toggle&&$(".review-show").data("button")==event.currentTarget){$(".review-show").remove();return}$(".review-show").remove()}var $elem=$($("#review-show").html()).data("button",event.currentTarget).appendTo($("body")),$btn=$(event.currentTarget),offset=$btn.offset(),repositionElement=function(){var top=offset.top+3-$elem.outerHeight(),left,paddingLeft;$(window).scrollTop()>top-40?(top=offset.top+$btn.outerHeight(),_self.topArrowVisible(!0)):(_self.topArrowVisible(!1),top+=options.topPadding);left=0;switch(options.align){case"left":left=offset.left-$elem.outerWidth()/2+5;break;case"center":left=offset.left+$btn.outerWidth()/2-$elem.outerWidth()/2;break}left<0&&(paddingLeft=parseInt($elem.css("padding-left").replace(/[^-\d\.]/g,"")),left=-paddingLeft);$elem.css("left",left);$elem.css("top",top)};repositionElement();ko.applyBindings(this,$elem[0]);this.getReviewsToShow(repositionElement);$elem.find(".review-close").click(function(){$elem.remove()});$elem.unbind("clickoutside");$elem.bind("clickoutside",function(){$elem.remove()})}}return params=params==null?{}:params,indata=indata==null?{}:indata,this.model=new reviewModel(indata),this.model};ko.bindingHandlers.ratingBinding={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){var model=ko.unwrap(valueAccessor()),elem,innerBindingContext;return model.params=$.extend({showcount:!1,addreview:!1,showdate:!1,isEditable:!1,nohover:!1,short:!1},model.params),$(element).find(".review-stars-container").remove(),elem=$($("#review-stars").html()).appendTo($(element)),innerBindingContext=bindingContext.extend(model),ko.applyBindingsToDescendants(innerBindingContext,elem[0]),{controlsDescendantBindings:!0}}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pievilinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
(function(root){var serverSide=typeof module!="undefined"&&module.exports,getnlp=function(){if(!getnlp._nlp)if(serverSide)getnlp._nlp=require("./nlp");else if(!(getnlp._nlp=root._RRuleNLP))throw new Error("You need to include rrule/nlp.js for fromText/toText to work.");return getnlp._nlp},dateutil={MONTH_DAYS:[31,28,31,30,31,30,31,31,30,31,30,31],ONE_DAY:864e5,MAXYEAR:9999,ORDINAL_BASE:new Date(1970,0,1),PY_WEEKDAYS:[6,0,1,2,3,4,5],getYearDay:function(date){var dateNoTime=new Date(date.getFullYear(),date.getMonth(),date.getDate());return Math.ceil((dateNoTime-new Date(date.getFullYear(),0,1))/dateutil.ONE_DAY)+1},isLeapYear:function(year){return year instanceof Date&&(year=year.getFullYear()),year%4==0&&year%100!=0||year%400==0},tzOffset:function(date){return date.getTimezoneOffset()*6e4},daysBetween:function(date1,date2){var date1_ms=date1.getTime()-dateutil.tzOffset(date1),date2_ms=date2.getTime()-dateutil.tzOffset(date2),difference_ms=Math.abs(date1_ms-date2_ms);return Math.round(difference_ms/dateutil.ONE_DAY)},toOrdinal:function(date){return dateutil.daysBetween(date,dateutil.ORDINAL_BASE)},fromOrdinal:function(ordinal){var millisecsFromBase=ordinal*dateutil.ONE_DAY;return new Date(dateutil.ORDINAL_BASE.getTime()-dateutil.tzOffset(dateutil.ORDINAL_BASE)+millisecsFromBase+dateutil.tzOffset(new Date(millisecsFromBase)))},monthRange:function(year,month){var date=new Date(year,month,1);return[dateutil.getWeekday(date),dateutil.getMonthDays(date)]},getMonthDays:function(date){var month=date.getMonth();return month==1&&dateutil.isLeapYear(date)?29:dateutil.MONTH_DAYS[month]},getWeekday:function(date){return dateutil.PY_WEEKDAYS[date.getDay()]},combine:function(date,time){return time=time||date,new Date(date.getFullYear(),date.getMonth(),date.getDate(),time.getHours(),time.getMinutes(),time.getSeconds())},clone:function(date){var dolly=new Date(date.getTime());return dolly.setMilliseconds(0),dolly},cloneDates:function(dates){for(var clones=[],i=0;i<dates.length;i++)clones.push(dateutil.clone(dates[i]));return clones},sort:function(dates){dates.sort(function(a,b){return a.getTime()-b.getTime()})},timeToUntilString:function(time){for(var date=new Date(time),comp,comps=[date.getUTCFullYear(),date.getUTCMonth()+1,date.getUTCDate(),"T",date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),"Z"],i=0;i<comps.length;i++)comp=comps[i],!/[TZ]/.test(comp)&&comp<10&&(comps[i]="0"+String(comp));return comps.join("")},untilStringToDate:function(until){var re=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,bits=re.exec(until);if(!bits)throw new Error("Invalid UNTIL value: "+until);return new Date(Date.UTC(bits[1],bits[2]-1,bits[3],bits[5]||0,bits[6]||0,bits[7]||0))}},RRule,Iterinfo,IterResult,CallbackIterResult;dateutil.Time=function(hour,minute,second){this.hour=hour;this.minute=minute;this.second=second};dateutil.Time.prototype={getHours:function(){return this.hour},getMinutes:function(){return this.minute},getSeconds:function(){return this.second},getTime:function(){return(this.hour*3600+this.minute*60+this.second)*1e3}};var range=function(start,end){var rang,i;for(arguments.length===1&&(end=start,start=0),rang=[],i=start;i<end;i++)rang.push(i);return rang},repeat=function(value,times){var i=0,array=[];if(value instanceof Array)for(;i<times;i++)array[i]=[].concat(value);else for(;i<times;i++)array[i]=value;return array},pymod=function(a,b){var r=a%b;return r*b<0?r+b:r},divmod=function(a,b){return{div:Math.floor(a/b),mod:pymod(a,b)}},plb=function(obj){return obj instanceof Array&&obj.length==0?!1:Boolean(obj)},contains=function(arr,val){return arr.indexOf(val)!=-1},M365MASK=[].concat(repeat(1,31),repeat(2,28),repeat(3,31),repeat(4,30),repeat(5,31),repeat(6,30),repeat(7,31),repeat(8,31),repeat(9,30),repeat(10,31),repeat(11,30),repeat(12,31),repeat(1,7)),M366MASK=[].concat(repeat(1,31),repeat(2,29),repeat(3,31),repeat(4,30),repeat(5,31),repeat(6,30),repeat(7,31),repeat(8,31),repeat(9,30),repeat(10,31),repeat(11,30),repeat(12,31),repeat(1,7)),M28=range(1,29),M29=range(1,30),M30=range(1,31),M31=range(1,32),MDAY366MASK=[].concat(M31,M29,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7)),MDAY365MASK=[].concat(M31,M28,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7));M28=range(-28,0);M29=range(-29,0);M30=range(-30,0);M31=range(-31,0);var NMDAY366MASK=[].concat(M31,M29,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7)),NMDAY365MASK=[].concat(M31,M28,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7)),M366RANGE=[0,31,60,91,121,152,182,213,244,274,305,335,366],M365RANGE=[0,31,59,90,120,151,181,212,243,273,304,334,365],WDAYMASK=function(){for(var wdaymask=[],i=0;i<55;i++)wdaymask=wdaymask.concat(range(7));return wdaymask}(),Weekday=function(weekday,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=weekday;this.n=n};Weekday.prototype={nth:function(n){return this.n==n?this:new Weekday(this.weekday,n)},equals:function(other){return this.weekday==other.weekday&&this.n==other.n},toString:function(){var s=["MO","TU","WE","TH","FR","SA","SU"][this.weekday];return this.n&&(s=(this.n>0?"+":"")+String(this.n)+s),s},getJsWeekday:function(){return this.weekday==6?0:this.weekday+1}};RRule=function(options,noCache){var opts,i,bymonthday,bynmonthday,v,byweekday,bynweekday,wday,hour,j,minute,k,second;this._string=null;options=options||{};this._cache=noCache?null:{all:!1,before:[],after:[],between:[]};this.origOptions={};var invalid=[],keys=Object.keys(options),defaultKeys=Object.keys(RRule.DEFAULT_OPTIONS);if(keys.forEach(function(key){this.origOptions[key]=options[key];contains(defaultKeys,key)||invalid.push(key)},this),invalid.length)throw new Error("Invalid options: "+invalid.join(", "));if(!RRule.FREQUENCIES[options.freq]&&options.byeaster===null)throw new Error("Invalid frequency: "+String(options.freq));if(defaultKeys.forEach(function(key){contains(keys,key)||(options[key]=RRule.DEFAULT_OPTIONS[key])}),opts=this.options=options,opts.byeaster!==null&&(opts.freq=RRule.YEARLY),opts.dtstart||(opts.dtstart=new Date,opts.dtstart.setMilliseconds(0)),opts.wkst===null?opts.wkst=RRule.MO.weekday:typeof opts.wkst=="number"||(opts.wkst=opts.wkst.weekday),opts.bysetpos!==null)for(typeof opts.bysetpos=="number"&&(opts.bysetpos=[opts.bysetpos]),i=0;i<opts.bysetpos.length;i++)if(v=opts.bysetpos[i],v==0||!(-366<=v&&v<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1");if(!(plb(opts.byweekno)||plb(opts.byyearday)||plb(opts.bymonthday)||opts.byweekday!==null||opts.byeaster!==null))switch(opts.freq){case RRule.YEARLY:opts.bymonth||(opts.bymonth=opts.dtstart.getMonth()+1);opts.bymonthday=opts.dtstart.getDate();break;case RRule.MONTHLY:opts.bymonthday=opts.dtstart.getDate();break;case RRule.WEEKLY:opts.byweekday=dateutil.getWeekday(opts.dtstart);break}if(opts.bymonth===null||opts.bymonth instanceof Array||(opts.bymonth=[opts.bymonth]),opts.byyearday===null||opts.byyearday instanceof Array||(opts.byyearday=[opts.byyearday]),opts.bymonthday===null)opts.bymonthday=[],opts.bynmonthday=[];else if(opts.bymonthday instanceof Array){for(bymonthday=[],bynmonthday=[],i=0;i<opts.bymonthday.length;i++)v=opts.bymonthday[i],v>0?bymonthday.push(v):v<0&&bynmonthday.push(v);opts.bymonthday=bymonthday;opts.bynmonthday=bynmonthday}else opts.bymonthday<0?(opts.bynmonthday=[opts.bymonthday],opts.bymonthday=[]):(opts.bynmonthday=[],opts.bymonthday=[opts.bymonthday]);if(opts.byweekno===null||opts.byweekno instanceof Array||(opts.byweekno=[opts.byweekno]),opts.byweekday===null)opts.bynweekday=null;else if(typeof opts.byweekday=="number")opts.byweekday=[opts.byweekday],opts.bynweekday=null;else if(opts.byweekday instanceof Weekday)!opts.byweekday.n||opts.freq>RRule.MONTHLY?(opts.byweekday=[opts.byweekday.weekday],opts.bynweekday=null):(opts.bynweekday=[[opts.byweekday.weekday,opts.byweekday.n]],opts.byweekday=null);else{for(byweekday=[],bynweekday=[],i=0;i<opts.byweekday.length;i++)wday=opts.byweekday[i],typeof wday=="number"?byweekday.push(wday):!wday.n||opts.freq>RRule.MONTHLY?byweekday.push(wday.weekday):bynweekday.push([wday.weekday,wday.n]);opts.byweekday=plb(byweekday)?byweekday:null;opts.bynweekday=plb(bynweekday)?bynweekday:null}if(opts.byhour===null?opts.byhour=opts.freq<RRule.HOURLY?[opts.dtstart.getHours()]:null:typeof opts.byhour=="number"&&(opts.byhour=[opts.byhour]),opts.byminute===null?opts.byminute=opts.freq<RRule.MINUTELY?[opts.dtstart.getMinutes()]:null:typeof opts.byminute=="number"&&(opts.byminute=[opts.byminute]),opts.bysecond===null?opts.bysecond=opts.freq<RRule.SECONDLY?[opts.dtstart.getSeconds()]:null:typeof opts.bysecond=="number"&&(opts.bysecond=[opts.bysecond]),opts.freq>=RRule.HOURLY)this.timeset=null;else{for(this.timeset=[],i=0;i<opts.byhour.length;i++)for(hour=opts.byhour[i],j=0;j<opts.byminute.length;j++)for(minute=opts.byminute[j],k=0;k<opts.bysecond.length;k++)second=opts.bysecond[k],this.timeset.push(new dateutil.Time(hour,minute,second));dateutil.sort(this.timeset)}};RRule.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"];RRule.YEARLY=0;RRule.MONTHLY=1;RRule.WEEKLY=2;RRule.DAILY=3;RRule.HOURLY=4;RRule.MINUTELY=5;RRule.SECONDLY=6;RRule.MO=new Weekday(0);RRule.TU=new Weekday(1);RRule.WE=new Weekday(2);RRule.TH=new Weekday(3);RRule.FR=new Weekday(4);RRule.SA=new Weekday(5);RRule.SU=new Weekday(6);RRule.DEFAULT_OPTIONS={freq:null,dtstart:null,interval:1,wkst:RRule.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};RRule.parseText=function(text,language){return getnlp().parseText(text,language)};RRule.fromText=function(text,language){return getnlp().fromText(text,language)};RRule.optionsToString=function(options){var key,keys,defaultKeys,value,strValues,pairs=[],wday,j,strings,i,attr;for(keys=Object.keys(options),defaultKeys=Object.keys(RRule.DEFAULT_OPTIONS),i=0;i<keys.length;i++)if(contains(defaultKeys,keys[i])&&(key=keys[i].toUpperCase(),value=options[keys[i]],strValues=[],value!==null&&(!(value instanceof Array)||value.length))){switch(key){case"FREQ":value=RRule.FREQUENCIES[options.freq];break;case"WKST":value=value.toString();break;case"BYWEEKDAY":for(key="BYDAY",value instanceof Array||(value=[value]),j=0;j<value.length;j++)wday=value[j],wday instanceof Weekday||(wday=wday instanceof Array?new Weekday(wday[0],wday[1]):new Weekday(wday)),strValues[j]=wday.toString();value=strValues;break;case"DTSTART":case"UNTIL":value=dateutil.timeToUntilString(value);break;default:if(value instanceof Array){for(j=0;j<value.length;j++)strValues[j]=String(value[j]);value=strValues}else value=String(value)}pairs.push([key,value])}for(strings=[],i=0;i<pairs.length;i++)attr=pairs[i],strings.push(attr[0]+"="+attr[1].toString());return strings.join(";")};RRule.prototype={all:function(iterator){if(iterator)return this._iter(new CallbackIterResult("all",{},iterator));else{var result=this._cacheGet("all");return result===!1&&(result=this._iter(new IterResult("all",{})),this._cacheAdd("all",result)),result}},between:function(after,before,inc,iterator){var args={before:before,after:after,inc:inc},result;return iterator?this._iter(new CallbackIterResult("between",args,iterator)):(result=this._cacheGet("between",args),result===!1&&(result=this._iter(new IterResult("between",args)),this._cacheAdd("between",result,args)),result)},before:function(dt,inc){var args={dt:dt,inc:inc},result=this._cacheGet("before",args);return result===!1&&(result=this._iter(new IterResult("before",args)),this._cacheAdd("before",result,args)),result},after:function(dt,inc){var args={dt:dt,inc:inc},result=this._cacheGet("after",args);return result===!1&&(result=this._iter(new IterResult("after",args)),this._cacheAdd("after",result,args)),result},count:function(){return this.all().length},toString:function(){return RRule.optionsToString(this.origOptions)},toText:function(gettext,language){return getnlp().toText(this,gettext,language)},isFullyConvertibleToText:function(){return getnlp().isFullyConvertible(this)},_cacheAdd:function(what,value,args){this._cache&&(value&&(value=value instanceof Date?dateutil.clone(value):dateutil.cloneDates(value)),what=="all"?this._cache.all=value:(args._value=value,this._cache[what].push(args)))},_cacheGet:function(what,args){var cached,item,k,iterResult,i;if(!this._cache)return!1;if(cached=!1,what=="all")cached=this._cache.all;else loopItems:for(i=0;i<this._cache[what].length;i++){item=this._cache[what][i];for(k in args)if(args.hasOwnProperty(k)&&String(args[k])!=String(item[k]))continue loopItems;cached=item._value;break}if(!cached&&this._cache.all){for(iterResult=new IterResult(what,args),i=0;i<this._cache.all.length;i++)if(!iterResult.accept(this._cache.all[i]))break;cached=iterResult.getValue();this._cacheAdd(what,cached,args)}return cached instanceof Array?dateutil.cloneDates(cached):cached instanceof Date?dateutil.clone(cached):cached},clone:function(){return new RRule(this.origOptions)},_iter:function(iterResult){var dtstart=this.options.dtstart,year=dtstart.getFullYear(),month=dtstart.getMonth()+1,day=dtstart.getDate(),hour=dtstart.getHours(),minute=dtstart.getMinutes(),second=dtstart.getSeconds(),weekday=dateutil.getWeekday(dtstart),yearday=dateutil.getYearDay(dtstart),freq=this.options.freq,interval=this.options.interval,wkst=this.options.wkst,until=this.options.until,bymonth=this.options.bymonth,byweekno=this.options.byweekno,byyearday=this.options.byyearday,byweekday=this.options.byweekday,byeaster=this.options.byeaster,bymonthday=this.options.bymonthday,bynmonthday=this.options.bynmonthday,bysetpos=this.options.bysetpos,byhour=this.options.byhour,byminute=this.options.byminute,bysecond=this.options.bysecond,ii=new Iterinfo(this),getdayset,timeset,gettimeset,daypos,timepos,poslist,pos,val,date,time,res,daysinmonth;ii.rebuild(year,month);getdayset={};getdayset[RRule.YEARLY]=ii.ydayset;getdayset[RRule.MONTHLY]=ii.mdayset;getdayset[RRule.WEEKLY]=ii.wdayset;getdayset[RRule.DAILY]=ii.ddayset;getdayset[RRule.HOURLY]=ii.ddayset;getdayset[RRule.MINUTELY]=ii.ddayset;getdayset[RRule.SECONDLY]=ii.ddayset;getdayset=getdayset[freq];freq<RRule.HOURLY?timeset=this.timeset:(gettimeset={},gettimeset[RRule.HOURLY]=ii.htimeset,gettimeset[RRule.MINUTELY]=ii.mtimeset,gettimeset[RRule.SECONDLY]=ii.stimeset,gettimeset=gettimeset[freq],timeset=freq>=RRule.HOURLY&&plb(byhour)&&!contains(byhour,hour)||freq>=RRule.MINUTELY&&plb(byminute)&&!contains(byminute,minute)||freq>=RRule.SECONDLY&&plb(bysecond)&&!contains(bysecond,minute)?[]:gettimeset.call(ii,hour,minute,second));for(var filtered,total=0,count=this.options.count,iterNo=0,i,j,k,dm,div,mod,tmp,pos,dayset,start,end,fixday;;){for(tmp=getdayset.call(ii,year,month,day),dayset=tmp[0],start=tmp[1],end=tmp[2],filtered=!1,j=start;j<end;j++)i=dayset[j],(plb(bymonth)&&!contains(bymonth,ii.mmask[i])||plb(byweekno)&&!ii.wnomask[i]||plb(byweekday)&&!contains(byweekday,ii.wdaymask[i])||plb(ii.nwdaymask)&&!ii.nwdaymask[i]||byeaster!==null&&!contains(ii.eastermask,i)||(plb(bymonthday)||plb(bynmonthday))&&!contains(bymonthday,ii.mdaymask[i])&&!contains(bynmonthday,ii.nmdaymask[i])||plb(byyearday)&&(i<ii.yearlen&&!contains(byyearday,i+1)&&!contains(byyearday,-ii.yearlen+i)||i>=ii.yearlen&&!contains(byyearday,i+1-ii.yearlen)&&!contains(byyearday,-ii.nextyearlen+i-ii.yearlen)))&&(dayset[i]=null,filtered=!0);if(plb(bysetpos)&&plb(timeset)){for(poslist=[],i,j=0;j<bysetpos.length;j++){pos=bysetpos[j];pos<0?(daypos=Math.floor(pos/timeset.length),timepos=pymod(pos,timeset.length)):(daypos=Math.floor((pos-1)/timeset.length),timepos=pymod(pos-1,timeset.length));try{for(tmp=[],k=start;k<end;k++)(val=dayset[k],val!==null)&&tmp.push(val);i=daypos<0?tmp.slice(daypos)[0]:tmp[daypos];var time=timeset[timepos],date=dateutil.fromOrdinal(ii.yearordinal+i),res=dateutil.combine(date,time);contains(poslist,res)||poslist.push(res)}catch(e){}}for(dateutil.sort(poslist),j=0;j<poslist.length;j++)if(res=poslist[j],until&&res>until)return this._len=total,iterResult.getValue();else if(res>=dtstart){if(++total,!iterResult.accept(res))return iterResult.getValue();if(count&&(--count,!count))return this._len=total,iterResult.getValue()}}else for(j=start;j<end;j++)if(i=dayset[j],i!==null)for(date=dateutil.fromOrdinal(ii.yearordinal+i),k=0;k<timeset.length;k++)if(time=timeset[k],res=dateutil.combine(date,time),until&&res>until)return this._len=total,iterResult.getValue();else if(res>=dtstart){if(++total,!iterResult.accept(res))return iterResult.getValue();if(count&&(--count,!count))return this._len=total,iterResult.getValue()}if(fixday=!1,freq==RRule.YEARLY){if(year+=interval,year>dateutil.MAXYEAR)return this._len=total,iterResult.getValue();ii.rebuild(year,month)}else if(freq==RRule.MONTHLY){if(month+=interval,month>12&&(div=Math.floor(month/12),mod=pymod(month,12),month=mod,year+=div,month==0&&(month=12,--year),year>dateutil.MAXYEAR))return this._len=total,iterResult.getValue();ii.rebuild(year,month)}else if(freq==RRule.WEEKLY)day+=wkst>weekday?-(weekday+1+(6-wkst))+interval*7:-(weekday-wkst)+interval*7,weekday=wkst,fixday=!0;else if(freq==RRule.DAILY)day+=interval,fixday=!0;else if(freq==RRule.HOURLY){for(filtered&&(hour+=Math.floor((23-hour)/interval)*interval);;)if(hour+=interval,dm=divmod(hour,24),div=dm.div,mod=dm.mod,div&&(hour=mod,day+=div,fixday=!0),!plb(byhour)||contains(byhour,hour))break;timeset=gettimeset.call(ii,hour,minute,second)}else if(freq==RRule.MINUTELY){for(filtered&&(minute+=Math.floor((1439-(hour*60+minute))/interval)*interval);;)if(minute+=interval,dm=divmod(minute,60),div=dm.div,mod=dm.mod,div&&(minute=mod,hour+=div,dm=divmod(hour,24),div=dm.div,mod=dm.mod,div&&(hour=mod,day+=div,fixday=!0,filtered=!1)),(!plb(byhour)||contains(byhour,hour))&&(!plb(byminute)||contains(byminute,minute)))break;timeset=gettimeset.call(ii,hour,minute,second)}else if(freq==RRule.SECONDLY){for(filtered&&(second+=Math.floor((86399-(hour*3600+minute*60+second))/interval)*interval);;)if(second+=interval,dm=divmod(second,60),div=dm.div,mod=dm.mod,div&&(second=mod,minute+=div,dm=divmod(minute,60),div=dm.div,mod=dm.mod,div&&(minute=mod,hour+=div,dm=divmod(hour,24),div=dm.div,mod=dm.mod,div&&(hour=mod,day+=div,fixday=!0))),(!plb(byhour)||contains(byhour,hour))&&(!plb(byminute)||contains(byminute,minute))&&(!plb(bysecond)||contains(bysecond,second)))break;timeset=gettimeset.call(ii,hour,minute,second)}if(fixday&&day>28&&(daysinmonth=dateutil.monthRange(year,month-1)[1],day>daysinmonth)){while(day>daysinmonth){if(day-=daysinmonth,++month,month==13&&(month=1,++year,year>dateutil.MAXYEAR))return this._len=total,iterResult.getValue();daysinmonth=dateutil.monthRange(year,month-1)[1]}ii.rebuild(year,month)}}}};RRule.parseString=function(rfcString){var i,j,key,value,attr,attrs,options,n,wday,day,days;if(rfcString=rfcString.replace(/^\s+|\s+$/,""),!rfcString.length)return null;for(attrs=rfcString.split(";"),options={},i=0;i<attrs.length;i++){attr=attrs[i].split("=");key=attr[0];value=attr[1];switch(key){case"FREQ":options.freq=RRule[value];break;case"WKST":options.wkst=RRule[value];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(value.indexOf(",")!=-1)for(value=value.split(","),j=0;j<value.length;j++)/^[+-]?\d+$/.test(value[j])&&(value[j]=Number(value[j]));else/^[+-]?\d+$/.test(value)&&(value=Number(value));key=key.toLowerCase();options[key]=value;break;case"BYDAY":for(days=value.split(","),options.byweekday=[],j=0;j<days.length;j++)day=days[j],day.length==2?(wday=RRule[day],options.byweekday.push(wday)):(day=day.match(/^([+-]?\d)([A-Z]{2})$/),n=Number(day[1]),wday=day[2],wday=RRule[wday].weekday,options.byweekday.push(new Weekday(wday,n)));break;case"DTSTART":options.dtstart=dateutil.untilStringToDate(value);break;case"UNTIL":options.until=dateutil.untilStringToDate(value);break;case"BYEASTER":options.byeaster=Number(value);break;default:throw new Error("Unknown RRULE property '"+key+"'");}}return options};RRule.fromString=function(string){return new RRule(RRule.parseString(string))};Iterinfo=function(rrule){this.rrule=rrule;this.lastyear=null;this.lastmonth=null;this.yearlen=null;this.nextyearlen=null;this.yearordinal=null;this.yearweekday=null;this.mmask=null;this.mrange=null;this.mdaymask=null;this.nmdaymask=null;this.wdaymask=null;this.wnomask=null;this.nwdaymask=null;this.eastermask=null};Iterinfo.prototype.easter=function(y,offset){offset=offset||0;var a=y%19,b=Math.floor(y/100),c=y%100,d=Math.floor(b/4),e=b%4,f=Math.floor((b+8)/25),g=Math.floor((b-f+1)/3),h=Math.floor(19*a+b-d-g+15)%30,i=Math.floor(c/4),k=c%4,l=Math.floor(32+2*e+2*i-h-k)%7,m=Math.floor((a+11*h+22*l)/451),month=Math.floor((h+l-7*m+114)/31),day=(h+l-7*m+114)%31+1,date=Date.UTC(y,month-1,day+offset),yearStart=Date.UTC(y,0,1);return[Math.ceil((date-yearStart)/864e5)]};Iterinfo.prototype.rebuild=function(year,month){var rr=this.rrule,firstyday,no1wkst,firstwkst,wyearlen,lnumweeks,i,ranges,j,k,wday,n;if(year!=this.lastyear)if(this.yearlen=dateutil.isLeapYear(year)?366:365,this.nextyearlen=dateutil.isLeapYear(year+1)?366:365,firstyday=new Date(year,0,1),this.yearordinal=dateutil.toOrdinal(firstyday),this.yearweekday=dateutil.getWeekday(firstyday),wday=dateutil.getWeekday(new Date(year,0,1)),this.yearlen==365?(this.mmask=[].concat(M365MASK),this.mdaymask=[].concat(MDAY365MASK),this.nmdaymask=[].concat(NMDAY365MASK),this.wdaymask=WDAYMASK.slice(wday),this.mrange=[].concat(M365RANGE)):(this.mmask=[].concat(M366MASK),this.mdaymask=[].concat(MDAY366MASK),this.nmdaymask=[].concat(NMDAY366MASK),this.wdaymask=WDAYMASK.slice(wday),this.mrange=[].concat(M366RANGE)),plb(rr.options.byweekno)){this.wnomask=repeat(0,this.yearlen+7);no1wkst=firstwkst=pymod(7-this.yearweekday+rr.options.wkst,7);no1wkst>=4?(no1wkst=0,wyearlen=this.yearlen+pymod(this.yearweekday-rr.options.wkst,7)):wyearlen=this.yearlen-no1wkst;var div=Math.floor(wyearlen/7),mod=pymod(wyearlen,7),numweeks=Math.floor(div+mod/4);for(j=0;j<rr.options.byweekno.length;j++)if(n=rr.options.byweekno[j],n<0&&(n+=numweeks+1),0<n&&n<=numweeks)for(n>1?(i=no1wkst+(n-1)*7,no1wkst!=firstwkst&&(i-=7-firstwkst)):i=no1wkst,k=0;k<7;k++)if(this.wnomask[i]=1,i++,this.wdaymask[i]==rr.options.wkst)break;if(contains(rr.options.byweekno,1)&&(i=no1wkst+numweeks*7,no1wkst!=firstwkst&&(i-=7-firstwkst),i<this.yearlen))for(j=0;j<7;j++)if(this.wnomask[i]=1,i+=1,this.wdaymask[i]==rr.options.wkst)break;if(no1wkst){if(contains(rr.options.byweekno,-1))lnumweeks=-1;else{var lyearweekday=dateutil.getWeekday(new Date(year-1,0,1)),lno1wkst=pymod(7-lyearweekday+rr.options.wkst,7),lyearlen=dateutil.isLeapYear(year-1)?366:365;lno1wkst>=4?(lno1wkst=0,lnumweeks=Math.floor(52+pymod(lyearlen+pymod(lyearweekday-rr.options.wkst,7),7)/4)):lnumweeks=Math.floor(52+pymod(this.yearlen-no1wkst,7)/4)}if(contains(rr.options.byweekno,lnumweeks))for(i=0;i<no1wkst;i++)this.wnomask[i]=1}}else this.wnomask=null;if(plb(rr.options.bynweekday)&&(month!=this.lastmonth||year!=this.lastyear)){if(ranges=[],rr.options.freq==RRule.YEARLY)if(plb(rr.options.bymonth))for(j=0;j<rr.options.bymonth.length;j++)month=rr.options.bymonth[j],ranges.push(this.mrange.slice(month-1,month+1));else ranges=[[0,this.yearlen]];else rr.options.freq==RRule.MONTHLY&&(ranges=[this.mrange.slice(month-1,month+1)]);if(plb(ranges))for(this.nwdaymask=repeat(0,this.yearlen),j=0;j<ranges.length;j++){var rang=ranges[j],first=rang[0],last=rang[1];for(last-=1,k=0;k<rr.options.bynweekday.length;k++)wday=rr.options.bynweekday[k][0],n=rr.options.bynweekday[k][1],n<0?(i=last+(n+1)*7,i-=pymod(this.wdaymask[i]-wday,7)):(i=first+(n-1)*7,i+=pymod(7-this.wdaymask[i]+wday,7)),first<=i&&i<=last&&(this.nwdaymask[i]=1)}this.lastyear=year;this.lastmonth=month}rr.options.byeaster!==null&&(this.eastermask=this.easter(year,rr.options.byeaster))};Iterinfo.prototype.ydayset=function(year,month,day){return[range(this.yearlen),0,this.yearlen]};Iterinfo.prototype.mdayset=function(year,month,day){for(var set=repeat(null,this.yearlen),start=this.mrange[month-1],end=this.mrange[month],i=start;i<end;i++)set[i]=i;return[set,start,end]};Iterinfo.prototype.wdayset=function(year,month,day){for(var set=repeat(null,this.yearlen+7),i=dateutil.toOrdinal(new Date(year,month-1,day))-this.yearordinal,start=i,j=0;j<7;j++)if(set[i]=i,++i,this.wdaymask[i]==this.rrule.options.wkst)break;return[set,start,i]};Iterinfo.prototype.ddayset=function(year,month,day){var set=repeat(null,this.yearlen),i=dateutil.toOrdinal(new Date(year,month-1,day))-this.yearordinal;return set[i]=i,[set,i,i+1]};Iterinfo.prototype.htimeset=function(hour,minute,second){for(var j,set=[],rr=this.rrule,i=0;i<rr.options.byminute.length;i++)for(minute=rr.options.byminute[i],j=0;j<rr.options.bysecond.length;j++)second=rr.options.bysecond[j],set.push(new dateutil.Time(hour,minute,second));return dateutil.sort(set),set};Iterinfo.prototype.mtimeset=function(hour,minute,second){for(var set=[],rr=this.rrule,j=0;j<rr.options.bysecond.length;j++)second=rr.options.bysecond[j],set.push(new dateutil.Time(hour,minute,second));return dateutil.sort(set),set};Iterinfo.prototype.stimeset=function(hour,minute,second){return[new dateutil.Time(hour,minute,second)]};IterResult=function(method,args){this.init(method,args)};IterResult.prototype={init:function(method,args){this.method=method;this.args=args;this._result=[];this.minDate=null;this.maxDate=null;method=="between"?(this.maxDate=args.inc?args.before:new Date(args.before.getTime()-1),this.minDate=args.inc?args.after:new Date(args.after.getTime()+1)):method=="before"?this.maxDate=args.inc?args.dt:new Date(args.dt.getTime()-1):method=="after"&&(this.minDate=args.inc?args.dt:new Date(args.dt.getTime()+1))},accept:function(date){var tooEarly=this.minDate&&date<this.minDate,tooLate=this.maxDate&&date>this.maxDate;if(this.method=="between"){if(tooEarly)return!0;if(tooLate)return!1}else if(this.method=="before"){if(tooLate)return!1}else if(this.method=="after")return tooEarly?!0:(this.add(date),!1);return this.add(date)},add:function(date){return this._result.push(date),!0},getValue:function(){switch(this.method){case"all":case"between":return this._result;case"before":case"after":return this._result.length?this._result[this._result.length-1]:null}}};CallbackIterResult=function(method,args,iterator){var allowedMethods=["all","between"];if(!contains(allowedMethods,method))throw new Error('Invalid method "'+method+'". Only all and between works with iterator.');this.add=function(date){return iterator(date,this._result.length)?(this._result.push(date),!0):!1};this.init(method,args)};CallbackIterResult.prototype=IterResult.prototype;serverSide&&(module.exports={RRule:RRule});typeof ender=="undefined"&&(root.RRule=RRule);typeof define=="function"&&define.amd&&define("rrule",[],function(){return RRule})})(this);
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
(function(root){var serverSide=typeof module!="undefined"&&module.exports,RRule,contains,ToText,common,ENGLISH,nlp;if(serverSide)RRule=require("./rrule").RRule;else if(root.RRule)RRule=root.RRule;else if(typeof require!="undefined")RRule||(RRule=require("rrule"));else throw new Error("rrule.js is required for rrule/nlp.js to work");contains=function(arr,val){return arr.indexOf(val)!=-1};ToText=function(rrule,gettext,language){var bymonthday,bynmonthday,byweekday,days,sortWeekDays;this.gettext=gettext||function(id){return id};this.language=language||ENGLISH;this.text="";this.rrule=rrule;this.freq=rrule.options.freq;this.options=rrule.options;this.origOptions=rrule.origOptions;this.origOptions.bymonthday&&(bymonthday=[].concat(this.options.bymonthday),bynmonthday=[].concat(this.options.bynmonthday),bymonthday.sort(),bynmonthday.sort(),bynmonthday.reverse(),this.bymonthday=bymonthday.concat(bynmonthday),this.bymonthday.length||(this.bymonthday=null));this.origOptions.byweekday?(byweekday=(this.origOptions.byweekday instanceof Array)?this.origOptions.byweekday:[this.origOptions.byweekday],days=String(byweekday),this.byweekday={allWeeks:byweekday.filter(function(weekday){return!Boolean(weekday.n)}),someWeeks:byweekday.filter(function(weekday){return Boolean(weekday.n)}),isWeekdays:days.indexOf("MO")!=-1&&days.indexOf("TU")!=-1&&days.indexOf("WE")!=-1&&days.indexOf("TH")!=-1&&days.indexOf("FR")!=-1&&days.indexOf("SA")==-1&&days.indexOf("SU")==-1},sortWeekDays=function(a,b){return a.weekday-b.weekday},this.byweekday.allWeeks.sort(sortWeekDays),this.byweekday.someWeeks.sort(sortWeekDays),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)):this.byweekday=null};ToText.IMPLEMENTED=[];common=["count","until","interval","byweekday","bymonthday","bymonth"];ToText.IMPLEMENTED[RRule.DAILY]=common;ToText.IMPLEMENTED[RRule.WEEKLY]=common;ToText.IMPLEMENTED[RRule.MONTHLY]=common;ToText.IMPLEMENTED[RRule.YEARLY]=["byweekno","byyearday"].concat(common);ToText.isFullyConvertible=function(rrule){var canConvert=!0,key;if(!(rrule.options.freq in ToText.IMPLEMENTED)||rrule.origOptions.until&&rrule.origOptions.count)return!1;for(key in rrule.origOptions){if(contains(["dtstart","wkst","freq"],key))return!0;if(!contains(ToText.IMPLEMENTED[rrule.options.freq],key))return canConvert=!1,!1}return canConvert};ToText.prototype={isFullyConvertible:function(){return ToText.isFullyConvertible(this.rrule)},toString:function(){var gettext=this.gettext,until;return(this.options.freq in ToText.IMPLEMENTED)?(this.text=[gettext("every")],this[RRule.FREQUENCIES[this.options.freq]](),this.options.until?(this.add(gettext("until")),until=this.options.until,this.add(this.language.monthNames[until.getMonth()]).add(until.getDate()+",").add(until.getFullYear())):this.options.count&&this.add(gettext("for")).add(this.options.count).add(this.plural(this.options.count)?gettext("times"):gettext("time")),this.isFullyConvertible()||this.add(gettext("(~ approximate)")),this.text.join("")):gettext("RRule error: Unable to fully convert this rrule to text")},DAILY:function(){var gettext=this.gettext;this.options.interval!=1&&this.add(this.options.interval);this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?gettext("weekdays"):gettext("weekday")):this.add(this.plural(this.options.interval)?gettext("days"):gettext("day"));this.origOptions.bymonth&&(this.add(gettext("in")),this._bymonth());this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday()},WEEKLY:function(){var gettext=this.gettext;this.options.interval!=1&&this.add(this.options.interval).add(this.plural(this.options.interval)?gettext("weeks"):gettext("week"));this.byweekday&&this.byweekday.isWeekdays?this.options.interval==1?this.add(this.plural(this.options.interval)?gettext("weekdays"):gettext("weekday")):this.add(gettext("on")).add(gettext("weekdays")):(this.options.interval==1&&this.add(gettext("week")),this.origOptions.bymonth&&(this.add(gettext("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},MONTHLY:function(){var gettext=this.gettext;this.origOptions.bymonth?(this.options.interval!=1&&(this.add(this.options.interval).add(gettext("months")),this.plural(this.options.interval)&&this.add(gettext("in"))),this._bymonth()):(this.options.interval!=1&&this.add(this.options.interval),this.add(this.plural(this.options.interval)?gettext("months"):gettext("month")));this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(gettext("on")).add(gettext("weekdays")):this.byweekday&&this._byweekday()},YEARLY:function(){var gettext=this.gettext;this.origOptions.bymonth?(this.options.interval!=1&&(this.add(this.options.interval),this.add(gettext("years"))),this._bymonth()):(this.options.interval!=1&&this.add(this.options.interval),this.add(this.plural(this.options.interval)?gettext("years"):gettext("year")));this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday();this.options.byyearday&&this.add(gettext("on the")).add(this.list(this.options.byyearday,this.nth,gettext("and"))).add(gettext("day"));this.options.byweekno&&this.add(gettext("in")).add(this.plural(this.options.byweekno.length)?gettext("weeks"):gettext("week")).add(this.list(this.options.byweekno,null,gettext("and")))},_bymonthday:function(){var gettext=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(gettext("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,gettext("or"))).add(gettext("the")).add(this.list(this.bymonthday,this.nth,gettext("or"))):this.add(gettext("on the")).add(this.list(this.bymonthday,this.nth,gettext("and")))},_byweekday:function(){var gettext=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(gettext("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext));this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(gettext("and")),this.add(gettext("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,gettext("and"))))},_bymonth:function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},nth:function(n){var nth,npos,gettext=this.gettext;if(n==-1)return gettext("last");npos=Math.abs(n);switch(npos){case 1:case 21:case 31:nth=npos+gettext("st");break;case 2:case 22:nth=npos+gettext("nd");break;case 3:case 23:nth=npos+gettext("rd");break;default:nth=npos+gettext("th")}return n<0?nth+" "+gettext("last"):nth},monthtext:function(m){return this.language.monthNames[m-1]},weekdaytext:function(wday){return(wday.n?this.nth(wday.n)+" ":"")+this.language.dayNames[wday.getJsWeekday()]},plural:function(n){return n%100!=1},add:function(s){return this.text.push(" "),this.text.push(s),this},list:function(arr,callback,finalDelim,delim){var delimJoin=function(array,delimiter,finalDelimiter){for(var list="",i=0;i<array.length;i++)i!=0&&(list+=i==array.length-1?" "+finalDelimiter+" ":delimiter+" "),list+=array[i];return list},self,realCallback;return delim=delim||",",callback=callback||function(o){return o},self=this,realCallback=function(arg){return callback.call(self,arg)},finalDelim?delimJoin(arr.map(realCallback),delim,finalDelim):arr.map(realCallback).join(delim+" ")}};var fromText=function(text,language){return new RRule(parseText(text,language))},parseText=function(text,language){function S(){var n,wkd,m;if(ttr.expect("every"),(n=ttr.accept("number"))&&(options.interval=parseInt(n[0])),ttr.isDone())throw new Error("Unexpected end");switch(ttr.symbol){case"day(s)":options.freq=RRule.DAILY;ttr.nextSymbol()&&(ON(),F());break;case"weekday(s)":options.freq=RRule.WEEKLY;options.byweekday=[RRule.MO,RRule.TU,RRule.WE,RRule.TH,RRule.FR];ttr.nextSymbol();F();break;case"week(s)":options.freq=RRule.WEEKLY;ttr.nextSymbol()&&(ON(),F());break;case"month(s)":options.freq=RRule.MONTHLY;ttr.nextSymbol()&&(ON(),F());break;case"year(s)":options.freq=RRule.YEARLY;ttr.nextSymbol()&&(ON(),F());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":if(options.freq=RRule.WEEKLY,options.byweekday=[RRule[ttr.symbol.substr(0,2).toUpperCase()]],!ttr.nextSymbol())return;while(ttr.accept("comma")){if(ttr.isDone())throw new Error("Unexpected end");if(!(wkd=decodeWKD()))throw new Error("Unexpected symbol "+ttr.symbol+", expected weekday");options.byweekday.push(RRule[wkd]);ttr.nextSymbol()}MDAYs();F();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(options.freq=RRule.YEARLY,options.bymonth=[decodeM()],!ttr.nextSymbol())return;while(ttr.accept("comma")){if(ttr.isDone())throw new Error("Unexpected end");if(!(m=decodeM()))throw new Error("Unexpected symbol "+ttr.symbol+", expected month");options.bymonth.push(m);ttr.nextSymbol()}ON();F();break;default:throw new Error("Unknown symbol");}}function ON(){var on=ttr.accept("on"),the=ttr.accept("the"),nth,wkd,m,n;if(on||the)do if(nth=decodeNTH())(wkd=decodeWKD())?(ttr.nextSymbol(),options.byweekday||(options.byweekday=[]),options.byweekday.push(RRule[wkd].nth(nth))):(options.bymonthday||(options.bymonthday=[]),options.bymonthday.push(nth),ttr.accept("day(s)"));else if(wkd=decodeWKD())ttr.nextSymbol(),options.byweekday||(options.byweekday=[]),options.byweekday.push(RRule[wkd]);else if(ttr.symbol=="weekday(s)")ttr.nextSymbol(),options.byweekday||(options.byweekday=[]),options.byweekday.push(RRule.MO),options.byweekday.push(RRule.TU),options.byweekday.push(RRule.WE),options.byweekday.push(RRule.TH),options.byweekday.push(RRule.FR);else if(ttr.symbol=="week(s)"){if(ttr.nextSymbol(),!(n=ttr.accept("number")))throw new Error("Unexpected symbol "+ttr.symbol+", expected week number");for(options.byweekno=[n[0]];ttr.accept("comma");){if(!(n=ttr.accept("number")))throw new Error("Unexpected symbol "+ttr.symbol+"; expected monthday");options.byweekno.push(n[0])}}else if(m=decodeM())ttr.nextSymbol(),options.bymonth||(options.bymonth=[]),options.bymonth.push(m);else return;while(ttr.accept("comma")||ttr.accept("the")||ttr.accept("on"))}function decodeM(){switch(ttr.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function decodeWKD(){switch(ttr.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return ttr.symbol.substr(0,2).toUpperCase();break;default:return!1}}function decodeNTH(){switch(ttr.symbol){case"last":return ttr.nextSymbol(),-1;case"first":return ttr.nextSymbol(),1;case"second":return ttr.nextSymbol(),ttr.accept("last")?-2:2;case"third":return ttr.nextSymbol(),ttr.accept("last")?-3:3;case"nth":var v=parseInt(ttr.value[1]);if(v<-366||v>366)throw new Error("Nth out of range: "+v);return ttr.nextSymbol(),ttr.accept("last")?-v:v;default:return!1}}function MDAYs(){ttr.accept("on");ttr.accept("the");var nth;if(nth=decodeNTH())for(options.bymonthday=[nth],ttr.nextSymbol();ttr.accept("comma");){if(!(nth=decodeNTH()))throw new Error("Unexpected symbol "+ttr.symbol+"; expected monthday");options.bymonthday.push(nth);ttr.nextSymbol()}}function F(){if(ttr.symbol=="until"){var date=Date.parse(ttr.text);if(!date)throw new Error("Cannot parse until date:"+ttr.text);options.until=new Date(date)}else ttr.accept("for")&&(options.count=ttr.value[0],ttr.expect("number"))}var ttr=new Parser((language||ENGLISH).tokens),options;return ttr.start(text)?(options={},S(),options):null},Parser=function(rules){this.rules=rules};Parser.prototype.start=function(text){return this.text=text,this.done=!1,this.nextSymbol()};Parser.prototype.isDone=function(){return this.done&&this.symbol==null};Parser.prototype.nextSymbol=function(){var p=this,best,bestSymbol,match,rule,name;this.symbol=null;this.value=null;do{if(this.done)return!1;best=null;for(name in this.rules)rule=this.rules[name],(match=rule.exec(p.text))&&(best==null||match[0].length>best[0].length)&&(best=match,bestSymbol=name);if(best!=null&&(this.text=this.text.substr(best[0].length),this.text==""&&(this.done=!0)),best==null){this.done=!0;this.symbol=null;this.value=null;return}}while(bestSymbol=="SKIP");return this.symbol=bestSymbol,this.value=best,!0};Parser.prototype.accept=function(name){if(this.symbol==name){if(this.value){var v=this.value;return this.nextSymbol(),v}return this.nextSymbol(),!0}return!1};Parser.prototype.expect=function(name){if(this.accept(name))return!0;throw new Error("expected "+name+" but found "+this.symbol);};ENGLISH={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,"for":/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}};nlp={fromText:fromText,parseText:parseText,isFullyConvertible:ToText.isFullyConvertible,toText:function(rrule,gettext,language){return new ToText(rrule,gettext,language).toString()}};serverSide?module.exports=nlp:root._RRuleNLP=nlp;typeof define=="function"&&define.amd&&define("rrule",[],function(){return RRule})})(this);typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Analytics=="undefined"&&(LiquidSpace.Analytics={});LiquidSpace.Analytics.LegacyTracker=function(){function _uCInfo(){var x,dc;if(_ucto&&_ucto!=""||(_ucto="15768000"),_uVG()){var c="",t="-",t2="-",t3="-",o=0,cs=0,cn=0,i=0,z="-",s="";if(_uanchor&&_udlh&&_udlh!=""&&(s=_udlh+"&"),s+=_udl.search,x=new Date(_udt.getTime()+_ucto*1e3),dc=_uBrowserDocument.cookie,x=" expires="+x.toGMTString()+";",_ulink&&!_ubl&&(z=_uDecodeString(_uGC(s,"__utmz=","&")),z!="-"&&z.indexOf(";")==-1))return _uBrowserDocument.cookie="__utmz="+z+"; path="+_utcp+";"+x+_udo,"";if((z=dc.indexOf("__utmz="+_DomainHash+"."),z=z>-1?_uGC(dc,"__utmz="+_DomainHash+".",";"):"-",t=_uGC(s,_ucid+"=","&"),t2=_uGC(s,_ucsr+"=","&"),t3=_uGC(s,"gclid=","&"),(t!="-"&&t!=""||t2!="-"&&t2!=""||t3!="-"&&t3!="")&&(t!="-"&&t!=""&&(c+="utmcid="+_uEC(t)),t2!="-"&&t2!=""&&(c!=""&&(c+="|"),c+="utmcsr="+_uEC(t2)),t3!="-"&&t3!=""&&(c!=""&&(c+="|"),c+="utmgclid="+_uEC(t3)),t=_uGC(s,_uccn+"=","&"),c+=t!="-"&&t!=""?"|utmccn="+_uEC(t):"|utmccn=(not+set)",t=_uGC(s,_ucmd+"=","&"),c+=t!="-"&&t!=""?"|utmcmd="+_uEC(t):"|utmcmd=(not+set)",t=_uGC(s,_uctr+"=","&"),t!="-"&&t!=""?c+="|utmctr="+_uEC(t):(t=_uOrg(1),t!="-"&&t!=""&&(c+="|utmctr="+_uEC(t))),t=_uGC(s,_ucct+"=","&"),t!="-"&&t!=""&&(c+="|utmcct="+_uEC(t)),t=_uGC(s,_ucno+"=","&"),t=="1"&&(o=1),z!="-"&&o==1))||(c=="-"||c=="")&&(c=_uOrg(),z!="-"&&_ufno==1)||(c=="-"||c=="")&&(_ufns==0&&(c=_uRef()),z!="-"&&_ufno==1)||(c=="-"||c=="")&&(z=="-"&&_ufns==0&&(c="utmccn=(direct)|utmcsr=(direct)|utmcmd=(none)"),c=="-"||c==""))return"";z!="-"&&(i=z.indexOf("."),i>-1&&(i=z.indexOf(".",i+1)),i>-1&&(i=z.indexOf(".",i+1)),i>-1&&(i=z.indexOf(".",i+1)),t=z.substring(i+1,z.length),t.toLowerCase()==c.toLowerCase()&&(cs=1),t=z.substring(0,i),(i=t.lastIndexOf("."))>-1&&(t=t.substring(i+1,t.length),cn=t*1));(cs==0||_ufns==0)&&(t=_uGC(dc,"__utma="+_DomainHash+".",";"),(i=t.lastIndexOf("."))>9&&(_uns=t.substring(i+1,t.length),_uns=_uns*1),cn++,_uns==0&&(_uns=1),_DomainHash=getUniversalDomainHash(),_uInitialSessionTime=getUniversalInitialSessionTime(),_uBrowserDocument.cookie="__utmz="+_DomainHash+"."+_uInitialSessionTime+"."+_uns+"."+cn+"."+c+"; path="+_utcp+"; "+x+_udo)}}function getUniversalDomainHash(){var cookieValue=_uGetCookie("_ga");return cookieValue?cookieValue.split(".")[2]:_DomainHash}function getUniversalInitialSessionTime(){var cookieValue=_uGetCookie("_ga");return cookieValue?cookieValue.split(".")[3]:_uInitialSessionTime}function _uRef(){var i,h,k,n,ii;if(_ur=="0"||_ur==""||_ur=="-"||(i=0,(i=_ur.indexOf("://"))<0||_uGCse()))return"";for(h=_ur.substring(i+3,_ur.length),h.indexOf("/")>-1&&(k=h.substring(h.indexOf("/"),h.length),k.indexOf("?")>-1&&(k=k.substring(0,k.indexOf("?"))),h=h.substring(0,h.indexOf("/"))),h=h.toLowerCase(),n=h,(i=n.indexOf(":"))>-1&&(n=n.substring(0,i)),ii=0;ii<_uRno.length;ii++)if((i=n.indexOf(_uRno[ii].toLowerCase()))>-1&&n.length==i+_uRno[ii].length){_ufno=1;break}return h.indexOf("www.")==0&&(h=h.substring(4,h.length)),"utmccn=(referral)|utmcsr="+_uEC(h)+"|utmcct="+_uEC(k)+"|utmcmd=referral"}function _uOrg(t){var i,h,k,ii,yy;if(_ur=="0"||_ur==""||_ur=="-"||(i=0,(i=_ur.indexOf("://"))<0||_uGCse()))return"";for(h=_ur.substring(i+3,_ur.length),h.indexOf("/")>-1&&(h=h.substring(0,h.indexOf("/"))),ii=0;ii<_uOsr.length;ii++)if(h.toLowerCase().indexOf(_uOsr[ii].toLowerCase())>-1&&((i=_ur.indexOf("?"+_uOkw[ii]+"="))>-1||(i=_ur.indexOf("&"+_uOkw[ii]+"="))>-1)){for(k=_ur.substring(i+_uOkw[ii].length+2,_ur.length),(i=k.indexOf("&"))>-1&&(k=k.substring(0,i)),yy=0;yy<_uOno.length;yy++)if(_uOno[yy].toLowerCase()==k.toLowerCase()){_ufno=1;break}return t?_uEC(k):"utmccn=(organic)|utmcsr="+_uEC(_uOsr[ii])+"|utmctr="+_uEC(k)+"|utmcmd=organic"}return""}function _uGCse(){var h,p;return h=p=_ur.split("://")[1],h.indexOf("/")>-1&&(h=h.split("/")[0],p=p.substring(p.indexOf("/")+1,p.length)),p.indexOf("?")>-1&&(p=p.split("?")[0]),h.toLowerCase().indexOf("google")>-1&&(_ur.indexOf("?q=")>-1||_ur.indexOf("&q=")>-1)&&p.toLowerCase().indexOf("cse")>-1?!0:void 0}function _uGC(l,n,s){if(!l||l==""||!n||n==""||!s||s=="")return"-";var i,i2,i3,c="-";return i=l.indexOf(n),i3=n.indexOf("=")+1,i>-1&&(i2=l.indexOf(s,i),i2<0&&(i2=l.length),c=l.substring(i+i3,i2)),c}function _uDomain(){if(!_udn||_udn==""||_udn=="none")return _udn="",1;if(_udn=="auto"){var d=_uBrowserDocument.domain;d.substring(0,4)=="www."&&(d=d.substring(4,d.length));_udn=d}return(_udn=_udn.toLowerCase(),_uhash=="off")?1:_uHash(_udn)}function _uHash(d){var h,g,i,c;if(!d||d=="")return 1;for(h=0,g=0,i=d.length-1;i>=0;i--)c=parseInt(d.charCodeAt(i)),h=(h<<6&268435455)+c+(c<<14),(g=h&266338304)!=0&&(h=h^g>>21);return h}function _uEC(s){var n="",i;if(!s||s=="")return"";for(i=0;i<s.length;i++)n+=s.charAt(i)==" "?"+":s.charAt(i);return n}function _uIN(n){var i,c;if(!n)return!1;for(i=0;i<n.length;i++)if(c=n.charAt(i),(c<"0"||c>"9")&&c!=".")return!1;return!0}function _uEncodeString(s,u){return typeof encodeURIComponent=="function"?u?encodeURI(s):encodeURIComponent(s):escape(s)}function _uDecodeString(s){return typeof decodeURIComponent=="function"?decodeURIComponent(s):unescape(s)}function _uVG(){return(_udn.indexOf("www.google.")==0||_udn.indexOf(".google.")==0||_udn.indexOf("google.")==0)&&_utcp=="/"&&_udn.indexOf("google.org")==-1?!1:!0}function _uGetCookieExpire(){return new Date((new Date).getTime()+63072e6).toGMTString()}function _uGetCookie(name){var value="; "+document.cookie,parts=value.split("; "+name+"=");if(parts.length==2)return parts.pop().split(";").shift()}var _udn="auto",_uhash="on",_utimeout="1800",_ulink=0,_uanchor=0,_utcp="/",_ucto="15768000",_uccn="utm_campaign",_ucmd="utm_medium",_ucsr="utm_source",_uctr="utm_term",_ucct="utm_content",_ucid="utm_id",_ucno="utm_nooverride",_uOsr=[],_uOkw=[],initialize;_uOsr[0]="google";_uOkw[0]="q";_uOsr[1]="yahoo";_uOkw[1]="p";_uOsr[2]="msn";_uOkw[2]="q";_uOsr[3]="aol";_uOkw[3]="query";_uOsr[4]="aol";_uOkw[4]="encquery";_uOsr[5]="lycos";_uOkw[5]="query";_uOsr[6]="ask";_uOkw[6]="q";_uOsr[7]="altavista";_uOkw[7]="q";_uOsr[8]="netscape";_uOkw[8]="query";_uOsr[9]="cnn";_uOkw[9]="query";_uOsr[10]="looksmart";_uOkw[10]="qt";_uOsr[11]="about";_uOkw[11]="terms";_uOsr[12]="mamma";_uOkw[12]="query";_uOsr[13]="alltheweb";_uOkw[13]="q";_uOsr[14]="gigablast";_uOkw[14]="q";_uOsr[15]="voila";_uOkw[15]="rdata";_uOsr[16]="virgilio";_uOkw[16]="qs";_uOsr[17]="live";_uOkw[17]="q";_uOsr[18]="baidu";_uOkw[18]="wd";_uOsr[19]="alice";_uOkw[19]="qs";_uOsr[20]="yandex";_uOkw[20]="text";_uOsr[21]="najdi";_uOkw[21]="q";_uOsr[22]="aol";_uOkw[22]="q";_uOsr[23]="club-internet";_uOkw[23]="query";_uOsr[24]="mama";_uOkw[24]="query";_uOsr[25]="seznam";_uOkw[25]="q";_uOsr[26]="search";_uOkw[26]="q";_uOsr[27]="wp";_uOkw[27]="szukaj";_uOsr[28]="onet";_uOkw[28]="qt";_uOsr[29]="netsprint";_uOkw[29]="q";_uOsr[30]="google.interia";_uOkw[30]="q";_uOsr[31]="szukacz";_uOkw[31]="q";_uOsr[32]="yam";_uOkw[32]="k";_uOsr[33]="pchome";_uOkw[33]="q";_uOsr[34]="kvasir";_uOkw[34]="searchExpr";_uOsr[35]="sesam";_uOkw[35]="q";_uOsr[36]="ozu";_uOkw[36]="q";_uOsr[37]="terra";_uOkw[37]="query";_uOsr[38]="nostrum";_uOkw[38]="query";_uOsr[39]="mynet";_uOkw[39]="q";_uOsr[40]="ekolay";_uOkw[40]="q";_uOsr[41]="search.ilse";_uOkw[41]="search_for";_uOsr[42]="bing";_uOkw[42]="q";var _uOno=[],_uRno=[],_uff,_DomainHash,_udt,_ubl=0,_udo="",_uu,_ufns=0,_uns=0,_ur="-",_ufno=0,_uInitialSessionTime=0,_uBrowserDocument=document,_udl=_uBrowserDocument.location,_udlh="",_uwv="1.4";return _udl.hash&&(_udlh=_udl.href.substring(_udl.href.indexOf("#"))),_utcp&&_utcp!=""||(_utcp="/"),initialize=function(page){if(_udl.protocol!="file:"&&(!_uff||page&&page!="")){var a,b,c,xx,v,z,k,x="",s="",f=0,nv=0,nx=" expires="+_uGetCookieExpire()+";",dc=_uBrowserDocument.cookie;(_DomainHash=_uDomain(),_uVG())&&(_uu=Math.round(Math.random()*2147483647),_udt=new Date,_uInitialSessionTime=Math.round(_udt.getTime()/1e3),_udn&&_udn!=""&&(_udo=" domain="+_udn+";"),_utimeout&&_utimeout!=""&&(x=new Date(_udt.getTime()+_utimeout*1e3),x=" expires="+x.toGMTString()+";"),_ulink&&(_uanchor&&_udlh&&_udlh!=""&&(s=_udlh+"&"),s+=_udl.search,s&&s!=""&&s.indexOf("__utma=")>=0&&(_uIN(a=_uGC(s,"__utma=","&"))||(a="-"),_uIN(b=_uGC(s,"__utmb=","&"))||(b="-"),_uIN(c=_uGC(s,"__utmc=","&"))||(c="-"),v=_uGC(s,"__utmv=","&"),z=_uGC(s,"__utmz=","&"),k=_uGC(s,"__utmk=","&"),xx=_uGC(s,"__utmx=","&"),k*1!=_uHash(a+b+c+xx+z+v)*1+_DomainHash*1&&(_ubl=1,a="-",b="-",c="-",xx="-",z="-",v="-"),a!="-"&&b!="-"&&c!="-"?f=1:a!="-"&&(f=2))),_uCInfo())}},{initialize:initialize}}();typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.GetMobileApp=function(options){options=$.extend({buttonText:"Get App",textApplicationSource:null,placeholder:"Enter phone # to download",orangeButton:!1},options);var _self=this;this.statusMessage=ko.observable();this.validPhoneNumber=ko.observable(!0);this.showStatusMessage=ko.observable(!1);this.enable=ko.observable(!0);this.number=ko.observable();this.buttonText=ko.observable(options.buttonText);this.orangeButton=ko.observable(options.orangeButton);this.isError=ko.observable(!1);this.placeholder=options.placeholder;this.textApp=function(){_self.showStatusMessage(!1);_self.isError(!1);_self.number()&&(_self.enable(!1),_self.buttonText("Sending..."),$.ajax({type:"POST",url:"/Calendar/TextApplication",data:{phoneNumber:_self.number(),textApplicationSource:options.textApplicationSource},async:!0,success:function(result){result?_self.buttonText("Sent!"):(_self.enable(!0),_self.showStatusMessage(!0),_self.isError(!0),_self.buttonText(options.buttonText),_self.statusMessage("Error! Link wasn't sent."))},error:function(xhr,ajaxOptions,thrownError){_self.enable(!0);_self.showStatusMessage(!0);_self.isError(!0);_self.buttonText(options.buttonText);_self.statusMessage("Server error.")}}))}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.LogonPopup=function(params){var _self=this;params=$.extend({email:null,mode:"signin"},params);this.mode=ko.observable(params.mode);this.email=ko.observable(params.email);this.password=ko.observable(params.password);this.newPassword=ko.observable();this.confirmPassword=ko.observable();this.validationMessage=ko.observable();this.authyToken=ko.observable();this.lstoken=ko.observable();this.phoneNumberLast4=ko.observable();this.phoneNumber=ko.observable();this.showPasswordResetMessage=ko.observable(!1);this.passwordResetMessageEmail=ko.observable();this.mode.subscribe(function(){_self.showPasswordResetMessage(!1)});this.resetPassword=function(){$("#ForgotPasswordForm .formErrors").hide();$("#ForgotPasswordForm").valid()&&$("#ForgotPasswordForm .g-recaptcha-response").val()&&($("#SignInDialog").lsLoading("set"),ajaxData=$("#ForgotPasswordForm").formToArray(!0),LSHelper.HelperLib.blockUI($("#SignInDialog")),$.ajax({type:"POST",url:GetUrl("ForgotPasswordEnterEmail","Account"),data:ajaxData,success:function(data){$("#SignInDialog").lsLoading("remove");data.success?(_self.mode("signin"),LSHelper.HelperLib.unblockUI($("#SignInDialog")),_self.passwordResetMessageEmail(_self.email()),_self.showPasswordResetMessage(!0)):($("#ForgotPasswordForm .formErrors").html(data.error),$("#ForgotPasswordForm .formErrors").show(),LSHelper.HelperLib.unblockUI($("#SignInDialog")),$("#ForgotPasswordForm #Email").focus())},error:function(){$("#SignInDialog").lsLoading("remove");$("#ForgotPasswordForm .formErrors").text("Unable to communicate with server. Please refresh your browser and try again.");$("#ForgotPasswordForm .formErrors").show();LSHelper.HelperLib.unblockUI($("#SignInDialog"));$("#ForgotPasswordForm #Email").focus()}}))};_self.changePassword=function(){$("#changePasswordForm").valid()&&(_self.password()==_self.newPassword()&&_self.validationMessage("New password should be different from the old one"),$("#SignInDialog").lsLoading("set"),LSHelper.HelperLib.blockUI($("#SignInDialog")),_self.validationMessage(null),$.ajax({url:"/Account/ChangePasswordAndEnable",type:"POST",data:{email:_self.email(),oldPassword:_self.password(),newPassword:_self.newPassword(),confirmPassword:_self.confirmPassword()},success:function(data){data.success?(_self.password(),$.ajax({type:"POST",url:"/Account/LogOnPopUp",data:{userName:_self.email(),password:_self.newPassword()},success:function(data){data.success==!0?data.showTermsOfUse?showTermsOfUse(data):loginSuccess(data):_self.mode("signin")},complete:function(){$("#SignInDialog").lsLoading("remove");LSHelper.HelperLib.unblockUI($("#SignInDialog"))}})):(_self.validationMessage(data.message),$("#SignInDialog").lsLoading("remove"),LSHelper.HelperLib.unblockUI($("#SignInDialog")))},error:function(){$("#SignInDialog").lsLoading("remove");LSHelper.HelperLib.unblockUI($("#SignInDialog"))}}))};_self.twoFactorConfirm=function(){$("#twoFactorConfirm").valid()&&($("#SignInDialog").lsLoading("set"),LSHelper.HelperLib.blockUI($("#SignInDialog")),_self.validationMessage(null),$.ajax({url:"/Account/TwoFactorConfirm",type:"POST",data:{userName:_self.email(),authyToken:_self.authyToken(),lstoken:_self.lstoken()},success:function(data){data.success?data.showTermsOfUse?showTermsOfUse(data):loginSuccess(data):(_self.validationMessage(data.error),$("#SignInDialog").lsLoading("remove"),LSHelper.HelperLib.unblockUI($("#SignInDialog")))},error:function(){$("#SignInDialog").lsLoading("remove");LSHelper.HelperLib.unblockUI($("#SignInDialog"))}}))};_self.twoFactorRegister=function(){$("#twoFactorRegister").valid()&&($("#SignInDialog").lsLoading("set"),LSHelper.HelperLib.blockUI($("#SignInDialog")),_self.validationMessage(null),$.ajax({url:"/Account/TwoFactorRegister",type:"POST",data:{userName:_self.email(),phoneNumber:_self.phoneNumber(),lstoken:_self.lstoken()},success:function(data){data.success?data.showTwoFactorConfirmation?(_self.mode("tfConfirm"),_self.phoneNumberLast4(data.phoneNumberLast4),_self.lstoken(data.lstoken)):data.showTermsOfUse?showTermsOfUse(data):loginSuccess(data):_self.validationMessage(data.error)},complete:function(){$("#SignInDialog").lsLoading("remove");LSHelper.HelperLib.unblockUI($("#SignInDialog"))}}))};_self.resendTfConfirmation=function(){}},function($){"use strict";function MultipleSelect($el,options){var that=this,name=$el.attr("name")||options.name||"";this.options=options;this.$el=$el.hide();this.$label=this.$el.closest("label");this.$label.length===0&&this.$el.attr("id")&&(this.$label=$(sprintf('label[for="%s"]',this.$el.attr("id").replace(/:/g,"\\:"))));this.$parent=$(sprintf('<div class="ms-parent %s" %s/>',$el.attr("class")||"",sprintf('title="%s"',$el.attr("title"))));this.$choice=$(sprintf('<button type="button" class="ms-choice"><span class="placeholder">%s<\/span><div><\/div><\/button>',this.options.placeholder));this.$drop=$(sprintf('<div class="ms-drop %s"%s><\/div>',this.options.position,sprintf(' style="width: %s"',this.options.dropWidth)));this.$el.after(this.$parent);this.$parent.append(this.$choice);this.$parent.append(this.$drop);this.$el.prop("disabled")&&this.$choice.addClass("disabled");this.$parent.css("width",this.options.width||this.$el.css("width")||this.$el.outerWidth()+20);this.selectAllName='data-name="selectAll'+name+'"';this.selectGroupName='data-name="selectGroup'+name+'"';this.selectItemName='data-name="selectItem'+name+'"';this.options.keepOpen||$(document).click(function(e){$(e.target)[0]!==that.$choice[0]&&$(e.target).parents(".ms-choice")[0]!==that.$choice[0]&&($(e.target)[0]===that.$drop[0]||$(e.target).parents(".ms-drop")[0]!==that.$drop[0]&&e.target!==$el[0])&&that.options.isOpen&&that.close()})}var sprintf=function(str){var args=arguments,flag=!0,i=1;return str=str.replace(/%s/g,function(){var arg=args[i++];return typeof arg=="undefined"?(flag=!1,""):arg}),flag?str:""},removeDiacritics=function(str){for(var defaultDiacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],i=0;i<defaultDiacriticsRemovalMap.length;i++)str=str.replace(defaultDiacriticsRemovalMap[i].letters,defaultDiacriticsRemovalMap[i].base);return str};MultipleSelect.prototype={constructor:MultipleSelect,init:function(){var that=this,$ul=$("<ul><\/ul>");this.$drop.html("");this.options.filter&&this.$drop.append('<div class="ms-search"><input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false"><\/div>');this.options.selectAll&&!this.options.single&&$ul.append(['<li class="ms-select-all">',"<label>",sprintf('<input type="checkbox" %s /> ',this.selectAllName),this.options.selectAllDelimiter[0],this.options.selectAllText,this.options.selectAllDelimiter[1],"<\/label>","<\/li>"].join(""));$.each(this.$el.children(),function(i,elm){$ul.append(that.optionToHtml(i,elm))});$ul.append(sprintf('<li class="ms-no-results">%s<\/li>',this.options.noMatchesFound));this.$drop.append($ul);this.$drop.find("ul").css("max-height",this.options.maxHeight+"px");this.$drop.find(".multiple").css("width",this.options.multipleWidth+"px");this.$searchInput=this.$drop.find(".ms-search input");this.$selectAll=this.$drop.find("input["+this.selectAllName+"]");this.$selectGroups=this.$drop.find("input["+this.selectGroupName+"]");this.$selectItems=this.$drop.find("input["+this.selectItemName+"]:enabled");this.$disableItems=this.$drop.find("input["+this.selectItemName+"]:disabled");this.$noResults=this.$drop.find(".ms-no-results");this.events();this.updateSelectAll(!0);this.update(!0);this.options.isOpen&&this.open()},optionToHtml:function(i,elm,group,groupDisabled){var that=this,$elm=$(elm),classes=$elm.attr("class")||"",title=sprintf('title="%s"',$elm.attr("title")),multiple=this.options.multiple?"multiple":"",disabled,type=this.options.single?"radio":"checkbox",label,$group;if($elm.is("option")){var value=$elm.val(),text=that.options.textTemplate($elm),selected=$elm.prop("selected"),style=sprintf('style="%s"',this.options.styler(value)),$el;return disabled=groupDisabled||$elm.prop("disabled"),$el=$([sprintf('<li class="%s %s" %s %s>',multiple,classes,title,style),sprintf('<label class="%s">',disabled?"disabled":""),sprintf('<input type="%s" %s%s%s%s>',type,this.selectItemName,selected?' checked="checked"':"",disabled?' disabled="disabled"':"",sprintf(' data-group="%s"',group)),sprintf("<span>%s<\/span>",text),"<\/label>","<\/li>"].join("")),$el.find("input").val(value),$el}if($elm.is("optgroup"))return label=that.options.labelTemplate($elm),$group=$("<div/>"),group="group_"+i,disabled=$elm.prop("disabled"),$group.append(['<li class="group">',sprintf('<label class="optgroup %s" data-group="%s">',disabled?"disabled":"",group),this.options.hideOptgroupCheckboxes||this.options.single?"":sprintf('<input type="checkbox" %s %s>',this.selectGroupName,disabled?'disabled="disabled"':""),label,"<\/label>","<\/li>"].join("")),$.each($elm.children(),function(i,elm){$group.append(that.optionToHtml(i,elm,group,disabled))}),$group.html()},events:function(){var that=this,toggleOpen=function(e){e.preventDefault();that[that.options.isOpen?"close":"open"]()};if(this.$label)this.$label.off("click").on("click",function(e){e.target.nodeName.toLowerCase()==="label"&&e.target===this&&(toggleOpen(e),that.options.filter&&that.options.isOpen||that.focus(),e.stopPropagation())});this.$choice.off("click").on("click",toggleOpen).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",this.options.onBlur);this.$parent.off("keydown").on("keydown",function(e){switch(e.which){case 27:that.close();that.$choice.focus();break}});this.$searchInput.off("keydown").on("keydown",function(e){e.keyCode===9&&e.shiftKey&&that.close()}).off("keyup").on("keyup",function(e){if(that.options.filterAcceptOnEnter&&(e.which===13||e.which==32)&&that.$searchInput.val()){that.$selectAll.click();that.close();that.focus();return}that.filter()});this.$selectAll.off("click").on("click",function(){var checked=$(this).prop("checked"),$items=that.$selectItems.filter(":visible");$items.length===that.$selectItems.length?that[checked?"checkAll":"uncheckAll"]():(that.$selectGroups.prop("checked",checked),$items.prop("checked",checked),that.options[checked?"onCheckAll":"onUncheckAll"](),that.update())});this.$selectGroups.off("click").on("click",function(){var group=$(this).parent().attr("data-group"),$items=that.$selectItems.filter(":visible"),$children=$items.filter(sprintf('[data-group="%s"]',group)),checked=$children.length!==$children.filter(":checked").length;$children.prop("checked",checked);that.updateSelectAll();that.update();that.options.onOptgroupClick({label:$(this).parent().text(),checked:checked,children:$children.get(),instance:that})});this.$selectItems.off("click").on("click",function(){that.updateSelectAll();that.update();that.updateOptGroupSelect();that.options.onClick({label:$(this).parent().text(),value:$(this).val(),checked:$(this).prop("checked"),instance:that});if(that.options.single&&that.options.isOpen&&!that.options.keepOpen&&that.close(),that.options.single){var clickedVal=$(this).val();that.$selectItems.filter(function(){return $(this).val()!==clickedVal}).each(function(){$(this).prop("checked",!1)});that.update()}})},open:function(){if(!this.$choice.hasClass("disabled")){if(this.options.isOpen=!0,this.$choice.find(">div").addClass("open"),this.$drop[this.animateMethod("show")](),this.$selectAll.parent().show(),this.$noResults.hide(),this.$el.children().length||(this.$selectAll.parent().hide(),this.$noResults.show()),this.options.container){var offset=this.$drop.offset();this.$drop.appendTo($(this.options.container));this.$drop.offset({top:offset.top,left:offset.left})}this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter());this.options.onOpen()}},close:function(){this.options.isOpen=!1;this.$choice.find(">div").removeClass("open");this.$drop[this.animateMethod("hide")]();this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"}));this.options.onClose()},animateMethod:function(method){var methods={show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}};return methods[method][this.options.animate]||method},update:function(isInit){var selects=this.options.displayValues?this.getSelects():this.getSelects("text"),$span=this.$choice.find(">span"),sl=selects.length;sl===0?$span.addClass("placeholder").html(this.options.placeholder):this.options.allSelected&&sl===this.$selectItems.length+this.$disableItems.length?$span.removeClass("placeholder").html(this.options.allSelected):this.options.ellipsis&&sl>this.options.minimumCountSelected?$span.removeClass("placeholder").text(selects.slice(0,this.options.minimumCountSelected).join(this.options.delimiter)+"..."):this.options.countSelected&&sl>this.options.minimumCountSelected?$span.removeClass("placeholder").html(this.options.countSelected.replace("#",selects.length).replace("%",this.$selectItems.length+this.$disableItems.length)):$span.removeClass("placeholder").text(selects.join(this.options.delimiter));this.options.addTitle&&$span.prop("title",this.getSelects("text"));this.$el.val(this.getSelects()).trigger("change");this.$drop.find("li").removeClass("selected");this.$drop.find("input:checked").each(function(){$(this).parents("li").first().addClass("selected")});isInit||this.$el.trigger("change")},updateSelectAll:function(isInit){var $items=this.$selectItems;isInit||($items=$items.filter(":visible"));this.$selectAll.prop("checked",$items.length&&$items.length===$items.filter(":checked").length);!isInit&&this.$selectAll.prop("checked")&&this.options.onCheckAll()},updateOptGroupSelect:function(){var $items=this.$selectItems.filter(":visible");$.each(this.$selectGroups,function(i,val){var group=$(val).parent().attr("data-group"),$children=$items.filter(sprintf('[data-group="%s"]',group));$(val).prop("checked",$children.length&&$children.length===$children.filter(":checked").length)})},getSelects:function(type){var that=this,texts=[],values=[];return this.$drop.find(sprintf("input[%s]:checked",this.selectItemName)).each(function(){texts.push($(this).parents("li").first().text());values.push($(this).val())}),type==="text"&&this.$selectGroups.length&&(texts=[],this.$selectGroups.each(function(){var html=[],text=$.trim($(this).parent().text()),group=$(this).parent().data("group"),$children=that.$drop.find(sprintf('[%s][data-group="%s"]',that.selectItemName,group)),$selected=$children.filter(":checked"),list;$selected.length&&(html.push("["),html.push(text),$children.length>$selected.length&&(list=[],$selected.each(function(){list.push($(this).parent().text())}),html.push(": "+list.join(", "))),html.push("]"),texts.push(html.join("")))})),type==="text"?texts:values},setSelects:function(values){var that=this;this.$selectItems.prop("checked",!1);this.$disableItems.prop("checked",!1);$.each(values,function(i,value){that.$selectItems.filter(sprintf('[value="%s"]',value)).prop("checked",!0);that.$disableItems.filter(sprintf('[value="%s"]',value)).prop("checked",!0)});this.$selectAll.prop("checked",this.$selectItems.length===this.$selectItems.filter(":checked").length+this.$disableItems.filter(":checked").length);$.each(that.$selectGroups,function(i,val){var group=$(val).parent().attr("data-group"),$children=that.$selectItems.filter('[data-group="'+group+'"]');$(val).prop("checked",$children.length&&$children.length===$children.filter(":checked").length)});this.update()},enable:function(){this.$choice.removeClass("disabled")},disable:function(){this.$choice.addClass("disabled")},checkAll:function(){this.$selectItems.prop("checked",!0);this.$selectGroups.prop("checked",!0);this.$selectAll.prop("checked",!0);this.update();this.options.onCheckAll()},uncheckAll:function(){this.$selectItems.prop("checked",!1);this.$selectGroups.prop("checked",!1);this.$selectAll.prop("checked",!1);this.update();this.options.onUncheckAll()},focus:function(){this.$choice.focus();this.options.onFocus()},blur:function(){this.$choice.blur();this.options.onBlur()},refresh:function(){this.init()},filter:function(){var that=this,text=$.trim(this.$searchInput.val()).toLowerCase();text.length===0?(this.$selectAll.parent().show(),this.$selectItems.parent().show(),this.$disableItems.parent().show(),this.$selectGroups.parent().show(),this.$noResults.hide()):(this.$selectItems.each(function(){var $parent=$(this).parent();$parent[removeDiacritics($parent.text().toLowerCase()).indexOf(removeDiacritics(text))<0?"hide":"show"]()}),this.$disableItems.parent().hide(),this.$selectGroups.each(function(){var $parent=$(this).parent(),group=$parent.attr("data-group"),$items=that.$selectItems.filter(":visible");$parent[$items.filter(sprintf('[data-group="%s"]',group)).length?"show":"hide"]()}),this.$selectItems.parent().filter(":visible").length?(this.$selectAll.parent().show(),this.$noResults.hide()):(this.$selectAll.parent().hide(),this.$noResults.show()));this.updateOptGroupSelect();this.updateSelectAll();this.options.onFilter(text)}};$.fn.multipleSelect=function(){var option=arguments[0],args=arguments,value,allowedMethods=["getSelects","setSelects","enable","disable","open","close","checkAll","uncheckAll","focus","blur","refresh","close"];return this.each(function(){var $this=$(this),data=$this.data("multipleSelect"),options=$.extend({},$.fn.multipleSelect.defaults,$this.data(),typeof option=="object"&&option);if(data||(data=new MultipleSelect($this,options),$this.data("multipleSelect",data)),typeof option=="string"){if($.inArray(option,allowedMethods)<0)throw"Unknown method: "+option;value=data[option](args[1])}else data.init(),args[1]&&(value=data[args[1]].apply(data,[].slice.call(args,2)))}),typeof value!="undefined"?value:this};$.fn.multipleSelect.defaults={name:"",isOpen:!1,placeholder:"",selectAll:!0,selectAllDelimiter:["[","]"],minimumCountSelected:3,ellipsis:!1,multiple:!1,multipleWidth:80,single:!1,filter:!1,width:undefined,dropWidth:undefined,maxHeight:250,container:null,position:"bottom",keepOpen:!1,animate:"none",displayValues:!1,delimiter:", ",addTitle:!1,filterAcceptOnEnter:!1,hideOptgroupCheckboxes:!1,selectAllText:"Select all",allSelected:"All selected",countSelected:"# of % selected",noMatchesFound:"No matches found",styler:function(){return!1},textTemplate:function($elm){return $elm.html()},labelTemplate:function($elm){return $elm.attr("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1}}}(jQuery);
/*!
 * Cropper.js v1.1.3
 * https://github.com/fengyuanchen/cropperjs
 *
 * Copyright (c) 2015-2017 Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2017-10-21T09:27:36.848Z
 */
(function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):global.Cropper=factory()})(this,function(){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else return Array.from(arr)}function isNumber(value){return typeof value=="number"&&!isNaN(value)}function isUndefined(value){return typeof value=="undefined"}function isObject(value){return(typeof value=="undefined"?"undefined":_typeof(value))==="object"&&value!==null}function isPlainObject(value){if(!isObject(value))return!1;try{var _constructor=value.constructor,prototype=_constructor.prototype;return _constructor&&prototype&&hasOwnProperty.call(prototype,"isPrototypeOf")}catch(e){return!1}}function isFunction(value){return typeof value=="function"}function each(data,callback){if(data&&isFunction(callback))if(Array.isArray(data)||isNumber(data.length)){for(var length=data.length,i=void 0,i=0;i<length;i+=1)if(callback.call(data,data[i],i,data)===!1)break}else isObject(data)&&Object.keys(data).forEach(function(key){callback.call(data,data[key],key,data)});return data}function extend(obj){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];if(isObject(obj)&&args.length>0){if(Object.assign)return Object.assign.apply(Object,[obj].concat(args));args.forEach(function(arg){isObject(arg)&&Object.keys(arg).forEach(function(key){obj[key]=arg[key]})})}return obj}function proxy(fn,context){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];return function(){for(var _len3=arguments.length,args2=Array(_len3),_key3=0;_key3<_len3;_key3++)args2[_key3]=arguments[_key3];return fn.apply(context,args.concat(args2))}}function normalizeDecimalNumber(value){var times=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return REGEXP_DECIMALS.test(value)?Math.round(value*times)/times:value}function setStyle(element,styles){var style=element.style;each(styles,function(value,property){REGEXP_SUFFIX.test(property)&&isNumber(value)&&(value+="px");style[property]=value})}function hasClass(element,value){return element.classList?element.classList.contains(value):element.className.indexOf(value)>-1}function addClass(element,value){if(value){if(isNumber(element.length)){each(element,function(elem){addClass(elem,value)});return}if(element.classList){element.classList.add(value);return}var className=element.className.trim();className?className.indexOf(value)<0&&(element.className=className+" "+value):element.className=value}}function removeClass(element,value){if(value){if(isNumber(element.length)){each(element,function(elem){removeClass(elem,value)});return}if(element.classList){element.classList.remove(value);return}element.className.indexOf(value)>=0&&(element.className=element.className.replace(value,""))}}function toggleClass(element,value,added){if(value){if(isNumber(element.length)){each(element,function(elem){toggleClass(elem,value,added)});return}added?addClass(element,value):removeClass(element,value)}}function hyphenate(value){return value.replace(REGEXP_HYPHENATE,"$1-$2").toLowerCase()}function getData(element,name){if(isObject(element[name]))return element[name];else if(element.dataset)return element.dataset[name];return element.getAttribute("data-"+hyphenate(name))}function setData(element,name,data){isObject(data)?element[name]=data:element.dataset?element.dataset[name]=data:element.setAttribute("data-"+hyphenate(name),data)}function removeData(element,name){if(isObject(element[name]))delete element[name];else if(element.dataset)try{delete element.dataset[name]}catch(e){element.dataset[name]=null}else element.removeAttribute("data-"+hyphenate(name))}function removeListener(element,type,listener){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},types;if(isFunction(listener)){if(types=type.trim().split(REGEXP_SPACES),types.length>1){each(types,function(t){removeListener(element,t,listener)});return}isFunction(listener.onceListener)&&(listener=listener.onceListener,delete listener.onceListener);element.removeEventListener?element.removeEventListener(type,listener,options):element.detachEvent&&element.detachEvent("on"+type,listener)}}function addListener(element,type,listener){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},types,originalListener,onceListener;if(isFunction(listener)){if(types=type.trim().split(REGEXP_SPACES),types.length>1){each(types,function(t){addListener(element,t,listener)});return}options.once&&(originalListener=listener,onceListener=function onceListener(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return removeListener(element,type,onceListener),originalListener.apply(element,args)},originalListener.onceListener=onceListener,listener=onceListener);element.addEventListener?element.addEventListener(type,listener,options):element.attachEvent&&element.attachEvent("on"+type,listener)}}function dispatchEvent(element,type,data){if(element.dispatchEvent){var event=void 0;return isFunction(Event)&&isFunction(CustomEvent)?event=isUndefined(data)?new Event(type,{bubbles:!0,cancelable:!0}):new CustomEvent(type,{detail:data,bubbles:!0,cancelable:!0}):isUndefined(data)?(event=document.createEvent("Event"),event.initEvent(type,!0,!0)):(event=document.createEvent("CustomEvent"),event.initCustomEvent(type,!0,!0,data)),element.dispatchEvent(event)}else if(element.fireEvent)return element.fireEvent("on"+type);return!0}function getOffset(element){var doc=document.documentElement,box=element.getBoundingClientRect();return{left:box.left+((window.scrollX||doc&&doc.scrollLeft||0)-(doc&&doc.clientLeft||0)),top:box.top+((window.scrollY||doc&&doc.scrollTop||0)-(doc&&doc.clientTop||0))}}function empty(element){while(element.firstChild)element.removeChild(element.firstChild)}function isCrossOriginURL(url){var parts=url.match(REGEXP_ORIGINS);return parts&&(parts[1]!==location.protocol||parts[2]!==location.hostname||parts[3]!==location.port)}function addTimestamp(url){var timestamp="timestamp="+(new Date).getTime();return url+(url.indexOf("?")===-1?"?":"&")+timestamp}function getTransforms(_ref){var rotate=_ref.rotate,scaleX=_ref.scaleX,scaleY=_ref.scaleY,translateX=_ref.translateX,translateY=_ref.translateY,values=[],transform;return isNumber(translateX)&&translateX!==0&&values.push("translateX("+translateX+"px)"),isNumber(translateY)&&translateY!==0&&values.push("translateY("+translateY+"px)"),isNumber(rotate)&&rotate!==0&&values.push("rotate("+rotate+"deg)"),isNumber(scaleX)&&scaleX!==1&&values.push("scaleX("+scaleX+")"),isNumber(scaleY)&&scaleY!==1&&values.push("scaleY("+scaleY+")"),transform=values.length?values.join(" "):"none",{WebkitTransform:transform,msTransform:transform,transform:transform}}function getImageNaturalSizes(image,callback){if(image.naturalWidth&&!IS_SAFARI_OR_UIWEBVIEW){callback(image.naturalWidth,image.naturalHeight);return}var newImage=document.createElement("img");newImage.onload=function(){callback(newImage.width,newImage.height)};newImage.src=image.src}function getMaxZoomRatio(pointers){var pointers2=extend({},pointers),ratios=[];return each(pointers,function(pointer,pointerId){delete pointers2[pointerId];each(pointers2,function(pointer2){var x1=Math.abs(pointer.startX-pointer2.startX),y1=Math.abs(pointer.startY-pointer2.startY),x2=Math.abs(pointer.endX-pointer2.endX),y2=Math.abs(pointer.endY-pointer2.endY),z1=Math.sqrt(x1*x1+y1*y1),z2=Math.sqrt(x2*x2+y2*y2),ratio=(z2-z1)/z1;ratios.push(ratio)})}),ratios.sort(function(a,b){return Math.abs(a)<Math.abs(b)}),ratios[0]}function getPointer(_ref2,endOnly){var pageX=_ref2.pageX,pageY=_ref2.pageY,end={endX:pageX,endY:pageY};return endOnly?end:extend({startX:pageX,startY:pageY},end)}function getPointersCenter(pointers){var pageX=0,pageY=0,count=0;return each(pointers,function(_ref3){var startX=_ref3.startX,startY=_ref3.startY;pageX+=startX;pageY+=startY;count+=1}),pageX/=count,pageY/=count,{pageX:pageX,pageY:pageY}}function getContainSizes(_ref4){var aspectRatio=_ref4.aspectRatio,height=_ref4.height,width=_ref4.width,isValidNumber=function(value){return isFinite(value)&&value>0};return isValidNumber(width)&&isValidNumber(height)?height*aspectRatio>width?height=width/aspectRatio:width=height*aspectRatio:isValidNumber(width)?height=width/aspectRatio:isValidNumber(height)&&(width=height*aspectRatio),{width:width,height:height}}function getRotatedSizes(_ref5){var width=_ref5.width,height=_ref5.height,degree=_ref5.degree;if(degree=Math.abs(degree),degree%180==90)return{width:height,height:width};var arc=degree%90*Math.PI/180,sinArc=Math.sin(arc),cosArc=Math.cos(arc);return{width:width*cosArc+height*sinArc,height:width*sinArc+height*cosArc}}function getSourceCanvas(image,_ref6,_ref7,_ref8){var imageNaturalWidth=_ref6.naturalWidth,imageNaturalHeight=_ref6.naturalHeight,_ref6$rotate=_ref6.rotate,rotate=_ref6$rotate===undefined?0:_ref6$rotate,_ref6$scaleX=_ref6.scaleX,scaleX=_ref6$scaleX===undefined?1:_ref6$scaleX,_ref6$scaleY=_ref6.scaleY,scaleY=_ref6$scaleY===undefined?1:_ref6$scaleY,aspectRatio=_ref7.aspectRatio,naturalWidth=_ref7.naturalWidth,naturalHeight=_ref7.naturalHeight,_ref8$fillColor=_ref8.fillColor,fillColor=_ref8$fillColor===undefined?"transparent":_ref8$fillColor,_ref8$imageSmoothingE=_ref8.imageSmoothingEnabled,imageSmoothingEnabled=_ref8$imageSmoothingE===undefined?!0:_ref8$imageSmoothingE,_ref8$imageSmoothingQ=_ref8.imageSmoothingQuality,imageSmoothingQuality=_ref8$imageSmoothingQ===undefined?"low":_ref8$imageSmoothingQ,_ref8$maxWidth=_ref8.maxWidth,maxWidth=_ref8$maxWidth===undefined?Infinity:_ref8$maxWidth,_ref8$maxHeight=_ref8.maxHeight,maxHeight=_ref8$maxHeight===undefined?Infinity:_ref8$maxHeight,_ref8$minWidth=_ref8.minWidth,minWidth=_ref8$minWidth===undefined?0:_ref8$minWidth,_ref8$minHeight=_ref8.minHeight,minHeight=_ref8$minHeight===undefined?0:_ref8$minHeight,canvas=document.createElement("canvas"),context=canvas.getContext("2d"),maxSizes=getContainSizes({aspectRatio:aspectRatio,width:maxWidth,height:maxHeight}),minSizes=getContainSizes({aspectRatio:aspectRatio,width:minWidth,height:minHeight}),width=Math.min(maxSizes.width,Math.max(minSizes.width,naturalWidth)),height=Math.min(maxSizes.height,Math.max(minSizes.height,naturalHeight)),params=[-imageNaturalWidth/2,-imageNaturalHeight/2,imageNaturalWidth,imageNaturalHeight];return canvas.width=normalizeDecimalNumber(width),canvas.height=normalizeDecimalNumber(height),context.fillStyle=fillColor,context.fillRect(0,0,width,height),context.save(),context.translate(width/2,height/2),context.rotate(rotate*Math.PI/180),context.scale(scaleX,scaleY),context.imageSmoothingEnabled=imageSmoothingEnabled,context.imageSmoothingQuality=imageSmoothingQuality,context.drawImage.apply(context,[image].concat(_toConsumableArray(params.map(function(param){return Math.floor(normalizeDecimalNumber(param))})))),context.restore(),canvas}function getStringFromCharCode(dataView,start,length){var str="",i=void 0;for(length+=start,i=start;i<length;i+=1)str+=fromCharCode(dataView.getUint8(i));return str}function dataURLToArrayBuffer(dataURL){var base64=dataURL.replace(REGEXP_DATA_URL_HEAD,""),binary=atob(base64),arrayBuffer=new ArrayBuffer(binary.length),uint8=new Uint8Array(arrayBuffer);return each(uint8,function(value,i){uint8[i]=binary.charCodeAt(i)}),arrayBuffer}function arrayBufferToDataURL(arrayBuffer,mimeType){var uint8=new Uint8Array(arrayBuffer),data="";return each(uint8,function(value){data+=fromCharCode(value)}),"data:"+mimeType+";base64,"+btoa(data)}function getOrientation(arrayBuffer){var dataView=new DataView(arrayBuffer),orientation=void 0,littleEndian=void 0,app1Start=void 0,ifdStart=void 0,length,offset,exifIDCode,tiffOffset,endianness,firstIFDOffset;if(dataView.getUint8(0)===255&&dataView.getUint8(1)===216)for(length=dataView.byteLength,offset=2;offset<length;){if(dataView.getUint8(offset)===255&&dataView.getUint8(offset+1)===225){app1Start=offset;break}offset+=1}if(app1Start&&(exifIDCode=app1Start+4,tiffOffset=app1Start+10,getStringFromCharCode(dataView,exifIDCode,4)==="Exif"&&(endianness=dataView.getUint16(tiffOffset),littleEndian=endianness===18761,(littleEndian||endianness===19789)&&dataView.getUint16(tiffOffset+2,littleEndian)===42&&(firstIFDOffset=dataView.getUint32(tiffOffset+4,littleEndian),firstIFDOffset>=8&&(ifdStart=tiffOffset+firstIFDOffset)))),ifdStart)for(var _length=dataView.getUint16(ifdStart,littleEndian),_offset=void 0,i=void 0,i=0;i<_length;i+=1)if(_offset=ifdStart+i*12+2,dataView.getUint16(_offset,littleEndian)===274){_offset+=8;orientation=dataView.getUint16(_offset,littleEndian);dataView.setUint16(_offset,1,littleEndian);break}return orientation}function parseOrientation(orientation){var rotate=0,scaleX=1,scaleY=1;switch(orientation){case 2:scaleX=-1;break;case 3:rotate=-180;break;case 4:scaleY=-1;break;case 5:rotate=90;scaleY=-1;break;case 6:rotate=90;break;case 7:rotate=90;scaleX=-1;break;case 8:rotate=-90;break;default:}return{rotate:rotate,scaleX:scaleX,scaleY:scaleY}}function _toConsumableArray$1(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}var WINDOW=typeof window!="undefined"?window:{},NAMESPACE="cropper",ACTION_ALL="all",ACTION_CROP="crop",ACTION_MOVE="move",ACTION_ZOOM="zoom",ACTION_EAST="e",ACTION_WEST="w",ACTION_SOUTH="s",ACTION_NORTH="n",ACTION_NORTH_EAST="ne",ACTION_NORTH_WEST="nw",ACTION_SOUTH_EAST="se",ACTION_SOUTH_WEST="sw",CLASS_CROP=NAMESPACE+"-crop",CLASS_DISABLED=NAMESPACE+"-disabled",CLASS_HIDDEN=NAMESPACE+"-hidden",CLASS_HIDE=NAMESPACE+"-hide",CLASS_INVISIBLE=NAMESPACE+"-invisible",CLASS_MODAL=NAMESPACE+"-modal",CLASS_MOVE=NAMESPACE+"-move",DATA_ACTION="action",DATA_PREVIEW="preview",DRAG_MODE_CROP="crop",DRAG_MODE_MOVE="move",DRAG_MODE_NONE="none",EVENT_CROP="crop",EVENT_CROP_END="cropend",EVENT_CROP_MOVE="cropmove",EVENT_CROP_START="cropstart",EVENT_DBLCLICK="dblclick",EVENT_ERROR="error",EVENT_LOAD="load",EVENT_POINTER_DOWN=WINDOW.PointerEvent?"pointerdown":"touchstart mousedown",EVENT_POINTER_MOVE=WINDOW.PointerEvent?"pointermove":"touchmove mousemove",EVENT_POINTER_UP=WINDOW.PointerEvent?" pointerup pointercancel":"touchend touchcancel mouseup",EVENT_READY="ready",EVENT_RESIZE="resize",EVENT_WHEEL="wheel mousewheel DOMMouseScroll",EVENT_ZOOM="zoom",REGEXP_ACTIONS=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,REGEXP_DATA_URL=/^data:/,REGEXP_DATA_URL_JPEG=/^data:image\/jpeg;base64,/,REGEXP_TAG_NAME=/^(img|canvas)$/i,DEFAULTS={viewMode:0,dragMode:DRAG_MODE_CROP,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"><\/div><\/div><div class="cropper-drag-box"><\/div><div class="cropper-crop-box"><span class="cropper-view-box"><\/span><span class="cropper-dashed dashed-h"><\/span><span class="cropper-dashed dashed-v"><\/span><span class="cropper-center"><\/span><span class="cropper-face"><\/span><span class="cropper-line line-e" data-action="e"><\/span><span class="cropper-line line-n" data-action="n"><\/span><span class="cropper-line line-w" data-action="w"><\/span><span class="cropper-line line-s" data-action="s"><\/span><span class="cropper-point point-e" data-action="e"><\/span><span class="cropper-point point-n" data-action="n"><\/span><span class="cropper-point point-w" data-action="w"><\/span><span class="cropper-point point-s" data-action="s"><\/span><span class="cropper-point point-ne" data-action="ne"><\/span><span class="cropper-point point-nw" data-action="nw"><\/span><span class="cropper-point point-sw" data-action="sw"><\/span><span class="cropper-point point-se" data-action="se"><\/span><\/div><\/div>',_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isNaN=Number.isNaN||WINDOW.isNaN,hasOwnProperty=Object.prototype.hasOwnProperty,REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/i,REGEXP_SUFFIX=/^(width|height|left|top|marginLeft|marginTop)$/,REGEXP_HYPHENATE=/([a-z\d])([A-Z])/g,REGEXP_SPACES=/\s+/,location=WINDOW.location,REGEXP_ORIGINS=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,navigator=WINDOW.navigator,IS_SAFARI_OR_UIWEBVIEW=navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent),isFinite=Number.isFinite||WINDOW.isFinite,fromCharCode=String.fromCharCode,REGEXP_DATA_URL_HEAD=/^data:.*,/,render={render:function(){this.initContainer();this.initCanvas();this.initCropBox();this.renderCanvas();this.cropped&&this.renderCropBox()},initContainer:function(){var element=this.element,options=this.options,container=this.container,cropper=this.cropper,containerData;addClass(cropper,CLASS_HIDDEN);removeClass(element,CLASS_HIDDEN);containerData={width:Math.max(container.offsetWidth,Number(options.minContainerWidth)||200),height:Math.max(container.offsetHeight,Number(options.minContainerHeight)||100)};this.containerData=containerData;setStyle(cropper,{width:containerData.width,height:containerData.height});addClass(element,CLASS_HIDDEN);removeClass(cropper,CLASS_HIDDEN)},initCanvas:function(){var containerData=this.containerData,imageData=this.imageData,viewMode=this.options.viewMode,rotated=Math.abs(imageData.rotate)%180==90,naturalWidth=rotated?imageData.naturalHeight:imageData.naturalWidth,naturalHeight=rotated?imageData.naturalWidth:imageData.naturalHeight,aspectRatio=naturalWidth/naturalHeight,canvasWidth=containerData.width,canvasHeight=containerData.height,canvasData;containerData.height*aspectRatio>containerData.width?viewMode===3?canvasWidth=containerData.height*aspectRatio:canvasHeight=containerData.width/aspectRatio:viewMode===3?canvasHeight=containerData.width/aspectRatio:canvasWidth=containerData.height*aspectRatio;canvasData={aspectRatio:aspectRatio,naturalWidth:naturalWidth,naturalHeight:naturalHeight,width:canvasWidth,height:canvasHeight};canvasData.left=(containerData.width-canvasWidth)/2;canvasData.top=(containerData.height-canvasHeight)/2;canvasData.oldLeft=canvasData.left;canvasData.oldTop=canvasData.top;this.canvasData=canvasData;this.limited=viewMode===1||viewMode===2;this.limitCanvas(!0,!0);this.initialImageData=extend({},imageData);this.initialCanvasData=extend({},canvasData)},limitCanvas:function(sizeLimited,positionLimited){var options=this.options,containerData=this.containerData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,viewMode=options.viewMode,aspectRatio=canvasData.aspectRatio,cropped=this.cropped&&cropBoxData,minCanvasWidth,minCanvasHeight,_getContainSizes,newCanvasLeft,newCanvasTop;sizeLimited&&(minCanvasWidth=Number(options.minCanvasWidth)||0,minCanvasHeight=Number(options.minCanvasHeight)||0,viewMode>1?(minCanvasWidth=Math.max(minCanvasWidth,containerData.width),minCanvasHeight=Math.max(minCanvasHeight,containerData.height),viewMode===3&&(minCanvasHeight*aspectRatio>minCanvasWidth?minCanvasWidth=minCanvasHeight*aspectRatio:minCanvasHeight=minCanvasWidth/aspectRatio)):viewMode>0&&(minCanvasWidth?minCanvasWidth=Math.max(minCanvasWidth,cropped?cropBoxData.width:0):minCanvasHeight?minCanvasHeight=Math.max(minCanvasHeight,cropped?cropBoxData.height:0):cropped&&(minCanvasWidth=cropBoxData.width,minCanvasHeight=cropBoxData.height,minCanvasHeight*aspectRatio>minCanvasWidth?minCanvasWidth=minCanvasHeight*aspectRatio:minCanvasHeight=minCanvasWidth/aspectRatio)),_getContainSizes=getContainSizes({aspectRatio:aspectRatio,width:minCanvasWidth,height:minCanvasHeight}),minCanvasWidth=_getContainSizes.width,minCanvasHeight=_getContainSizes.height,canvasData.minWidth=minCanvasWidth,canvasData.minHeight=minCanvasHeight,canvasData.maxWidth=Infinity,canvasData.maxHeight=Infinity);positionLimited&&(viewMode?(newCanvasLeft=containerData.width-canvasData.width,newCanvasTop=containerData.height-canvasData.height,canvasData.minLeft=Math.min(0,newCanvasLeft),canvasData.minTop=Math.min(0,newCanvasTop),canvasData.maxLeft=Math.max(0,newCanvasLeft),canvasData.maxTop=Math.max(0,newCanvasTop),cropped&&this.limited&&(canvasData.minLeft=Math.min(cropBoxData.left,cropBoxData.left+(cropBoxData.width-canvasData.width)),canvasData.minTop=Math.min(cropBoxData.top,cropBoxData.top+(cropBoxData.height-canvasData.height)),canvasData.maxLeft=cropBoxData.left,canvasData.maxTop=cropBoxData.top,viewMode===2&&(canvasData.width>=containerData.width&&(canvasData.minLeft=Math.min(0,newCanvasLeft),canvasData.maxLeft=Math.max(0,newCanvasLeft)),canvasData.height>=containerData.height&&(canvasData.minTop=Math.min(0,newCanvasTop),canvasData.maxTop=Math.max(0,newCanvasTop))))):(canvasData.minLeft=-canvasData.width,canvasData.minTop=-canvasData.height,canvasData.maxLeft=containerData.width,canvasData.maxTop=containerData.height))},renderCanvas:function(changed,transformed){var canvasData=this.canvasData,imageData=this.imageData;if(transformed){var _getRotatedSizes=getRotatedSizes({width:imageData.naturalWidth*Math.abs(imageData.scaleX||1),height:imageData.naturalHeight*Math.abs(imageData.scaleY||1),degree:imageData.rotate||0}),naturalWidth=_getRotatedSizes.width,naturalHeight=_getRotatedSizes.height,width=canvasData.width*(naturalWidth/canvasData.naturalWidth),height=canvasData.height*(naturalHeight/canvasData.naturalHeight);canvasData.left-=(width-canvasData.width)/2;canvasData.top-=(height-canvasData.height)/2;canvasData.width=width;canvasData.height=height;canvasData.aspectRatio=naturalWidth/naturalHeight;canvasData.naturalWidth=naturalWidth;canvasData.naturalHeight=naturalHeight;this.limitCanvas(!0,!1)}(canvasData.width>canvasData.maxWidth||canvasData.width<canvasData.minWidth)&&(canvasData.left=canvasData.oldLeft);(canvasData.height>canvasData.maxHeight||canvasData.height<canvasData.minHeight)&&(canvasData.top=canvasData.oldTop);canvasData.width=Math.min(Math.max(canvasData.width,canvasData.minWidth),canvasData.maxWidth);canvasData.height=Math.min(Math.max(canvasData.height,canvasData.minHeight),canvasData.maxHeight);this.limitCanvas(!1,!0);canvasData.left=Math.min(Math.max(canvasData.left,canvasData.minLeft),canvasData.maxLeft);canvasData.top=Math.min(Math.max(canvasData.top,canvasData.minTop),canvasData.maxTop);canvasData.oldLeft=canvasData.left;canvasData.oldTop=canvasData.top;setStyle(this.canvas,extend({width:canvasData.width,height:canvasData.height},getTransforms({translateX:canvasData.left,translateY:canvasData.top})));this.renderImage(changed);this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(changed){var canvasData=this.canvasData,imageData=this.imageData,width=imageData.naturalWidth*(canvasData.width/canvasData.naturalWidth),height=imageData.naturalHeight*(canvasData.height/canvasData.naturalHeight);extend(imageData,{width:width,height:height,left:(canvasData.width-width)/2,top:(canvasData.height-height)/2});setStyle(this.image,extend({width:imageData.width,height:imageData.height},getTransforms(extend({translateX:imageData.left,translateY:imageData.top},imageData))));changed&&this.output()},initCropBox:function(){var options=this.options,canvasData=this.canvasData,aspectRatio=options.aspectRatio,autoCropArea=Number(options.autoCropArea)||.8,cropBoxData={width:canvasData.width,height:canvasData.height};aspectRatio&&(canvasData.height*aspectRatio>canvasData.width?cropBoxData.height=cropBoxData.width/aspectRatio:cropBoxData.width=cropBoxData.height*aspectRatio);this.cropBoxData=cropBoxData;this.limitCropBox(!0,!0);cropBoxData.width=Math.min(Math.max(cropBoxData.width,cropBoxData.minWidth),cropBoxData.maxWidth);cropBoxData.height=Math.min(Math.max(cropBoxData.height,cropBoxData.minHeight),cropBoxData.maxHeight);cropBoxData.width=Math.max(cropBoxData.minWidth,cropBoxData.width*autoCropArea);cropBoxData.height=Math.max(cropBoxData.minHeight,cropBoxData.height*autoCropArea);cropBoxData.left=canvasData.left+(canvasData.width-cropBoxData.width)/2;cropBoxData.top=canvasData.top+(canvasData.height-cropBoxData.height)/2;cropBoxData.oldLeft=cropBoxData.left;cropBoxData.oldTop=cropBoxData.top;this.initialCropBoxData=extend({},cropBoxData)},limitCropBox:function(sizeLimited,positionLimited){var options=this.options,containerData=this.containerData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,limited=this.limited,aspectRatio=options.aspectRatio;if(sizeLimited){var minCropBoxWidth=Number(options.minCropBoxWidth)||0,minCropBoxHeight=Number(options.minCropBoxHeight)||0,maxCropBoxWidth=Math.min(containerData.width,limited?canvasData.width:containerData.width),maxCropBoxHeight=Math.min(containerData.height,limited?canvasData.height:containerData.height);minCropBoxWidth=Math.min(minCropBoxWidth,containerData.width);minCropBoxHeight=Math.min(minCropBoxHeight,containerData.height);aspectRatio&&(minCropBoxWidth&&minCropBoxHeight?minCropBoxHeight*aspectRatio>minCropBoxWidth?minCropBoxHeight=minCropBoxWidth/aspectRatio:minCropBoxWidth=minCropBoxHeight*aspectRatio:minCropBoxWidth?minCropBoxHeight=minCropBoxWidth/aspectRatio:minCropBoxHeight&&(minCropBoxWidth=minCropBoxHeight*aspectRatio),maxCropBoxHeight*aspectRatio>maxCropBoxWidth?maxCropBoxHeight=maxCropBoxWidth/aspectRatio:maxCropBoxWidth=maxCropBoxHeight*aspectRatio);cropBoxData.minWidth=Math.min(minCropBoxWidth,maxCropBoxWidth);cropBoxData.minHeight=Math.min(minCropBoxHeight,maxCropBoxHeight);cropBoxData.maxWidth=maxCropBoxWidth;cropBoxData.maxHeight=maxCropBoxHeight}positionLimited&&(limited?(cropBoxData.minLeft=Math.max(0,canvasData.left),cropBoxData.minTop=Math.max(0,canvasData.top),cropBoxData.maxLeft=Math.min(containerData.width,canvasData.left+canvasData.width)-cropBoxData.width,cropBoxData.maxTop=Math.min(containerData.height,canvasData.top+canvasData.height)-cropBoxData.height):(cropBoxData.minLeft=0,cropBoxData.minTop=0,cropBoxData.maxLeft=containerData.width-cropBoxData.width,cropBoxData.maxTop=containerData.height-cropBoxData.height))},renderCropBox:function(){var options=this.options,containerData=this.containerData,cropBoxData=this.cropBoxData;(cropBoxData.width>cropBoxData.maxWidth||cropBoxData.width<cropBoxData.minWidth)&&(cropBoxData.left=cropBoxData.oldLeft);(cropBoxData.height>cropBoxData.maxHeight||cropBoxData.height<cropBoxData.minHeight)&&(cropBoxData.top=cropBoxData.oldTop);cropBoxData.width=Math.min(Math.max(cropBoxData.width,cropBoxData.minWidth),cropBoxData.maxWidth);cropBoxData.height=Math.min(Math.max(cropBoxData.height,cropBoxData.minHeight),cropBoxData.maxHeight);this.limitCropBox(!1,!0);cropBoxData.left=Math.min(Math.max(cropBoxData.left,cropBoxData.minLeft),cropBoxData.maxLeft);cropBoxData.top=Math.min(Math.max(cropBoxData.top,cropBoxData.minTop),cropBoxData.maxTop);cropBoxData.oldLeft=cropBoxData.left;cropBoxData.oldTop=cropBoxData.top;options.movable&&options.cropBoxMovable&&setData(this.face,DATA_ACTION,cropBoxData.width>=containerData.width&&cropBoxData.height>=containerData.height?ACTION_MOVE:ACTION_ALL);setStyle(this.cropBox,extend({width:cropBoxData.width,height:cropBoxData.height},getTransforms({translateX:cropBoxData.left,translateY:cropBoxData.top})));this.cropped&&this.limited&&this.limitCanvas(!0,!0);this.disabled||this.output()},output:function(){this.preview();this.complete&&dispatchEvent(this.element,EVENT_CROP,this.getData())}},preview={initPreview:function(){var crossOrigin=this.crossOrigin,preview=this.options.preview,url=crossOrigin?this.crossOriginUrl:this.url,image=document.createElement("img"),previews;(crossOrigin&&(image.crossOrigin=crossOrigin),image.src=url,this.viewBox.appendChild(image),this.image2=image,preview)&&(previews=preview.querySelector?[preview]:document.querySelectorAll(preview),this.previews=previews,each(previews,function(element){var img=document.createElement("img");setData(element,DATA_PREVIEW,{width:element.offsetWidth,height:element.offsetHeight,html:element.innerHTML});crossOrigin&&(img.crossOrigin=crossOrigin);img.src=url;img.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"';empty(element);element.appendChild(img)}))},resetPreview:function(){each(this.previews,function(element){var data=getData(element,DATA_PREVIEW);setStyle(element,{width:data.width,height:data.height});element.innerHTML=data.html;removeData(element,DATA_PREVIEW)})},preview:function(){var imageData=this.imageData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,cropBoxWidth=cropBoxData.width,cropBoxHeight=cropBoxData.height,width=imageData.width,height=imageData.height,left=cropBoxData.left-canvasData.left-imageData.left,top=cropBoxData.top-canvasData.top-imageData.top;this.cropped&&!this.disabled&&(setStyle(this.image2,extend({width:width,height:height},getTransforms(extend({translateX:-left,translateY:-top},imageData)))),each(this.previews,function(element){var data=getData(element,DATA_PREVIEW),originalWidth=data.width,originalHeight=data.height,newWidth=originalWidth,newHeight=originalHeight,ratio=1;cropBoxWidth&&(ratio=originalWidth/cropBoxWidth,newHeight=cropBoxHeight*ratio);cropBoxHeight&&newHeight>originalHeight&&(ratio=originalHeight/cropBoxHeight,newWidth=cropBoxWidth*ratio,newHeight=originalHeight);setStyle(element,{width:newWidth,height:newHeight});setStyle(element.getElementsByTagName("img")[0],extend({width:width*ratio,height:height*ratio},getTransforms(extend({translateX:-left*ratio,translateY:-top*ratio},imageData))))}))}},events={bind:function(){var element=this.element,options=this.options,cropper=this.cropper;isFunction(options.cropstart)&&addListener(element,EVENT_CROP_START,options.cropstart);isFunction(options.cropmove)&&addListener(element,EVENT_CROP_MOVE,options.cropmove);isFunction(options.cropend)&&addListener(element,EVENT_CROP_END,options.cropend);isFunction(options.crop)&&addListener(element,EVENT_CROP,options.crop);isFunction(options.zoom)&&addListener(element,EVENT_ZOOM,options.zoom);addListener(cropper,EVENT_POINTER_DOWN,this.onCropStart=proxy(this.cropStart,this));options.zoomable&&options.zoomOnWheel&&addListener(cropper,EVENT_WHEEL,this.onWheel=proxy(this.wheel,this));options.toggleDragModeOnDblclick&&addListener(cropper,EVENT_DBLCLICK,this.onDblclick=proxy(this.dblclick,this));addListener(document,EVENT_POINTER_MOVE,this.onCropMove=proxy(this.cropMove,this));addListener(document,EVENT_POINTER_UP,this.onCropEnd=proxy(this.cropEnd,this));options.responsive&&addListener(window,EVENT_RESIZE,this.onResize=proxy(this.resize,this))},unbind:function(){var element=this.element,options=this.options,cropper=this.cropper;isFunction(options.cropstart)&&removeListener(element,EVENT_CROP_START,options.cropstart);isFunction(options.cropmove)&&removeListener(element,EVENT_CROP_MOVE,options.cropmove);isFunction(options.cropend)&&removeListener(element,EVENT_CROP_END,options.cropend);isFunction(options.crop)&&removeListener(element,EVENT_CROP,options.crop);isFunction(options.zoom)&&removeListener(element,EVENT_ZOOM,options.zoom);removeListener(cropper,EVENT_POINTER_DOWN,this.onCropStart);options.zoomable&&options.zoomOnWheel&&removeListener(cropper,EVENT_WHEEL,this.onWheel);options.toggleDragModeOnDblclick&&removeListener(cropper,EVENT_DBLCLICK,this.onDblclick);removeListener(document,EVENT_POINTER_MOVE,this.onCropMove);removeListener(document,EVENT_POINTER_UP,this.onCropEnd);options.responsive&&removeListener(window,EVENT_RESIZE,this.onResize)}},handlers={resize:function(){var options=this.options,container=this.container,containerData=this.containerData,minContainerWidth=Number(options.minContainerWidth)||200,minContainerHeight=Number(options.minContainerHeight)||100,ratio,canvasData,cropBoxData;this.disabled||containerData.width<=minContainerWidth||containerData.height<=minContainerHeight||(ratio=container.offsetWidth/containerData.width,(ratio!==1||container.offsetHeight!==containerData.height)&&(canvasData=void 0,cropBoxData=void 0,options.restore&&(canvasData=this.getCanvasData(),cropBoxData=this.getCropBoxData()),this.render(),options.restore&&(this.setCanvasData(each(canvasData,function(n,i){canvasData[i]=n*ratio})),this.setCropBoxData(each(cropBoxData,function(n,i){cropBoxData[i]=n*ratio})))))},dblclick:function(){this.disabled||this.options.dragMode===DRAG_MODE_NONE||this.setDragMode(hasClass(this.dragBox,CLASS_CROP)?DRAG_MODE_MOVE:DRAG_MODE_CROP)},wheel:function(e){var _this=this,ratio=Number(this.options.wheelZoomRatio)||.1,delta=1;this.disabled||(e.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){_this.wheeling=!1},50),e.deltaY?delta=e.deltaY>0?1:-1:e.wheelDelta?delta=-e.wheelDelta/120:e.detail&&(delta=e.detail>0?1:-1),this.zoom(-delta*ratio,e))},cropStart:function(e){if(!this.disabled){var options=this.options,pointers=this.pointers,action=void 0;(e.changedTouches?each(e.changedTouches,function(touch){pointers[touch.identifier]=getPointer(touch)}):pointers[e.pointerId||0]=getPointer(e),action=Object.keys(pointers).length>1&&options.zoomable&&options.zoomOnTouch?ACTION_ZOOM:getData(e.target,DATA_ACTION),REGEXP_ACTIONS.test(action))&&dispatchEvent(this.element,EVENT_CROP_START,{originalEvent:e,action:action})!==!1&&(e.preventDefault(),this.action=action,this.cropping=!1,action===ACTION_CROP&&(this.cropping=!0,addClass(this.dragBox,CLASS_MODAL)))}},cropMove:function(e){var action=this.action,pointers;!this.disabled&&action&&(pointers=this.pointers,e.preventDefault(),dispatchEvent(this.element,EVENT_CROP_MOVE,{originalEvent:e,action:action})!==!1)&&(e.changedTouches?each(e.changedTouches,function(touch){extend(pointers[touch.identifier],getPointer(touch,!0))}):extend(pointers[e.pointerId||0],getPointer(e,!0)),this.change(e))},cropEnd:function(e){if(!this.disabled){var action=this.action,pointers=this.pointers;(e.changedTouches?each(e.changedTouches,function(touch){delete pointers[touch.identifier]}):delete pointers[e.pointerId||0],action)&&(e.preventDefault(),Object.keys(pointers).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,CLASS_MODAL,this.cropped&&this.options.modal)),dispatchEvent(this.element,EVENT_CROP_END,{originalEvent:e,action:action}))}}},change={change:function(e){var options=this.options,canvasData=this.canvasData,containerData=this.containerData,cropBoxData=this.cropBoxData,pointers=this.pointers,action=this.action,aspectRatio=options.aspectRatio,left=cropBoxData.left,top=cropBoxData.top,width=cropBoxData.width,height=cropBoxData.height,right=left+width,bottom=top+height,minLeft=0,minTop=0,maxWidth=containerData.width,maxHeight=containerData.height,renderable=!0,offset=void 0;!aspectRatio&&e.shiftKey&&(aspectRatio=width&&height?width/height:1);this.limited&&(minLeft=cropBoxData.minLeft,minTop=cropBoxData.minTop,maxWidth=minLeft+Math.min(containerData.width,canvasData.width,canvasData.left+canvasData.width),maxHeight=minTop+Math.min(containerData.height,canvasData.height,canvasData.top+canvasData.height));var pointer=pointers[Object.keys(pointers)[0]],range={x:pointer.endX-pointer.startX,y:pointer.endY-pointer.startY},check=function(side){switch(side){case ACTION_EAST:right+range.x>maxWidth&&(range.x=maxWidth-right);break;case ACTION_WEST:left+range.x<minLeft&&(range.x=minLeft-left);break;case ACTION_NORTH:top+range.y<minTop&&(range.y=minTop-top);break;case ACTION_SOUTH:bottom+range.y>maxHeight&&(range.y=maxHeight-bottom);break;default:}};switch(action){case ACTION_ALL:left+=range.x;top+=range.y;break;case ACTION_EAST:if(range.x>=0&&(right>=maxWidth||aspectRatio&&(top<=minTop||bottom>=maxHeight))){renderable=!1;break}check(ACTION_EAST);width+=range.x;aspectRatio&&(height=width/aspectRatio,top-=range.x/aspectRatio/2);width<0&&(action=ACTION_WEST,width=0);break;case ACTION_NORTH:if(range.y<=0&&(top<=minTop||aspectRatio&&(left<=minLeft||right>=maxWidth))){renderable=!1;break}check(ACTION_NORTH);height-=range.y;top+=range.y;aspectRatio&&(width=height*aspectRatio,left+=range.y*aspectRatio/2);height<0&&(action=ACTION_SOUTH,height=0);break;case ACTION_WEST:if(range.x<=0&&(left<=minLeft||aspectRatio&&(top<=minTop||bottom>=maxHeight))){renderable=!1;break}check(ACTION_WEST);width-=range.x;left+=range.x;aspectRatio&&(height=width/aspectRatio,top+=range.x/aspectRatio/2);width<0&&(action=ACTION_EAST,width=0);break;case ACTION_SOUTH:if(range.y>=0&&(bottom>=maxHeight||aspectRatio&&(left<=minLeft||right>=maxWidth))){renderable=!1;break}check(ACTION_SOUTH);height+=range.y;aspectRatio&&(width=height*aspectRatio,left-=range.y*aspectRatio/2);height<0&&(action=ACTION_NORTH,height=0);break;case ACTION_NORTH_EAST:if(aspectRatio){if(range.y<=0&&(top<=minTop||right>=maxWidth)){renderable=!1;break}check(ACTION_NORTH);height-=range.y;top+=range.y;width=height*aspectRatio}else check(ACTION_NORTH),check(ACTION_EAST),range.x>=0?right<maxWidth?width+=range.x:range.y<=0&&top<=minTop&&(renderable=!1):width+=range.x,range.y<=0?top>minTop&&(height-=range.y,top+=range.y):(height-=range.y,top+=range.y);width<0&&height<0?(action=ACTION_SOUTH_WEST,height=0,width=0):width<0?(action=ACTION_NORTH_WEST,width=0):height<0&&(action=ACTION_SOUTH_EAST,height=0);break;case ACTION_NORTH_WEST:if(aspectRatio){if(range.y<=0&&(top<=minTop||left<=minLeft)){renderable=!1;break}check(ACTION_NORTH);height-=range.y;top+=range.y;width=height*aspectRatio;left+=range.y*aspectRatio}else check(ACTION_NORTH),check(ACTION_WEST),range.x<=0?left>minLeft?(width-=range.x,left+=range.x):range.y<=0&&top<=minTop&&(renderable=!1):(width-=range.x,left+=range.x),range.y<=0?top>minTop&&(height-=range.y,top+=range.y):(height-=range.y,top+=range.y);width<0&&height<0?(action=ACTION_SOUTH_EAST,height=0,width=0):width<0?(action=ACTION_NORTH_EAST,width=0):height<0&&(action=ACTION_SOUTH_WEST,height=0);break;case ACTION_SOUTH_WEST:if(aspectRatio){if(range.x<=0&&(left<=minLeft||bottom>=maxHeight)){renderable=!1;break}check(ACTION_WEST);width-=range.x;left+=range.x;height=width/aspectRatio}else check(ACTION_SOUTH),check(ACTION_WEST),range.x<=0?left>minLeft?(width-=range.x,left+=range.x):range.y>=0&&bottom>=maxHeight&&(renderable=!1):(width-=range.x,left+=range.x),range.y>=0?bottom<maxHeight&&(height+=range.y):height+=range.y;width<0&&height<0?(action=ACTION_NORTH_EAST,height=0,width=0):width<0?(action=ACTION_SOUTH_EAST,width=0):height<0&&(action=ACTION_NORTH_WEST,height=0);break;case ACTION_SOUTH_EAST:if(aspectRatio){if(range.x>=0&&(right>=maxWidth||bottom>=maxHeight)){renderable=!1;break}check(ACTION_EAST);width+=range.x;height=width/aspectRatio}else check(ACTION_SOUTH),check(ACTION_EAST),range.x>=0?right<maxWidth?width+=range.x:range.y>=0&&bottom>=maxHeight&&(renderable=!1):width+=range.x,range.y>=0?bottom<maxHeight&&(height+=range.y):height+=range.y;width<0&&height<0?(action=ACTION_NORTH_WEST,height=0,width=0):width<0?(action=ACTION_SOUTH_WEST,width=0):height<0&&(action=ACTION_NORTH_EAST,height=0);break;case ACTION_MOVE:this.move(range.x,range.y);renderable=!1;break;case ACTION_ZOOM:this.zoom(getMaxZoomRatio(pointers),e);renderable=!1;break;case ACTION_CROP:if(!range.x||!range.y){renderable=!1;break}offset=getOffset(this.cropper);left=pointer.startX-offset.left;top=pointer.startY-offset.top;width=cropBoxData.minWidth;height=cropBoxData.minHeight;range.x>0?action=range.y>0?ACTION_SOUTH_EAST:ACTION_NORTH_EAST:range.x<0&&(left-=width,action=range.y>0?ACTION_SOUTH_WEST:ACTION_NORTH_WEST);range.y<0&&(top-=height);this.cropped||(removeClass(this.cropBox,CLASS_HIDDEN),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break;default:}renderable&&(cropBoxData.width=width,cropBoxData.height=height,cropBoxData.left=left,cropBoxData.top=top,this.action=action,this.renderCropBox());each(pointers,function(p){p.startX=p.endX;p.startY=p.endY})}},methods={crop:function(){return this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,CLASS_MODAL),removeClass(this.cropBox,CLASS_HIDDEN)),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=extend({},this.initialImageData),this.canvasData=extend({},this.initialCanvasData),this.cropBoxData=extend({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(extend(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,CLASS_MODAL),addClass(this.cropBox,CLASS_HIDDEN)),this},replace:function(url){var onlyColorChanged=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return!this.disabled&&url&&(this.isImg&&(this.element.src=url),onlyColorChanged?(this.url=url,this.image.src=url,this.ready&&(this.image2.src=url,each(this.previews,function(element){element.getElementsByTagName("img")[0].src=url}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(url))),this},enable:function(){return this.ready&&(this.disabled=!1,removeClass(this.cropper,CLASS_DISABLED)),this},disable:function(){return this.ready&&(this.disabled=!0,addClass(this.cropper,CLASS_DISABLED)),this},destroy:function(){var element=this.element,image=this.image;return this.loaded?(this.isImg&&this.replaced&&(element.src=this.originalUrl),this.unbuild(),removeClass(element,CLASS_HIDDEN)):this.isImg?removeListener(element,EVENT_LOAD,this.onStart):image&&image.parentNode.removeChild(image),removeData(element,NAMESPACE),this},move:function(offsetX,offsetY){var _canvasData=this.canvasData,left=_canvasData.left,top=_canvasData.top;return this.moveTo(isUndefined(offsetX)?offsetX:left+Number(offsetX),isUndefined(offsetY)?offsetY:top+Number(offsetY))},moveTo:function(x){var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:x,canvasData=this.canvasData,changed=!1;return x=Number(x),y=Number(y),this.ready&&!this.disabled&&this.options.movable&&(isNumber(x)&&(canvasData.left=x,changed=!0),isNumber(y)&&(canvasData.top=y,changed=!0),changed&&this.renderCanvas(!0)),this},zoom:function(ratio,_originalEvent){var canvasData=this.canvasData;return ratio=Number(ratio),ratio=ratio<0?1/(1-ratio):1+ratio,this.zoomTo(canvasData.width*ratio/canvasData.naturalWidth,_originalEvent)},zoomTo:function(ratio,_originalEvent){var options=this.options,canvasData=this.canvasData,width=canvasData.width,height=canvasData.height,naturalWidth=canvasData.naturalWidth,naturalHeight=canvasData.naturalHeight,newWidth,newHeight;if(ratio=Number(ratio),ratio>=0&&this.ready&&!this.disabled&&options.zoomable){if(newWidth=naturalWidth*ratio,newHeight=naturalHeight*ratio,dispatchEvent(this.element,EVENT_ZOOM,{originalEvent:_originalEvent,oldRatio:width/naturalWidth,ratio:newWidth/naturalWidth})===!1)return this;if(_originalEvent){var pointers=this.pointers,offset=getOffset(this.cropper),center=pointers&&Object.keys(pointers).length?getPointersCenter(pointers):{pageX:_originalEvent.pageX,pageY:_originalEvent.pageY};canvasData.left-=(newWidth-width)*((center.pageX-offset.left-canvasData.left)/width);canvasData.top-=(newHeight-height)*((center.pageY-offset.top-canvasData.top)/height)}else canvasData.left-=(newWidth-width)/2,canvasData.top-=(newHeight-height)/2;canvasData.width=newWidth;canvasData.height=newHeight;this.renderCanvas(!0)}return this},rotate:function(degree){return this.rotateTo((this.imageData.rotate||0)+Number(degree))},rotateTo:function(degree){return degree=Number(degree),isNumber(degree)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=degree%360,this.renderCanvas(!0,!0)),this},scaleX:function(_scaleX){var scaleY=this.imageData.scaleY;return this.scale(_scaleX,isNumber(scaleY)?scaleY:1)},scaleY:function(_scaleY){var scaleX=this.imageData.scaleX;return this.scale(isNumber(scaleX)?scaleX:1,_scaleY)},scale:function(scaleX){var scaleY=arguments.length>1&&arguments[1]!==undefined?arguments[1]:scaleX,imageData=this.imageData,transformed=!1;return scaleX=Number(scaleX),scaleY=Number(scaleY),this.ready&&!this.disabled&&this.options.scalable&&(isNumber(scaleX)&&(imageData.scaleX=scaleX,transformed=!0),isNumber(scaleY)&&(imageData.scaleY=scaleY,transformed=!0),transformed&&this.renderCanvas(!0,!0)),this},getData:function(){var rounded=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,options=this.options,imageData=this.imageData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,data=void 0,ratio;return this.ready&&this.cropped?(data={x:cropBoxData.left-canvasData.left,y:cropBoxData.top-canvasData.top,width:cropBoxData.width,height:cropBoxData.height},ratio=imageData.width/imageData.naturalWidth,each(data,function(n,i){n/=ratio;data[i]=rounded?Math.round(n):n})):data={x:0,y:0,width:0,height:0},options.rotatable&&(data.rotate=imageData.rotate||0),options.scalable&&(data.scaleX=imageData.scaleX||1,data.scaleY=imageData.scaleY||1),data},setData:function(data){var options=this.options,imageData=this.imageData,canvasData=this.canvasData,cropBoxData={},transformed,ratio;return isFunction(data)&&(data=data.call(this.element)),this.ready&&!this.disabled&&isPlainObject(data)&&(transformed=!1,options.rotatable&&isNumber(data.rotate)&&data.rotate!==imageData.rotate&&(imageData.rotate=data.rotate,transformed=!0),options.scalable&&(isNumber(data.scaleX)&&data.scaleX!==imageData.scaleX&&(imageData.scaleX=data.scaleX,transformed=!0),isNumber(data.scaleY)&&data.scaleY!==imageData.scaleY&&(imageData.scaleY=data.scaleY,transformed=!0)),transformed&&this.renderCanvas(!0,!0),ratio=imageData.width/imageData.naturalWidth,isNumber(data.x)&&(cropBoxData.left=data.x*ratio+canvasData.left),isNumber(data.y)&&(cropBoxData.top=data.y*ratio+canvasData.top),isNumber(data.width)&&(cropBoxData.width=data.width*ratio),isNumber(data.height)&&(cropBoxData.height=data.height*ratio),this.setCropBoxData(cropBoxData)),this},getContainerData:function(){return this.ready?extend({},this.containerData):{}},getImageData:function(){return this.loaded?extend({},this.imageData):{}},getCanvasData:function(){var canvasData=this.canvasData,data={};return this.ready&&each(["left","top","width","height","naturalWidth","naturalHeight"],function(n){data[n]=canvasData[n]}),data},setCanvasData:function(data){var canvasData=this.canvasData,aspectRatio=canvasData.aspectRatio;return isFunction(data)&&(data=data.call(this.element)),this.ready&&!this.disabled&&isPlainObject(data)&&(isNumber(data.left)&&(canvasData.left=data.left),isNumber(data.top)&&(canvasData.top=data.top),isNumber(data.width)?(canvasData.width=data.width,canvasData.height=data.width/aspectRatio):isNumber(data.height)&&(canvasData.height=data.height,canvasData.width=data.height*aspectRatio),this.renderCanvas(!0)),this},getCropBoxData:function(){var cropBoxData=this.cropBoxData,data=void 0;return this.ready&&this.cropped&&(data={left:cropBoxData.left,top:cropBoxData.top,width:cropBoxData.width,height:cropBoxData.height}),data||{}},setCropBoxData:function(data){var cropBoxData=this.cropBoxData,aspectRatio=this.options.aspectRatio,widthChanged=void 0,heightChanged=void 0;return isFunction(data)&&(data=data.call(this.element)),this.ready&&this.cropped&&!this.disabled&&isPlainObject(data)&&(isNumber(data.left)&&(cropBoxData.left=data.left),isNumber(data.top)&&(cropBoxData.top=data.top),isNumber(data.width)&&data.width!==cropBoxData.width&&(widthChanged=!0,cropBoxData.width=data.width),isNumber(data.height)&&data.height!==cropBoxData.height&&(heightChanged=!0,cropBoxData.height=data.height),aspectRatio&&(widthChanged?cropBoxData.height=cropBoxData.width/aspectRatio:heightChanged&&(cropBoxData.width=cropBoxData.height*aspectRatio)),this.renderCropBox()),this},getCroppedCanvas:function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},canvasData,source,canvas,context,params,scale;if(!this.ready||!window.HTMLCanvasElement)return null;if(canvasData=this.canvasData,source=getSourceCanvas(this.image,this.imageData,canvasData,options),!this.cropped)return source;var _getData=this.getData(),x=_getData.x,y=_getData.y,initialWidth=_getData.width,initialHeight=_getData.height,aspectRatio=initialWidth/initialHeight,maxSizes=getContainSizes({aspectRatio:aspectRatio,width:options.maxWidth||Infinity,height:options.maxHeight||Infinity}),minSizes=getContainSizes({aspectRatio:aspectRatio,width:options.minWidth||0,height:options.minHeight||0}),_getContainSizes=getContainSizes({aspectRatio:aspectRatio,width:options.width||initialWidth,height:options.height||initialHeight}),width=_getContainSizes.width,height=_getContainSizes.height;width=Math.min(maxSizes.width,Math.max(minSizes.width,width));height=Math.min(maxSizes.height,Math.max(minSizes.height,height));canvas=document.createElement("canvas");context=canvas.getContext("2d");canvas.width=normalizeDecimalNumber(width);canvas.height=normalizeDecimalNumber(height);context.fillStyle=options.fillColor||"transparent";context.fillRect(0,0,width,height);var _options$imageSmoothi=options.imageSmoothingEnabled,imageSmoothingEnabled=_options$imageSmoothi===undefined?!0:_options$imageSmoothi,imageSmoothingQuality=options.imageSmoothingQuality;context.imageSmoothingEnabled=imageSmoothingEnabled;imageSmoothingQuality&&(context.imageSmoothingQuality=imageSmoothingQuality);var sourceWidth=source.width,sourceHeight=source.height,srcX=x,srcY=y,srcWidth=void 0,srcHeight=void 0,dstX=void 0,dstY=void 0,dstWidth=void 0,dstHeight=void 0;return srcX<=-initialWidth||srcX>sourceWidth?(srcX=0,srcWidth=0,dstX=0,dstWidth=0):srcX<=0?(dstX=-srcX,srcX=0,srcWidth=Math.min(sourceWidth,initialWidth+srcX),dstWidth=srcWidth):srcX<=sourceWidth&&(dstX=0,srcWidth=Math.min(initialWidth,sourceWidth-srcX),dstWidth=srcWidth),srcWidth<=0||srcY<=-initialHeight||srcY>sourceHeight?(srcY=0,srcHeight=0,dstY=0,dstHeight=0):srcY<=0?(dstY=-srcY,srcY=0,srcHeight=Math.min(sourceHeight,initialHeight+srcY),dstHeight=srcHeight):srcY<=sourceHeight&&(dstY=0,srcHeight=Math.min(initialHeight,sourceHeight-srcY),dstHeight=srcHeight),params=[srcX,srcY,srcWidth,srcHeight],dstWidth>0&&dstHeight>0&&(scale=width/initialWidth,params.push(dstX*scale,dstY*scale,dstWidth*scale,dstHeight*scale)),context.drawImage.apply(context,[source].concat(_toConsumableArray$1(params.map(function(param){return Math.floor(normalizeDecimalNumber(param))})))),canvas},setAspectRatio:function(aspectRatio){var options=this.options;return this.disabled||isUndefined(aspectRatio)||(options.aspectRatio=Math.max(0,aspectRatio)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(mode){var options=this.options,dragBox=this.dragBox,face=this.face,croppable,movable;return this.loaded&&!this.disabled&&(croppable=mode===DRAG_MODE_CROP,movable=options.movable&&mode===DRAG_MODE_MOVE,mode=croppable||movable?mode:DRAG_MODE_NONE,setData(dragBox,DATA_ACTION,mode),toggleClass(dragBox,CLASS_CROP,croppable),toggleClass(dragBox,CLASS_MOVE,movable),options.cropBoxMovable||(setData(face,DATA_ACTION,mode),toggleClass(face,CLASS_CROP,croppable),toggleClass(face,CLASS_MOVE,movable))),this}},_createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AnotherCropper=WINDOW.Cropper,Cropper=function(){function Cropper(element){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_classCallCheck(this,Cropper),!element||!REGEXP_TAG_NAME.test(element.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=element;this.options=extend({},DEFAULTS,isPlainObject(options)&&options);this.complete=!1;this.cropped=!1;this.disabled=!1;this.isImg=!1;this.limited=!1;this.loaded=!1;this.ready=!1;this.replaced=!1;this.wheeling=!1;this.originalUrl="";this.canvasData=null;this.cropBoxData=null;this.previews=null;this.pointers={};this.init()}return _createClass(Cropper,[{key:"init",value:function(){var element=this.element,tagName=element.tagName.toLowerCase(),url=void 0;if(!getData(element,NAMESPACE)){if(setData(element,NAMESPACE,this),tagName==="img"){if(this.isImg=!0,url=element.getAttribute("src")||"",this.originalUrl=url,!url)return;url=element.src}else tagName==="canvas"&&window.HTMLCanvasElement&&(url=element.toDataURL());this.load(url)}}},{key:"load",value:function(url){var _this=this,element,options,xhr;if(url){if(this.url=url,this.imageData={},element=this.element,options=this.options,!options.checkOrientation||!window.ArrayBuffer){this.clone();return}if(REGEXP_DATA_URL.test(url)){REGEXP_DATA_URL_JPEG.test(url)?this.read(dataURLToArrayBuffer(url)):this.clone();return}xhr=new XMLHttpRequest;xhr.onerror=function(){_this.clone()};xhr.onload=function(){_this.read(xhr.response)};options.checkCrossOrigin&&isCrossOriginURL(url)&&element.crossOrigin&&(url=addTimestamp(url));xhr.open("get",url);xhr.responseType="arraybuffer";xhr.withCredentials=element.crossOrigin==="use-credentials";xhr.send()}}},{key:"read",value:function(arrayBuffer){var options=this.options,imageData=this.imageData,orientation=getOrientation(arrayBuffer),rotate=0,scaleX=1,scaleY=1,_parseOrientation;orientation>1&&(this.url=arrayBufferToDataURL(arrayBuffer,"image/jpeg"),_parseOrientation=parseOrientation(orientation),rotate=_parseOrientation.rotate,scaleX=_parseOrientation.scaleX,scaleY=_parseOrientation.scaleY);options.rotatable&&(imageData.rotate=rotate);options.scalable&&(imageData.scaleX=scaleX,imageData.scaleY=scaleY);this.clone()}},{key:"clone",value:function(){var element=this.element,url=this.url,crossOrigin=void 0,crossOriginUrl=void 0,image,start,stop;this.options.checkCrossOrigin&&isCrossOriginURL(url)&&(crossOrigin=element.crossOrigin,crossOrigin?crossOriginUrl=url:(crossOrigin="anonymous",crossOriginUrl=addTimestamp(url)));this.crossOrigin=crossOrigin;this.crossOriginUrl=crossOriginUrl;image=document.createElement("img");crossOrigin&&(image.crossOrigin=crossOrigin);image.src=crossOriginUrl||url;start=proxy(this.start,this);stop=proxy(this.stop,this);this.image=image;this.onStart=start;this.onStop=stop;this.isImg?element.complete?this.start():addListener(element,EVENT_LOAD,start):(addListener(image,EVENT_LOAD,start),addListener(image,EVENT_ERROR,stop),addClass(image,CLASS_HIDE),element.parentNode.insertBefore(image,element.nextSibling))}},{key:"start",value:function(event){var _this2=this,image=this.isImg?this.element:this.image;event&&(removeListener(image,EVENT_LOAD,this.onStart),removeListener(image,EVENT_ERROR,this.onStop));getImageNaturalSizes(image,function(naturalWidth,naturalHeight){extend(_this2.imageData,{naturalWidth:naturalWidth,naturalHeight:naturalHeight,aspectRatio:naturalWidth/naturalHeight});_this2.loaded=!0;_this2.build()})}},{key:"stop",value:function(){var image=this.image;removeListener(image,EVENT_LOAD,this.onStart);removeListener(image,EVENT_ERROR,this.onStop);image.parentNode.removeChild(image);this.image=null}},{key:"build",value:function(){var _this3=this;if(this.loaded){this.ready&&this.unbuild();var element=this.element,options=this.options,image=this.image,container=element.parentNode,template=document.createElement("div");template.innerHTML=TEMPLATE;var cropper=template.querySelector("."+NAMESPACE+"-container"),canvas=cropper.querySelector("."+NAMESPACE+"-canvas"),dragBox=cropper.querySelector("."+NAMESPACE+"-drag-box"),cropBox=cropper.querySelector("."+NAMESPACE+"-crop-box"),face=cropBox.querySelector("."+NAMESPACE+"-face");this.container=container;this.cropper=cropper;this.canvas=canvas;this.dragBox=dragBox;this.cropBox=cropBox;this.viewBox=cropper.querySelector("."+NAMESPACE+"-view-box");this.face=face;canvas.appendChild(image);addClass(element,CLASS_HIDDEN);container.insertBefore(cropper,element.nextSibling);this.isImg||removeClass(image,CLASS_HIDE);this.initPreview();this.bind();options.aspectRatio=Math.max(0,options.aspectRatio)||NaN;options.viewMode=Math.max(0,Math.min(3,Math.round(options.viewMode)))||0;this.cropped=options.autoCrop;options.autoCrop?options.modal&&addClass(dragBox,CLASS_MODAL):addClass(cropBox,CLASS_HIDDEN);options.guides||addClass(cropBox.getElementsByClassName(NAMESPACE+"-dashed"),CLASS_HIDDEN);options.center||addClass(cropBox.getElementsByClassName(NAMESPACE+"-center"),CLASS_HIDDEN);options.background&&addClass(cropper,NAMESPACE+"-bg");options.highlight||addClass(face,CLASS_INVISIBLE);options.cropBoxMovable&&(addClass(face,CLASS_MOVE),setData(face,DATA_ACTION,ACTION_ALL));options.cropBoxResizable||(addClass(cropBox.getElementsByClassName(NAMESPACE+"-line"),CLASS_HIDDEN),addClass(cropBox.getElementsByClassName(NAMESPACE+"-point"),CLASS_HIDDEN));this.setDragMode(options.dragMode);this.render();this.ready=!0;this.setData(options.data);this.completing=setTimeout(function(){isFunction(options.ready)&&addListener(element,EVENT_READY,options.ready,{once:!0});dispatchEvent(element,EVENT_READY);dispatchEvent(element,EVENT_CROP,_this3.getData());_this3.complete=!0},0)}}},{key:"unbuild",value:function(){this.ready&&(this.complete||clearTimeout(this.completing),this.ready=!1,this.complete=!1,this.initialImageData=null,this.initialCanvasData=null,this.initialCropBoxData=null,this.containerData=null,this.canvasData=null,this.cropBoxData=null,this.unbind(),this.resetPreview(),this.previews=null,this.viewBox=null,this.cropBox=null,this.dragBox=null,this.canvas=null,this.container=null,this.cropper.parentNode.removeChild(this.cropper),this.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=AnotherCropper,Cropper}},{key:"setDefaults",value:function(options){extend(DEFAULTS,isPlainObject(options)&&options)}}]),Cropper}();return extend(Cropper.prototype,render,preview,events,handlers,change,methods),Cropper});window.LSHelper=window.LSHelper||{};LSHelper.imageCropper=function(params,settings){var _settings,_self;params=$.extend({imageUrl:null,pictureDbOwnerId:null,pictureId:null,pictureType:null,tags:null,qqfile:null,pictureDbOwnerParentId:null,isPrecreation:!1,aspectRatio:null},params);_settings=$.extend({afterCropCallback:function(){},onBeforeImgCrop:function(){},cancelCropCallback:function(){}},settings);_self=this;_self.Loading=ko.observable(!1);_self.fullPictureUrl=ko.observable(params.imageUrl);_self.pictureWidth=ko.observable();_self.pictureHeight=ko.observable();_self.hideAspectRatioControl=ko.observable(!!params.aspectRatio);_self.preserveAspectRatio=ko.observable(!0);_self.setPreserveAspectRatio=function(newVal){newVal==!0?_self.cropper.setAspectRatio(params.aspectRatio||_self.pictureWidth()/_self.pictureHeight()):_self.cropper.setAspectRatio(NaN)};_self.preserveAspectRatio.subscribe(_self.setPreserveAspectRatio);_self.rotateLeft=function(){_self.Loading()||_self.cropper.rotate(-90)};_self.rotateRight=function(){_self.Loading()||_self.cropper.rotate(90)};_self.crop=function(){var key;if(!_self.Loading()){_settings.onBeforeImgCrop(_self);showLoader(_self.$modal);var cropperData=_self.cropper.getData(!0),imageData=_self.cropper.getImageData(),cropRequestData={imgW:imageData.naturalWidth,imgH:imageData.naturalHeight,imgY1:cropperData.y,imgX1:cropperData.x,cropH:cropperData.height,cropW:cropperData.width,angle:cropperData.rotate},postData=new FormData;postData.append("pictureDbOwnerId",params.pictureDbOwnerId);postData.append("pictureDbOwnerParentId",params.pictureDbOwnerParentId);postData.append("pictureId",params.pictureId);postData.append("pictureType",params.pictureType);postData.append("tags",params.tags);postData.append("qqfile",params.image);postData.append("isPrecreation",params.isPrecreation);for(key in cropRequestData)postData.append("cropRequest."+key,cropRequestData[key]);$.ajax({type:"POST",url:GetUrl("SaveImage","Picture"),contentType:!1,processData:!1,data:postData,success:function(result){var response=$.parseJSON(result);_settings.afterCropCallback(response);response.status!="success"&&LSHelper.Dialog.alertDialog("Error occured while trying to crop image.","Error!");hideLoader();_self.cancelCrop()},error:function(){LSHelper.Dialog.alertDialog("Error occured while trying to crop image.","Error!")}})}};_self.cancelCrop=function(){_self.Loading()||(_self.$modal.remove(),_self.cropper.destroy(),_settings.cancelCropCallback())};var createCropperModal=function(){var modalHTML;hideLoader();modalHTML='<div id="cropper" class="cropperWrapper">            <div class="cropperHeader">               <div class="control-wrapper" data-bind="css: { \'control-wrapper-hideAspectRatioControl\': hideAspectRatioControl }">                  <div class="h2 header-text">Image Editor<\/div>                  <div class="aspectratio-wrapper">                     <label>                        <input type="checkbox" data-bind="checked: preserveAspectRatio" style="display: none">                        <span class="checkbox-icon"><\/span>                        <span class="h5">Maintain aspect ratio<\/span>                     <\/label>                  <\/div>                  <div class="rotate-wrapper">                     <span data-bind="click: rotateLeft" class="rotate-link rotate-left">                        <span class="rotate-icon rotate-left-icon"><\/span>                        <span class="h6 rotate-text">Rotate Left<\/span>                     <\/span >                     <span data-bind="click: rotateRight" class="rotate-link rotate-right">                        <span class="rotate-icon rotate-right-icon" style="margin-left:30px;"><\/span>                        <span class="h6 rotate-text">Rotate Right<\/span>                     <\/span>                  <\/div>                  <div class="control-buttons">                     <button class="ocean-inverted-button" data-bind="click: cancelCrop">Cancel<\/button>                     <button class="ocean-button" data-bind="click: crop">Save<\/button>                  <\/div>               <\/div>            <\/div>            <div class="cropperImageWrapper">               <div>                  <img class="cropperImage" data-bind="attr:{ src: fullPictureUrl }"><\/img>               <\/div>            <\/div>        <\/div>';$("body").append(modalHTML);_self.$modal=$("#cropper");showLoader(_self.$modal);var $image=_self.$modal.find("img"),isCropAreaAdjustStarted=null,_hasLoaded=!1;$image.on("load",function(){_hasLoaded||(_self.pictureWidth($image[0].width),_self.pictureHeight($image[0].height),_self.cropper=new Cropper($image[0],{aspectRatio:params.aspectRatio,background:!1,zoomable:!1,viewMode:0,modal:!1,guides:!1,center:!1,autoCropArea:1,crop:function(e){isCropAreaAdjustStarted==null&&(isCropAreaAdjustStarted=setTimeout(function(){var imageData=_self.cropper.getImageData();if(imageData.rotate%90==0){var isVertical=imageData.rotate==0||Math.abs(imageData.rotate)==180,limitWidth=isVertical?imageData.naturalWidth:imageData.naturalHeight,limitHeight=isVertical?imageData.naturalHeight:imageData.naturalWidth,areaData={};e.detail.x<0&&(e.detail.x=areaData.x=0);e.detail.x+e.detail.width>limitWidth?areaData.width=limitWidth-e.detail.x:e.detail.y<0&&(e.detail.y=areaData.y=0);e.detail.y+e.detail.height>limitHeight&&(areaData.height=limitHeight-e.detail.y);$.isEmptyObject(areaData)||_self.cropper.setData(areaData)}isCropAreaAdjustStarted=null},10))},checkCrossOrigin:!1,checkOrientation:!1}),_self.setPreserveAspectRatio(!0),hideLoader(),_hasLoaded=!0)});return ko.applyBindings(_self,_self.$modal[0]),_self},showLoader=function(elem){hideLoader();_self.Loading(!0);_self.$modal&&LSHelper.HelperLib.blockUI(_self.$modal.find(".cropperHeader"));elem.append('<div class="bubblingG"><span id="bubblingG_1"><\/span><span id="bubblingG_2"><\/span><span id="bubblingG_3"><\/span><\/div>');_self.$loader=elem.children().last()},hideLoader=function(){_self.$modal&&LSHelper.HelperLib.unblockUI(_self.$modal.find(".cropperHeader"));_self.Loading(!1);_self.$loader!=null&&_self.$loader.remove()};return createCropperModal()};window.LSHelper=window.LSHelper||{};LSHelper.imageUpload=function(data,rootElem,options){var $elem=$(rootElem),_settings=$.extend({afterCropCallback:function(){},afterDeleteCallback:function(){},afterUploadCallback:function(){},onBeforeImgUpload:function(){},onBeforeImgCrop:function(){},aspectRatio:null},options),_self=this;_self.viewModel=ko.mapping.fromJS(data);_self.viewModel.noInitialPicture=_self.viewModel.PictureId()==null||_self.viewModel.PictureId()=="00000000-0000-0000-0000-000000000000";_self.viewModel.pregeneratedPictureId=ko.computed(function(){return _self.viewModel.noInitialPicture?_self.viewModel.PictureId():"00000000-0000-0000-0000-000000000000"});_self.viewModel.showDeleteButton||(_self.viewModel.showDeleteButton=ko.observable(!0));_self.viewModel.PictureUrl=ko.observable(_self.viewModel.EmptyImage());_self.viewModel.Loading=ko.observable(!1);_self.viewModel.buttonText=ko.computed(function(){return _self.viewModel.PictureId()!="00000000-0000-0000-0000-000000000000"&&_self.viewModel.Loading()==!1&&_self.viewModel.PictureId()!=null?"Change":"Upload"});_self.viewModel.setPictureUrl=function(){_self.viewModel.PictureUrl(GetUrl("Index","Picture")+"?maxWidth="+_self.viewModel.Width()+"&maxHeight="+_self.viewModel.Height()+"&crop="+_self.viewModel.Crop()+"&id="+_self.viewModel.PictureId()+"&timestamp="+(new Date).getTime())};_self.viewModel.noImage=ko.computed(function(){return(_self.viewModel.PictureId()==null||_self.viewModel.PictureId()=="00000000-0000-0000-0000-000000000000")&&!_self.viewModel.Loading()});_self.viewModel.showDelete=ko.computed(function(){return!_self.viewModel.noImage()&&_self.viewModel.showDeleteButton()==!0});_self.viewModel.upload=function(){var uploadButtonId=_self.viewModel.UploadBtnElId(),$appendElem=uploadButtonId?$("#"+uploadButtonId):$elem,$form=$appendElem.find("._imgUploadForm"),$fileInputLabel=$form.find(".file-input-label");$fileInputLabel.click()};data.HasImage&&_self.viewModel.setPictureUrl();_self.viewModel.deleteFunc=function(){LSHelper.Dialog.confirmDialog("Are you sure you want to delete this image?",function(){LSHelper.HelperLib.blockUI();_self.viewModel.deleteImage(function(){_settings.afterDeleteCallback()})},null,null,"Yes",null,"No","imageDeleteConfirmDialog")};_self.viewModel.deleteImage=function(onSuccess){var postData={pictureDbOwnerParentId:_self.viewModel.PictureDbOwnerParentId(),pictureDbOwnerId:_self.viewModel.PictureDbOwnerId(),pictureType:_self.viewModel.PictureType(),pictureId:_self.viewModel.PictureId()};$.ajax({type:"POST",url:GetUrl("DeletePicture","Picture"),data:postData,success:function(data){onSuccess!=null&&onSuccess(data);_self.viewModel.PictureId(null);_self.viewModel.PictureUrl(_self.viewModel.EmptyImage())},complete:function(){LSHelper.HelperLib.unblockUI()}})};var afterUpload=function(data,$fileInput){if(hideLoader(),$fileInput&&$fileInput.val(""),data){var timestamp=(new Date).getTime();data.status=="success"?(_self.viewModel.PictureId(data.id),_self.viewModel.setPictureUrl()):data.message!=undefined&&LSHelper.Dialog.alertDialog(data.message,null,function(){})}LSHelper.HelperLib.unblockUI()},bindImgUploadControl=function(options){var formHtml='<form class="_imgUploadForm" enctype="multipart/form-data" method="post" novalidate="novalidate">            <label class="file-input-label">               <input title="Upload new photo" type="file" name="img" class="ignore-jquery-validate" multiple>            <\/label>         <\/form>',uploadButtonId=_self.viewModel.UploadBtnElId(),$appendElem=uploadButtonId?$("#"+uploadButtonId):$elem;$appendElem.find("._imgUploadForm").remove();$appendElem.append(formHtml);setTimeout(function(){var $form=$appendElem.find("._imgUploadForm");$.data($form[0],"validator",{settings:{ignore:!0}});var $fileInput=$form.find('input[type="file"]'),fileInput=$fileInput.get(0),reader=new FileReader;reader.onload=function(e){var selectedImageUrl=e.target.result,cropImageData;LSHelper.HelperLib.unblockUI();hideLoader();cropImageData={pictureId:_self.viewModel.PictureId(),pictureDbOwnerId:_self.viewModel.PictureDbOwnerId(),pictureDbOwnerParentId:_self.viewModel.PictureDbOwnerParentId(),pictureType:_self.viewModel.PictureType(),isPrecreation:_self.viewModel.IsPrecreation(),tags:_self.viewModel.Tag(),imageUrl:selectedImageUrl,image:fileInput.files[0],aspectRatio:_settings.aspectRatio};_self.cropper=LSHelper.imageCropper(cropImageData,{afterCropCallback:function(response){afterUpload(response,$fileInput);_settings.afterUploadCallback(response);_settings.afterCropCallback(response)},cancelCropCallback:function(response){$fileInput.val("")},onBeforeImgCrop:_settings.onBeforeImgCrop})};$fileInput.change(function(e){if(fileInput.files.length){if(window.File&&window.FileReader&&window.FileList&&window.Blob&&fileInput.files.length>0&&fileInput.files[0].size>2e7){LSHelper.Dialog.alertDialog("Maximum allowed image size is 20MB");return}_settings.onBeforeImgUpload(data);LSHelper.HelperLib.blockUI();showLoader($elem);reader.readAsDataURL(fileInput.files[0])}})})},showLoader=function(elem){hideLoader();_self.viewModel.Loading(!0);elem.append('<div class="bubblingG"><span id="bubblingG_1"><\/span><span id="bubblingG_2"><\/span><span id="bubblingG_3"><\/span><\/div>');_self.$loader=elem.children().last()},hideLoader=function(){_self.viewModel.Loading(!1);_self.$loader!=null&&_self.$loader.remove()};bindImgUploadControl();ko.cleanNode($elem[0]);ko.applyBindings(_self.viewModel,$elem[0])};$(function(){var $button,clickEvent;if(window.mmenuOpen=function(){$(".mobile-menu-wrapper").addClass("mobile-menu-wrapper--active");$("body").css("overflow","hidden")},window.mmenuClose=function(){$(".mobile-menu-wrapper").removeClass("mobile-menu-wrapper--active");$("body").css("overflow","")},$button=$(".mobile-menu-button"),$button.length>0){clickEvent="ontouchend"in document.documentElement==!0?"touchend":"click";$(document).on(clickEvent,".mobile-menu-button",function(event){$(".mobile-menu-wrapper").hasClass("mobile-menu-wrapper--active")?window.mmenuClose():window.mmenuOpen();event.stopPropagation();event.preventDefault()});$(document).on(clickEvent,".mobile-menu",function(event){event.stopPropagation()});$(document).on(clickEvent,".mobile-menu-wrapper",function(event){$(this).hasClass("mobile-menu-wrapper--active")&&(window.mmenuClose(),event.stopPropagation(),event.preventDefault())});$(document).on(clickEvent,".mobile-menu > ul > li.section-caption .section-title",function(event){event.stopPropagation();event.preventDefault();$(this).parent().toggleClass("checked")})}});$(function(){var mouseenterTimeoutHandler=null,mouseleaveTimeoutHandler=null,init=function(){var $header=$("header"),$lis=$(".desktop-layout nav > ul > li"),hideSubMenu;$header.addClass("ha");$lis.mouseenter(function(ev){clearTimeout(mouseleaveTimeoutHandler);var timeout=$(this).find(".sub-menu").length&&!$header.hasClass("ha-header-hover")?500:1;mouseenterTimeoutHandler=setTimeout(function(){$header.addClass("ha-header-hover");$lis.removeClass("ha-submenu-hover");$lis.find(".sub-menu").height(0);$(this).addClass("ha-submenu-hover");$(this).find(".sub-menu").height($(this).find(".dynamic-container").height())}.bind(this),timeout)});hideSubMenu=function(){$header.removeClass("ha-header-hover");$lis.removeClass("ha-submenu-hover");$lis.find(".sub-menu").height(0)};$lis.mouseleave(function(ev){clearTimeout(mouseenterTimeoutHandler);var timeout=$(this).find(".sub-menu").length?1e3:1;mouseleaveTimeoutHandler=setTimeout(function(){hideSubMenu()},timeout)});$lis.find("a").on("click",function(){hideSubMenu()});$header.on("clickoutside",function(){hideSubMenu()})};$(document).on("headerReloaded",function(){init()});init()});typeof LiquidSpace=="undefined"&&(LiquidSpace={});LiquidSpace.Favorites=function(){var _self=this,$wrapper=null,_favoriteClass="favorited",_favoriteBlockClass="fav-blocked",favoriteViewModel=null,managerViewModel,$dialog;return _self.setFavorites=function(){var collections,colIndex,favorites,favIndex;for(favoriteViewModel.originalCollections(ko.mapping.toJS(favoriteViewModel.Collections())),collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)for(collections[colIndex].IsWorkspaceFavorited(!1),favorites=collections[colIndex].Favorites(),favIndex=0;favIndex<favorites.length;favIndex++)if(favorites[favIndex].WorkspaceId()==favoriteViewModel.WorkspaceId()){collections[colIndex].IsWorkspaceFavorited(!0);break}favoriteViewModel.Collections().length!=1||favoriteViewModel.Collections()[0].IsWorkspaceFavorited()||(favoriteViewModel.Collections()[0].IsWorkspaceFavorited(!0),favoriteViewModel.Collections()[0].Favorites.push({WorkspaceId:favoriteViewModel.WorkspaceId}))},_self.initDialogViewModel=function(options){favoriteViewModel=ko.mapping.fromJS({Collections:[],WorkspaceId:options.workspaceId,VenueId:options.venueId,MemberId:options.memberId});favoriteViewModel.originalCollections=ko.observableArray([]);favoriteViewModel.dataLoaded=ko.observable(!1);favoriteViewModel.listView=ko.observable(!0);favoriteViewModel.newCollectionName=ko.observable("").extend({required:{params:!0,message:"You need to name your collection"},validation:{validator:function(val){for(var result=!0,collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Name()==val){result=!1;break}return result},message:"You already got one like that"}});favoriteViewModel.errorGroup=ko.validation.group([favoriteViewModel.newCollectionName]);favoriteViewModel.showValidationMessages=ko.observable(!1);favoriteViewModel.saveButtonDisabled=ko.computed(function(){var collections,colIndex;if(!favoriteViewModel.Collections().length)return!0;if(favoriteViewModel.originalCollections().length!=favoriteViewModel.Collections().length)return!1;for(collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Favorites().length!=favoriteViewModel.originalCollections()[colIndex].Favorites.length)return!1;return!0});favoriteViewModel.save=function(){var dataModel={MemberId:ko.unwrap(favoriteViewModel.MemberId),WorkspaceId:ko.unwrap(favoriteViewModel.WorkspaceId),VenueId:ko.unwrap(favoriteViewModel.VenueId),Collections:favoriteViewModel.Collections().map(function(c){return{Id:ko.unwrap(c.Id),IsWorkspaceFavorited:ko.unwrap(c.IsWorkspaceFavorited),Name:ko.unwrap(c.Name)}})};$.ajax({url:"/Favorite/FavoriteDialog",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(dataModel),success:function(data){var isWorkspaceFavorited,collections,colIndex;if(data&&data.success){for(isWorkspaceFavorited=!1,collections=dataModel.Collections,colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].IsWorkspaceFavorited){isWorkspaceFavorited=!0;break}isWorkspaceFavorited?($('.favorite-widget[data-workspaceId="'+dataModel.WorkspaceId+'"]').addClass(_favoriteClass),$("#favorite-workspace-completed-banner").fadeIn(1e3).delay(5e3).fadeOut(1e3)):$('.favorite-widget[data-workspaceId="'+dataModel.WorkspaceId+'"]').removeClass(_favoriteClass);options.callback&&$.isFunction(options.callback)&&options.callback(options.venueId,options.workspaceId,isWorkspaceFavorited)}favoriteViewModel.close(!0)},complete:function(){$(options.elem).removeClass(_favoriteBlockClass)}})};favoriteViewModel.newButtonDisabled=ko.computed(function(){return!!favoriteViewModel.errorGroup().length});favoriteViewModel.close=function(doNotSave){doNotSave===!0||favoriteViewModel.saveButtonDisabled()||favoriteViewModel.save();$(options.elem).removeClass(_favoriteBlockClass);$wrapper!=null&&($wrapper.remove(),$wrapper=null)};favoriteViewModel.createCollection=function(){favoriteViewModel.errorGroup().length?favoriteViewModel.showValidationMessages(!0):(favoriteViewModel.Collections.push({Name:ko.observable(favoriteViewModel.newCollectionName()),IsWorkspaceFavorited:ko.observable(!1),Favorites:ko.observableArray([])}),favoriteViewModel.showValidationMessages(!1),favoriteViewModel.newCollectionName(""),favoriteViewModel.listView(!0))};favoriteViewModel.toggleFavorite=function(data){var isFavorited=data.IsWorkspaceFavorited(),favorites,favoriteToRemove,i;if(isFavorited){for(favorites=data.Favorites(),favoriteToRemove=null,i=0;i<favorites.length;i++)if(favorites[i].WorkspaceId()==favoriteViewModel.WorkspaceId()){favoriteToRemove=favorites[i];break}favoriteToRemove&&data.Favorites.remove(favoriteToRemove)}else data.Favorites.push({WorkspaceId:favoriteViewModel.WorkspaceId});data.IsWorkspaceFavorited(!isFavorited)};ko.cleanNode($wrapper[0]);ko.applyBindings(favoriteViewModel,$wrapper[0])},_self.favorite=function(options){var $elem,elemOffset,left,top;if(options=$.extend({elem:null,venueId:null,workspaceId:null,memberId:null,callback:function(venueId,workspaceId,isWorkspaceFavorited){},showToast:!1},options),!options.venueId||!options.workspaceId||!options.elem)return options.callback(options.venueId,options.workspaceId,!1);if($elem=$(options.elem),!$elem.hasClass(_favoriteBlockClass)){if($wrapper&&favoriteViewModel&&favoriteViewModel.close(),document.notLoggedInCallBack=function(){favoriteViewModel!=null&&favoriteViewModel.close();$elem.removeClass(_favoriteBlockClass);LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){LiquidSpace.Favorites.favorite(options)},onlyHeaderReload:!0,signInMessage:"Great Space! Sign In to save this and others to your Favorites.",joinMessage:"To keep track and share your favorites, join our community.",popupParams:{mode:"join",regType:"FavoriteWorkspace",additionalRegData:options.workspaceId}})},User.id==null){document.notLoggedInCallBack();return}$elem.addClass(_favoriteBlockClass);$wrapper||($wrapper=$($("#favorite-dialog-template").html()),$("body").append($wrapper));initDialogViewModel(options);$wrapper.length>0&&(elemOffset=$elem.offset(),LSHelper.HelperLib.elementOrParentIsFixed($elem)&&($wrapper.css("position","fixed"),elemOffset.left-=$(window).scrollLeft(),elemOffset.top-=$(window).scrollTop()),left=elemOffset.left-$wrapper.width()+$elem.width()+20,left<0&&-left<$wrapper.width()&&(left=0),top=elemOffset.top,$wrapper.css("top",top+"px").css("left",left+"px"),$wrapper.show());favoriteViewModel.dataLoaded(!1);$.ajax({url:"/Favorite/FavoriteDialog",data:{workspaceId:options.workspaceId,venueId:options.venueId},type:"GET",success:function(data){data&&(ko.mapping.fromJS(data.Data,favoriteViewModel),_self.setFavorites(),favoriteViewModel.dataLoaded(!0))}})}},managerViewModel=null,$dialog=null,_self.currentRequest=null,_self.collectionManageMenu=function(options){var menuModes={menu:"menu","new":"new",rename:"rename","delete":"delete",duplicate:"duplicate",deleteShared:"deleteShared",share:"share"},repositionDialog,initManageViewModel;if(options=$.extend({elem:null,collectionId:null,renameCallback:function(collection){},deleteCallback:function(success){},deleteSharedCallback:function(success){},duplicateCallback:function(collection){},newCallback:function(collection){},initialMode:menuModes.menu,collections:[],isOwner:!0,isShared:!1,hideShareOption:!1,isBrokerDashboard:!1},options),menuModes[options.initialMode]||(options.initialMode=menuModes.menu),!options.elem)return!1;_self.currentRequest&&(_self.currentRequest.abort(),_self.currentRequest=null);$dialog&&($dialog.remove(),$dialog=null);repositionDialog=function(){var $elem=$(options.elem);if($dialog.length&&$elem.length){var offset=$elem.offset(),pinOffset={top:12,left:7},top=offset.top+$elem.height()+pinOffset.top,left=offset.left-$dialog.width()+$elem.width()+pinOffset.left;left<0&&-left<$dialog.width()&&(left=0);$dialog.css("top",top+"px").css("left",left+"px")}};initManageViewModel=function(options){managerViewModel=ko.mapping.fromJS({Collections:options.collections});managerViewModel.isOwner=ko.observable(options.isOwner);managerViewModel.isShared=ko.observable(options.isShared);managerViewModel.dataLoaded=ko.observable(!1);managerViewModel.processing=ko.observable(!1);managerViewModel.mode=ko.observable(options.initialMode);managerViewModel.newCollectionName=ko.observable("").extend({required:{onlyIf:function(){var mode=managerViewModel.mode();return mode==menuModes.rename||mode==menuModes.new||mode==menuModes.duplicate},message:"You need to name your collection"},validation:{validator:function(val){for(var result=!0,collections=managerViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Name()==val){result=!1;break}return result},message:"You already got one like that"}});managerViewModel.newCollectionName.subscribe(function(newValue){managerViewModel.serverErrors([])});managerViewModel.errorGroup=ko.validation.group([managerViewModel.newCollectionName]);managerViewModel.serverErrors=ko.observableArray([]);managerViewModel.validationErrors=ko.computed(function(){var result=managerViewModel.serverErrors();return managerViewModel.errorGroup().forEach(function(error){result.push(error)}),result});managerViewModel.showValidationMessages=ko.observable(!1);managerViewModel.title=ko.computed(function(){var result="";switch(managerViewModel.mode()){case menuModes.rename:result="Rename Collection";break;case menuModes.duplicate:result="Copy Collection";break;case menuModes.delete:case menuModes.deleteShared:result="Are you sure?";break;case menuModes.new:result="New Collection";break}return result});managerViewModel.submitDisabled=ko.computed(function(){return managerViewModel.processing()||!!managerViewModel.errorGroup().length});managerViewModel.submitText=ko.computed(function(){var result="";switch(managerViewModel.mode()){case menuModes.rename:case menuModes.duplicate:case menuModes.new:result="Done!";break;case menuModes.delete:case menuModes.deleteShared:result="Yes, delete.";break}return result});managerViewModel.cancelText=ko.computed(function(){var result="";switch(managerViewModel.mode()){case menuModes.rename:case menuModes.duplicate:case menuModes.new:result="Cancel";break;case menuModes.delete:case menuModes.deleteShared:result="No, wait! Keep it.";break}return result});managerViewModel.fullDialogView=ko.computed(function(){return managerViewModel.mode()!=menuModes.menu});managerViewModel.getCollection=function(collectionId){var result=null,collections,colIndex;if(collectionId)for(collections=managerViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Id()==collectionId){result=collections[colIndex];break}return result};managerViewModel.linkCopied=ko.observable(!1);managerViewModel.setCollectionUrlCopied=function(){managerViewModel.linkCopied(!0);setTimeout(function(){managerViewModel.close()},3e3)};managerViewModel.collectionUrl=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return selectedCollection!=null?selectedCollection.CollectionFullUrl():null});managerViewModel.selectMode=function(mode){var previousMode=managerViewModel.mode(),selectedCollection;managerViewModel.mode(mode);mode==menuModes.duplicate?(managerViewModel.newCollectionName("Startup Friendly Spaces"),$dialog.find("input.collection-name-input").select().focus()):mode==menuModes.rename&&(selectedCollection=managerViewModel.getCollection(options.collectionId),selectedCollection&&managerViewModel.newCollectionName(selectedCollection.Name()),$dialog.find("input.collection-name-input").select().focus());previousMode!=mode&&(previousMode==menuModes.menu||mode==menuModes.menu)&&repositionDialog()};managerViewModel.close=function(){$(options.elem).removeClass(_favoriteBlockClass);$dialog.remove()};managerViewModel.css=ko.computed(function(){var css=["mode-"+managerViewModel.mode()];return managerViewModel.linkCopied()&&css.push("mode-link-copied"),css.join(" ")});managerViewModel.submit=function(){var mode=managerViewModel.mode(),urls={rename:"/Favorite/RenameCollection","new":"/Favorite/CreateCollection",duplicate:"/Favorite/DuplicateCollection","delete":"/Favorite/DeleteCollection",deleteShared:"/Favorite/DeleteSharedCollection"};urls[mode]&&!managerViewModel.errorGroup().length?(managerViewModel.processing(!0),$.ajax({url:urls[mode],type:"POST",data:{collectionId:options.collectionId,newName:managerViewModel.newCollectionName(),isBrokerDashboard:options.isBrokerDashboard},success:function(data){if(data&&data.success){switch(managerViewModel.mode()){case menuModes.rename:options.renameCallback(data.collection);break;case menuModes.duplicate:options.duplicateCallback(data.collection);break;case menuModes.delete:options.deleteCallback(!0);break;case menuModes.new:options.newCallback(data.collection);break;case menuModes.deleteShared:options.deleteSharedCallback(!0);break}managerViewModel.close()}else data.message&&(managerViewModel.serverErrors([data.message]),managerViewModel.showValidationMessages(!0))},complete:function(){managerViewModel!=null&&managerViewModel.processing(!1);$(options.elem).removeClass(_favoriteBlockClass)}})):managerViewModel.showValidationMessages(!0)};managerViewModel.canRename=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return managerViewModel.isOwner()&&selectedCollection});managerViewModel.canDuplicate=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return selectedCollection&&selectedCollection.FavoritesCount()>0});managerViewModel.canDelete=ko.computed(function(){return(!managerViewModel.dataLoaded()||managerViewModel.Collections().filter(function(e){return!e.IsLiquidspaceCollection()}).length>1)&&managerViewModel.isOwner()});managerViewModel.canDeleteShared=ko.computed(function(){return managerViewModel.isShared()});managerViewModel.canShare=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return selectedCollection&&selectedCollection.FavoritesCount()>0&&!options.hideShareOption});managerViewModel.share=function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);managerViewModel.close();selectedCollection&&selectedCollection.openShareDialog()};managerViewModel.selectMode(options.initialMode);ko.cleanNode($dialog[0]);ko.applyBindingsWithValidation(managerViewModel,$dialog[0],{insertMessages:!1,decorateElement:!1});$dialog.find("input.collection-name-input").select().focus()};$dialog||($dialog=$($("#collections-manage-template").html()),$("body").append($dialog));initManageViewModel(options);repositionDialog();managerViewModel.Collections().length?managerViewModel.dataLoaded(!0):_self.currentRequest=$.ajax({url:"/Favorite/ManageCollectionDialog",data:{},type:"GET",success:function(data){data&&(ko.mapping.fromJS(data.Data,managerViewModel),managerViewModel.dataLoaded(!0))}})},_self}();typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.WorkspaceRequest=function(params){params=$.extend({model:{},requestWrapperSelector:null,showRequestCompletedBannerFunc:function(){},closeDialogFunc:function(){},isTourRequest:!1,stayLengthList:[]},params);var viewModel={message:ko.observable(),email:ko.observable(params.model.Email),fullname:ko.observable(params.model.FullName),phone:ko.observable(params.model.Phone),company:ko.observable(params.model.Company),personalDataFilled:ko.observable(params.model.PersonalDataFilled),memberId:ko.observable(params.model.MemberId),password:ko.observable(),bookedDesksCount:ko.observable(params.model.BookedDesksCount),startDate:ko.observable(Date.fromISO(params.model.StartDate)),tourDate:ko.observable(params.model.TourDate?Date.fromISO(params.model.TourDate):null),startDateDatepickerVisible:ko.observable(!1),tourDateDatepickerVisible:ko.observable(!1),datePickerOptions:{useDateObjectForObservable:!0,minDate:Date.fromISO(params.model.MinDate),dateFormat:"M d, yy",onSelect:function(){viewModel.startDateDatepickerVisible(!1);viewModel.tourDateDatepickerVisible(!1)}},assignData:function(data){data&&(data.FullName&&viewModel.fullname(data.FullName),data.Email&&viewModel.email(data.Email),data.Phone&&viewModel.phone(data.Phone),data.Company&&viewModel.company(data.Company),data.MemberId&&viewModel.memberId(data.MemberId),data.PersonalDataFilled&&viewModel.personalDataFilled(data.PersonalDataFilled))},isPasswordWrong:ko.observable(!1),request:function(){var tourDate;if(viewModel.isPasswordWrong(!1),$("#workspaceRequestForm").valid()){var $dialog=$(params.requestWrapperSelector),data=$dialog.formToArray(!0),startDate=viewModel.startDate();startDate&&!isNaN(startDate)&&data.push({name:"StartDate",value:viewModel.startDate().toServerString()});tourDate=viewModel.tourDate();tourDate&&!isNaN(tourDate)&&data.push({name:"TourDate",value:tourDate?tourDate.toServerString():null});viewModel.personalDataFilled()&&(data.push({name:"FullName",value:viewModel.fullname()}),data.push({name:"Email",value:viewModel.email()}),data.push({name:"Phone",value:viewModel.phone()}),data.push({name:"Company",value:viewModel.company()}));LSHelper.HelperLib.blockUI($dialog);$.ajax({type:"POST",url:GetUrl("WorkspaceRequest","Venues"),data:data,success:function(response){if(response.isException){response.memberId!=null&&response.memberId!=Guid.Empty&&LSHelper.Account.reloadHeader();LSHelper.UI.showError({title:"Access Exception",content:response.content});params.closeDialogFunc();return}response.success?($(document).trigger("WorkspaceRequestSuccess"),LSHelper.Account.reloadHeader(),response.state&&$(window).trigger("agreeToShareApproved",{venueId:response.venueId,state:response.state,visaImageUrl:response.visaImageUrl,buttonState:response.buttonState,userId:response.memberId}),LSHelper.ga.trackMonthlyRequest(params.model.RequestType,params.model.WorkspaceId),params.showRequestCompletedBannerFunc(),params.closeDialogFunc(),window.scrollTo(0,0)):viewModel.isPasswordWrong(!0)},complete:function(){LSHelper.HelperLib.unblockUI($dialog)}})}},signInFunc:function(messages){messages=messages||{};var $dialog=$(params.requestWrapperSelector);LSHelper.HelperLib.blockUI($dialog);LSHelper.Account.popUpSignIn({onCloseCallback:function(){LSHelper.HelperLib.unblockUI($dialog)},onLogInSuccessCallback:function(userId){LSHelper.HelperLib.blockUI($dialog);$.ajax({type:"POST",url:GetUrl("WorkspaceRequestDialogGetJson","Venues"),data:{venueId:params.model.VenueId,workspaceId:params.model.WorkspaceId,isTourRequest:params.isTourRequest},success:function(response){if(response.isException){LSHelper.UI.showError(response);params.closeDialogFunc();return}viewModel.assignData(response)},error:function(){params.closeDialogFunc()},complete:function(){LSHelper.HelperLib.unblockUI($dialog)}})},onlyHeaderReload:!0,signInMessage:messages.signInMessage,joinMessage:messages.joinMessage,userName:viewModel.email()?viewModel.email():null})},stayLengthList:params.stayLengthList,durationDropdownVisible:ko.observable(!1),selectedDuration:ko.observable(params.stayLengthList[0]),getFurnitureOptions:ko.observable(!1)};return viewModel.startDateDisplay=ko.computed(function(){return new Date(viewModel.startDate()).format("ddd, MMM dd, yyyy")}),viewModel.tourDateDisplay=ko.computed(function(){var tourDate=viewModel.tourDate();return tourDate?new Date(tourDate).format("ddd, MMM dd, yyyy"):null}),viewModel.isAnonymous=ko.computed(function(){return viewModel.memberId()?!1:!0}),viewModel.toggleDurationDropdownVisible=function(){viewModel.durationDropdownVisible(!viewModel.durationDropdownVisible())},viewModel.durationText=ko.computed(function(){var selectedDuration=viewModel.selectedDuration();return selectedDuration&&selectedDuration.Text}),viewModel.durationValue=ko.computed(function(){var selectedDuration=viewModel.selectedDuration();return selectedDuration&&selectedDuration.Value}),viewModel.selectDuration=function(item){viewModel.selectedDuration(item);viewModel.durationDropdownVisible(!1)},viewModel},function(f){if(typeof exports=="object"&&typeof module!="undefined")module.exports=f();else if(typeof define=="function"&&define.amd)define([],f);else{var g;g=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;g.libphonenumber=f()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){var a,f,l;if(!n[o]){if(!t[o]){if(a=typeof require=="function"&&require,!u&&a)return a(o,!0);if(i)return i(o,!0);f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i=typeof require=="function"&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var COMPILED=!0,goog=goog||{},i18n;goog.global=this;goog.isDef=function(a){return void 0!==a};goog.isString=function(a){return"string"==typeof a};goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}};goog.define=function(a,b){var c=b,d,e;COMPILED||(d=goog.global.CLOSURE_UNCOMPILED_DEFINES,e=goog.global.CLOSURE_DEFINES,d&&void 0===d.nodeType&&Object.prototype.hasOwnProperty.call(d,a)?c=d[a]:e&&void 0===e.nodeType&&Object.prototype.hasOwnProperty.call(e,a)&&(c=e[a]));goog.exportPath_(a,c)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=a,!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_)return goog.loadedModules_[a];if(!goog.implicitNamespaces_[a])return a=goog.getObjectByName(a),null!=a?a:null}return null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e=0;e<c.length;e++)if(d=d[c[e]],!goog.isDefAndNotNull(d))return null;return d};goog.globalize=function(a,b){var c=b||goog.global;for(var d in a)c[d]=a[d]};goog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e=goog.getLoader_();e&&e.addDependency(a,b,c,d)}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};goog.require=function(a){var b,c;if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_&&goog.getLoader_().earlyProcessLoad(a),!COMPILED){if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){b=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{c=goog.getLoader_();c?c.load(a):goog.logToConsole_("Could not load "+a+" because there is no debug loader.")}finally{goog.moduleLoaderState_=b}}return null}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){return a.instance_?a.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE="detect";goog.TRANSPILER="transpile.js";goog.DEBUG_LOADER="";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return"(function(){"+a+"\n;})();\n"};goog.loadModule=function(a){var b=goog.moduleLoaderState_,c,d;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1},goog.isFunction(a))c=a.call(void 0,{});else if(goog.isString(a))goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(void 0,a);else throw Error("Invalid module definition");if(d=goog.moduleLoaderState_.moduleName,goog.isString(d)&&d)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof c&&null!=c&&Object.seal(c),goog.loadedModules_[d]=c;else throw Error('Invalid module name "'+d+'"');}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){return eval(a),{}};goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;return b.open("get",a,!1),b.send(),0==b.status||200==b.status?b.responseText:null}catch(c){return null}};goog.transpile_=function(a,b){var c=goog.global.$jscomp,d,e,f;if(c||(goog.global.$jscomp=c={}),d=c.transpile,!d&&(e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e),f)){if(function(){eval(f+"\n//# sourceURL="+e)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile;c=goog.global.$jscomp;d=c.transpile}return d||(d=c.transpile=function(a,b){return goog.logToConsole_(b+" requires transpilation but no transpiler was found."),a}),d(a,b)};goog.typeOf=function(a){var b=typeof a,c;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;if(c=Object.prototype.toString.call(a),"[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a),c;if("object"==b||"array"==b){if(a.clone)return a.clone();b="array"==b?[]:{};for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,b){if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")};return d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a},d=b?a+"-"+d(b):d(a),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(d):d};goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){return b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a})),a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};goog.base=function(a,b,c){var d=arguments.callee.caller,e,f,g;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}for(e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];for(f=!1,g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;return c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");}),c=goog.defineClass.createSealingConstructor_(c,a),a&&goog.inherits(c,a),delete b.constructor,delete b.statics,goog.defineClass.applyProperties_(c.prototype,b),null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d)),c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;return b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_],this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b),b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(a,b){var c,d;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){var a,b,c,d;if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(a=goog.global.document,b=a.currentScript,a=b?[b]:a.getElementsByTagName("SCRIPT"),b=a.length-1;0<=b;--b)if(c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:d,"base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(a,b){d?c[a]=!0:b()?c[a]=!1:d=c[a]=!0}function b(a){try{return!!eval(a)}catch(g){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var a=e.match(/Edge\/(\d+)(\.\d)*/i);return a&&15>Number(a[1])?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es_next",function(){return b("({...rest} = {}), true")}),c},goog.Transpiler.prototype.needsTranspile=function(a){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(this.requiresTranspilation_||(this.requiresTranspilation_=this.createRequiresTranspilation_()),a in this.requiresTranspilation_)return this.requiresTranspilation_[a];throw Error("Unknown language mode: "+a);},goog.Transpiler.prototype.transpile=function(a,b){return goog.transpile_(a,b)},goog.transpiler_=new goog.Transpiler,goog.DebugLoader=function(){this.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};this.oldIeWaiting_=!1;this.queuedModules_=[];this.lastNonModuleScriptIndex_=0},goog.DebugLoader.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader.prototype.earlyProcessLoad=function(a){goog.DebugLoader.IS_OLD_IE_&&this.maybeProcessDeferredDep_(a)},goog.DebugLoader.prototype.load=function(a){var b=this.getPathFromDeps_(a),h,k;if(b){var c=[],d={},e=this.dependencies_,f=this,g=function(a){if(!(a in e.written||a in e.visited)){if(e.visited[a]=!0,a in e.requires)for(var b in e.requires[a])if(!f.isProvided(b))if(b in e.nameToPath)g(e.nameToPath[b]);else throw Error("Undefined nameToPath for "+b);a in d||(d[a]=!0,c.push(a))}};for(g(b),a=0;a<c.length;a++)b=c[a],this.dependencies_.written[b]=!0;for(a=0;a<c.length;a++)if(b=c[a])h=e.loadFlags[b]||{},k=h.lang||"es3",k=this.getTranspiler().needsTranspile(k),"goog"==h.module||k?this.importProcessedScript_(goog.basePath+b,"goog"==h.module,k):this.importScript_(goog.basePath+b);else throw Error("Undefined script input");}else throw a="goog.require could not find: "+a,this.logToConsole(a),Error(a);},goog.DebugLoader.prototype.addDependency=function(a,b,c,d){var e,f,g;for(a=a.replace(/\\/g,"/"),f=this.dependencies_,d&&"boolean"!=typeof d||(d=d?{module:"goog"}:{}),g=0;e=b[g];g++)f.nameToPath[e]=a,f.loadFlags[a]=d;for(d=0;b=c[d];d++)a in f.requires||(f.requires[a]={}),f.requires[a][b]=!0},goog.DebugLoader.prototype.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this))(a,b)&&(this.dependencies_.written[a]=!0)},goog.DebugLoader.prototype.importProcessedScript_=function(a,b,c){this.importScript_("",'goog.debugLoader_.retrieveAndExec_("'+a+'", '+b+", "+c+");")},goog.DebugLoader.prototype.retrieveAndExec_=function(a,b,c){var d,e,f;if(!COMPILED){if(d=a,a=this.normalizePath(a),e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this),f=this.loadFileSync(a),null==f)throw Error('Load of "'+a+'" failed');c&&(f=this.getTranspiler().transpile(f,a));f=b?this.wrapModule_(a,f):f+("\n//# sourceURL="+a);goog.DebugLoader.IS_OLD_IE_&&this.oldIeWaiting_?(this.dependencies_.deferred[d]=f,this.queuedModules_.push(d)):e(a,f)}},goog.DebugLoader.prototype.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(b+"\n//# sourceURL="+a+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+b+"\n;return exports});\n//# sourceURL="+a+"\n"},goog.DebugLoader.prototype.loadQueuedModules_=function(){var a=this.queuedModules_.length,b,c;if(0<a)for(b=this.queuedModules_,this.queuedModules_=[],c=0;c<a;c++)this.maybeProcessDeferredPath_(b[c]);this.oldIeWaiting_=!1},goog.DebugLoader.prototype.maybeProcessDeferredDep_=function(a){this.isDeferredModule_(a)&&this.allDepsAreAvailable_(a)&&(a=this.getPathFromDeps_(a),this.maybeProcessDeferredPath_(goog.basePath+a))},goog.DebugLoader.prototype.isDeferredModule_=function(a){var b=(a=this.getPathFromDeps_(a))&&this.dependencies_.loadFlags[a]||{},c=b.lang||"es3";return a&&("goog"==b.module||this.getTranspiler().needsTranspile(c))?goog.basePath+a in this.dependencies_.deferred:!1},goog.DebugLoader.prototype.allDepsAreAvailable_=function(a){if((a=this.getPathFromDeps_(a))&&a in this.dependencies_.requires)for(var b in this.dependencies_.requires[a])if(!this.isProvided(b)&&!this.isDeferredModule_(b))return!1;return!0},goog.DebugLoader.prototype.maybeProcessDeferredPath_=function(a){if(a in this.dependencies_.deferred){var b=this.dependencies_.deferred[a];delete this.dependencies_.deferred[a];goog.globalEval(b)}},goog.DebugLoader.prototype.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'"><\/script>')},goog.DebugLoader.prototype.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.src=a;c.defer=!1;c.async=!1;b.head.appendChild(c)},goog.DebugLoader.prototype.writeScriptTag_=function(a,b){var c,d;if(this.inHtmlDocument()){if(c=goog.global.document,!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==c.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}return void 0===b?goog.DebugLoader.IS_OLD_IE_?(this.oldIeWaiting_=!0,d=" onreadystatechange='goog.debugLoader_.onScriptLoad_(this, "+ ++this.lastNonModuleScriptIndex_+")' ",c.write('<script type="text/javascript" src="'+a+'"'+d+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?this.appendScriptSrcNode_(a):this.writeScriptSrcNode_(a):c.write('<script type="text/javascript">'+this.protectScriptTag_(b)+"<\/script>"),!0}return!1},goog.DebugLoader.prototype.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader.prototype.onScriptLoad_=function(a,b){return"complete"==a.readyState&&this.lastNonModuleScriptIndex_==b&&this.loadQueuedModules_(),!0},goog.DebugLoader.prototype.getPathFromDeps_=function(a){return a in this.dependencies_.nameToPath?this.dependencies_.nameToPath[a]:null},goog.DebugLoader.prototype.getTranspiler=function(){return goog.transpiler_},goog.DebugLoader.prototype.isProvided=function(a){return goog.isProvided_(a)},goog.DebugLoader.prototype.inHtmlDocument=function(){return goog.inHtmlDocument_()},goog.DebugLoader.prototype.logToConsole=function(a){goog.logToConsole_(a)},goog.DebugLoader.prototype.loadFileSync=function(a){return goog.loadFileSync_(a)},goog.DebugLoader.prototype.normalizePath=function(a){return goog.normalizePath_(a)},goog.debugLoader_=null,goog.registerDebugLoader=function(a){if(goog.debugLoader_)throw Error("Debug loader already registered!");if(!(a instanceof goog.DebugLoader))throw Error("Not a goog.DebugLoader.");goog.debugLoader_=a},goog.getLoader_=function(){if(!goog.debugLoader_&&goog.DEBUG_LOADER)throw Error("Loaded debug loader file but no loader was registered!");return goog.debugLoader_||(goog.debugLoader_=new goog.DebugLoader),goog.debugLoader_},function(){if(goog.DEBUG_LOADER){var a=new goog.DebugLoader;a.importScript_(goog.basePath+goog.DEBUG_LOADER)}goog.global.CLOSURE_NO_DEPS||(a=a||new goog.DebugLoader,goog.DEBUG_LOADER||goog.registerDebugLoader(a),a.importScript_(goog.basePath+"deps.js"))}());goog.string={};goog.string.StringBuffer=function(a,b){null!=a&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(a){this.buffer_=""+a};goog.string.StringBuffer.prototype.append=function(a,b,c){if(this.buffer_+=String(a),null!=b)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.debug={};goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){goog.debug.Error.call(this,goog.asserts.subs_(a,b));this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.subs_=function(a,b){for(var c=a.split("%s"),d="",e=c.length-1,f=0;f<e;f++)d+=c[f]+(f<b.length?b[f]:"%s");return d+c[e]};goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed",f;c?(e+=": "+c,f=d):a&&(e+=": "+a,f=b);a=new goog.asserts.AssertionError(""+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)};goog.asserts.assert=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertString=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertFunction=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertObject=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertArray=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertBoolean=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertElement=function(a,b,c){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertInstanceof=function(a,b,c,d){return!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3)),a};goog.asserts.assertFinite=function(a,b,c){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof a&&isFinite(a)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")};goog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!1;goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){if(c=null==c?a.length-1:c,0>c&&(c=Math.max(0,a.length+c)),goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(--d;0<=d;--d)d in e&&b.call(c,e[d],d,a)};goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var k,d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)h in g&&(k=g[h],b.call(c,k,h,a)&&(e[f++]=k));return e};goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){return goog.asserts.assert(null!=a.length),d&&(b=goog.bind(b,d)),Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;return goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)}),e};goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){return goog.asserts.assert(null!=a.length),goog.asserts.assert(null!=b),d&&(b=goog.bind(b,d)),Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;return goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)}),e};goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;return goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c),d};goog.array.find=function(a,b,c){return b=goog.array.findIndex(a,b,c),0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){return b=goog.array.findIndexRight(a,b,c),0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndexRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(--d;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b),d;return(d=0<=c)&&goog.array.removeAt(a,c),d};goog.array.removeLast=function(a,b){var c=goog.array.lastIndexOf(a,b);return 0<=c?(goog.array.removeAt(a,c),!0):!1};goog.array.removeAt=function(a,b){return goog.asserts.assert(null!=a.length),1==Array.prototype.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){return b=goog.array.findIndex(a,b,c),0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAllIf=function(a,b,c){var d=0;return goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++}),d};goog.array.concat=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.join=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.toArray=function(a){var b=a.length,c,d;if(0<b){for(c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(a,b){for(var d,e,f,g,c=1;c<arguments.length;c++)if(d=arguments[c],goog.isArrayLike(d))for(e=a.length||0,f=d.length||0,a.length=e+f,g=0;g<f;g++)a[e+g]=d[g];else a.push(d)};goog.array.splice=function(a,b,c,d){return goog.asserts.assert(null!=a.length),Array.prototype.splice.apply(a,goog.array.slice(arguments,1))};goog.array.slice=function(a,b,c){return goog.asserts.assert(null!=a.length),2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};goog.array.removeDuplicates=function(a,b,c){var d,e,f,g,h;for(b=b||a,d=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a},c=c||d,d={},e=0,f=0;f<a.length;)g=a[f++],h=c(g),Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g);b.length=e};goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};goog.array.binarySearch_=function(a,b,c,d,e){for(var h,k,l,f=0,g=a.length;f<g;)k=f+g>>1,l=c?b.call(e,a[k],k,a):b(d,a[k]),0<l?f=k+1:(g=k,h=!l);return h?f:~f};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=function(a,b){for(var e,c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};for(e=b||goog.array.defaultCompare,goog.array.sort(c,function(a,b){return e(a.value,b.value)||a.index-b.index}),d=0;d<a.length;d++)a[d]=c[d].value};goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)};goog.array.isSorted=function(a,b,c){var d,e;for(b=b||goog.array.defaultCompare,d=1;d<a.length;d++)if(e=b(a[d-1],a[d]),0<e||0==e&&c)return!1;return!0};goog.array.equals=function(a,b,c){var d,e;if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;for(d=a.length,c=c||goog.array.defaultCompareEquality,e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare3=function(a,b,c){var d,e,f;for(c=c||goog.array.defaultCompare,d=Math.min(a.length,b.length),e=0;e<d;e++)if(f=c(a[e],b[e]),0!=f)return f;return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){return c=goog.array.binarySearch(a,b,c),0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};goog.array.binaryRemove=function(a,b,c){return b=goog.array.binarySearch(a,b,c),0<=b?goog.array.removeAt(a,b):!1};goog.array.bucket=function(a,b,c){for(var f,g,d={},e=0;e<a.length;e++)f=a[e],g=b.call(c,f,e,a),goog.isDef(g)&&(d[g]||(d[g]=[])).push(f);return d};goog.array.toObject=function(a,b,c){var d={};return goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e}),d};goog.array.range=function(a,b,c){var d=[],e=0,f=a;if(c=c||1,void 0!==b&&(e=a,f=b),0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var d,e,f,g,b=[],c=0;c<arguments.length;c++)if(d=arguments[c],goog.isArray(d))for(e=0;e<d.length;e+=8192)for(f=goog.array.slice(d,e,e+8192),f=goog.array.flatten.apply(null,f),g=0;g<f.length;g++)b.push(f[g]);else b.push(d);return b};goog.array.rotate=function(a,b){return goog.asserts.assert(null!=a.length),a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b))),a};goog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length);goog.asserts.assert(0<=c&&c<a.length);b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])};goog.array.zip=function(a){var e,f;if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};goog.array.shuffle=function(a,b){for(var e,f,c=b||Math.random,d=a.length-1;0<d;d--)e=Math.floor(c()*(d+1)),f=a[d],a[d]=a[e],a[e]=f};goog.array.copyByIndex=function(a,b){var c=[];return goog.array.forEach(b,function(b){c.push(a[b])}),c};goog.array.concatMap=function(a,b,c){return goog.array.concat.apply([],goog.array.map(a,b,c))};goog.object={};goog.object.is=function(a,b){return a===b?0!==a||1/a==1/b:a!==a&&b!==b};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={};for(var e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={};for(var e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};goog.object.getCount=function(a){var b=0;for(var c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b};goog.object.getKeys=function(a){var b=[],c=0;for(var d in a)b[c++]=d;return b};goog.object.getValueByKeys=function(a,b){for(var c=goog.isArrayLike(b),d=c?b:arguments,c=c?0:1;c<d.length;c++){if(null==a)return;a=a[d[c]]}return a};goog.object.containsKey=function(a,b){return null!==a&&b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;return(c=b in a)&&delete a[b],c};goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c};goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){return b in a?a[b]:(c=c(),a[b]=c)};goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0};goog.object.clone=function(a){var b={};for(var c in a)b[c]=a[c];return b};goog.object.unsafeClone=function(a){var b=goog.typeOf(a),c;if("object"==b||"array"==b){if(goog.isFunction(a.clone))return a.clone();b="array"==b?[]:{};for(c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={};for(var c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.object.extend=function(a,b){for(var c,d,f,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};goog.object.create=function(a){var b=arguments.length,c,d;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length,c,d;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};goog.object.createImmutableView=function(a){var b=a;return Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b)),b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};goog.object.getAllPropertyNames=function(a,b,c){var d,e,f;if(!a)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(a);for(d={};a&&(a!==Object.prototype||b)&&(a!==Function.prototype||c);){for(e=Object.getOwnPropertyNames(a),f=0;f<e.length;f++)d[e[f]]=!0;a=Object.getPrototypeOf(a)}return goog.object.getKeys(d)};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:""};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptyString=function(a){return 0==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1};goog.string.numberAwareCompare_=function(a,b,c){var h;if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++)if(c=d[g],h=e[g],c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1;return d.length!=e.length?d.length-e.length:a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\D+/g)};goog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};goog.string.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.AMP_RE_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.LT_RE_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.GT_RE_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.QUOT_RE_,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(goog.string.NULL_RE_,"&#0;"));goog.string.DETECT_DOUBLE_ESCAPING&&-1!=a.indexOf("e")&&(a=a.replace(goog.string.E_RE_,"&#101;"))}return a};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;goog.string.SINGLE_QUOTE_RE_=/'/g;goog.string.NULL_RE_=/\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};goog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,b):a};goog.string.unescapeEntitiesUsingDom_=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=b?b.createElement("div"):goog.global.document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var e=c[a],f;return e?e:("#"==b.charAt(0)&&(f=Number("0"+b.substr(1)),isNaN(f)||(e=String.fromCharCode(f))),e||(d.innerHTML=a+" ",e=d.firstChild.nodeValue.slice(0,-1)),c[a]=e)})};goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==c.charAt(0)){var b=Number("0"+c.substr(1));if(!isNaN(b))return String.fromCharCode(b)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};goog.string.preserveSpaces=function(a){return a.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){for(var e,c=b.length,d=0;d<c;d++)if(e=1==c?b:b.charAt(d),a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1);return a};goog.string.truncate=function(a,b,c){return c&&(a=goog.string.unescapeEntities(a)),a.length>b&&(a=a.substring(0,b-3)+"..."),c&&(a=goog.string.htmlEscape(a)),a};goog.string.truncateMiddle=function(a,b,c,d){if(c&&(a=goog.string.unescapeEntities(a)),d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));return c&&(a=goog.string.htmlEscape(a)),a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0b":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"};goog.string.jsEscapeCache_={"'":"\\'"};goog.string.quote=function(a){var b,c,d,e;for(a=String(a),b=['"'],c=0;c<a.length;c++)d=a.charAt(c),e=d.charCodeAt(0),b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d));return b.push('"'),b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};goog.string.escapeChar=function(a){var b,c;return a in goog.string.jsEscapeCache_?goog.string.jsEscapeCache_[a]:a in goog.string.specialEscapeChars_?goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a]:(b=a.charCodeAt(0),31<b&&127>b?c=a:(256>b?(c="\\x",16>b||256<b)&&(c+="0"):(c="\\u",4096>b&&(c+="0")),c+=b.toString(16).toUpperCase()),goog.string.jsEscapeCache_[a]=c)};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;return 0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c)),d};goog.string.remove=function(a,b){return a.replace(b,"")};goog.string.removeAll=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};goog.string.replaceAll=function(a,b,c){return b=new RegExp(goog.string.regExpEscape(b),"g"),a.replace(b,c.replace(/\$/g,"$$$$"))};goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){return a=goog.isDef(c)?a.toFixed(c):String(a),c=a.indexOf("."),-1==c&&(c=a.length),goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};goog.string.compareVersions=function(a,b){for(var h,k,l,c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){h=d[g]||"";k=e[g]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],0==h[0].length&&0==k[0].length)break;c=0==h[1].length?0:parseInt(h[1],10);l=0==k[1].length?0:parseInt(k[1],10);c=goog.string.compareElements_(c,l)||goog.string.compareElements_(0==h[2].length,0==k[2].length)||goog.string.compareElements_(h[2],k[2]);h=h[3];k=k[3]}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(new RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};goog.string.parseInt=function(a){return isFinite(a)&&(a=String(a)),goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(b)),d};goog.string.lastComponent=function(a,b){var c,d,e;if(b)"string"==typeof b&&(b=[b]);else return a;for(c=-1,d=0;d<b.length;d++)""!=b[d]&&(e=a.lastIndexOf(b[d]),e>c&&(c=e));return-1==c?a:a.slice(c+1)};goog.string.editDistance=function(a,b){var c=[],d=[],e,f;if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){for(d[0]=e+1,f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]};goog.proto2={};goog.proto2.Descriptor=function(a,b,c){for(this.messageType_=a,this.name_=b.name||null,this.fullName_=b.fullName||null,this.containingType_=b.containingType,this.fields_={},a=0;a<c.length;a++)b=c[a],this.fields_[b.getTag()]=b};goog.proto2.Descriptor.prototype.getName=function(){return this.name_};goog.proto2.Descriptor.prototype.getFullName=function(){return this.fullName_};goog.proto2.Descriptor.prototype.getContainingType=function(){return this.containingType_?this.containingType_.getDescriptor():null};goog.proto2.Descriptor.prototype.getFields=function(){var a=goog.object.getValues(this.fields_);return goog.array.sort(a,function(a,c){return a.getTag()-c.getTag()}),a};goog.proto2.Descriptor.prototype.getFieldsMap=function(){return this.fields_};goog.proto2.Descriptor.prototype.findFieldByName=function(a){return goog.object.findValue(this.fields_,function(b,c,d){return b.getName()==a})||null};goog.proto2.Descriptor.prototype.findFieldByTag=function(a){return goog.asserts.assert(goog.string.isNumeric(a)),this.fields_[parseInt(a,10)]||null};goog.proto2.Descriptor.prototype.createMessageInstance=function(){return new this.messageType_};goog.proto2.FieldDescriptor=function(a,b,c){this.parent_=a;goog.asserts.assert(goog.string.isNumeric(b));this.tag_=b;this.name_=c.name;this.isPacked_=!!c.packed;this.isRepeated_=!!c.repeated;this.isRequired_=!!c.required;this.fieldType_=c.fieldType;this.nativeType_=c.type;this.deserializationConversionPermitted_=!1;switch(this.fieldType_){case goog.proto2.FieldDescriptor.FieldType.INT64:case goog.proto2.FieldDescriptor.FieldType.UINT64:case goog.proto2.FieldDescriptor.FieldType.FIXED64:case goog.proto2.FieldDescriptor.FieldType.SFIXED64:case goog.proto2.FieldDescriptor.FieldType.SINT64:case goog.proto2.FieldDescriptor.FieldType.FLOAT:case goog.proto2.FieldDescriptor.FieldType.DOUBLE:this.deserializationConversionPermitted_=!0}this.defaultValue_=c.defaultValue};goog.proto2.FieldDescriptor.FieldType={DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18};goog.proto2.FieldDescriptor.prototype.getTag=function(){return this.tag_};goog.proto2.FieldDescriptor.prototype.getContainingType=function(){return this.parent_.prototype.getDescriptor()};goog.proto2.FieldDescriptor.prototype.getName=function(){return this.name_};goog.proto2.FieldDescriptor.prototype.getDefaultValue=function(){if(void 0===this.defaultValue_){var a=this.nativeType_;if(a===Boolean)this.defaultValue_=!1;else if(a===Number)this.defaultValue_=0;else if(a===String)this.defaultValue_=this.deserializationConversionPermitted_?"0":"";else return new a}return this.defaultValue_};goog.proto2.FieldDescriptor.prototype.getFieldType=function(){return this.fieldType_};goog.proto2.FieldDescriptor.prototype.getNativeType=function(){return this.nativeType_};goog.proto2.FieldDescriptor.prototype.deserializationConversionPermitted=function(){return this.deserializationConversionPermitted_};goog.proto2.FieldDescriptor.prototype.getFieldMessageType=function(){return this.nativeType_.prototype.getDescriptor()};goog.proto2.FieldDescriptor.prototype.isCompositeType=function(){return this.fieldType_==goog.proto2.FieldDescriptor.FieldType.MESSAGE||this.fieldType_==goog.proto2.FieldDescriptor.FieldType.GROUP};goog.proto2.FieldDescriptor.prototype.isPacked=function(){return this.isPacked_};goog.proto2.FieldDescriptor.prototype.isRepeated=function(){return this.isRepeated_};goog.proto2.FieldDescriptor.prototype.isRequired=function(){return this.isRequired_};goog.proto2.FieldDescriptor.prototype.isOptional=function(){return!this.isRepeated_&&!this.isRequired_};goog.proto2.Message=function(){this.values_={};this.fields_=this.getDescriptor().getFieldsMap();this.deserializedFields_=this.lazyDeserializer_=null};goog.proto2.Message.FieldType={DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18};goog.proto2.Message.prototype.initializeForLazyDeserializer=function(a,b){this.lazyDeserializer_=a;this.values_=b;this.deserializedFields_={}};goog.proto2.Message.prototype.setUnknown=function(a,b){goog.asserts.assert(!this.fields_[a],"Field is not unknown in this message");goog.asserts.assert(1<=a,"Tag "+a+' has value "'+b+'" in descriptor '+this.getDescriptor().getName());goog.asserts.assert(null!==b,"Value cannot be null");this.values_[a]=b;this.deserializedFields_&&delete this.deserializedFields_[a]};goog.proto2.Message.prototype.forEachUnknown=function(a,b){var c=b||this,d,e;for(d in this.values_)e=Number(d),this.fields_[e]||a.call(c,e,this.values_[d])};goog.proto2.Message.prototype.getDescriptor=goog.abstractMethod;goog.proto2.Message.prototype.has=function(a){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.has$Value(a.getTag())};goog.proto2.Message.prototype.arrayOf=function(a){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.array$Values(a.getTag())};goog.proto2.Message.prototype.countOf=function(a){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.count$Values(a.getTag())};goog.proto2.Message.prototype.get=function(a,b){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.get$Value(a.getTag(),b)};goog.proto2.Message.prototype.getOrDefault=function(a,b){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.get$ValueOrDefault(a.getTag(),b)};goog.proto2.Message.prototype.set=function(a,b){goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field");this.set$Value(a.getTag(),b)};goog.proto2.Message.prototype.add=function(a,b){goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field");this.add$Value(a.getTag(),b)};goog.proto2.Message.prototype.clear=function(a){goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field");this.clear$Field(a.getTag())};goog.proto2.Message.prototype.equals=function(a){var b,c,d,e,f,g,h,k;if(!a||this.constructor!=a.constructor)return!1;for(b=this.getDescriptor().getFields(),c=0;c<b.length;c++){if(d=b[c],e=d.getTag(),this.has$Value(e)!=a.has$Value(e))return!1;if(this.has$Value(e))if(f=d.isCompositeType(),g=this.getValueForTag_(e),e=a.getValueForTag_(e),d.isRepeated()){if(g.length!=e.length)return!1;for(d=0;d<g.length;d++)if(h=g[d],k=e[d],f?!h.equals(k):h!=k)return!1}else if(f?!g.equals(e):g!=e)return!1}return!0};goog.proto2.Message.prototype.copyFrom=function(a){goog.asserts.assert(this.constructor==a.constructor,"The source message must have the same type.");this!=a&&(this.values_={},this.deserializedFields_&&(this.deserializedFields_={}),this.mergeFrom(a))};goog.proto2.Message.prototype.mergeFrom=function(a){var b,c,d,e,f,g;for(goog.asserts.assert(this.constructor==a.constructor,"The source message must have the same type."),b=this.getDescriptor().getFields(),c=0;c<b.length;c++)if(d=b[c],e=d.getTag(),a.has$Value(e))if(this.deserializedFields_&&delete this.deserializedFields_[d.getTag()],f=d.isCompositeType(),d.isRepeated())for(d=a.array$Values(e),g=0;g<d.length;g++)this.add$Value(e,f?d[g].clone():d[g]);else d=a.getValueForTag_(e),f?(f=this.getValueForTag_(e))?f.mergeFrom(d):this.set$Value(e,d.clone()):this.set$Value(e,d)};goog.proto2.Message.prototype.clone=function(){var a=new this.constructor;return a.copyFrom(this),a};goog.proto2.Message.prototype.initDefaults=function(a){for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c],e=d.getTag(),f=d.isCompositeType();if(this.has$Value(e)||d.isRepeated()||(f?this.values_[e]=new(d.getNativeType()):a&&(this.values_[e]=d.getDefaultValue())),f)if(d.isRepeated())for(d=this.array$Values(e),e=0;e<d.length;e++)d[e].initDefaults(a);else this.get$Value(e).initDefaults(a)}};goog.proto2.Message.prototype.has$Value=function(a){return null!=this.values_[a]};goog.proto2.Message.prototype.getValueForTag_=function(a){var b=this.values_[a];return goog.isDefAndNotNull(b)?this.lazyDeserializer_?a in this.deserializedFields_?this.deserializedFields_[a]:(b=this.lazyDeserializer_.deserializeField(this,this.fields_[a],b),this.deserializedFields_[a]=b):b:null};goog.proto2.Message.prototype.get$Value=function(a,b){var c=this.getValueForTag_(a),d;return this.fields_[a].isRepeated()?(d=b||0,goog.asserts.assert(0<=d&&d<c.length,"Given index %s is out of bounds.  Repeated field length: %s",d,c.length),c[d]):c};goog.proto2.Message.prototype.get$ValueOrDefault=function(a,b){return this.has$Value(a)?this.get$Value(a,b):this.fields_[a].getDefaultValue()};goog.proto2.Message.prototype.array$Values=function(a){return this.getValueForTag_(a)||[]};goog.proto2.Message.prototype.count$Values=function(a){return this.fields_[a].isRepeated()?this.has$Value(a)?this.values_[a].length:0:this.has$Value(a)?1:0};goog.proto2.Message.prototype.set$Value=function(a,b){goog.asserts.ENABLE_ASSERTS&&this.checkFieldType_(this.fields_[a],b);this.values_[a]=b;this.deserializedFields_&&(this.deserializedFields_[a]=b)};goog.proto2.Message.prototype.add$Value=function(a,b){goog.asserts.ENABLE_ASSERTS&&this.checkFieldType_(this.fields_[a],b);this.values_[a]||(this.values_[a]=[]);this.values_[a].push(b);this.deserializedFields_&&delete this.deserializedFields_[a]};goog.proto2.Message.prototype.checkFieldType_=function(a,b){a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.ENUM?goog.asserts.assertNumber(b):goog.asserts.assert(Object(b).constructor==a.getNativeType())};goog.proto2.Message.prototype.clear$Field=function(a){delete this.values_[a];this.deserializedFields_&&delete this.deserializedFields_[a]};goog.proto2.Message.createDescriptor=function(a,b){var c=[],d=b[0];for(var e in b)0!=e&&c.push(new goog.proto2.FieldDescriptor(a,e,b[e]));return new goog.proto2.Descriptor(a,d,c)};goog.proto2.Serializer=function(){};goog.proto2.Serializer.DECODE_SYMBOLIC_ENUMS=!1;goog.proto2.Serializer.prototype.serialize=goog.abstractMethod;goog.proto2.Serializer.prototype.getSerializedValue=function(a,b){return a.isCompositeType()?this.serialize(b):goog.isNumber(b)&&!isFinite(b)?b.toString():b};goog.proto2.Serializer.prototype.deserialize=function(a,b){var c=a.createMessageInstance();return this.deserializeTo(c,b),goog.asserts.assert(c instanceof goog.proto2.Message),c};goog.proto2.Serializer.prototype.deserializeTo=goog.abstractMethod;goog.proto2.Serializer.prototype.getDeserializedValue=function(a,b){if(a.isCompositeType())return b instanceof goog.proto2.Message?b:this.deserialize(a.getFieldMessageType(),b);if(a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.ENUM){if(goog.proto2.Serializer.DECODE_SYMBOLIC_ENUMS&&goog.isString(b)){var c=a.getNativeType();if(c.hasOwnProperty(b))return c[b]}return goog.isString(b)&&goog.proto2.Serializer.INTEGER_REGEX.test(b)&&(c=Number(b),0<c)?c:b}if(!a.deserializationConversionPermitted())return b;if(c=a.getNativeType(),c===String){if(goog.isNumber(b))return String(b)}else if(c===Number&&goog.isString(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||goog.proto2.Serializer.INTEGER_REGEX.test(b)))return Number(b);return b};goog.proto2.Serializer.INTEGER_REGEX=/^-?[0-9]+$/;goog.proto2.LazyDeserializer=function(){};goog.inherits(goog.proto2.LazyDeserializer,goog.proto2.Serializer);goog.proto2.LazyDeserializer.prototype.deserialize=function(a,b){var c=a.createMessageInstance();return c.initializeForLazyDeserializer(this,b),goog.asserts.assert(c instanceof goog.proto2.Message),c};goog.proto2.LazyDeserializer.prototype.deserializeTo=function(a,b){throw Error("Unimplemented");};goog.proto2.LazyDeserializer.prototype.deserializeField=goog.abstractMethod;goog.proto2.PbLiteSerializer=function(){};goog.inherits(goog.proto2.PbLiteSerializer,goog.proto2.LazyDeserializer);goog.proto2.PbLiteSerializer.prototype.zeroIndexing_=!1;goog.proto2.PbLiteSerializer.prototype.setZeroIndexed=function(a){this.zeroIndexing_=a};goog.proto2.PbLiteSerializer.prototype.serialize=function(a){for(var f,g,h,b=a.getDescriptor().getFields(),c=[],d=this.zeroIndexing_,e=0;e<b.length;e++)if(f=b[e],a.has(f))if(g=f.getTag(),g=d?g-1:g,f.isRepeated())for(c[g]=[],h=0;h<a.countOf(f);h++)c[g][h]=this.getSerializedValue(f,a.get(f,h));else c[g]=this.getSerializedValue(f,a.get(f));return a.forEachUnknown(function(a,b){c[d?a-1:a]=b}),c};goog.proto2.PbLiteSerializer.prototype.deserializeField=function(a,b,c){if(null==c)return c;if(b.isRepeated()){a=[];goog.asserts.assert(goog.isArray(c),"Value must be array: %s",c);for(var d=0;d<c.length;d++)a[d]=this.getDeserializedValue(b,c[d]);return a}return this.getDeserializedValue(b,c)};goog.proto2.PbLiteSerializer.prototype.getSerializedValue=function(a,b){return a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.BOOL?b?1:0:goog.proto2.Serializer.prototype.getSerializedValue.apply(this,arguments)};goog.proto2.PbLiteSerializer.prototype.getDeserializedValue=function(a,b){return a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.BOOL?(goog.asserts.assert(goog.isNumber(b)||goog.isBoolean(b),"Value is expected to be a number or boolean"),!!b):goog.proto2.Serializer.prototype.getDeserializedValue.apply(this,arguments)};goog.proto2.PbLiteSerializer.prototype.deserialize=function(a,b){var c=b,d;if(this.zeroIndexing_){c=[];for(d in b)c[parseInt(d,10)+1]=b[d]}return goog.proto2.PbLiteSerializer.superClass_.deserialize.call(this,a,c)};i18n={phonenumbers:{}};i18n.phonenumbers.NumberFormat=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.NumberFormat,goog.proto2.Message);i18n.phonenumbers.NumberFormat.descriptor_=null;i18n.phonenumbers.NumberFormat.prototype.getPattern=function(){return this.get$Value(1)};i18n.phonenumbers.NumberFormat.prototype.getPatternOrDefault=function(){return this.get$ValueOrDefault(1)};i18n.phonenumbers.NumberFormat.prototype.setPattern=function(a){this.set$Value(1,a)};i18n.phonenumbers.NumberFormat.prototype.hasPattern=function(){return this.has$Value(1)};i18n.phonenumbers.NumberFormat.prototype.patternCount=function(){return this.count$Values(1)};i18n.phonenumbers.NumberFormat.prototype.clearPattern=function(){this.clear$Field(1)};i18n.phonenumbers.NumberFormat.prototype.getFormat=function(){return this.get$Value(2)};i18n.phonenumbers.NumberFormat.prototype.getFormatOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.NumberFormat.prototype.setFormat=function(a){this.set$Value(2,a)};i18n.phonenumbers.NumberFormat.prototype.hasFormat=function(){return this.has$Value(2)};i18n.phonenumbers.NumberFormat.prototype.formatCount=function(){return this.count$Values(2)};i18n.phonenumbers.NumberFormat.prototype.clearFormat=function(){this.clear$Field(2)};i18n.phonenumbers.NumberFormat.prototype.getLeadingDigitsPattern=function(a){return this.get$Value(3,a)};i18n.phonenumbers.NumberFormat.prototype.getLeadingDigitsPatternOrDefault=function(a){return this.get$ValueOrDefault(3,a)};i18n.phonenumbers.NumberFormat.prototype.addLeadingDigitsPattern=function(a){this.add$Value(3,a)};i18n.phonenumbers.NumberFormat.prototype.leadingDigitsPatternArray=function(){return this.array$Values(3)};i18n.phonenumbers.NumberFormat.prototype.hasLeadingDigitsPattern=function(){return this.has$Value(3)};i18n.phonenumbers.NumberFormat.prototype.leadingDigitsPatternCount=function(){return this.count$Values(3)};i18n.phonenumbers.NumberFormat.prototype.clearLeadingDigitsPattern=function(){this.clear$Field(3)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixFormattingRule=function(){return this.get$Value(4)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixFormattingRuleOrDefault=function(){return this.get$ValueOrDefault(4)};i18n.phonenumbers.NumberFormat.prototype.setNationalPrefixFormattingRule=function(a){this.set$Value(4,a)};i18n.phonenumbers.NumberFormat.prototype.hasNationalPrefixFormattingRule=function(){return this.has$Value(4)};i18n.phonenumbers.NumberFormat.prototype.nationalPrefixFormattingRuleCount=function(){return this.count$Values(4)};i18n.phonenumbers.NumberFormat.prototype.clearNationalPrefixFormattingRule=function(){this.clear$Field(4)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixOptionalWhenFormatting=function(){return this.get$Value(6)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixOptionalWhenFormattingOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.NumberFormat.prototype.setNationalPrefixOptionalWhenFormatting=function(a){this.set$Value(6,a)};i18n.phonenumbers.NumberFormat.prototype.hasNationalPrefixOptionalWhenFormatting=function(){return this.has$Value(6)};i18n.phonenumbers.NumberFormat.prototype.nationalPrefixOptionalWhenFormattingCount=function(){return this.count$Values(6)};i18n.phonenumbers.NumberFormat.prototype.clearNationalPrefixOptionalWhenFormatting=function(){this.clear$Field(6)};i18n.phonenumbers.NumberFormat.prototype.getDomesticCarrierCodeFormattingRule=function(){return this.get$Value(5)};i18n.phonenumbers.NumberFormat.prototype.getDomesticCarrierCodeFormattingRuleOrDefault=function(){return this.get$ValueOrDefault(5)};i18n.phonenumbers.NumberFormat.prototype.setDomesticCarrierCodeFormattingRule=function(a){this.set$Value(5,a)};i18n.phonenumbers.NumberFormat.prototype.hasDomesticCarrierCodeFormattingRule=function(){return this.has$Value(5)};i18n.phonenumbers.NumberFormat.prototype.domesticCarrierCodeFormattingRuleCount=function(){return this.count$Values(5)};i18n.phonenumbers.NumberFormat.prototype.clearDomesticCarrierCodeFormattingRule=function(){this.clear$Field(5)};i18n.phonenumbers.PhoneNumberDesc=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneNumberDesc,goog.proto2.Message);i18n.phonenumbers.PhoneNumberDesc.descriptor_=null;i18n.phonenumbers.PhoneNumberDesc.prototype.getNationalNumberPattern=function(){return this.get$Value(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.getNationalNumberPatternOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.setNationalNumberPattern=function(a){this.set$Value(2,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasNationalNumberPattern=function(){return this.has$Value(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.nationalNumberPatternCount=function(){return this.count$Values(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearNationalNumberPattern=function(){this.clear$Field(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleLength=function(a){return this.get$Value(9,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleLengthOrDefault=function(a){return this.get$ValueOrDefault(9,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.addPossibleLength=function(a){this.add$Value(9,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.possibleLengthArray=function(){return this.array$Values(9)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasPossibleLength=function(){return this.has$Value(9)};i18n.phonenumbers.PhoneNumberDesc.prototype.possibleLengthCount=function(){return this.count$Values(9)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearPossibleLength=function(){this.clear$Field(9)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleLengthLocalOnly=function(a){return this.get$Value(10,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleLengthLocalOnlyOrDefault=function(a){return this.get$ValueOrDefault(10,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.addPossibleLengthLocalOnly=function(a){this.add$Value(10,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.possibleLengthLocalOnlyArray=function(){return this.array$Values(10)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasPossibleLengthLocalOnly=function(){return this.has$Value(10)};i18n.phonenumbers.PhoneNumberDesc.prototype.possibleLengthLocalOnlyCount=function(){return this.count$Values(10)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearPossibleLengthLocalOnly=function(){this.clear$Field(10)};i18n.phonenumbers.PhoneNumberDesc.prototype.getExampleNumber=function(){return this.get$Value(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.getExampleNumberOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.setExampleNumber=function(a){this.set$Value(6,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasExampleNumber=function(){return this.has$Value(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.exampleNumberCount=function(){return this.count$Values(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearExampleNumber=function(){this.clear$Field(6)};i18n.phonenumbers.PhoneMetadata=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneMetadata,goog.proto2.Message);i18n.phonenumbers.PhoneMetadata.descriptor_=null;i18n.phonenumbers.PhoneMetadata.prototype.getGeneralDesc=function(){return this.get$Value(1)};i18n.phonenumbers.PhoneMetadata.prototype.getGeneralDescOrDefault=function(){return this.get$ValueOrDefault(1)};i18n.phonenumbers.PhoneMetadata.prototype.setGeneralDesc=function(a){this.set$Value(1,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasGeneralDesc=function(){return this.has$Value(1)};i18n.phonenumbers.PhoneMetadata.prototype.generalDescCount=function(){return this.count$Values(1)};i18n.phonenumbers.PhoneMetadata.prototype.clearGeneralDesc=function(){this.clear$Field(1)};i18n.phonenumbers.PhoneMetadata.prototype.getFixedLine=function(){return this.get$Value(2)};i18n.phonenumbers.PhoneMetadata.prototype.getFixedLineOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.PhoneMetadata.prototype.setFixedLine=function(a){this.set$Value(2,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasFixedLine=function(){return this.has$Value(2)};i18n.phonenumbers.PhoneMetadata.prototype.fixedLineCount=function(){return this.count$Values(2)};i18n.phonenumbers.PhoneMetadata.prototype.clearFixedLine=function(){this.clear$Field(2)};i18n.phonenumbers.PhoneMetadata.prototype.getMobile=function(){return this.get$Value(3)};i18n.phonenumbers.PhoneMetadata.prototype.getMobileOrDefault=function(){return this.get$ValueOrDefault(3)};i18n.phonenumbers.PhoneMetadata.prototype.setMobile=function(a){this.set$Value(3,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasMobile=function(){return this.has$Value(3)};i18n.phonenumbers.PhoneMetadata.prototype.mobileCount=function(){return this.count$Values(3)};i18n.phonenumbers.PhoneMetadata.prototype.clearMobile=function(){this.clear$Field(3)};i18n.phonenumbers.PhoneMetadata.prototype.getTollFree=function(){return this.get$Value(4)};i18n.phonenumbers.PhoneMetadata.prototype.getTollFreeOrDefault=function(){return this.get$ValueOrDefault(4)};i18n.phonenumbers.PhoneMetadata.prototype.setTollFree=function(a){this.set$Value(4,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasTollFree=function(){return this.has$Value(4)};i18n.phonenumbers.PhoneMetadata.prototype.tollFreeCount=function(){return this.count$Values(4)};i18n.phonenumbers.PhoneMetadata.prototype.clearTollFree=function(){this.clear$Field(4)};i18n.phonenumbers.PhoneMetadata.prototype.getPremiumRate=function(){return this.get$Value(5)};i18n.phonenumbers.PhoneMetadata.prototype.getPremiumRateOrDefault=function(){return this.get$ValueOrDefault(5)};i18n.phonenumbers.PhoneMetadata.prototype.setPremiumRate=function(a){this.set$Value(5,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPremiumRate=function(){return this.has$Value(5)};i18n.phonenumbers.PhoneMetadata.prototype.premiumRateCount=function(){return this.count$Values(5)};i18n.phonenumbers.PhoneMetadata.prototype.clearPremiumRate=function(){this.clear$Field(5)};i18n.phonenumbers.PhoneMetadata.prototype.getSharedCost=function(){return this.get$Value(6)};i18n.phonenumbers.PhoneMetadata.prototype.getSharedCostOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.PhoneMetadata.prototype.setSharedCost=function(a){this.set$Value(6,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasSharedCost=function(){return this.has$Value(6)};i18n.phonenumbers.PhoneMetadata.prototype.sharedCostCount=function(){return this.count$Values(6)};i18n.phonenumbers.PhoneMetadata.prototype.clearSharedCost=function(){this.clear$Field(6)};i18n.phonenumbers.PhoneMetadata.prototype.getPersonalNumber=function(){return this.get$Value(7)};i18n.phonenumbers.PhoneMetadata.prototype.getPersonalNumberOrDefault=function(){return this.get$ValueOrDefault(7)};i18n.phonenumbers.PhoneMetadata.prototype.setPersonalNumber=function(a){this.set$Value(7,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPersonalNumber=function(){return this.has$Value(7)};i18n.phonenumbers.PhoneMetadata.prototype.personalNumberCount=function(){return this.count$Values(7)};i18n.phonenumbers.PhoneMetadata.prototype.clearPersonalNumber=function(){this.clear$Field(7)};i18n.phonenumbers.PhoneMetadata.prototype.getVoip=function(){return this.get$Value(8)};i18n.phonenumbers.PhoneMetadata.prototype.getVoipOrDefault=function(){return this.get$ValueOrDefault(8)};i18n.phonenumbers.PhoneMetadata.prototype.setVoip=function(a){this.set$Value(8,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasVoip=function(){return this.has$Value(8)};i18n.phonenumbers.PhoneMetadata.prototype.voipCount=function(){return this.count$Values(8)};i18n.phonenumbers.PhoneMetadata.prototype.clearVoip=function(){this.clear$Field(8)};i18n.phonenumbers.PhoneMetadata.prototype.getPager=function(){return this.get$Value(21)};i18n.phonenumbers.PhoneMetadata.prototype.getPagerOrDefault=function(){return this.get$ValueOrDefault(21)};i18n.phonenumbers.PhoneMetadata.prototype.setPager=function(a){this.set$Value(21,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPager=function(){return this.has$Value(21)};i18n.phonenumbers.PhoneMetadata.prototype.pagerCount=function(){return this.count$Values(21)};i18n.phonenumbers.PhoneMetadata.prototype.clearPager=function(){this.clear$Field(21)};i18n.phonenumbers.PhoneMetadata.prototype.getUan=function(){return this.get$Value(25)};i18n.phonenumbers.PhoneMetadata.prototype.getUanOrDefault=function(){return this.get$ValueOrDefault(25)};i18n.phonenumbers.PhoneMetadata.prototype.setUan=function(a){this.set$Value(25,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasUan=function(){return this.has$Value(25)};i18n.phonenumbers.PhoneMetadata.prototype.uanCount=function(){return this.count$Values(25)};i18n.phonenumbers.PhoneMetadata.prototype.clearUan=function(){this.clear$Field(25)};i18n.phonenumbers.PhoneMetadata.prototype.getEmergency=function(){return this.get$Value(27)};i18n.phonenumbers.PhoneMetadata.prototype.getEmergencyOrDefault=function(){return this.get$ValueOrDefault(27)};i18n.phonenumbers.PhoneMetadata.prototype.setEmergency=function(a){this.set$Value(27,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasEmergency=function(){return this.has$Value(27)};i18n.phonenumbers.PhoneMetadata.prototype.emergencyCount=function(){return this.count$Values(27)};i18n.phonenumbers.PhoneMetadata.prototype.clearEmergency=function(){this.clear$Field(27)};i18n.phonenumbers.PhoneMetadata.prototype.getVoicemail=function(){return this.get$Value(28)};i18n.phonenumbers.PhoneMetadata.prototype.getVoicemailOrDefault=function(){return this.get$ValueOrDefault(28)};i18n.phonenumbers.PhoneMetadata.prototype.setVoicemail=function(a){this.set$Value(28,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasVoicemail=function(){return this.has$Value(28)};i18n.phonenumbers.PhoneMetadata.prototype.voicemailCount=function(){return this.count$Values(28)};i18n.phonenumbers.PhoneMetadata.prototype.clearVoicemail=function(){this.clear$Field(28)};i18n.phonenumbers.PhoneMetadata.prototype.getShortCode=function(){return this.get$Value(29)};i18n.phonenumbers.PhoneMetadata.prototype.getShortCodeOrDefault=function(){return this.get$ValueOrDefault(29)};i18n.phonenumbers.PhoneMetadata.prototype.setShortCode=function(a){this.set$Value(29,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasShortCode=function(){return this.has$Value(29)};i18n.phonenumbers.PhoneMetadata.prototype.shortCodeCount=function(){return this.count$Values(29)};i18n.phonenumbers.PhoneMetadata.prototype.clearShortCode=function(){this.clear$Field(29)};i18n.phonenumbers.PhoneMetadata.prototype.getStandardRate=function(){return this.get$Value(30)};i18n.phonenumbers.PhoneMetadata.prototype.getStandardRateOrDefault=function(){return this.get$ValueOrDefault(30)};i18n.phonenumbers.PhoneMetadata.prototype.setStandardRate=function(a){this.set$Value(30,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasStandardRate=function(){return this.has$Value(30)};i18n.phonenumbers.PhoneMetadata.prototype.standardRateCount=function(){return this.count$Values(30)};i18n.phonenumbers.PhoneMetadata.prototype.clearStandardRate=function(){this.clear$Field(30)};i18n.phonenumbers.PhoneMetadata.prototype.getCarrierSpecific=function(){return this.get$Value(31)};i18n.phonenumbers.PhoneMetadata.prototype.getCarrierSpecificOrDefault=function(){return this.get$ValueOrDefault(31)};i18n.phonenumbers.PhoneMetadata.prototype.setCarrierSpecific=function(a){this.set$Value(31,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasCarrierSpecific=function(){return this.has$Value(31)};i18n.phonenumbers.PhoneMetadata.prototype.carrierSpecificCount=function(){return this.count$Values(31)};i18n.phonenumbers.PhoneMetadata.prototype.clearCarrierSpecific=function(){this.clear$Field(31)};i18n.phonenumbers.PhoneMetadata.prototype.getSmsServices=function(){return this.get$Value(33)};i18n.phonenumbers.PhoneMetadata.prototype.getSmsServicesOrDefault=function(){return this.get$ValueOrDefault(33)};i18n.phonenumbers.PhoneMetadata.prototype.setSmsServices=function(a){this.set$Value(33,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasSmsServices=function(){return this.has$Value(33)};i18n.phonenumbers.PhoneMetadata.prototype.smsServicesCount=function(){return this.count$Values(33)};i18n.phonenumbers.PhoneMetadata.prototype.clearSmsServices=function(){this.clear$Field(33)};i18n.phonenumbers.PhoneMetadata.prototype.getNoInternationalDialling=function(){return this.get$Value(24)};i18n.phonenumbers.PhoneMetadata.prototype.getNoInternationalDiallingOrDefault=function(){return this.get$ValueOrDefault(24)};i18n.phonenumbers.PhoneMetadata.prototype.setNoInternationalDialling=function(a){this.set$Value(24,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNoInternationalDialling=function(){return this.has$Value(24)};i18n.phonenumbers.PhoneMetadata.prototype.noInternationalDiallingCount=function(){return this.count$Values(24)};i18n.phonenumbers.PhoneMetadata.prototype.clearNoInternationalDialling=function(){this.clear$Field(24)};i18n.phonenumbers.PhoneMetadata.prototype.getId=function(){return this.get$Value(9)};i18n.phonenumbers.PhoneMetadata.prototype.getIdOrDefault=function(){return this.get$ValueOrDefault(9)};i18n.phonenumbers.PhoneMetadata.prototype.setId=function(a){this.set$Value(9,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasId=function(){return this.has$Value(9)};i18n.phonenumbers.PhoneMetadata.prototype.idCount=function(){return this.count$Values(9)};i18n.phonenumbers.PhoneMetadata.prototype.clearId=function(){this.clear$Field(9)};i18n.phonenumbers.PhoneMetadata.prototype.getCountryCode=function(){return this.get$Value(10)};i18n.phonenumbers.PhoneMetadata.prototype.getCountryCodeOrDefault=function(){return this.get$ValueOrDefault(10)};i18n.phonenumbers.PhoneMetadata.prototype.setCountryCode=function(a){this.set$Value(10,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasCountryCode=function(){return this.has$Value(10)};i18n.phonenumbers.PhoneMetadata.prototype.countryCodeCount=function(){return this.count$Values(10)};i18n.phonenumbers.PhoneMetadata.prototype.clearCountryCode=function(){this.clear$Field(10)};i18n.phonenumbers.PhoneMetadata.prototype.getInternationalPrefix=function(){return this.get$Value(11)};i18n.phonenumbers.PhoneMetadata.prototype.getInternationalPrefixOrDefault=function(){return this.get$ValueOrDefault(11)};i18n.phonenumbers.PhoneMetadata.prototype.setInternationalPrefix=function(a){this.set$Value(11,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasInternationalPrefix=function(){return this.has$Value(11)};i18n.phonenumbers.PhoneMetadata.prototype.internationalPrefixCount=function(){return this.count$Values(11)};i18n.phonenumbers.PhoneMetadata.prototype.clearInternationalPrefix=function(){this.clear$Field(11)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredInternationalPrefix=function(){return this.get$Value(17)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredInternationalPrefixOrDefault=function(){return this.get$ValueOrDefault(17)};i18n.phonenumbers.PhoneMetadata.prototype.setPreferredInternationalPrefix=function(a){this.set$Value(17,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPreferredInternationalPrefix=function(){return this.has$Value(17)};i18n.phonenumbers.PhoneMetadata.prototype.preferredInternationalPrefixCount=function(){return this.count$Values(17)};i18n.phonenumbers.PhoneMetadata.prototype.clearPreferredInternationalPrefix=function(){this.clear$Field(17)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefix=function(){return this.get$Value(12)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixOrDefault=function(){return this.get$ValueOrDefault(12)};i18n.phonenumbers.PhoneMetadata.prototype.setNationalPrefix=function(a){this.set$Value(12,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNationalPrefix=function(){return this.has$Value(12)};i18n.phonenumbers.PhoneMetadata.prototype.nationalPrefixCount=function(){return this.count$Values(12)};i18n.phonenumbers.PhoneMetadata.prototype.clearNationalPrefix=function(){this.clear$Field(12)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredExtnPrefix=function(){return this.get$Value(13)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredExtnPrefixOrDefault=function(){return this.get$ValueOrDefault(13)};i18n.phonenumbers.PhoneMetadata.prototype.setPreferredExtnPrefix=function(a){this.set$Value(13,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPreferredExtnPrefix=function(){return this.has$Value(13)};i18n.phonenumbers.PhoneMetadata.prototype.preferredExtnPrefixCount=function(){return this.count$Values(13)};i18n.phonenumbers.PhoneMetadata.prototype.clearPreferredExtnPrefix=function(){this.clear$Field(13)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixForParsing=function(){return this.get$Value(15)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixForParsingOrDefault=function(){return this.get$ValueOrDefault(15)};i18n.phonenumbers.PhoneMetadata.prototype.setNationalPrefixForParsing=function(a){this.set$Value(15,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNationalPrefixForParsing=function(){return this.has$Value(15)};i18n.phonenumbers.PhoneMetadata.prototype.nationalPrefixForParsingCount=function(){return this.count$Values(15)};i18n.phonenumbers.PhoneMetadata.prototype.clearNationalPrefixForParsing=function(){this.clear$Field(15)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixTransformRule=function(){return this.get$Value(16)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixTransformRuleOrDefault=function(){return this.get$ValueOrDefault(16)};i18n.phonenumbers.PhoneMetadata.prototype.setNationalPrefixTransformRule=function(a){this.set$Value(16,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNationalPrefixTransformRule=function(){return this.has$Value(16)};i18n.phonenumbers.PhoneMetadata.prototype.nationalPrefixTransformRuleCount=function(){return this.count$Values(16)};i18n.phonenumbers.PhoneMetadata.prototype.clearNationalPrefixTransformRule=function(){this.clear$Field(16)};i18n.phonenumbers.PhoneMetadata.prototype.getSameMobileAndFixedLinePattern=function(){return this.get$Value(18)};i18n.phonenumbers.PhoneMetadata.prototype.getSameMobileAndFixedLinePatternOrDefault=function(){return this.get$ValueOrDefault(18)};i18n.phonenumbers.PhoneMetadata.prototype.setSameMobileAndFixedLinePattern=function(a){this.set$Value(18,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasSameMobileAndFixedLinePattern=function(){return this.has$Value(18)};i18n.phonenumbers.PhoneMetadata.prototype.sameMobileAndFixedLinePatternCount=function(){return this.count$Values(18)};i18n.phonenumbers.PhoneMetadata.prototype.clearSameMobileAndFixedLinePattern=function(){this.clear$Field(18)};i18n.phonenumbers.PhoneMetadata.prototype.getNumberFormat=function(a){return this.get$Value(19,a)};i18n.phonenumbers.PhoneMetadata.prototype.getNumberFormatOrDefault=function(a){return this.get$ValueOrDefault(19,a)};i18n.phonenumbers.PhoneMetadata.prototype.addNumberFormat=function(a){this.add$Value(19,a)};i18n.phonenumbers.PhoneMetadata.prototype.numberFormatArray=function(){return this.array$Values(19)};i18n.phonenumbers.PhoneMetadata.prototype.hasNumberFormat=function(){return this.has$Value(19)};i18n.phonenumbers.PhoneMetadata.prototype.numberFormatCount=function(){return this.count$Values(19)};i18n.phonenumbers.PhoneMetadata.prototype.clearNumberFormat=function(){this.clear$Field(19)};i18n.phonenumbers.PhoneMetadata.prototype.getIntlNumberFormat=function(a){return this.get$Value(20,a)};i18n.phonenumbers.PhoneMetadata.prototype.getIntlNumberFormatOrDefault=function(a){return this.get$ValueOrDefault(20,a)};i18n.phonenumbers.PhoneMetadata.prototype.addIntlNumberFormat=function(a){this.add$Value(20,a)};i18n.phonenumbers.PhoneMetadata.prototype.intlNumberFormatArray=function(){return this.array$Values(20)};i18n.phonenumbers.PhoneMetadata.prototype.hasIntlNumberFormat=function(){return this.has$Value(20)};i18n.phonenumbers.PhoneMetadata.prototype.intlNumberFormatCount=function(){return this.count$Values(20)};i18n.phonenumbers.PhoneMetadata.prototype.clearIntlNumberFormat=function(){this.clear$Field(20)};i18n.phonenumbers.PhoneMetadata.prototype.getMainCountryForCode=function(){return this.get$Value(22)};i18n.phonenumbers.PhoneMetadata.prototype.getMainCountryForCodeOrDefault=function(){return this.get$ValueOrDefault(22)};i18n.phonenumbers.PhoneMetadata.prototype.setMainCountryForCode=function(a){this.set$Value(22,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasMainCountryForCode=function(){return this.has$Value(22)};i18n.phonenumbers.PhoneMetadata.prototype.mainCountryForCodeCount=function(){return this.count$Values(22)};i18n.phonenumbers.PhoneMetadata.prototype.clearMainCountryForCode=function(){this.clear$Field(22)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingDigits=function(){return this.get$Value(23)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingDigitsOrDefault=function(){return this.get$ValueOrDefault(23)};i18n.phonenumbers.PhoneMetadata.prototype.setLeadingDigits=function(a){this.set$Value(23,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasLeadingDigits=function(){return this.has$Value(23)};i18n.phonenumbers.PhoneMetadata.prototype.leadingDigitsCount=function(){return this.count$Values(23)};i18n.phonenumbers.PhoneMetadata.prototype.clearLeadingDigits=function(){this.clear$Field(23)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingZeroPossible=function(){return this.get$Value(26)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingZeroPossibleOrDefault=function(){return this.get$ValueOrDefault(26)};i18n.phonenumbers.PhoneMetadata.prototype.setLeadingZeroPossible=function(a){this.set$Value(26,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasLeadingZeroPossible=function(){return this.has$Value(26)};i18n.phonenumbers.PhoneMetadata.prototype.leadingZeroPossibleCount=function(){return this.count$Values(26)};i18n.phonenumbers.PhoneMetadata.prototype.clearLeadingZeroPossible=function(){this.clear$Field(26)};i18n.phonenumbers.PhoneMetadataCollection=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneMetadataCollection,goog.proto2.Message);i18n.phonenumbers.PhoneMetadataCollection.descriptor_=null;i18n.phonenumbers.PhoneMetadataCollection.prototype.getMetadata=function(a){return this.get$Value(1,a)};i18n.phonenumbers.PhoneMetadataCollection.prototype.getMetadataOrDefault=function(a){return this.get$ValueOrDefault(1,a)};i18n.phonenumbers.PhoneMetadataCollection.prototype.addMetadata=function(a){this.add$Value(1,a)};i18n.phonenumbers.PhoneMetadataCollection.prototype.metadataArray=function(){return this.array$Values(1)};i18n.phonenumbers.PhoneMetadataCollection.prototype.hasMetadata=function(){return this.has$Value(1)};i18n.phonenumbers.PhoneMetadataCollection.prototype.metadataCount=function(){return this.count$Values(1)};i18n.phonenumbers.PhoneMetadataCollection.prototype.clearMetadata=function(){this.clear$Field(1)};i18n.phonenumbers.NumberFormat.prototype.getDescriptor=function(){var a=i18n.phonenumbers.NumberFormat.descriptor_;return a||(i18n.phonenumbers.NumberFormat.descriptor_=a=goog.proto2.Message.createDescriptor(i18n.phonenumbers.NumberFormat,{0:{name:"NumberFormat",fullName:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"format",required:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"leading_digits_pattern",repeated:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"national_prefix_formatting_rule",fieldType:goog.proto2.Message.FieldType.STRING,type:String},6:{name:"national_prefix_optional_when_formatting",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",fieldType:goog.proto2.Message.FieldType.STRING,type:String}})),a};i18n.phonenumbers.NumberFormat.getDescriptor=i18n.phonenumbers.NumberFormat.prototype.getDescriptor;i18n.phonenumbers.PhoneNumberDesc.prototype.getDescriptor=function(){var a=i18n.phonenumbers.PhoneNumberDesc.descriptor_;return a||(i18n.phonenumbers.PhoneNumberDesc.descriptor_=a=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneNumberDesc,{0:{name:"PhoneNumberDesc",fullName:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",fieldType:goog.proto2.Message.FieldType.STRING,type:String},9:{name:"possible_length",repeated:!0,fieldType:goog.proto2.Message.FieldType.INT32,type:Number},10:{name:"possible_length_local_only",repeated:!0,fieldType:goog.proto2.Message.FieldType.INT32,type:Number},6:{name:"example_number",fieldType:goog.proto2.Message.FieldType.STRING,type:String}})),a};i18n.phonenumbers.PhoneNumberDesc.getDescriptor=i18n.phonenumbers.PhoneNumberDesc.prototype.getDescriptor;i18n.phonenumbers.PhoneMetadata.prototype.getDescriptor=function(){var a=i18n.phonenumbers.PhoneMetadata.descriptor_;return a||(i18n.phonenumbers.PhoneMetadata.descriptor_=a=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneMetadata,{0:{name:"PhoneMetadata",fullName:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},2:{name:"fixed_line",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},3:{name:"mobile",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},4:{name:"toll_free",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},5:{name:"premium_rate",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},6:{name:"shared_cost",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},7:{name:"personal_number",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},8:{name:"voip",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},21:{name:"pager",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},25:{name:"uan",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},27:{name:"emergency",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},28:{name:"voicemail",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},29:{name:"short_code",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},30:{name:"standard_rate",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},31:{name:"carrier_specific",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},33:{name:"sms_services",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},24:{name:"no_international_dialling",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},9:{name:"id",required:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},10:{name:"country_code",fieldType:goog.proto2.Message.FieldType.INT32,type:Number},11:{name:"international_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},17:{name:"preferred_international_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},12:{name:"national_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},13:{name:"preferred_extn_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},15:{name:"national_prefix_for_parsing",fieldType:goog.proto2.Message.FieldType.STRING,type:String},16:{name:"national_prefix_transform_rule",fieldType:goog.proto2.Message.FieldType.STRING,type:String},18:{name:"same_mobile_and_fixed_line_pattern",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean},19:{name:"number_format",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.NumberFormat},20:{name:"intl_number_format",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.NumberFormat},22:{name:"main_country_for_code",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean},23:{name:"leading_digits",fieldType:goog.proto2.Message.FieldType.STRING,type:String},26:{name:"leading_zero_possible",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean}})),a};i18n.phonenumbers.PhoneMetadata.getDescriptor=i18n.phonenumbers.PhoneMetadata.prototype.getDescriptor;i18n.phonenumbers.PhoneMetadataCollection.prototype.getDescriptor=function(){var a=i18n.phonenumbers.PhoneMetadataCollection.descriptor_;return a||(i18n.phonenumbers.PhoneMetadataCollection.descriptor_=a=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneMetadataCollection,{0:{name:"PhoneMetadataCollection",fullName:"i18n.phonenumbers.PhoneMetadataCollection"},1:{name:"metadata",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneMetadata}})),a};i18n.phonenumbers.PhoneMetadataCollection.getDescriptor=i18n.phonenumbers.PhoneMetadataCollection.prototype.getDescriptor;i18n.phonenumbers.PhoneNumber=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneNumber,goog.proto2.Message);i18n.phonenumbers.PhoneNumber.descriptor_=null;i18n.phonenumbers.PhoneNumber.prototype.getCountryCode=function(){return this.get$Value(1)};i18n.phonenumbers.PhoneNumber.prototype.getCountryCodeOrDefault=function(){return this.get$ValueOrDefault(1)};i18n.phonenumbers.PhoneNumber.prototype.setCountryCode=function(a){this.set$Value(1,a)};i18n.phonenumbers.PhoneNumber.prototype.hasCountryCode=function(){return this.has$Value(1)};i18n.phonenumbers.PhoneNumber.prototype.countryCodeCount=function(){return this.count$Values(1)};i18n.phonenumbers.PhoneNumber.prototype.clearCountryCode=function(){this.clear$Field(1)};i18n.phonenumbers.PhoneNumber.prototype.getNationalNumber=function(){return this.get$Value(2)};i18n.phonenumbers.PhoneNumber.prototype.getNationalNumberOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.PhoneNumber.prototype.setNationalNumber=function(a){this.set$Value(2,a)};i18n.phonenumbers.PhoneNumber.prototype.hasNationalNumber=function(){return this.has$Value(2)};i18n.phonenumbers.PhoneNumber.prototype.nationalNumberCount=function(){return this.count$Values(2)};i18n.phonenumbers.PhoneNumber.prototype.clearNationalNumber=function(){this.clear$Field(2)};i18n.phonenumbers.PhoneNumber.prototype.getExtension=function(){return this.get$Value(3)};i18n.phonenumbers.PhoneNumber.prototype.getExtensionOrDefault=function(){return this.get$ValueOrDefault(3)};i18n.phonenumbers.PhoneNumber.prototype.setExtension=function(a){this.set$Value(3,a)};i18n.phonenumbers.PhoneNumber.prototype.hasExtension=function(){return this.has$Value(3)};i18n.phonenumbers.PhoneNumber.prototype.extensionCount=function(){return this.count$Values(3)};i18n.phonenumbers.PhoneNumber.prototype.clearExtension=function(){this.clear$Field(3)};i18n.phonenumbers.PhoneNumber.prototype.getItalianLeadingZero=function(){return this.get$Value(4)};i18n.phonenumbers.PhoneNumber.prototype.getItalianLeadingZeroOrDefault=function(){return this.get$ValueOrDefault(4)};i18n.phonenumbers.PhoneNumber.prototype.setItalianLeadingZero=function(a){this.set$Value(4,a)};i18n.phonenumbers.PhoneNumber.prototype.hasItalianLeadingZero=function(){return this.has$Value(4)};i18n.phonenumbers.PhoneNumber.prototype.italianLeadingZeroCount=function(){return this.count$Values(4)};i18n.phonenumbers.PhoneNumber.prototype.clearItalianLeadingZero=function(){this.clear$Field(4)};i18n.phonenumbers.PhoneNumber.prototype.getNumberOfLeadingZeros=function(){return this.get$Value(8)};i18n.phonenumbers.PhoneNumber.prototype.getNumberOfLeadingZerosOrDefault=function(){return this.get$ValueOrDefault(8)};i18n.phonenumbers.PhoneNumber.prototype.setNumberOfLeadingZeros=function(a){this.set$Value(8,a)};i18n.phonenumbers.PhoneNumber.prototype.hasNumberOfLeadingZeros=function(){return this.has$Value(8)};i18n.phonenumbers.PhoneNumber.prototype.numberOfLeadingZerosCount=function(){return this.count$Values(8)};i18n.phonenumbers.PhoneNumber.prototype.clearNumberOfLeadingZeros=function(){this.clear$Field(8)};i18n.phonenumbers.PhoneNumber.prototype.getRawInput=function(){return this.get$Value(5)};i18n.phonenumbers.PhoneNumber.prototype.getRawInputOrDefault=function(){return this.get$ValueOrDefault(5)};i18n.phonenumbers.PhoneNumber.prototype.setRawInput=function(a){this.set$Value(5,a)};i18n.phonenumbers.PhoneNumber.prototype.hasRawInput=function(){return this.has$Value(5)};i18n.phonenumbers.PhoneNumber.prototype.rawInputCount=function(){return this.count$Values(5)};i18n.phonenumbers.PhoneNumber.prototype.clearRawInput=function(){this.clear$Field(5)};i18n.phonenumbers.PhoneNumber.prototype.getCountryCodeSource=function(){return this.get$Value(6)};i18n.phonenumbers.PhoneNumber.prototype.getCountryCodeSourceOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.PhoneNumber.prototype.setCountryCodeSource=function(a){this.set$Value(6,a)};i18n.phonenumbers.PhoneNumber.prototype.hasCountryCodeSource=function(){return this.has$Value(6)};i18n.phonenumbers.PhoneNumber.prototype.countryCodeSourceCount=function(){return this.count$Values(6)};i18n.phonenumbers.PhoneNumber.prototype.clearCountryCodeSource=function(){this.clear$Field(6)};i18n.phonenumbers.PhoneNumber.prototype.getPreferredDomesticCarrierCode=function(){return this.get$Value(7)};i18n.phonenumbers.PhoneNumber.prototype.getPreferredDomesticCarrierCodeOrDefault=function(){return this.get$ValueOrDefault(7)};i18n.phonenumbers.PhoneNumber.prototype.setPreferredDomesticCarrierCode=function(a){this.set$Value(7,a)};i18n.phonenumbers.PhoneNumber.prototype.hasPreferredDomesticCarrierCode=function(){return this.has$Value(7)};i18n.phonenumbers.PhoneNumber.prototype.preferredDomesticCarrierCodeCount=function(){return this.count$Values(7)};i18n.phonenumbers.PhoneNumber.prototype.clearPreferredDomesticCarrierCode=function(){this.clear$Field(7)};i18n.phonenumbers.PhoneNumber.CountryCodeSource={UNSPECIFIED:0,FROM_NUMBER_WITH_PLUS_SIGN:1,FROM_NUMBER_WITH_IDD:5,FROM_NUMBER_WITHOUT_PLUS_SIGN:10,FROM_DEFAULT_COUNTRY:20};i18n.phonenumbers.PhoneNumber.prototype.getDescriptor=function(){var a=i18n.phonenumbers.PhoneNumber.descriptor_;return a||(i18n.phonenumbers.PhoneNumber.descriptor_=a=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneNumber,{0:{name:"PhoneNumber",fullName:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,fieldType:goog.proto2.Message.FieldType.INT32,type:Number},2:{name:"national_number",required:!0,fieldType:goog.proto2.Message.FieldType.UINT64,type:Number},3:{name:"extension",fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"italian_leading_zero",fieldType:goog.proto2.Message.FieldType.BOOL,type:Boolean},8:{name:"number_of_leading_zeros",fieldType:goog.proto2.Message.FieldType.INT32,defaultValue:1,type:Number},5:{name:"raw_input",fieldType:goog.proto2.Message.FieldType.STRING,type:String},6:{name:"country_code_source",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:i18n.phonenumbers.PhoneNumber.CountryCodeSource.UNSPECIFIED,type:i18n.phonenumbers.PhoneNumber.CountryCodeSource},7:{name:"preferred_domestic_carrier_code",fieldType:goog.proto2.Message.FieldType.STRING,type:String}})),a};i18n.phonenumbers.PhoneNumber.ctor=i18n.phonenumbers.PhoneNumber;i18n.phonenumbers.PhoneNumber.ctor.getDescriptor=i18n.phonenumbers.PhoneNumber.prototype.getDescriptor;i18n.phonenumbers.metadata={};i18n.phonenumbers.metadata.countryCodeToRegionCodeMap={1:"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]};i18n.phonenumbers.metadata.countryToMetadata={AC:[,[,,"[46]\\d{4}|[01589]\\d{5}",,,,,,,[5,6]],[,,"6[2-467]\\d{3}",,,,"62889",,,[5]],[,,"4\\d{4}",,,,"40123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AC",247,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[01589]\\d{5}",,,,"542011",,,[6]],,,[,,,,,,,,,[-1]]],AD:[,[,,"[16]\\d{5,8}|[37-9]\\d{5}",,,,,,,[6,8,9]],[,,"[78]\\d{5}",,,,"712345",,,[6]],[,,"(?:3\\d|6(?:[0-8]|90\\d{2}))\\d{4}",,,,"312345",,,[6,9]],[,,"180[02]\\d{4}",,,,"18001234",,,[8]],[,,"[19]\\d{5}",,,,"912345",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[137-9]|6[0-8]"]],[,"(\\d{4})(\\d{4})","$1 $2",["180","180[02]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["690"]]],,[,,,,,,,,,[-1]],,,[,,"1800\\d{4}",,,,"18000000",,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AE:[,[,,"[2-79]\\d{7,8}|800\\d{2,9}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"[2-4679][2-8]\\d{6}",,,,"22345678",,,[8],[7]],[,,"5[024-68]\\d{7}",,,,"501234567",,,[9]],[,,"400\\d{6}|800\\d{2,9}",,,,"800123456"],[,,"900[02]\\d{5}",,,,"900234567",,,[9]],[,,"700[05]\\d{5}",,,,"700012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AE",971,"00","0",,,"0",,,,[[,"([2-4679])(\\d{3})(\\d{4})","$1 $2 $3",["[2-4679][2-8]"],"0$1"],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],[,"([479]00)(\\d)(\\d{5})","$1 $2 $3",["[479]00"],"$1"],[,"([68]00)(\\d{2,9})","$1 $2",["[68]00"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"600[25]\\d{5}",,,,"600212345",,,[9]],,,[,,,,,,,,,[-1]]],AF:[,[,,"[2-7]\\d{8}",,,,,,,[9],[7]],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}",,,,"234567890",,,,[7]],[,,"7(?:[014-9]\\d|2[89]|30)\\d{6}",,,,"701234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AF",93,"00","0",,,"0",,,,[[,"([2-7]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AG:[,[,,"[2589]\\d{9}",,,,,,,[10],[7]],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}",,,,"2684601234",,,,[7]],[,,"268(?:464|7(?:1[3-9]|2\\d|3[246]|64|7[0-689]|8[02-68]))\\d{4}",,,,"2684641234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,"26848[01]\\d{4}",,,,"2684801234",,,,[7]],"AG",1,"011","1",,,"1",,,,,,[,,"26840[69]\\d{4}",,,,"2684061234",,,,[7]],,"268",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AI:[,[,,"[2589]\\d{9}",,,,,,,[10],[7]],[,,"2644(?:6[12]|9[78])\\d{4}",,,,"2644612345",,,,[7]],[,,"264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}",,,,"2642351234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AI",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"264",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AL:[,[,,"[2-57]\\d{7}|6\\d{8}|8\\d{5,7}|9\\d{5}",,,,,,,[6,7,8,9],[5]],[,,"(?:[2358](?:[16-9]\\d[2-9]|[2-5][2-9]\\d)|4(?:[2-57-9][2-9]\\d|6\\d{2}))\\d{4}",,,,"22345678",,,[8],[5,6,7]],[,,"6(?:[689][2-9]|7[2-6])\\d{6}",,,,"662123456",,,[9]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"900[1-9]\\d{2}",,,,"900123",,,[6]],[,,"808[1-9]\\d{2}",,,,"808123",,,[6]],[,,"700[2-9]\\d{4}",,,,"70021234",,,[8]],[,,,,,,,,,[-1]],"AL",355,"00","0",,,"0",,,,[[,"(4)(\\d{3})(\\d{4})","$1 $2 $3",["4[0-6]"],"0$1"],[,"(6\\d)(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4[7-9]"],"0$1"],[,"(\\d{3})(\\d{3,5})","$1 $2",["[235][16-9]|[79]|8[016-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AM:[,[,,"[1-9]\\d{7}",,,,,,,[8],[5,6]],[,,"(?:1[0-2]\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47\\d)\\d{5}",,,,"10123456",,,,[5,6]],[,,"(?:4[1349]|55|77|88|9[1-9])\\d{6}",,,,"77123456"],[,,"800\\d{5}",,,,"80012345"],[,,"90[016]\\d{5}",,,,"90012345"],[,,"80[1-4]\\d{5}",,,,"80112345"],[,,,,,,,,,[-1]],[,,"60(?:2[078]|[3-7]\\d|8[0-5])\\d{4}",,,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["4[1349]|[5-7]|88|9[1-9]"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["[23]"],"(0$1)"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8|90"],"0 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AO:[,[,,"[29]\\d{8}",,,,,,,[9]],[,,"2\\d(?:[26-9]\\d|\\d[26-9])\\d{5}",,,,"222123456"],[,,"9[1-49]\\d{7}",,,,"923123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AR:[,[,,"11\\d{8}|[2368]\\d{9}|9\\d{10}",,,,,,,[10,11],[6,7,8]],[,,"11\\d{8}|(?:2(?:2(?:[013]\\d|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067]\\d)|4(?:7[3-8]|9\\d)|6(?:[01346]\\d|2[24-6]|5[15-8])|80\\d|9(?:[0124789]\\d|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6\\d|8[2578])|4(?:[78]\\d|0[0124-9]|[1-35]\\d|4[24-7]|6[02-9]|9[123678])|5(?:[138]\\d|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24]\\d|7(?:[0469]\\d|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578]\\d|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670\\d)\\d{6}",,,,"1123456789",,,[10],[6,7,8]],[,,"675\\d{7}|9(?:11[2-9]\\d{7}|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]\\d{6}|\\d{4}[2-9]\\d{5})",,,,"91123456789",,,,[6,7,8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"60[04579]\\d{7}",,,,"6001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))?15)?","9$1",,,[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(\\d{2})(\\d{4})","$1-$2",["[2-9]"],"$1"],[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"],"$1"],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9]"],"$1"],[,"(9)(11)(\\d{4})(\\d{4})","$2 15-$3-$4",["911"],"0$1"],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9(?:2[2-4689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"],"0$1"],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9[23]"],"0$1"],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["11"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1",,1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1],[,"(\\d{3})","$1",["1[0-2]|911"],"$1"]],[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(9)(11)(\\d{4})(\\d{4})","$1 $2 $3-$4",["911"]],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9(?:2[2-4689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9[23]"]],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["11"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1",,1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1]],[,,,,,,,,,[-1]],,,[,,"810\\d{7}",,,,"8101234567",,,[10]],[,,"810\\d{7}",,,,"8101234567",,,[10]],,,[,,,,,,,,,[-1]]],AS:[,[,,"[5689]\\d{9}",,,,,,,[10],[7]],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}",,,,"6846221234",,,,[7]],[,,"684(?:2(?:5[2468]|72)|7(?:3[13]|70))\\d{4}",,,,"6847331234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AS",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"684",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AT:[,[,,"[1-9]\\d{3,12}",,,,,,,[4,5,6,7,8,9,10,11,12,13],[3]],[,,"1\\d{3,12}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{3,10}",,,,"1234567890",,,,[3]],[,,"6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",,,,"664123456",,,[7,8,9,10,11,12,13]],[,,"800\\d{6,10}",,,,"800123456",,,[9,10,11,12,13]],[,,"9(?:0[01]|3[019])\\d{6,10}",,,,"900123456",,,[9,10,11,12,13]],[,,"8(?:10\\d|2(?:[01]\\d|8\\d?))\\d{5,9}",,,,"810123456",,,[8,9,10,11,12,13]],[,,,,,,,,,[-1]],[,,"780\\d{6,10}",,,,"780123456",,,[9,10,11,12,13]],"AT",43,"00","0",,,"0",,,,[[,"(116\\d{3})","$1",["116"],"$1"],[,"(1)(\\d{3,12})","$1 $2",["1"],"0$1"],[,"(5\\d)(\\d{3,5})","$1 $2",["5[079]"],"0$1"],[,"(5\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["5[079]"],"0$1"],[,"(5\\d)(\\d{4})(\\d{4,7})","$1 $2 $3",["5[079]"],"0$1"],[,"(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:[28]0|32)|[89]"],"0$1"],[,"(\\d{4})(\\d{3,9})","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:[24][1-8]|35|[5-79])"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"5(?:(?:0[1-9]|17)\\d{2,10}|[79]\\d{3,11})|720\\d{6,10}",,,,"50123",,,[5,6,7,8,9,10,11,12,13]],,,[,,,,,,,,,[-1]]],AU:[,[,,"1\\d{4,9}|[2-578]\\d{8}",,,,,,,[5,6,7,8,9,10]],[,,"[237]\\d{8}|8(?:51(?:0(?:0[03-9]|[1247]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-6])|1(?:1[69]|[23]\\d|4[0-4]))|[6-8]\\d{4}|9(?:[02-9]\\d{3}|1(?:[0-57-9]\\d{2}|6[0135-9]\\d)))\\d{3}",,,,"212345678",,,[9],[8]],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12457-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"19(?:0[0126]\\d|[679])\\d{5}",,,,"1900123456",,,[8,10]],[,,"13(?:00\\d{3}|45[0-4]|\\d)\\d{3}",,,,"1300123456",,,[6,8,10]],[,,"500\\d{6}",,,,"500123456",,,[9]],[,,"550\\d{6}",,,,"550123456",,,[9]],"AU",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011)|001[14-689]","0",,,"0",,"0011",,[[,"([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|[45]"],"0$1"],[,"(16)(\\d{3,4})","$1 $2",["16"],"0$1"],[,"(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],[,"(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[389]0","1(?:[38]0|9)0"]],[,"(180)(2\\d{3})","$1 $2",["180","1802"]],[,"(19\\d)(\\d{3})","$1 $2",["19[13]"]],[,"(19\\d{2})(\\d{4})","$1 $2",["19[679]"]],[,"(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"]]],,[,,"16\\d{3,7}",,,,"1612345",,,[5,6,7,8,9]],1,,[,,"1(?:3(?:00\\d{3}|45[0-4]|\\d)\\d{3}|80(?:0\\d{6}|2\\d{3}))",,,,"1300123456",,,[6,7,8,10]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AW:[,[,,"[25-9]\\d{6}",,,,,,,[7]],[,,"5(?:2\\d|8[1-9])\\d{4}",,,,"5212345"],[,,"(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}",,,,"5601234"],[,,"800\\d{4}",,,,"8001234"],[,,"900\\d{4}",,,,"9001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"28\\d{5}|501\\d{4}",,,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AX:[,[,,"1\\d{5,11}|[35]\\d{5,9}|2\\d{4,9}|4\\d{5,10}|6\\d{7,9}|7\\d{4,9}|8\\d{6,9}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"18[1-8]\\d{3,9}",,,,"181234567",,,[6,7,8,9,10,11,12]],[,,"4\\d{5,10}|50\\d{4,8}",,,,"412345678",,,[6,7,8,9,10,11]],[,,"800\\d{4,7}",,,,"8001234567",,,[7,8,9,10]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AX",358,"00|99(?:[02469]|5(?:11|33|5[59]|88|9[09]))","0",,,"0",,"00",,,,[,,,,,,,,,[-1]],,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})",,,,"1001234",,,[5,6,7,8,9,10]],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})",,,,"10112345",,,[5,6,7,8,9,10]],,,[,,,,,,,,,[-1]]],AZ:[,[,,"[1-9]\\d{8}",,,,,,,[9],[7]],[,,"(?:1[28]\\d{3}|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])\\d{2}|365(?:[0-46-9]\\d|5[0-35-9]))\\d{4}",,,,"123123456",,,,[7]],[,,"(?:36554|(?:4[04]|5[015]|60|7[07])\\d{3})\\d{4}",,,,"401234567"],[,,"88\\d{7}",,,,"881234567"],[,,"900200\\d{3}",,,,"900200123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2(?:[0-36]|[45]2)|365"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[4-8]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BA:[,[,,"[3-9]\\d{7,8}",,,,,,,[8,9],[6]],[,,"(?:3(?:[05679][2-9]|1[4579]|[23][24-9]|4[2-4689]|8[2457-9])|49[2-579]|5(?:0[2-49]|[13][2-9]|[268][2-4679]|4[4689]|5[2-79]|7[2-69]|9[2-4689]))\\d{5}",,,,"30212345",,,[8],[6]],[,,"6(?:0(?:3\\d|40)|[1-356]\\d|44[0-6]|71[137])\\d{5}",,,,"61123456"],[,,"8[08]\\d{6}",,,,"80123456",,,[8]],[,,"9[0246]\\d{6}",,,,"90123456",,,[8]],[,,"8[12]\\d{6}",,,,"82123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BA",387,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6[047]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70(?:3[0146]|[56]0)\\d{4}",,,,"70341234",,,[8]],,,[,,,,,,,,,[-1]]],BB:[,[,,"[2589]\\d{9}",,,,,,,[10],[7]],[,,"246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2\\d|3[2-9])|5(?:20|[34]\\d|54|7[1-3])|6(?:2\\d|38)|7(?:37|57)|9(?:1[89]|63))\\d{4}",,,,"2464123456",,,,[7]],[,,"246(?:2(?:[356]\\d|4[0-57-9]|8[0-79])|45\\d|69[5-7]|8(?:[2-5]\\d|83))\\d{4}",,,,"2462501234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900\\d{7}|246976\\d{4}",,,,"9002123456",,,,[7]],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,"24631\\d{5}",,,,"2463101234",,,,[7]],"BB",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"246",[,,,,,,,,,[-1]],[,,"246(?:292|367|4(?:1[7-9]|3[01]|44|67)|736)\\d{4}",,,,"2464301234",,,,[7]],,,[,,,,,,,,,[-1]]],BD:[,[,,"[2-79]\\d{5,9}|1\\d{9}|8[0-7]\\d{4,8}",,,,,,,[6,7,8,9,10]],[,,"2(?:[45]\\d{3}|7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|41|6[1-35]|7[1-5]|8[1-8]|90)|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-9]))\\d{4}|3(?:12?[5-7]\\d{2}|0(?:2(?:[025-79]\\d|[348]\\d{1,2})|3(?:[2-4]\\d|[56]\\d?))|2(?:1\\d{2}|2(?:[12]\\d|[35]\\d{1,2}|4\\d?))|3(?:1\\d{2}|2(?:[2356]\\d|4\\d{1,2}))|4(?:1\\d{2}|2(?:2\\d{1,2}|[47]|5\\d{2}))|5(?:1\\d{2}|29)|[67]1\\d{2}|8(?:1\\d{2}|2(?:2\\d{2}|3|4\\d)))\\d{3}|4(?:0(?:2(?:[09]\\d|7)|33\\d{2})|1\\d{3}|2(?:1\\d{2}|2(?:[25]\\d?|[348]\\d|[67]\\d{1,2}))|3(?:1\\d{2}(?:\\d{2})?|2(?:[045]\\d|[236-9]\\d{1,2})|32\\d{2})|4(?:[18]\\d{2}|2(?:[2-46]\\d{2}|3)|5[25]\\d{2})|5(?:1\\d{2}|2(?:3\\d|5))|6(?:[18]\\d{2}|2(?:3(?:\\d{2})?|[46]\\d{1,2}|5\\d{2}|7\\d)|5(?:3\\d?|4\\d|[57]\\d{1,2}|6\\d{2}|8))|71\\d{2}|8(?:[18]\\d{2}|23\\d{2}|54\\d{2})|9(?:[18]\\d{2}|2[2-5]\\d{2}|53\\d{1,2}))\\d{3}|5(?:02[03489]\\d{2}|1\\d{2}|2(?:1\\d{2}|2(?:2(?:\\d{2})?|[457]\\d{2}))|3(?:1\\d{2}|2(?:[37](?:\\d{2})?|[569]\\d{2}))|4(?:1\\d{2}|2[46]\\d{2})|5(?:1\\d{2}|26\\d{1,2})|6(?:[18]\\d{2}|2|53\\d{2})|7(?:1|24)\\d{2}|8(?:1|26)\\d{2}|91\\d{2})\\d{3}|6(?:0(?:1\\d{2}|2(?:3\\d{2}|4\\d{1,2}))|2(?:2[2-5]\\d{2}|5(?:[3-5]\\d{2}|7)|8\\d{2})|3(?:1|2[3478])\\d{2}|4(?:1|2[34])\\d{2}|5(?:1|2[47])\\d{2}|6(?:[18]\\d{2}|6(?:2(?:2\\d|[34]\\d{2})|5(?:[24]\\d{2}|3\\d|5\\d{1,2})))|72[2-5]\\d{2}|8(?:1\\d{2}|2[2-5]\\d{2})|9(?:1\\d{2}|2[2-6]\\d{2}))\\d{3}|7(?:(?:02|[3-589]1|6[12]|72[24])\\d{2}|21\\d{3}|32)\\d{3}|8(?:(?:4[12]|[5-7]2|1\\d?)|(?:0|3[12]|[5-7]1|217)\\d)\\d{4}|9(?:[35]1|(?:[024]2|81)\\d|(?:1|[24]1)\\d{2})\\d{3}",,,,"27111234",,,[6,7,8,9]],[,,"(?:1[13-9]\\d|(?:3[78]|44)[02-9]|6(?:44|6[02-9]))\\d{7}",,,,"1812345678",,,[10]],[,,"80[03]\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"96(?:0[469]|1[0-4]|3[389]|6[69]|7[78])\\d{6}",,,,"9604123456",,,[10]],"BD",880,"00","0",,,"0",,,,[[,"(2)(\\d{7,8})","$1-$2",["2"],"0$1"],[,"(\\d{2})(\\d{4,6})","$1-$2",["[3-79]1"],"0$1"],[,"(\\d{4})(\\d{3,6})","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[01367])"],"0$1"],[,"(\\d{3})(\\d{3,7})","$1-$2",["[3-79][2-9]|8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BE:[,[,,"[1-9]\\d{7,8}",,,,,,,[8,9]],[,,"(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}|80[2-8]\\d{5}",,,,"12345678",,,[8]],[,,"4(?:56|6[0135-8]|[79]\\d|8[3-9])\\d{6}",,,,"470123456",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"(?:70[2-467]|90[0-79])\\d{5}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BE",32,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[5-9]"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"78\\d{6}",,,,"78123456",,,[8]],,,[,,,,,,,,,[-1]]],BF:[,[,,"[25-7]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:49|5[23]|6[56]|9[016-9])|4(?:4[569]|5[4-6]|6[56]|7[0179])|5(?:[34]\\d|50|6[5-7]))\\d{4}",,,,"20491234"],[,,"(?:5[15-8]|[67]\\d)\\d{6}",,,,"70123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BG:[,[,,"[23567]\\d{5,7}|[489]\\d{6,8}",,,,,,,[6,7,8,9],[4,5]],[,,"2\\d{5,7}|(?:[36]\\d|5[1-9]|8[1-6]|9[1-7])\\d{5,6}|(?:4(?:[124-7]\\d|3[1-6])|7(?:0[1-9]|[1-9]\\d))\\d{4,5}",,,,"2123456",,,[6,7,8],[4,5]],[,,"(?:8[7-9]\\d|9(?:8\\d|9[69]))\\d{6}|4(?:3[0789]|8\\d)\\d{5}",,,,"48123456",,,[8,9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,"700\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"BG",359,"00","0",,,"0",,,,[[,"(2)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],[,"(2)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["43[124-7]|70[1-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[124-7]|70[1-9]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[78]00"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["99[69]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["48|8[7-9]|9[08]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BH:[,[,,"[136-9]\\d{7}",,,,,,,[8]],[,,"(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7\\d{2}))\\d{4}",,,,"17001234"],[,,"(?:3(?:[1-4679]\\d|5[013-69]|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:[69]\\d|3[03-9]|7[0-6])))\\d{4}",,,,"36001234"],[,,"80\\d{6}",,,,"80123456"],[,,"(?:87|9[014578])\\d{6}",,,,"90123456"],[,,"84\\d{6}",,,,"84123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BI:[,[,,"[267]\\d{7}",,,,,,,[8]],[,,"22\\d{6}",,,,"22201234"],[,,"(?:29|6[189]|7[124-9])\\d{6}",,,,"79561234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BI",257,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BJ:[,[,,"[2689]\\d{7}",,,,,,,[8]],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}",,,,"20211234"],[,,"(?:6\\d|9[03-9])\\d{6}",,,,"90011234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"857[58]\\d{4}",,,,"85751234"],"BJ",229,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"81\\d{6}",,,,"81123456"],,,[,,,,,,,,,[-1]]],BL:[,[,,"[56]\\d{8}",,,,,,,[9]],[,,"590(?:2[7-9]|5[12]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BL",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BM:[,[,,"[4589]\\d{9}",,,,,,,[10],[7]],[,,"441(?:2(?:02|23|61|[3479]\\d)|[46]\\d{2}|5(?:4\\d|60|89)|824)\\d{4}",,,,"4412345678",,,,[7]],[,,"441(?:[37]\\d|5[0-39])\\d{5}",,,,"4413701234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"441",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BN:[,[,,"[2-578]\\d{6}",,,,,,,[7]],[,,"2(?:[013-9]\\d|2[0-7])\\d{4}|[3-5]\\d{6}",,,,"2345678"],[,,"22[89]\\d{4}|[78]\\d{6}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BN",673,"00",,,,,,,,[[,"([2-578]\\d{2})(\\d{4})","$1 $2",["[2-578]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BO:[,[,,"[23467]\\d{7}|8\\d{8}",,,,,,,[8,9],[7]],[,,"(?:2(?:2\\d{2}|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d{2}|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2\\d|3[234]|4[248]|5[24]|6[2-6]|7\\d))|4(?:4\\d{2}|6(?:11|[24689]\\d|72)))\\d{4}",,,,"22123456",,,[8],[7]],[,,"[67]\\d{7}",,,,"71234567",,,[8]],[,,"80017\\d{4}",,,,"800171234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BO",591,"00(1\\d)?","0",,,"0(1\\d)?",,,,[[,"([234])(\\d{7})","$1 $2",["[2-4]"],,"0$CC $1"],[,"([67]\\d{7})","$1",["[67]"],,"0$CC $1"],[,"(800)(\\d{2})(\\d{4})","$1 $2 $3",["800"],,"0$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BQ:[,[,,"[347]\\d{6}",,,,,,,[7]],[,,"(?:318[023]|41(?:6[023]|70)|7(?:1[578]|50)\\d)\\d{3}",,,,"7151234"],[,,"(?:31(?:8[14-8]|9[14578])|416[145-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}",,,,"3181234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BQ",599,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BR:[,[,,"[1-46-9]\\d{7,10}|5(?:[0-4]\\d{7,9}|5(?:[2-8]\\d{7}|9\\d{7,8}))",,,,,,,[8,9,10,11]],[,,"(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}",,,,"1123456789",,,[10],[8]],[,,"(?:[189][1-9]|2[12478])(?:7|9\\d)\\d{7}|(?:3[1-578]|[46][1-9]|5[13-5]|7[13-579])(?:[6-8]|9\\d?)\\d{7}",,,,"11961234567",,,[10,11],[8]],[,,"800\\d{6,7}",,,,"800123456",,,[9,10]],[,,"(?:300|[59]00\\d?)\\d{6}",,,,"300123456",,,[9,10]],[,,"(?:300\\d(?:\\d{2})?|40(?:0\\d|20))\\d{4}",,,,"40041234",,,[8,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BR",55,"00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","0",,,"0(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",,,[[,"(\\d{4})(\\d{4})","$1-$2",["300|40[02]","300|40(?:0|20)"]],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],[,"(\\d{3,5})","$1",["1[125689]"]],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9](?:0[1-9]|[1-9])"]],[,"(\\d{5})(\\d{4})","$1-$2",["9(?:0[1-9]|[1-9])"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)","0 $CC ($1)"]],[[,"(\\d{4})(\\d{4})","$1-$2",["300|40[02]","300|40(?:0|20)"]],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)","0 $CC ($1)"]],[,,,,,,,,,[-1]],,,[,,"(?:300\\d|40(?:0\\d|20))\\d{4}",,,,"40041234",,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BS:[,[,,"[2589]\\d{9}",,,,,,,[10],[7]],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[347]|8[0-4]|9[2-467])|461|502|6(?:0[1-4]|12|2[013]|[45]0|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}",,,,"2423456789",,,,[7]],[,,"242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|[89]9))\\d{4}",,,,"2423591234",,,,[7]],[,,"242300\\d{4}|8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456",,,,[7]],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BS",1,"011?","1",,,"1",,"011",,,,[,,,,,,,,,[-1]],,"242",[,,,,,,,,,[-1]],[,,"242225[0-46-9]\\d{3}",,,,"2422250123"],,,[,,,,,,,,,[-1]]],BT:[,[,,"[1-8]\\d{6,7}",,,,,,,[7,8],[6]],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}",,,,"2345678",,,[7],[6]],[,,"(?:1[67]|77)\\d{6}",,,,"17123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BT",975,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1|77"]],[,"([2-8])(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BW:[,[,,"[2-79]\\d{6,7}",,,,,,,[7,8]],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69]\\d|7[01])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}",,,,"2401234",,,[7]],[,,"7(?:[1-6]\\d|7[014-8])\\d{5}",,,,"71123456",,,[8]],[,,,,,,,,,[-1]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"79[12][01]\\d{4}",,,,"79101234",,,[8]],"BW",267,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-6]"]],[,"(7\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7"]],[,"(90)(\\d{5})","$1 $2",["90"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BY:[,[,,"[1-4]\\d{8}|8(?:0(?:0\\d{3,7}|[13]\\d{7})|(?:10|20\\d)\\d{7})|9\\d{9,10}",,,,,,,[6,7,8,9,10,11],[5]],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d{2})|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}",,,,"152450911",,,[9],[5,6,7]],[,,"(?:2(?:5[5679]|9[1-9])|33\\d|44\\d)\\d{6}",,,,"294911911",,,[9]],[,,"8(?:0[13]|20\\d)\\d{7}|800\\d{3,7}",,,,"8011234567"],[,,"(?:810|902)\\d{7}",,,,"9021234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"249\\d{6}",,,,"249123456",,,[9]],"BY",375,"810","8",,,"8?0?",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"8 0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"],"8 0$1"],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],[,"([89]\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8[01]|9"],"8 $1"],[,"(82\\d)(\\d{4})(\\d{4})","$1 $2 $3",["82"],"8 $1"],[,"(800)(\\d{3})","$1 $2",["800"],"8 $1"],[,"(800)(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,"8(?:0[13]|10|20\\d)\\d{7}|800\\d{3,7}|902\\d{7}",,,,"82012345678"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BZ:[,[,,"[2-8]\\d{6}|0\\d{10}",,,,,,,[7,11]],[,,"(?:2(?:[02]\\d|36)|[3-58][02]\\d|7(?:[02]\\d|32))\\d{4}",,,,"2221234",,,[7]],[,,"6[0-35-7]\\d{5}",,,,"6221234",,,[7]],[,,"0800\\d{7}",,,,"08001234123",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],[,"(0)(800)(\\d{4})(\\d{3})","$1-$2-$3-$4",["080","0800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CA:[,[,,"[2-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"2042345678",,,,[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"2042345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"CA",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CC:[,[,,"[1458]\\d{5,9}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:02|31|60)|118)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:08|22|68)|4[29]8|62\\d|70[23]|959))\\d{3}",,,,"891621234",,,[9],[8]],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12547-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"19(?:0[0126]\\d|[679])\\d{5}",,,,"1900123456",,,[8,10]],[,,"13(?:00\\d{2})?\\d{4}",,,,"1300123456",,,[6,10]],[,,"500\\d{6}",,,,"500123456",,,[9]],[,,"550\\d{6}",,,,"550123456",,,[9]],"CC",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CD:[,[,,"[2-6]\\d{6}|[18]\\d{6,8}|9\\d{8}",,,,,,,[7,9]],[,,"1(?:2\\d{7}|\\d{6})|[2-6]\\d{6}",,,,"1234567"],[,,"8(?:[0-2459]\\d{2}|8)\\d{5}|9[017-9]\\d{7}",,,,"991234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["12"],"0$1"],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[0-2459]|9"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CF:[,[,,"[278]\\d{7}",,,,,,,[8]],[,,"2[12]\\d{6}",,,,"21612345"],[,,"7[0257]\\d{6}",,,,"70012345"],[,,,,,,,,,[-1]],[,,"8776\\d{4}",,,,"87761234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CG:[,[,,"[028]\\d{8}",,,,,,,[9]],[,,"222[1-589]\\d{5}",,,,"222123456"],[,,"0[14-6]\\d{7}",,,,"061234567"],[,,,,,,,,,[-1]],[,,"80(?:0\\d{2}|11[01])\\d{4}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CG",242,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CH:[,[,,"[2-9]\\d{8}|860\\d{9}",,,,,,,[9,12]],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}",,,,"212345678",,,[9]],[,,"7[5-9]\\d{7}",,,,"781234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[016]\\d{6}",,,,"900123456",,,[9]],[,,"84[0248]\\d{6}",,,,"840123456",,,[9]],[,,"878\\d{6}",,,,"878123456",,,[9]],[,,,,,,,,,[-1]],"CH",41,"00","0",,,"0",,,,[[,"([2-9]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]|[89]1"],"0$1"],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["860"],"0$1"]],,[,,"74[0248]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,"5[18]\\d{7}",,,,"581234567",,,[9]],,,[,,"860\\d{9}",,,,"860123456789",,,[12]]],CI:[,[,,"[02-8]\\d{7}",,,,,,,[8]],[,,"(?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}",,,,"21234567"],[,,"(?:0[1-9]|[45]\\d|6[014-9]|7[124-9]|8[4-9])\\d{6}",,,,"01234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CK:[,[,,"[2-8]\\d{4}",,,,,,,[5]],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}",,,,"21234"],[,,"[5-8]\\d{4}",,,,"71234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CL:[,[,,"1230\\d{7}|[2-46-9]\\d{8,10}|5[1-3578]\\d{7}",,,,,,,[9,10,11],[7,8]],[,,"2(?:1962\\d{4}|2\\d{7}|32[0-467]\\d{5})|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|9[3-9])\\d{7}",,,,"221234567",,,[9],[7,8]],[,,"2(?:1962\\d{4}|2\\d{7}|32[0-467]\\d{5})|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|9[3-9])\\d{7}",,,,"961234567",,,[9],[8]],[,,"800\\d{6}|1230\\d{7}",,,,"800123456",,,[9,11]],[,,,,,,,,,[-1]],[,,"600\\d{7,8}",,,,"6001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,"44\\d{7}",,,,"441234567",,,[9]],"CL",56,"(?:0|1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))0","0",,,"0|(1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))",,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)","$CC ($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)"],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1"],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["[68]00"],"$1"],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["600"],"$1"],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["123","1230"],"$1"],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)"],[,"(\\d{4,5})","$1",["[1-9]"],"$1"]],[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)","$CC ($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)"],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1"],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["[68]00"],"$1"],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["600"],"$1"],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["123","1230"],"$1"],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)"]],[,,,,,,,,,[-1]],,,[,,"600\\d{7,8}",,,,"6001234567",,,[10,11]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CM:[,[,,"[2368]\\d{7,8}",,,,,,,[8,9]],[,,"2(?:22|33|4[23])\\d{6}",,,,"222123456",,,[9]],[,,"6[5-9]\\d{7}",,,,"671234567",,,[9]],[,,"88\\d{6}",,,,"88012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CM",237,"00",,,,,,,,[[,"([26])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|88"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CN:[,[,,"[1-7]\\d{6,11}|8[0-357-9]\\d{6,9}|9\\d{7,10}",,,,,,,[7,8,9,10,11,12],[5,6]],[,,"21(?:100\\d{2}|95\\d{3,4}|\\d{8,10})|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100\\d{2}|95\\d{3,4}|\\d{8})|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-4689]|6[2368]|9[02-9])|8(?:078|1[236-8]|2[5-7]|3\\d|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100\\d{2}|95\\d{3,4}|\\d{7})",,,,"1012345678",,,,[5,6]],[,,"1(?:[38]\\d{3}|4[57]\\d{2}|5[0-35-9]\\d{2}|66\\d{2}|7(?:[0-35-8]\\d{2}|40[0-5])|9[89]\\d{2})\\d{6}",,,,"13123456789",,,[11]],[,,"(?:10)?800\\d{7}",,,,"8001234567",,,[10,12]],[,,"16[08]\\d{5}",,,,"16812345",,,[8]],[,,"400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[4789]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[3678]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}",,,,"4001234567",,,[7,8,9,10,11],[5,6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CN",86,"(1(?:[12]\\d{3}|79\\d{2}|9[0-7]\\d{2}))?00","0",,,"(1(?:[12]\\d{3}|79\\d{2}|9[0-7]\\d{2}))|0",,"00",,[[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"]],[,"(\\d{5,6})","$1",["100|95"]],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d\\d[19]","[3-9]\\d\\d(?:10|9[56])"],"0$1","$CC $1"],[,"(\\d{3,4})(\\d{4})","$1 $2",["[2-9]"]],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:0[1-9]|[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[47-9]|7|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[457]|6[09])|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["807","8078"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1(?:[3-57-9]|66)"],,"$CC $1"],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"]],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"]]],[[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"]],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d\\d[19]","[3-9]\\d\\d(?:10|9[56])"],"0$1","$CC $1"],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:0[1-9]|[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[47-9]|7|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[457]|6[09])|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["807","8078"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1(?:[3-57-9]|66)"],,"$CC $1"],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"]],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"]]],[,,,,,,,,,[-1]],,,[,,"(?:4|(?:10)?8)00\\d{7}|950\\d{7,8}",,,,"4001234567",,,[10,11,12]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CO:[,[,,"(?:[13]\\d{0,3}|[24-8])\\d{7}",,,,,,,[8,10,11],[7]],[,,"[124-8][2-9]\\d{6}",,,,"12345678",,,[8],[7]],[,,"3(?:0[0-5]|1\\d|2[0-3]|5[01])\\d{7}",,,,"3211234567",,,[10]],[,,"1800\\d{7}",,,,"18001234567",,,[11]],[,,"19(?:0[01]|4[78])\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:44|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["1(?:[2-7]|8[2-9]|9[0-3])|[24-8]","1(?:[2-7]|8[2-9]|9(?:09|[1-3]))|[24-8]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(1)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"],"0$1"]],[[,"(\\d)(\\d{7})","$1 $2",["1(?:[2-7]|8[2-9]|9[0-3])|[24-8]","1(?:[2-7]|8[2-9]|9(?:09|[1-3]))|[24-8]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(1)(\\d{3})(\\d{7})","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CR:[,[,,"[24-9]\\d{7,9}",,,,,,,[8,10]],[,,"2(?:[024-7]\\d{2}|1(?:0[7-9]|[1-9]\\d))\\d{4}",,,,"22123456",,,[8]],[,,"5(?:0[01]|7[0-3])\\d{5}|6(?:[0-4]\\d{3}|500[01])\\d{3}|(?:7[0-3]|8[3-9])\\d{6}",,,,"83123456",,,[8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"90[059]\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"210[0-6]\\d{4}|4\\d{7}|5100\\d{4}",,,,"40001234",,,[8]],"CR",506,"00",,,,"(19(?:0[012468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]0"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CU:[,[,,"[2-57]\\d{5,7}",,,,,,,[6,7,8],[4,5]],[,,"2[1-4]\\d{5,6}|3(?:1\\d{6}|[23]\\d{4,6})|4(?:[125]\\d{5,6}|[36]\\d{6}|[78]\\d{4,6})|7\\d{6,7}",,,,"71234567",,,,[4,5]],[,,"5\\d{7}",,,,"51234567",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CU",53,"119","0",,,"0",,,,[[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],[,"(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"],"(0$1)"],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CV:[,[,,"[2-59]\\d{6}",,,,,,,[7]],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}",,,,"2211234"],[,,"(?:[34][36]|5[1-389]|9\\d)\\d{5}",,,,"9911234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CW:[,[,,"[134679]\\d{6,7}",,,,,,,[7,8]],[,,"9(?:[48]\\d{2}|50\\d|7(?:2[0-24]|[34]\\d|6[35-7]|77|8[7-9]))\\d{4}",,,,"94151234",,,[8]],[,,"9(?:5(?:[12467]\\d|3[01])|6(?:[15-9]\\d|3[01]))\\d{4}",,,,"95181234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"60[0-2]\\d{4}",,,,"6001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-7]"]],[,"(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],,[,,"955\\d{5}",,,,"95581234",,,[8]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CX:[,[,,"[1458]\\d{5,9}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:01|30|59)|117)|91(?:00[6-9]|1(?:21|49|78|81)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",,,,"891641234",,,[9],[8]],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12547-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"19(?:0[0126]\\d|[679])\\d{5}",,,,"1900123456",,,[8,10]],[,,"13(?:00\\d{2})?\\d{4}",,,,"1300123456",,,[6,8,10]],[,,"500\\d{6}",,,,"500123456",,,[9]],[,,"550\\d{6}",,,,"550123456",,,[9]],"CX",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CY:[,[,,"[257-9]\\d{7}",,,,,,,[8]],[,,"2[2-6]\\d{6}",,,,"22345678"],[,,"9[4-79]\\d{6}",,,,"96123456"],[,,"800\\d{5}",,,,"80001234"],[,,"90[09]\\d{5}",,,,"90012345"],[,,"80[1-9]\\d{5}",,,,"80112345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:50|77)\\d{6}",,,,"77123456"],,,[,,,,,,,,,[-1]]],CZ:[,[,,"[2-8]\\d{8}|9\\d{8,11}",,,,,,,[9,10,11,12]],[,,"2\\d{8}|(?:3[1257-9]|4[16-9]|5[13-9])\\d{7}",,,,"212345678",,,[9]],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}",,,,"601123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:0[05689]|76)\\d{6}",,,,"900123456",,,[9]],[,,"8[134]\\d{7}",,,,"811234567",,,[9]],[,,"70[01]\\d{6}",,,,"700123456",,,[9]],[,,"9[17]0\\d{6}",,,,"910123456",,,[9]],"CZ",420,"00",,,,,,,,[[,"([2-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],[,"(96\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["96"]],[,"(9\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9[36]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"9(?:5\\d|7[234])\\d{6}",,,,"972123456",,,[9]],,,[,,"9(?:3\\d{9}|6\\d{7,10})",,,,"93123456789"]],DE:[,[,,"[1-35-9]\\d{3,14}|4(?:[0-8]\\d{3,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})",,,,,,,[4,5,6,7,8,9,10,11,12,13,14,15],[3]],[,,"2\\d{5,13}|3(?:0\\d{3,13}|2\\d{9}|[3-9]\\d{4,13})|4(?:0\\d{3,12}|[1-8]\\d{4,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})|5(?:0[2-8]|[1256]\\d|[38][0-8]|4\\d{0,2}|[79][0-7])\\d{3,11}|6(?:\\d{5,13}|9\\d{3,12})|7(?:0[2-8]|[1-9]\\d)\\d{3,10}|8(?:0[2-9]|[1-8]\\d|9\\d?)\\d{3,10}|9(?:0[6-9]\\d{3,10}|1\\d{4,12}|[2-9]\\d{4,11})",,,,"30123456",,,[5,6,7,8,9,10,11,12,13,14,15],[3,4]],[,,"1(?:5[0-25-9]\\d{8}|6[023]\\d{7,8}|7\\d{8,9})",,,,"15123456789",,,[10,11]],[,,"800\\d{7,12}",,,,"8001234567890",,,[10,11,12,13,14,15]],[,,"137[7-9]\\d{6}|900(?:[135]\\d{6}|9\\d{7})",,,,"9001234567",,,[10,11]],[,,"1(?:3(?:7[1-6]\\d{6}|8\\d{4})|80\\d{5,11})",,,,"18012345",,,[7,8,9,10,11,12,13,14]],[,,"700\\d{8}",,,,"70012345678",,,[11]],[,,,,,,,,,[-1]],"DE",49,"00","0",,,"0",,,,[[,"(1\\d{2})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],[,"(15\\d{3})(\\d{6})","$1 $2",["15[0568]"],"0$1"],[,"(1\\d{3})(\\d{7})","$1 $2",["15"],"0$1"],[,"(\\d{2})(\\d{3,11})","$1 $2",["3[02]|40|[68]9"],"0$1"],[,"(\\d{3})(\\d{3,11})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14]|[4-9]1)|3(?:[35-9][15]|4[015])|[4-8][1-9]1|9(?:06|[1-9]1)"],"0$1"],[,"(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|[7-9](?:0[1-9]|[1-9])","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|[49][1246]|6[1-4]|7[13468]|8[13568])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|[7-9](?:0[1-9]|[1-9])"],"0$1"],[,"(3\\d{4})(\\d{1,10})","$1 $2",["3"],"0$1"],[,"(800)(\\d{7,12})","$1 $2",["800"],"0$1"],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:37|80)|900","1(?:37|80)|900[1359]"],"0$1"],[,"(1\\d{2})(\\d{5,11})","$1 $2",["181"],"0$1"],[,"(18\\d{3})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],[,"(18\\d{2})(\\d{7})","$1 $2",["18[68]"],"0$1"],[,"(18\\d)(\\d{8})","$1 $2",["18[2-579]"],"0$1"],[,"(700)(\\d{4})(\\d{4})","$1 $2 $3",["700"],"0$1"],[,"(138)(\\d{4})","$1 $2",["138"],"0$1"],[,"(15[013-68])(\\d{2})(\\d{8})","$1 $2 $3",["15[013-68]"],"0$1"],[,"(15[279]\\d)(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],[,"(1[67]\\d)(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})",,,,"16412345",,,[4,5,6,7,8,9,10,11,12,13,14]],,,[,,,,,,,,,[-1]],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})",,,,"18500123456",,,[8,9,10,11,12,13,14]],,,[,,"1(?:5(?:(?:2\\d55|7\\d99|9\\d33)\\d{7}|(?:[034568]00|113)\\d{8})|6(?:013|255|399)\\d{7,8}|7(?:[015]13|[234]55|[69]33|[78]99)\\d{7,8})",,,,"177991234567",,,[12,13]]],DJ:[,[,,"[27]\\d{7}",,,,,,,[8]],[,,"2(?:1[2-5]|7[45])\\d{5}",,,,"21360003"],[,,"77\\d{6}",,,,"77831001"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DK:[,[,,"[2-9]\\d{7}",,,,,,,[8]],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}",,,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}",,,,"20123456"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DM:[,[,,"[57-9]\\d{9}",,,,,,,[10],[7]],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])\\d{4}",,,,"7674201234",,,,[7]],[,,"767(?:2(?:[234689]5|7[5-7])|31[5-7]|61[1-7])\\d{4}",,,,"7672251234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"767",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DO:[,[,,"[589]\\d{9}",,,,,,,[10],[7]],[,,"8(?:[04]9[2-9]\\d{6}|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d{2}|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))\\d{4})",,,,"8092345678",,,,[7]],[,,"8[024]9[2-9]\\d{6}",,,,"8092345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DO",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"8[024]9",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DZ:[,[,,"(?:[1-4]|[5-9]\\d)\\d{7}",,,,,,,[8,9]],[,,"(?:1\\d|2[013-79]|3[0-8]|4[0135689])\\d{6}|9619\\d{5}",,,,"12345678"],[,,"(?:5[4-6]|7[7-9])\\d{7}|6(?:[569]\\d|7[0-6])\\d{6}",,,,"551234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"80[3-689]1\\d{5}",,,,"808123456",,,[9]],[,,"80[12]1\\d{5}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,"98[23]\\d{6}",,,,"983123456",,,[9]],"DZ",213,"00","0",,,"0",,,,[[,"([1-4]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],[,"([5-8]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EC:[,[,,"1\\d{9,10}|[2-8]\\d{7}|9\\d{8}",,,,,,,[8,9,10,11],[7]],[,,"[2-7][2-7]\\d{6}",,,,"22123456",,,[8],[7]],[,,"9(?:(?:39|[45][89]|7[7-9]|[89]\\d)\\d{2}|6(?:[017-9]\\d{2}|2(?:[0-47-9]\\d|5[1-9]|60)|30\\d))\\d{4}",,,,"991234567",,,[9]],[,,"1800\\d{6,7}",,,,"18001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[2-7]890\\d{4}",,,,"28901234",,,[8]],"EC",593,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[247]|[356][2-8]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["180","1800"],"$1"]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[247]|[356][2-8]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["180","1800"],"$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EE:[,[,,"[3-9]\\d{6,7}|800\\d{6,7}",,,,,,,[7,8,10]],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}",,,,"3212345",,,[7]],[,,"(?:5\\d|8[1-5])\\d{6}|5(?:[02]\\d{2}|1(?:[0-8]\\d|95)|5[0-478]\\d|64[0-4]|65[1-589])\\d{3}",,,,"51234567",,,[7,8]],[,,"800(?:0\\d{3}|1\\d|[2-9])\\d{3}",,,,"80012345"],[,,"(?:40\\d{2}|900)\\d{4}",,,,"9001234",,,[7,8]],[,,,,,,,,,[-1]],[,,"70[0-2]\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"EE",372,"00",,,,,,,,[[,"([3-79]\\d{2})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],[,"(70)(\\d{2})(\\d{4})","$1 $2 $3",["70"]],[,"(8000)(\\d{3})(\\d{3})","$1 $2 $3",["800","8000"]],[,"([458]\\d{3})(\\d{3,4})","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]],,[,,,,,,,,,[-1]],,,[,,"800[2-9]\\d{3}",,,,"8002123",,,[7]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EG:[,[,,"1\\d{4,9}|[24-6]\\d{8}|3\\d{7}|[89]\\d{8,9}",,,,,,,[8,9,10],[7]],[,,"(?:1(?:3[23]\\d|5(?:[23]|9\\d))|2[2-4]\\d{2}|3\\d{2}|4(?:0[2-5]|[578][23]|64)\\d|5(?:0[2-7]|5\\d|7[23])\\d|6[24-689]3\\d|8(?:2[2-57]|4[26]|6[237]|8[2-4])\\d|9(?:2[27]|3[24]|52|6[2356]|7[2-4])\\d)\\d{5}",,,,"234567890",,,[8,9],[7]],[,,"1[0125]\\d{8}",,,,"1001234567",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],[,"(\\d{2})(\\d{6,7})","$1 $2",["1(?:3|5[239])|[4-6]|[89][2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1[0-25]|[89]00"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EH:[,[,,"[5-9]\\d{8}",,,,,,,[9]],[,,"528[89]\\d{5}",,,,"528812345"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[07]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5924[01]\\d{4}",,,,"592401234"],"EH",212,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"528[89]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ER:[,[,,"[178]\\d{6}",,,,,,,[7],[6]],[,,"1(?:1[12568]|20|40|55|6[146])\\d{4}|8\\d{6}",,,,"8370362",,,,[6]],[,,"17[1-3]\\d{4}|7\\d{6}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ER",291,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ES:[,[,,"[5-9]\\d{8}",,,,,,,[9]],[,,"8(?:[1356]\\d|[28][0-8]|[47][1-9])\\d{6}|9(?:[135]\\d{7}|[28][0-8]\\d{6}|4[1-9]\\d{6}|6(?:[0-8]\\d{6}|9(?:0(?:[0-57-9]\\d{4}|6(?:0[0-8]|1[1-9]|[2-9]\\d)\\d{2})|[1-9]\\d{5}))|7(?:[124-9]\\d{2}|3(?:[0-8]\\d|9[1-9]))\\d{4})",,,,"810123456"],[,,"(?:6\\d{6}|7[1-48]\\d{5}|9(?:6906(?:09|10)|7390\\d{2}))\\d{2}",,,,"612345678"],[,,"[89]00\\d{6}",,,,"800123456"],[,,"80[367]\\d{6}",,,,"803123456"],[,,"90[12]\\d{6}",,,,"901123456"],[,,"70\\d{7}",,,,"701234567"],[,,,,,,,,,[-1]],"ES",34,"00",,,,,,,,[[,"([89]00)(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],[,"([5-9]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[568]|[79][0-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"51\\d{7}",,,,"511234567"],,,[,,,,,,,,,[-1]]],ET:[,[,,"[1-59]\\d{8}",,,,,,,[9],[7]],[,,"(?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:18|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}",,,,"111112345",,,,[7]],[,,"9\\d{8}",,,,"911234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ET",251,"00","0",,,"0",,,,[[,"([1-59]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FI:[,[,,"1\\d{4,11}|[2-9]\\d{4,10}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"1(?:[3569][1-8]\\d{3,9}|[47]\\d{5,10})|2[1-8]\\d{3,9}|3(?:[1-8]\\d{3,9}|9\\d{4,8})|[5689][1-8]\\d{3,9}",,,,"1312345678"],[,,"4(?:[0-8]\\d{4,9}|9\\d{3,8})|50\\d{4,8}",,,,"412345678",,,[6,7,8,9,10,11]],[,,"800\\d{4,7}",,,,"8001234567",,,[7,8,9,10]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FI",358,"00|99(?:[02469]|5(?:11|33|5[59]|88|9[09]))","0",,,"0",,"00",,[[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[6-8])0"],"0$1"],[,"(75\\d{3})","$1",["75[12]"],"0$1"],[,"(116\\d{3})","$1",["116"],"$1"],[,"(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],[,"(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})",,,,"100123",,,[5,6,7,8,9,10]],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})",,,,"10112345",,,[5,6,7,8,9,10]],,,[,,,,,,,,,[-1]]],FJ:[,[,,"[2-9]\\d{6}|0\\d{10}",,,,,,,[7,11]],[,,"(?:3[0-5]\\d|6(?:03|[25-7]\\d)|8[58]\\d)\\d{4}",,,,"3212345",,,[7]],[,,"(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",,,,"7012345",,,[7]],[,,"0800\\d{7}",,,,"08001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FK:[,[,,"[2-7]\\d{4}",,,,,,,[5]],[,,"[2-47]\\d{4}",,,,"31234"],[,,"[56]\\d{4}",,,,"51234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FK",500,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FM:[,[,,"[39]\\d{6}",,,,,,,[7]],[,,"3[2357]0[1-9]\\d{3}|9[2-6]\\d{5}",,,,"3201234"],[,,"3[2357]0[1-9]\\d{3}|9[2-7]\\d{5}",,,,"3501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FO:[,[,,"[2-9]\\d{5}",,,,,,,[6]],[,,"(?:20|[3-4]\\d|8[19])\\d{4}",,,,"201234"],[,,"(?:[27][1-9]|5\\d)\\d{4}",,,,"211234"],[,,"80[257-9]\\d{3}",,,,"802123"],[,,"90(?:[1345][15-7]|2[125-7]|99)\\d{2}",,,,"901123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:6[0-36]|88)\\d{4}",,,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",,,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FR:[,[,,"[1-9]\\d{8}",,,,,,,[9]],[,,"[1-5]\\d{8}",,,,"123456789"],[,,"(?:6\\d|7[3-9])\\d{7}",,,,"612345678"],[,,"80[0-5]\\d{6}",,,,"801234567"],[,,"89[1-37-9]\\d{6}",,,,"891123456"],[,,"8(?:1[0-29]|2[0156]|84|90)\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,"9\\d{8}",,,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"],[,"(1\\d{2})(\\d{3})","$1 $2",["11"],"$1"],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"]],[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"80[6-9]\\d{6}",,,,"806123456"],,,[,,,,,,,,,[-1]]],GA:[,[,,"0?\\d{7}",,,,,,,[7,8]],[,,"01\\d{6}",,,,"01441234",,,[8]],[,,"0?[2-7]\\d{6}",,,,"06031234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GA",241,"00",,,,,,,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GB:[,[,,"\\d{7,10}",,,,,,,[7,9,10],[4,5,6,8]],[,,"2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{7}|1(?:1(?:3[0-48]|[46][0-4]|5[0-26-9]|[78][0-49])|21[0-7]|31[0-8]|[4-69]1\\d)\\d{6}|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)|3(?:0\\d|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[28][02-57-9]|[37]\\d|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6\\d|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|8\\d|9[2-57]))\\d{6}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6\\d)|276\\d|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[567]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}|176888[2-46-8]\\d{2}|16977[23]\\d{3}",,,,"1212345678",,,[9,10],[4,5,6,7,8]],[,,"7(?:[1-3]\\d{3}|4(?:[0-46-9]\\d{2}|5(?:[0-689]\\d|7[0-57-9]))|5(?:0[0-8]|[13-9]\\d|2[0-35-9])\\d|7(?:0(?:0[01]|[1-9]\\d)|[1-7]\\d{2}|8[02-9]\\d|9[0-689]\\d)|8(?:[014-9]\\d|[23][0-8])\\d|9(?:[024-9]\\d{2}|1(?:[02-9]\\d|1[028])|3[0-689]\\d))\\d{5}",,,,"7400123456",,,[10]],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})",,,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[2349]))\\d{7}",,,,"9012345678",,,[10]],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})",,,,"8431234567",,,[7,10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GB",44,"00","0"," x",,"0",,,,[[,"(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7[06]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"],"0$1"],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],[,"(1\\d{3})(\\d{5,6})","$1 $2",["1"],"0$1"],[,"(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],[,"(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"],"0$1"],[,"(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"],"0$1"],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1"],[,"(800)(\\d{6})","$1 $2",["800"],"0$1"]],,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456",,,[10]],1,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GD:[,[,,"[4589]\\d{9}",,,,,,,[10],[7]],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}",,,,"4732691234",,,,[7]],[,,"473(?:4(?:0[2-79]|1[04-9]|2[0-5]|58)|5(?:2[01]|3[3-8])|901)\\d{4}",,,,"4734031234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GD",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"473",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GE:[,[,,"[34578]\\d{8}",,,,,,,[9],[6]],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}",,,,"322123456",,,,[6]],[,,"5(?:[14]4|5[0157-9]|68|7[0147-9]|9[0-35-9])\\d{6}",,,,"555123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"706\\d{6}",,,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5"]]],,[,,,,,,,,,[-1]],,,[,,"706\\d{6}",,,,"706123456"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GF:[,[,,"[56]\\d{8}",,,,,,,[9]],[,,"594(?:[023]\\d|1[01]|4[03-9]|5[6-9]|6[0-3]|80|9[014])\\d{4}",,,,"594101234"],[,,"694(?:[0-249]\\d|3[0-48])\\d{4}",,,,"694201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GG:[,[,,"[135789]\\d{6,9}",,,,,,,[7,9,10],[6]],[,,"1481[25-9]\\d{5}",,,,"1481256789",,,[10],[6]],[,,"7(?:781\\d|839\\d|911[17])\\d{5}",,,,"7781123456",,,[10]],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})",,,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[0-3]))\\d{7}",,,,"9012345678",,,[10]],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})",,,,"8431234567",,,[7,10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GG",44,"00","0",,,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456",,,[10]],,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GH:[,[,,"[235]\\d{8}|8\\d{7}",,,,,,,[8,9],[7]],[,,"3(?:0(?:[237]\\d|80)|[167](?:2[0-6]|7\\d|80)|2(?:2[0-5]|7\\d|80)|3(?:2[0-3]|7\\d|80)|4(?:2[013-9]|3[01]|7\\d|80)|5(?:2[0-7]|7\\d|80)|8(?:2[0-2]|7\\d|80)|9(?:[28]0|7\\d))\\d{5}",,,,"302345678",,,[9],[7]],[,,"(?:2[034678]\\d|5(?:[0457]\\d|6[01]))\\d{6}",,,,"231234567",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GH",233,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"800\\d{5}",,,,"80012345",,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GI:[,[,,"[256]\\d{7}",,,,,,,[8]],[,,"2(?:00\\d{2}|1(?:6[24-7]\\d|90[0-2])|2(?:2[2457]\\d|50[0-2]))\\d{3}",,,,"20012345"],[,,"(?:5[46-8]|62)\\d{6}",,,,"57123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GL:[,[,,"[1-689]\\d{5}",,,,,,,[6]],[,,"(?:19|3[1-7]|6[14689]|8[14-79]|9\\d)\\d{4}",,,,"321000"],[,,"(?:[25][1-9]|4[2-9])\\d{4}",,,,"221234"],[,,"80\\d{4}",,,,"801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[89]\\d{4}",,,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GM:[,[,,"[2-9]\\d{6}",,,,,,,[7]],[,,"(?:4(?:[23]\\d{2}|4(?:1[024679]|[6-9]\\d))|5(?:54[0-7]|6(?:[67]\\d)|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}",,,,"5661234"],[,,"[23679]\\d{6}",,,,"3012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GN:[,[,,"[367]\\d{7,8}",,,,,,,[8,9]],[,,"30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])\\d{4}",,,,"30241234",,,[8]],[,,"6[02356]\\d{7}",,,,"601123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"722\\d{6}",,,,"722123456",,,[9]],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GP:[,[,,"[56]\\d{8}",,,,,,,[9]],[,,"590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}",,,,"590201234"],[,,"69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GP",590,"00","0",,,"0",,,,[[,"([56]\\d{2})(\\d{2})(\\d{4})","$1 $2-$3",["590|69[01]"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GQ:[,[,,"[23589]\\d{8}",,,,,,,[9]],[,,"3(?:3(?:3\\d[7-9]|[0-24-9]\\d[46])|5\\d{2}[7-9])\\d{4}",,,,"333091234"],[,,"(?:222|55[15])\\d{6}",,,,"222123456"],[,,"80\\d[1-9]\\d{5}",,,,"800123456"],[,,"90\\d[1-9]\\d{5}",,,,"900123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GR:[,[,,"[26-9]\\d{9}",,,,,,,[10]],[,,"2(?:1\\d{2}|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}",,,,"2123456789"],[,,"6(?:8[57-9]|9\\d)\\d{7}",,,,"6912345678"],[,,"800\\d{7}",,,,"8001234567"],[,,"90[19]\\d{7}",,,,"9091234567"],[,,"8(?:0[16]|12|25)\\d{7}",,,,"8011234567"],[,,"70\\d{8}",,,,"7012345678"],[,,,,,,,,,[-1]],"GR",30,"00",,,,,,,,[[,"([27]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2[2-9]1|[689]"]],[,"(2\\d{3})(\\d{6})","$1 $2",["2[2-9][02-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GT:[,[,,"[2-7]\\d{7}|1[89]\\d{9}",,,,,,,[8,11]],[,,"[267][2-9]\\d{6}",,,,"22456789",,,[8]],[,,"[345]\\d{7}",,,,"51234567",,,[8]],[,,"18[01]\\d{8}",,,,"18001112222",,,[11]],[,,"19\\d{9}",,,,"19001112222",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GU:[,[,,"[5689]\\d{9}",,,,,,,[10],[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GU",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"671",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GW:[,[,,"(?:4(?:0\\d{5}|4\\d{7})|9\\d{8})",,,,,,,[7,9]],[,,"443\\d{6}",,,,"443201234",,,[9]],[,,"9(?:5\\d|6[569]|77)\\d{6}",,,,"955012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"40\\d{5}",,,,"4012345",,,[7]],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["44|9[5-7]"]],[,"(\\d{3})(\\d{4})","$1 $2",["40"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GY:[,[,,"[2-46-9]\\d{6}",,,,,,,[7]],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}",,,,"2201234"],[,,"6\\d{6}",,,,"6091234"],[,,"(?:289|862)\\d{4}",,,,"2891234"],[,,"9008\\d{3}",,,,"9008123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HK:[,[,,"[2-7]\\d{7}|8[0-3]\\d{6,7}|9\\d{4,10}",,,,,,,[5,6,7,8,9,11]],[,,"(?:2(?:[13-8]\\d|2[013-9]|9[0-24-9])\\d|3(?:[1569][0-24-9]\\d|4[0-246-9]\\d|7[0-24-69]\\d|8(?:40|9\\d))|58(?:0[1-8]|1[2-9]))\\d{4}",,,,"21234567",,,[8]],[,,"(?:46(?:0[0-6]|4[07-9])|5(?:[1-59][0-46-9]\\d|6[0-4689]\\d|7(?:[0-2469]\\d|30))|6(?:0[1-9]\\d|[1459]\\d{2}|2(?:[0-57-9]\\d|6[01])|[368][0-57-9]\\d|7[0-79]\\d)|9(?:0[1-9]\\d|1[02-9]\\d|2(?:[0-8]\\d|9[03-9])|[358][0-8]\\d|[467]\\d{2}))\\d{4}",,,,"51234567",,,[8]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})",,,,"90012345678",,,[5,6,7,8,11]],[,,,,,,,,,[-1]],[,,"8(?:1[0-4679]|2[0-367]|3[02-47])\\d{5}",,,,"81123456",,,[8]],[,,,,,,,,,[-1]],"HK",852,"00(?:[126-9]|30|5[09])?",,,,,,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]|[89](?:0[1-9]|[1-9])"]],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"]],[,"(900)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["900"]],[,"(900)(\\d{2,5})","$1 $2",["900"]]],,[,,"7(?:1[0-369]|[23][0-37-9]|47|5[1578]|6[0235]|7[278]|8[236-9]|9[025-9])\\d{5}",,,,"71234567",,,[8]],,,[,,,,,,,,,[-1]],[,,"30(?:0[1-9]|[15-7]\\d|2[047]|89)\\d{4}",,,,"30161234",,,[8]],,,[,,,,,,,,,[-1]]],HN:[,[,,"[237-9]\\d{7}",,,,,,,[8]],[,,"2(?:2(?:0[019]|1[1-36]|[23]\\d|4[04-6]|5[57]|7[013689]|8[0146-9]|9[012])|4(?:07|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:16|4[03-5]|5\\d|6[4-6]|74)|6(?:[056]\\d|17|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034])|8(?:79|8[0-35789]|9[1-57-9]))\\d{4}",,,,"22123456"],[,,"[37-9]\\d{7}",,,,"91234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HR:[,[,,"[1-7]\\d{5,8}|[89]\\d{6,8}",,,,,,,[6,7,8,9]],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"9(?:01\\d|[1259]\\d{2}|7(?:[0679]\\d|51)|8\\d{1,2})\\d{5}",,,,"921234567",,,[8,9]],[,,"80[01]\\d{4,6}",,,,"800123456",,,[7,8,9]],[,,"6(?:[01]\\d{0,2}|[459]\\d{2})\\d{4}",,,,"611234",,,[6,7,8]],[,,,,,,,,,[-1]],[,,"7[45]\\d{6}",,,,"74123456",,,[8]],[,,,,,,,,,[-1]],"HR",385,"00","0",,,"0",,,,[[,"(1)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],[,"([2-5]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],[,"(9\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],[,"(6[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],[,"([67]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],[,"(80[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["80[01]"],"0$1"],[,"(80[01])(\\d{3})(\\d{3})","$1 $2 $3",["80[01]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:62\\d?|72)\\d{6}",,,,"62123456",,,[8,9]],,,[,,,,,,,,,[-1]]],HT:[,[,,"[2-489]\\d{7}",,,,,,,[8]],[,,"2(?:2\\d|5[1-5]|81|9[149])\\d{5}",,,,"22453300"],[,,"[34]\\d{7}",,,,"34101234"],[,,"8\\d{7}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:9(?:[67][0-4]|8[0-3589]|9\\d))\\d{5}",,,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HU:[,[,,"[1-9]\\d{7,8}",,,,,,,[8,9],[6]],[,,"(?:1\\d|2[2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|7[2-9]|8[2-57-9]|9[2-69])\\d{6}",,,,"12345678",,,[8],[6]],[,,"(?:[257]0|3[01])\\d{7}",,,,"201234567",,,[9]],[,,"[48]0\\d{6}",,,,"80123456",,,[8]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"21\\d{7}",,,,"211234567",,,[9]],"HU",36,"00","06",,,"06",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"($1)"]],,[,,,,,,,,,[-1]],,,[,,"[48]0\\d{6}",,,,"80123456",,,[8]],[,,"38\\d{7}",,,,"381234567",,,[9]],,,[,,,,,,,,,[-1]]],ID:[,[,,"(?:[1-79]\\d{6,10}|8\\d{7,11})",,,,,,,[7,8,9,10,11,12],[5,6]],[,,"2(?:1(?:14\\d{3}|500\\d{3}|\\d{7,8})|2\\d{6,8}|4\\d{7,8})|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}",,,,"612345678",,,[7,8,9,10,11],[5,6]],[,,"(?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359])|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))\\d{5,6}|8[1-35-9]\\d{7,10}",,,,"812345678",,,[9,10,11,12]],[,,"177\\d{6,8}|800\\d{5,7}",,,,"8001234567",,,[8,9,10,11]],[,,"809\\d{7}",,,,"8091234567",,,[10]],[,,"804\\d{7}",,,,"8041234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ID",62,"0(?:0[1789]|10(?:00|1[67]))","0",,,"0",,,,[[,"(\\d{2})(\\d{5,8})","$1 $2",["2[124]|[36]1"],"(0$1)"],[,"(\\d{3})(\\d{5,8})","$1 $2",["2[035-9]|[36][02-9]|[4579]"],"(0$1)"],[,"(8\\d{2})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(8\\d{2})(\\d{4})(\\d{4,5})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(1)(500)(\\d{3})","$1 $2 $3",["150","1500"],"$1"],[,"(177)(\\d{6,8})","$1 $2",["177"],"0$1"],[,"(800)(\\d{5,7})","$1 $2",["800"],"0$1"],[,"(804)(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],[,"(80\\d)(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80[79]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"8071\\d{6}",,,,"8071123456",,,[10]],[,,"1500\\d{3}|8071\\d{6}",,,,"8071123456",,,[7,10]],,,[,,,,,,,,,[-1]]],IE:[,[,,"[124-9]\\d{6,9}",,,,,,,[7,8,9,10],[5,6]],[,,"1\\d{7,8}|2(?:1\\d{6,7}|3\\d{7}|[24-9]\\d{5})|4(?:0[24]\\d{5}|[1-469]\\d{7}|5\\d{6}|7\\d{5}|8[0-46-9]\\d{7})|5(?:0[45]\\d{5}|1\\d{6}|[23679]\\d{7}|8\\d{5})|6(?:1\\d{6}|[237-9]\\d{5}|[4-6]\\d{7})|7[14]\\d{7}|9(?:1\\d{6}|[04]\\d{7}|[35-9]\\d{5})",,,,"2212345",,,,[5,6]],[,,"8(?:22\\d{6}|[35-9]\\d{7})",,,,"850123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}",,,,"1520123456",,,[10]],[,,"18[59]0\\d{6}",,,,"1850123456",,,[10]],[,,"700\\d{6}",,,,"700123456",,,[9]],[,,"76\\d{7}",,,,"761234567",,,[9]],"IE",353,"00","0",,,"0",,,,[[,"(1)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],[,"(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["40[24]|50[45]"],"(0$1)"],[,"(48)(\\d{4})(\\d{4})","$1 $2 $3",["48"],"(0$1)"],[,"(818)(\\d{3})(\\d{3})","$1 $2 $3",["818"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[24-69]|7[14]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["76|8[35-9]"],"0$1"],[,"(8\\d)(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8[35-9]5"],"0$1"],[,"(700)(\\d{3})(\\d{3})","$1 $2 $3",["700"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:5|8[059])","1(?:5|8[059]0)"],"$1"]],,[,,,,,,,,,[-1]],,,[,,"18[59]0\\d{6}",,,,"1850123456",,,[10]],[,,"818\\d{6}",,,,"818123456",,,[9]],,,[,,"8[35-9]5\\d{7}",,,,"8551234567",,,[10]]],IL:[,[,,"1\\d{6,11}|[2-589]\\d{3}(?:\\d{3,6})?|6\\d{3}|7\\d{6,9}",,,,,,,[4,7,8,9,10,11,12]],[,,"(?:153\\d{1,2}|[2-489])\\d{7}",,,,"21234567",,,[8,11,12],[7]],[,,"5(?:[0-47-9]\\d{2}|5(?:01|2[23]|3[2-4]|4[45]|5[5689]|6[6-8]|7[0178]|8[6-9]|9[2-9])|6[2-9]\\d)\\d{5}",,,,"501234567",,,[9]],[,,"1(?:80[019]\\d{3}|255)\\d{3}",,,,"1800123456",,,[7,10]],[,,"1(?:212|(?:9(?:0[01]|19)|200)\\d{2})\\d{4}",,,,"1919123456",,,[8,9,10]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,"7(?:18\\d|2[23]\\d|3[237]\\d|47\\d|6[58]\\d|7\\d{2}|8(?:2\\d|33|55|77|81)|9[2579]\\d)\\d{5}",,,,"771234567",,,[9]],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"([2-489])(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],[,"([57]\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],[,"(153)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["153"]],[,"(1)([7-9]\\d{2})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],[,"(1255)(\\d{3})","$1-$2",["125","1255"]],[,"(1200)(\\d{3})(\\d{3})","$1-$2-$3",["120","1200"]],[,"(1212)(\\d{2})(\\d{2})","$1-$2-$3",["121","1212"]],[,"(1599)(\\d{6})","$1-$2",["159","1599"]],[,"(151)(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["151"]],[,"(\\d{4})","*$1",["[2-689]"]]],,[,,,,,,,,,[-1]],,,[,,"1700\\d{6}|[2-689]\\d{3}",,,,"1700123456",,,[4,10]],[,,"[2-689]\\d{3}|1599\\d{6}",,,,"1599123456",,,[4,10]],,,[,,"151\\d{8,9}",,,,"15112340000",,,[11,12]]],IM:[,[,,"[135789]\\d{6,9}",,,,,,,[10],[6]],[,,"1624[5-8]\\d{5}",,,,"1624756789",,,,[6]],[,,"7(?:4576|[59]24\\d|624[0-4689])\\d{5}",,,,"7924123456"],[,,"808162\\d{4}",,,,"8081624567"],[,,"(?:872299|90[0167]624)\\d{4}",,,,"9016247890"],[,,"8(?:4(?:40[49]06|5624\\d)|70624\\d)\\d{3}",,,,"8456247890"],[,,"70\\d{8}",,,,"7012345678"],[,,"56\\d{8}",,,,"5612345678"],"IM",44,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"3(?:08162\\d|3\\d{5}|4(?:40[49]06|5624\\d)|7(?:0624\\d|2299\\d))\\d{3}|55\\d{8}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],IN:[,[,,"008\\d{9}|1\\d{7,12}|[2-9]\\d{9,10}",,,,,,,[8,9,10,11,12,13],[6,7]],[,,"(?:11|2[02]|33|4[04]|79|80)[2-7]\\d{7}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-46-8])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9\\d)\\d|8(?:2[0-6]|[013-8]\\d)))[2-7]\\d{5}",,,,"1123456789",,,[10],[6,7,8]],[,,"(?:6(?:00[0-35]\\d|1279|2(?:0[0-3]|39|6[02]|8[0-2]|9[045])\\d|3(?:0[01]\\d|5(?:0[0-6]|[1-3]\\d)|60\\d|7[05]\\d|8[01]\\d|9[023-6]\\d)|900\\d)|7(?:0\\d{3}|19[0-5]\\d|2(?:[0235679]\\d{2}|[14][017-9]\\d|8(?:[0-59]\\d|[678][089]))|3(?:[05-8]\\d{2}|1(?:[089]\\d|11|7[5-8])|2(?:[0-49][089]|[5-8]\\d)|3[017-9]\\d|4(?:[07-9]\\d|11)|9(?:[016-9]\\d|[2-5][089]))|4(?:0\\d{2}|1(?:[015-9]\\d|[23][089]|4[089])|2(?:0[089]|[1-7][089]|[89]\\d)|3(?:[0-8][089]|9\\d)|4(?:[089]\\d|11|7[02-8])|[56]\\d[089]|7(?:[089]\\d|11|7[02-8])|8(?:[0-24-7][089]|[389]\\d)|9(?:[0-6][089]|7[089]|[89]\\d))|5(?:[0346-8]\\d{2}|1(?:[07-9]\\d|11)|2(?:[04-9]\\d|[123][089])|5[017-9]\\d|9(?:[0-6][089]|[7-9]\\d))|6(?:0(?:[0-47]\\d|[5689][089])|(?:1[0-257-9]|[6-9]\\d)\\d|2(?:[0-4]\\d|[5-9][089])|3(?:[02-8][089]|[19]\\d)|4\\d[089]|5(?:[0-367][089]|[4589]\\d))|7(?:0(?:0[02-9]|[13-7][089]|[289]\\d)|[1-9]\\d{2})|8(?:[0-79]\\d{2}|8(?:[089]\\d|11|7[02-9]))|9(?:[089]\\d{2}|313|7(?:[02-8]\\d|9[07-9])))|8(?:0(?:[01589]\\d{2}|6[67]\\d|7(?:[02-8]\\d|9[04-9]))|1(?:[02-57-9]\\d{2}|1(?:[0-35-9]\\d|4[0-46-9])|6(?:[089]\\d|7[02-8]))|2(?:0(?:[089]\\d|7[02-8])|[14](?:[089]\\d|7[02-8])|[235-9]\\d{2})|3(?:[0357-9]\\d{2}|1(?:[089]\\d|7[02-7])|2(?:[09]\\d|7[02-8]|8[0-689])|4\\d{2}|6(?:[089]\\d|7[02-7]))|[45]\\d{3}|6(?:[02457-9]\\d{2}|1(?:[089]\\d|7[02-8])|3(?:[089]\\d|7[02-8])|6(?:[08]\\d|7[02-8]|9\\d))|7(?:0[07-9]\\d|[1-69]\\d{2}|[78](?:[089]\\d|7[02-8]))|8(?:[0-25-9]\\d{2}|3(?:[089]\\d|7[02-8])|4(?:[0489]\\d|7[02-8]))|9(?:[02-9]\\d{2}|1(?:[0289]\\d|7[02-8])))|9\\d{4})\\d{5}",,,,"8123456789",,,[10]],[,,"00800\\d{7}|1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))",,,,"1800123456"],[,,"186[12]\\d{9}",,,,"1861123456789",,,[13]],[,,"1860\\d{7}",,,,"18603451234",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IN",91,"00","0",,,"0",,,,[[,"(\\d{8})","$1",["561","5616","56161"],"$1",,1],[,"(\\d{5})(\\d{5})","$1 $2",["6(?:[09]0|12|2[03689]|3[05-9])|7(?:[02-8]|19|9[037-9])|8(?:0[015-9]|[1-9])|9","6(?:[09]0|127|2(?:0[013]|39|6[02]|8[0-2]|9[04])|3(?:0[01]|5[0-3]|60|7[05]|81|9[02-6]))|7(?:[07]|19[0-5]|2(?:[0235-9]|[14][017-9])|3(?:[025-9]|[134][017-9])|4(?:[0-35689]|[47][017-9])|5(?:[02-46-9]|[15][017-9])|6(?:[02-9]|1[0-257-9])|8(?:[0-79]|8[0189])|9(?:[089]|31|7[02-9]))|8(?:0(?:[01589]|6[67]|7[02-9])|1(?:[0-57-9]|6[07-9])|2(?:[014][07-9]|[235-9])|3(?:[03-57-9]|[126][07-9])|[45]|6(?:[02457-9]|[136][07-9])|7(?:[078][07-9]|[1-69])|8(?:[0-25-9]|3[07-9]|4[047-9])|9(?:[02-9]|1[027-9]))|9","6(?:[09]0|1279|2(?:0[013]|39|6[02]|8[0-2]|9[04])|3(?:0[01]|5[0-3]|60|7[05]|81|9[02-6]))|7(?:0|19[0-5]|2(?:[0235-79]|[14][017-9]|8(?:[0-69]|[78][089]))|3(?:[05-8]|1(?:[0189]|7[5-9])|2(?:[0-49][089]|[5-8])|3[017-9]|4(?:[07-9]|11)|9(?:[01689]|[2-5][089]|7[0189]))|4(?:[056]|1(?:[0135-9]|[24][089])|[29](?:[0-7][089]|[89])|3(?:[0-8][089]|9)|[47](?:[089]|11|7[02-8])|8(?:[0-24-7][089]|[389]))|5(?:[0346-9]|[15][017-9]|2(?:[03-9]|[12][089]))|6(?:[0346-9]|1[0-257-9]|2(?:[0-4]|[5-9][089])|5(?:[0-367][089]|[4589]))|7(?:0(?:[02-9]|1[089])|[1-9])|8(?:[0-79]|8(?:0[0189]|11|8[013-9]|9))|9(?:[089]|313|7(?:[02-8]|9[07-9])))|8(?:0(?:[01589]|6[67]|7(?:[02-8]|9[04-9]))|1(?:[02-57-9]|1(?:[0-35-9]|4[0-46-9])|6(?:[089]|7[02-8]))|2(?:[014](?:[089]|7[02-8])|[235-9])|3(?:[03-57-9]|[16](?:[089]|7[02-7])|2(?:[09]|7[02-8]|8[0-689]))|[45]|6(?:[02457-9]|[136](?:[089]|7[02-8]))|7(?:0[07-9]|[1-69]|[78](?:[089]|7[02-8]))|8(?:[0-25-9]|3(?:[089]|7[02-8])|4(?:[0489]|7[02-8]))|9(?:[02-9]|1(?:[0289]|7[02-8])))|9"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-9]|80[2-46]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[59][14]|[68][1-9]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1|9[15])|6(?:12|[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"],"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"],"0$1",,1],[,"(\\d{2})(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3 $4",["008"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],"$1",,1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["160","1600"],"$1",,1],[,"(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],"$1",,1],[,"(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["180","1800"],"$1",,1],[,"(\\d{4})(\\d{3,4})(\\d{4})","$1 $2 $3",["186","1860"],"$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18[06]"],"$1",,1]],,[,,,,,,,,,[-1]],,,[,,"00800\\d{7}|1(?:600\\d{6}|8(?:0(?:0\\d{4,9}|3\\d{9})|6(?:0\\d{7}|[12]\\d{9})))",,,,"1800123456"],[,,"140\\d{7}",,,,"1409305260",,,[10]],,,[,,,,,,,,,[-1]]],IO:[,[,,"3\\d{6}",,,,,,,[7]],[,,"37\\d{5}",,,,"3709100"],[,,"38\\d{5}",,,,"3801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IQ:[,[,,"[1-7]\\d{7,9}",,,,,,,[8,9,10],[6,7]],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"7[3-9]\\d{8}",,,,"7912345678",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IQ",964,"00","0",,,"0",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"([2-6]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IR:[,[,,"[1-8]\\d{5,9}|9(?:[0-4]\\d{8}|9\\d{8})",,,,,,,[6,7,10],[4,5,8]],[,,"(?:(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:\\d{8}|(?:[16]|[289]\\d?)\\d{3}))|94(?:000|11[0-7]|2\\d{2}|30[01]|440)\\d{5}",,,,"2123456789",,,,[4,5,8]],[,,"9(?:0(?:[1-35]\\d{2}|44\\d)|[13]\\d{3}|2[0-2]\\d{2}|9(?:[01]\\d{2}|44\\d|810|9(?:0[013]|1[134]|21|9[89])))\\d{5}",,,,"9123456789",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:[2-6]0\\d|993)\\d{7}",,,,"9932123456",,,[10]],"IR",98,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"],[,"(\\d{2})(\\d{4,5})","$1 $2",["[1-8]"],"0$1"],[,"(\\d{4,5})","$1",["96"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"(?:9411[1-7]|94440)\\d{5}",,,,"9411110000",,,[10]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IS:[,[,,"[4-9]\\d{6}|38\\d{7}",,,,,,,[7,9]],[,,"(?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[0-79]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])\\d{4}",,,,"4101234",,,[7]],[,,"38[589]\\d{6}|(?:6(?:1[1-8]|2[0-6]|3[027-9]|4[014679]|5[0159]|[67][0-69]|8[06-8]|9\\d)|7(?:5[057]|[6-8]\\d)|8(?:2[0-59]|[3469]\\d|5[1-9]|88))\\d{4}",,,,"6111234"],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"90\\d{5}",,,,"9011234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"49\\d{5}",,,,"4921234",,,[7]],"IS",354,"1(?:0(?:01|10|20)|100)|00",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],[,"(3\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"809\\d{4}",,,,"8091234",,,[7]],,,[,,"(?:6(?:2[78]|8[1-59])|8(?:7[0189]|80)|95[48])\\d{4}",,,,"6271234",,,[7]]],IT:[,[,,"[01589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9})",,,,,,,[6,7,8,9,10,11]],[,,"0(?:[26]\\d{4,9}|(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7})",,,,"0212345678"],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})",,,,"3123456789",,,[9,10,11]],[,,"80(?:0\\d{6}|3\\d{3})",,,,"800123456",,,[6,9]],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{6}|[17]\\d{3})",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"IT",39,"00",,,,,,,,[[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"]],[,"(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],[,"(0[26])(\\d{4,6})","$1 $2",["0[26]"]],[,"(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],[,"(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"]],[,"(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],[,"(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"]]],,[,,,,,,,,,[-1]],1,,[,,"848\\d{6}",,,,"848123456",,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JE:[,[,,"[135789]\\d{6,9}",,,,,,,[10],[6]],[,,"1534[0-24-8]\\d{5}",,,,"1534456789",,,,[6]],[,,"7(?:509\\d|7(?:00[378]|97[7-9])|829\\d|937\\d)\\d{5}",,,,"7797712345"],[,,"80(?:07(?:35|81)|8901)\\d{4}",,,,"8007354567"],[,,"(?:871206|90(?:066[59]|1810|71(?:07|55)))\\d{4}",,,,"9018105678"],[,,"8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|70002)\\d{4}",,,,"8447034567"],[,,"701511\\d{4}",,,,"7015115678"],[,,"56\\d{8}",,,,"5612345678"],"JE",44,"00","0",,,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456"],,,[,,,,,,,,,[-1]],[,,"3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))\\d{4}|55\\d{8}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],JM:[,[,,"[589]\\d{9}",,,,,,,[10],[7]],[,,"876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[0237-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468]))\\d{4}",,,,"8765123456",,,,[7]],[,,"876(?:2[14-9]\\d|[348]\\d{2}|5(?:0[3-9]|[2-57-9]\\d|6[0-24-9])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579]))\\d{4}",,,,"8762101234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"JM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"876",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JO:[,[,,"[235-9]\\d{7,8}",,,,,,,[8,9]],[,,"(?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))\\d{4}",,,,"62001234",,,[8]],[,,"7(?:55[0-49]|7[025-9]\\d|8[0-25-9]\\d|9[0-25-9]\\d)\\d{5}",,,,"790123456",,,[9]],[,,"80\\d{6}",,,,"80012345",,,[8]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,"85\\d{6}",,,,"85012345",,,[8]],[,,"70\\d{7}",,,,"700123456",,,[9]],[,,,,,,,,,[-1]],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],[,"(7)(\\d{4})(\\d{4})","$1 $2 $3",["7[457-9]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["8[0158]|9"],"0$1"]],,[,,"74(?:66|77)\\d{5}",,,,"746612345",,,[9]],,,[,,,,,,,,,[-1]],[,,"8(?:10|8\\d)\\d{5}",,,,"88101234",,,[8]],,,[,,,,,,,,,[-1]]],JP:[,[,,"[1-9]\\d{8,9}|00(?:[36]\\d{7,14}|7\\d{5,7}|8\\d{7})",,,,,,,[8,9,10,11,12,13,14,15,16,17]],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9]\\d|[36][1-9]\\d|4(?:6[02-8]|[2-578]\\d|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589]\\d)|7(?:3[4-9]|4[02-9]|[25-9]\\d)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679]\\d)|9(?:[679][1-9]|[2-58]\\d))\\d{6}",,,,"312345678",,,[9]],[,,"[7-9]0[1-9]\\d{7}",,,,"9012345678",,,[10]],[,,"120\\d{6}|800\\d{7}|00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})",,,,"120123456"],[,,"990\\d{6}",,,,"990123456",,,[9]],[,,,,,,,,,[-1]],[,,"60\\d{7}",,,,"601234567",,,[9]],[,,"50[1-9]\\d{7}",,,,"5012345678",,,[10]],"JP",81,"010","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{4})(\\d{4})","$1-$2",["007","0077"],"$1"],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["007","0077"],"$1"],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["008","0088"],"$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:[3-6][2-9]|7[2-6]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6[56]))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6(?:5[25]|60)))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93(?:31|4))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82|993"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1"]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:[3-6][2-9]|7[2-6]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6[56]))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6(?:5[25]|60)))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93(?:31|4))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82|993"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1"]],[,,"20\\d{8}",,,,"2012345678",,,[10]],,,[,,"00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})",,,,"00777012"],[,,"570\\d{6}",,,,"570123456",,,[9]],,,[,,,,,,,,,[-1]]],KE:[,[,,"20\\d{6,7}|[4-9]\\d{6,9}",,,,,,,[7,8,9,10]],[,,"20\\d{6,7}|4(?:0\\d{6,7}|[136]\\d{7}|[245]\\d{5,7})|5(?:[08]\\d{7}|[1-79]\\d{5,7})|6(?:[01457-9]\\d{5,7}|2\\d{7}|6\\d{6,7})",,,,"202012345",,,[7,8,9]],[,,"7(?:[0-3679]\\d|4[0-46-9]|5[0-6]|8[0-25-9])\\d{6}",,,,"712123456",,,[9]],[,,"800[24-8]\\d{5,6}",,,,"800223456",,,[9,10]],[,,"900[02-9]\\d{5}",,,,"900223456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KE",254,"000","0",,,"005|0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KG:[,[,,"[235-8]\\d{8,9}",,,,,,,[9,10],[5,6]],[,,"(?:3(?:1(?:[256]\\d|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}",,,,"312123456",,,[9],[5,6]],[,,"(?:20[0-35]|5[0-24-7]\\d|7[07]\\d)\\d{6}",,,,"700123456",,,[9]],[,,"800\\d{6,7}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KG",996,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[25-7]|31[25]"],"0$1"],[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[36]|[2-9])"],"0$1"],[,"(\\d{3})(\\d{3})(\\d)(\\d{3})","$1 $2 $3 $4",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KH:[,[,,"[1-9]\\d{7,9}",,,,,,,[8,9,10],[6,7]],[,,"(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5\\d|6\\d?)\\d{5}|23(?:4[234]|8\\d{2})\\d{4}",,,,"23756789",,,[8,9],[6,7]],[,,"(?:1(?:[013-79]\\d|[28]\\d{1,2})|2[3-6]48|3(?:[18]\\d{2}|[2-6]48)|4[2-4]48|5[2-5]48|6(?:[016-9]\\d|[2-5]48)|7(?:[07-9]\\d|[16]\\d{2}|[2-5]48)|8(?:[013-79]\\d|8\\d{2})|9(?:6\\d{2}|7\\d{1,2}|[0-589]\\d))\\d{5}",,,,"91234567",,,[8,9]],[,,"1800(?:1\\d|2[019])\\d{4}",,,,"1800123456",,,[10]],[,,"1900(?:1\\d|2[09])\\d{4}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["1\\d[1-9]|[2-9]"],"0$1"],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0","1[89]00"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KI:[,[,,"[2458]\\d{4}|3\\d{4,7}|[67]\\d{7}",,,,,,,[5,8]],[,,"(?:[24]\\d|3[1-9]|50|8[0-5])\\d{3}|(?:65(?:02[12]|12[56]|22[89]|[3-5]00)|7(?:27\\d{2}|3100|5(?:02[12]|12[56]|22[89]|[34](?:00|81)|500)))\\d{3}",,,,"31234"],[,,"(?:6(?:200[01]|30[01]\\d)|7(?:200[01]|3(?:0[0-5]\\d|140)))\\d{3}",,,,"72001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"30(?:0[01]\\d{2}|12(?:11|20))\\d{2}",,,,"30010000",,,[8]],"KI",686,"00",,,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KM:[,[,,"[3478]\\d{6}",,,,,,,[7]],[,,"7[4-7]\\d{5}",,,,"7712345"],[,,"[34]\\d{6}",,,,"3212345"],[,,,,,,,,,[-1]],[,,"8\\d{6}",,,,"8001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KN:[,[,,"[589]\\d{9}",,,,,,,[10],[7]],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70))\\d{4}",,,,"8692361234",,,,[7]],[,,"869(?:5(?:5[6-8]|6[5-7])|66\\d|76[02-7])\\d{4}",,,,"8697652917",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KN",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"869",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KP:[,[,,"1\\d{9}|[28]\\d{7}",,,,,,,[8,10],[6,7]],[,,"2\\d{7}|85\\d{6}",,,,"21234567",,,[8],[6,7]],[,,"19[123]\\d{7}",,,,"1921234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"2(?:[0-24-9]\\d{2}|3(?:[0-79]\\d|8[02-9]))\\d{4}",,,,"23821234",,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KR:[,[,,"00(?:3\\d{8,9}|7\\d{9,11})|[1-7]\\d{4,9}|8\\d{8}",,,,,,,[5,6,8,9,10,11,12,13,14],[3,7]],[,,"2[1-9]\\d{6,7}|(?:3[1-3]|[46][1-4]|5[1-5])(?:1\\d{2,3}|[1-9]\\d{6,7})",,,,"22123456",,,[5,6,8,9,10],[3,7]],[,,"1[0-26-9]\\d{7,8}",,,,"1000000000",,,[9,10]],[,,"(?:00(?:3(?:08|68\\d)|798\\d{1,3})|80\\d)\\d{6}",,,,"801234567",,,[9,11,12,13,14]],[,,"60[2-9]\\d{6}",,,,"602345678",,,[9]],[,,,,,,,,,[-1]],[,,"50\\d{8}",,,,"5012345678",,,[10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"KR",82,"00(?:[1259]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","0",,,"0(8[1-46-8]|85\\d{2})?",,,,[[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[246-9]|6[046-8]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))"],"$1","0$CC-$1"],[,"(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"],"0$1","0$CC-$1"],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60[2-9]|80"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1[0-25-9]|(?:3[1-3]|[46][1-4]|5[1-5])[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]0"],"0$1","0$CC-$1"],[,"(\\d{5})(\\d{3})(\\d{3})","$1 $2 $3",["003","0030","00308"],"$1","0$CC-$1"],[,"(\\d{5})(\\d{3,4})(\\d{4})","$1 $2 $3",["00[37]","00(?:36|79)","00(?:36|79)8"],"$1","0$CC-$1"],[,"(\\d{5})(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["007","0079","00798"],"$1","0$CC-$1"]],[[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[246-9]|6[046-8]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))"],"$1","0$CC-$1"],[,"(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"],"0$1","0$CC-$1"],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60[2-9]|80"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1[0-25-9]|(?:3[1-3]|[46][1-4]|5[1-5])[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]0"],"0$1","0$CC-$1"]],[,,"15\\d{7,8}",,,,"1523456789",,,[9,10]],,,[,,"00(?:3(?:08|68\\d)|798\\d{1,3})\\d{6}",,,,"007981234567",,,[11,12,13,14]],[,,"1(?:5(?:22|44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|33|55|77|99))\\d{4}",,,,"15441234",,,[8]],,,[,,,,,,,,,[-1]]],KW:[,[,,"[12569]\\d{6,7}",,,,,,,[7,8]],[,,"(?:18\\d|2(?:[23]\\d{2}|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7])))\\d{4}",,,,"22345678"],[,,"(?:5(?:[05]\\d{2}|1[0-7]\\d|2(?:22|5[25])|6[56]\\d)|6(?:0[034679]\\d|222|5[015-9]\\d|6\\d{2}|7(?:0[013-9]|[67]\\d)|9(?:[069]\\d|3[039]))|9(?:0[09]\\d|11[01]|22\\d|4[01479]\\d|55\\d|6[0679]\\d|7(?:02|[1-9]\\d)|8[057-9]\\d|9\\d{2}))\\d{4}",,,,"50012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|52[25]|9[0-24-9]"]],[,"(\\d{3})(\\d{5})","$1 $2",["244|5(?:[015]|6[56])"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KY:[,[,,"[3589]\\d{9}",,,,,,,[10],[7]],[,,"345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}",,,,"3452221234",,,,[7]],[,,"345(?:32[1-9]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|9(?:1[67]|2[2-9]|3[689]))\\d{4}",,,,"3453231234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}|345976\\d{4}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KY",1,"011","1",,,"1",,,,,,[,,"345849\\d{4}",,,,"3458491234"],,"345",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KZ:[,[,,"(?:33\\d|7\\d{2}|80[089])\\d{7}",,,,,,,[10]],[,,"33622\\d{5}|7(?:1(?:0(?:[23]\\d|4[0-3]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[0-79]|4[0-35-9]|59)|4(?:[24]\\d|3[013-9]|5[1-9])|5(?:2\\d|3[1-9]|4[0-7]|59)|6(?:[234]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[234]\\d|5[139])|4(?:2\\d|3[1235-9]|59)|5(?:[23]\\d|4[01246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[2379]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59)))\\d{5}",,,,"7123456789"],[,,"7(?:0[012578]|47|6[02-4]|7[15-8]|85)\\d{7}",,,,"7710009998"],[,,"800\\d{7}",,,,"8001234567"],[,,"809\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,"751\\d{7}",,,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,,,,,,,,[-1]],,,[,,"751\\d{7}",,,,"7511234567"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LA:[,[,,"[2-8]\\d{7,9}",,,,,,,[8,9,10],[6]],[,,"(?:2[13]|3(?:0\\d|[14])|[5-7][14]|41|8[1468])\\d{6}",,,,"21212862",,,[8,9],[6]],[,,"20(?:2[2389]|5[24-689]|7[6-8]|9[125-9])\\d{6}",,,,"2023123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LA",856,"00","0",,,"0",,,,[[,"(20)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["20"],"0$1"],[,"([2-8]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],[,"(30)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LB:[,[,,"[13-9]\\d{6,7}",,,,,,,[7,8]],[,,"(?:[14-6]\\d{2}|7(?:[2-57]\\d|62|8[0-7]|9[04-9])|8[02-9]\\d|9\\d{2})\\d{4}",,,,"1123456",,,[7]],[,,"(?:3\\d|7(?:[01]\\d|6[013-9]|8[89]|9[1-3])|81\\d)\\d{5}",,,,"71123456"],[,,,,,,,,,[-1]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,"80\\d{6}",,,,"80123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],[,"([7-9]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7(?:[01]|6[013-9]|8[89]|9[1-3])|[89][01]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LC:[,[,,"[5789]\\d{9}",,,,,,,[10],[7]],[,,"758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)\\d{4}",,,,"7584305678",,,,[7]],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[01]))\\d{4}",,,,"7582845678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"LC",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"758",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LI:[,[,,"6\\d{8}|[23789]\\d{6}",,,,,,,[7,9]],[,,"(?:2(?:01|1[27]|3\\d|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))\\d{4}",,,,"2345678",,,[7]],[,,"6(?:5(?:09|1\\d|20)|6(?:0[0-6]|10|2[06-9]|39))\\d{5}|7(?:[37-9]\\d|42|56)\\d{4}",,,,"660234567"],[,,"80(?:02[28]|9\\d{2})\\d{2}",,,,"8002222",,,[7]],[,,"90(?:02[258]|1(?:23|3[14])|66[136])\\d{2}",,,,"9002222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LI",423,"00","0",,,"0|10(?:01|20|66)",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[237-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[56]"]],[,"(69)(7\\d{2})(\\d{4})","$1 $2 $3",["697"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"870(?:28|87)\\d{2}",,,,"8702812",,,[7]],,,[,,"697(?:42|56|[78]\\d)\\d{4}",,,,"697861234",,,[9]]],LK:[,[,,"[1-9]\\d{8}",,,,,,,[9],[7]],[,,"1(?:1[2-57]\\d{6}|973\\d{5})|(?:2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7]|[89]1)[2-57]\\d{6}",,,,"112345678",,,,[7]],[,,"7[0125-8]\\d{7}",,,,"712345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LK",94,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LR:[,[,,"2\\d{7,8}|[378]\\d{8}|4\\d{6}|5\\d{6,8}",,,,,,,[7,8,9]],[,,"(?:2\\d{3}|33333)\\d{4}",,,,"21234567",,,[8,9]],[,,"(?:20\\d{2}|330\\d|4[67]|5(?:55)?\\d|77\\d{2}|88\\d{2})\\d{5}",,,,"770123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"332(?:02|[2-5]\\d)\\d{4}",,,,"332021234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LR",231,"00","0",,,"0",,,,[[,"(2\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"([4-5])(\\d{3})(\\d{3})","$1 $2 $3",["[45]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23578]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LS:[,[,,"[2568]\\d{7}",,,,,,,[8]],[,,"2\\d{7}",,,,"22123456"],[,,"[56]\\d{7}",,,,"50123456"],[,,"800[256]\\d{4}",,,,"80021234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LT:[,[,,"[3-9]\\d{7}",,,,,,,[8]],[,,"(?:3[1478]|4[124-6]|52)\\d{6}",,,,"31234567"],[,,"6\\d{7}",,,,"61234567"],[,,"800\\d{5}",,,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"LT",370,"00","8",,,"[08]",,,,[[,"([34]\\d)(\\d{6})","$1 $2",["37|4(?:1|5[45]|6[2-4])"],"(8-$1)",,1],[,"([3-6]\\d{2})(\\d{5})","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"],"(8-$1)",,1],[,"([7-9]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",,1],[,"(5)(2\\d{2})(\\d{4})","$1 $2 $3",["52[0-79]"],"(8-$1)",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70[67]\\d{5}",,,,"70712345"],,,[,,,,,,,,,[-1]]],LU:[,[,,"[24-9]\\d{3,10}|3(?:[0-46-9]\\d{2,9}|5[013-9]\\d{1,8})",,,,,,,[4,5,6,7,8,9,10,11]],[,,"(?:2[2-9]\\d{2,9}|(?:3(?:[0-46-9]\\d|5[013-9])|[457]\\d{2}|8(?:0[2-9]|[13-9]\\d)|9(?:0[89]|[2-579]\\d))\\d{1,8})",,,,"27123456"],[,,"6[25-79][18]\\d{6}",,,,"628123456",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90[015]\\d{5}",,,,"90012345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,,,,,,,,[-1]],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})",,,,"20201234",,,[4,5,6,7,8,9,10]],"LU",352,"00",,,,"(15(?:0[06]|1[12]|35|4[04]|55|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-5]|7[1-9]|[89](?:0[2-9]|[1-9])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[2-5]|7[1-9]|[89](?:0[2-9]|[1-9])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,4})","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:0[2-9]|[1-9])|9(?:0[2-46-9]|[1-9])"],,"$CC $1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["70|80[01]|90[015]"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LV:[,[,,"[2689]\\d{7}",,,,,,,[8]],[,,"6\\d{7}",,,,"63123456"],[,,"2\\d{7}",,,,"21234567"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,"81\\d{6}",,,,"81123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LV",371,"00",,,,,,,,[[,"([2689]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LY:[,[,,"[25679]\\d{8}",,,,,,,[9],[7]],[,,"(?:2[1345]|5[1347]|6[123479]|71)\\d{7}",,,,"212345678",,,,[7]],[,,"9[1-6]\\d{7}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LY",218,"00","0",,,"0",,,,[[,"([25-79]\\d)(\\d{7})","$1-$2",["[25-79]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MA:[,[,,"[5-9]\\d{8}",,,,,,,[9]],[,,"5(?:2(?:[015-79]\\d|2[02-9]|3[2-57]|4[2-8]|8[235-7])\\d|3(?:[0-48]\\d|[57][2-9]|6[2-8]|9[3-9])\\d|4[067]\\d{2}|5[03]\\d{2})\\d{4}",,,,"520123456"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[07]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5924[01]\\d{4}",,,,"592401234"],"MA",212,"00","0",,,"0",,,,[[,"([5-7]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"],"0$1"],[,"([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"],"0$1"],[,"(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"],"0$1"],[,"([5]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:4[067]|5[03])"],"0$1"],[,"(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MC:[,[,,"[34689]\\d{7,8}",,,,,,,[8,9]],[,,"870\\d{5}|9[2-47-9]\\d{6}",,,,"99123456",,,[8]],[,,"3\\d{7}|4(?:4\\d|5[1-9])\\d{5}|6\\d{8}",,,,"612345678"],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MC",377,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"],"$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],[,"(6)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"],"$1"]],,[,,,,,,,,,[-1]],,,[,,"870\\d{5}",,,,"87012345",,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MD:[,[,,"[235-9]\\d{7}",,,,,,,[8]],[,,"(?:2[1-9]\\d|3[1-79]\\d|5(?:33|5[257]))\\d{5}",,,,"22212345"],[,,"(?:562|6\\d{2}|7(?:[189]\\d|6[07]|7[457-9]))\\d{5}",,,,"62112345"],[,,"800\\d{5}",,,,"80012345"],[,,"90[056]\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,,,,,,,,[-1]],[,,"3[08]\\d{6}",,,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],[,"([25-7]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["2[13-9]|[5-7]"],"0$1"],[,"([89]\\d{2})(\\d{5})","$1 $2",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"803\\d{5}",,,,"80312345"],,,[,,,,,,,,,[-1]]],ME:[,[,,"[2-9]\\d{7,8}",,,,,,,[8],[6]],[,,"(?:20[2-8]|3(?:0[2-7]|[12][235-7]|3[24-7])|4(?:0[2-467]|1[267])|5(?:0[2467]|1[267]|2[2367]))\\d{5}",,,,"30234567",,,,[6]],[,,"6(?:00\\d|3[024]\\d|6[0-25]\\d|[7-9]\\d{2})\\d{4}",,,,"67622901"],[,,"80[0-258]\\d{5}",,,,"80080002"],[,,"(?:9(?:4[1568]|5[178]))\\d{5}",,,,"94515151"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"78[1-49]\\d{5}",,,,"78108780"],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]|6[036-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"77[1-9]\\d{5}",,,,"77273012"],,,[,,,,,,,,,[-1]]],MF:[,[,,"[56]\\d{8}",,,,,,,[9]],[,,"590(?:0[079]|13|2[79]|30|43|5[0-268]|7[79]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MF",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MG:[,[,,"[23]\\d{8}",,,,,,,[9],[7]],[,,"20(?:2\\d{2}|4[47]\\d|5[3467]\\d|6[279]\\d|7(?:2[29]|[35]\\d)|8[268]\\d|9[245]\\d)\\d{4}",,,,"202123456",,,,[7]],[,,"3[2-49]\\d{7}",,,,"321234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"22\\d{7}",,,,"221234567"],"MG",261,"00","0",,,"0",,,,[[,"([23]\\d)(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MH:[,[,,"[2-6]\\d{6}",,,,,,,[7]],[,,"(?:247|528|625)\\d{4}",,,,"2471234"],[,,"(?:235|329|45[56]|545)\\d{4}",,,,"2351234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"635\\d{4}",,,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MK:[,[,,"[2-578]\\d{7}",,,,,,,[8],[6,7]],[,,"(?:2(?:[23]\\d|5[0-24578]|6[01]|82)|3(?:1[3-68]|[23][2-68]|4[23568])|4(?:[23][2-68]|4[3-68]|5[2568]|6[25-8]|7[24-68]|8[4-68]))\\d{5}",,,,"22012345",,,,[6,7]],[,,"7(?:[0-25-8]\\d{2}|3[2-4]\\d|421|9[23]\\d)\\d{4}",,,,"72345678"],[,,"800\\d{5}",,,,"80012345"],[,,"5[02-9]\\d{6}",,,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}",,,,"80123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MK",389,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"([347]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],[,"([58]\\d{2})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ML:[,[,,"[246-9]\\d{7}",,,,,,,[8]],[,,"(?:2(?:0(?:2\\d|7[0-8])|1(?:2[5-7]|[3-689]\\d))|44[1239]\\d)\\d{4}",,,,"20212345"],[,,"(?:2(?:079|17\\d)|[679]\\d{3}|8[239]\\d{2})\\d{4}",,,,"65012345"],[,,"80\\d{6}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ML",223,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"]],[,"(\\d{4})","$1",["67|74"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"]]],[,,,,,,,,,[-1]],,,[,,"80\\d{6}",,,,"80012345"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MM:[,[,,"[178]\\d{5,7}|[24-6]\\d{5,8}|9(?:[279]\\d{0,2}|5|[34]\\d{1,2}|6(?:\\d{1,2})?|8(?:\\d{2})?)\\d{6}",,,,,,,[6,7,8,9,10],[5]],[,,"1(?:2\\d{1,2}|[35]\\d|4(?:\\d|2[236]|39)|6\\d?|[89][0-6]\\d)\\d{4}|2(?:2(?:000\\d{3}|\\d{4})|3\\d{4}|4(?:0\\d{5}|26\\d{4}|39\\d{4}|\\d{4})|5(?:1\\d{3,6}|[02-9]\\d{3,5})|[6-9]\\d{4})|4(?:2[245-8]|3(?:2(?:02)?|[346]|56?)|[46][2-6]|5[3-5])\\d{4}|5(?:2(?:2(?:\\d{1,2})?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])\\d{4}|6(?:0[23]|1(?:2(?:0|4\\d)?|[356])|2[2-6]|3[24-6]|4(?:2(?:4\\d)?|[3-6])|5[2-4]|6[2-8]|7(?:[2367]|4(?:\\d|39)|5\\d?|8[145]\\d)|8[245]|9(?:20?|4))\\d{4}|7(?:[04][24-8]|1(?:20?|[3-7])|22|3[2-4]|5[2-7])\\d{4}|8(?:1(?:2\\d{1,2}|[3-689]\\d)|2(?:2\\d|3(?:\\d|20)|[4-8]\\d)|3[24]\\d|4[24-7]\\d|5[245]\\d|6[23]\\d)\\d{3}",,,,"1234567",,,[6,7,8,9],[5]],[,,"17[01]\\d{4}|9(?:2(?:[0-4]|5\\d{2}|6[0-5]\\d)|3(?:[0-36]|4[069])\\d|4(?:0[0-4]\\d|[1379]\\d|2\\d{2}|4[0-589]\\d|5\\d{2}|88)|5[0-6]|6(?:1\\d|9\\d{2}|\\d)|7(?:3|5[0-2]|[6-9]\\d)\\d|8(?:\\d|9\\d{2})|9(?:1\\d|[5-7]\\d{2}|[089]))\\d{5}",,,,"92123456",,,[7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1333\\d{4}",,,,"13331234",,,[8]],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1|2[245]"],"0$1"],[,"(2)(\\d{4})(\\d{4})","$1 $2 $3",["251"],"0$1"],[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["432|67|81"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3,4})","$1 $2 $3",["[4-8]"],"0$1"],[,"(9)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],[,"(9)([34]\\d{4})(\\d{4})","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"],"0$1"],[,"(9)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92[56]"],"0$1"],[,"(9)(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["93"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MN:[,[,,"[12]\\d{7,9}|[57-9]\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"[12](?:1\\d|2(?:[1-3]\\d?|7\\d)|3[2-8]\\d{1,2}|4[2-68]\\d{1,2}|5[1-4689]\\d{1,2})\\d{5}|5[0568]\\d{6}",,,,"50123456",,,,[6,7]],[,,"(?:8(?:[05689]\\d|3[01])|9[013-9]\\d)\\d{5}",,,,"88123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"7[05-8]\\d{6}",,,,"75123456",,,[8]],"MN",976,"001","0",,,"0",,,,[[,"([12]\\d)(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],[,"([12]2\\d)(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],[,"([12]\\d{3})(\\d{5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)2"],"0$1"],[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"],"$1"],[,"([12]\\d{4})(\\d{4,5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)[4-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MO:[,[,,"[268]\\d{7}",,,,,,,[8]],[,,"(?:28[2-57-9]|8(?:11|[2-57-9]\\d))\\d{5}",,,,"28212345"],[,,"6(?:[2356]\\d|8[158])\\d{5}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MO",853,"00",,,,,,,,[[,"([268]\\d{3})(\\d{4})","$1 $2",["[268]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MP:[,[,,"[5689]\\d{9}",,,,,,,[10],[7]],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MP",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"670",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MQ:[,[,,"[56]\\d{8}",,,,,,,[9]],[,,"596(?:0[0-7]|10|2[7-9]|3[05-9]|4[0-46-8]|[5-7]\\d|8[09]|9[4-8])\\d{4}",,,,"596301234"],[,,"69(?:6(?:[0-47-9]\\d|5[0-6]|6[0-4])|727)\\d{4}",,,,"696201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MR:[,[,,"[2-48]\\d{7}",,,,,,,[8]],[,,"25[08]\\d{5}|35\\d{6}|45[1-7]\\d{5}",,,,"35123456"],[,,"[234][0-46-9]\\d{6}",,,,"22123456"],[,,"800\\d{5}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MR",222,"00",,,,,,,,[[,"([2-48]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MS:[,[,,"[5689]\\d{9}",,,,,,,[10],[7]],[,,"664491\\d{4}",,,,"6644912345",,,,[7]],[,,"66449[2-6]\\d{4}",,,,"6644923456",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MS",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"664",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MT:[,[,,"[2357-9]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:[169]\\d|3[1-4])|[1-357]\\d{2})\\d{4}",,,,"21001234"],[,,"(?:7(?:210|[79]\\d{2})|9(?:2(?:1[01]|31)|69[67]|8(?:1[1-3]|89|97)|9\\d{2}))\\d{4}",,,,"96961234"],[,,"800[3467]\\d{4}",,,,"80071234"],[,,"5(?:0(?:0(?:37|43)|6\\d{2}|70\\d|9[0168]\\d)|[12]\\d0[1-5])\\d{3}",,,,"50037123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3550\\d{4}",,,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,"7117\\d{4}",,,,"71171234"],,,[,,,,,,,,,[-1]],[,,"501\\d{5}",,,,"50112345"],,,[,,,,,,,,,[-1]]],MU:[,[,,"[2-9]\\d{6,7}",,,,,,,[7,8]],[,,"(?:2(?:[03478]\\d|1[0-7]|6[1-69])|4(?:[013568]\\d|2[4-7])|5(?:44\\d|471)|6\\d{2}|8(?:14|3[129]))\\d{4}",,,,"2012345"],[,,"5(?:2[59]\\d|4(?:2[1-389]|4\\d|7[1-9]|9\\d)|7\\d{2}|8(?:[0-25689]\\d|4[3479]|7[15-8])|9[0-8]\\d)\\d{4}",,,,"52512345",,,[8]],[,,"80[012]\\d{4}",,,,"8001234",,,[7]],[,,"30\\d{5}",,,,"3012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3(?:20|9\\d)\\d{4}",,,,"3201234",,,[7]],"MU",230,"0(?:0|[2-7]0|33)",,,,,,"020",,[[,"([2-46-9]\\d{2})(\\d{4})","$1 $2",["[2-46-9]"]],[,"(5\\d{3})(\\d{4})","$1 $2",["5"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MV:[,[,,"[346-8]\\d{6,9}|9(?:00\\d{7}|\\d{6})",,,,,,,[7,10]],[,,"(?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024568]|8[024689]))\\d{4}",,,,"6701234",,,[7]],[,,"(?:46[46]|7[2-9]\\d|9[15-9]\\d)\\d{4}",,,,"7712345",,,[7]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9(?:0[1-9]|[1-9])"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]00"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"4[05]0\\d{4}",,,,"4001234",,,[7]],,,[,,,,,,,,,[-1]]],MW:[,[,,"(?:1(?:\\d{2})?|[2789]\\d{2}|31\\d)\\d{6}",,,,,,,[7,9]],[,,"(?:1[2-9]|21\\d{2})\\d{5}",,,,"1234567"],[,,"(?:111|77\\d|88\\d|99\\d)\\d{6}",,,,"991234567",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"31\\d{7}",,,,"310123456",,,[9]],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"0$1"],[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[17-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["31"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MX:[,[,,"[1-9]\\d{9,10}",,,,,,,[10,11],[7,8]],[,,"(?:33|55|81)\\d{8}|(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}",,,,"2221234567",,,[10],[7,8]],[,,"1(?:(?:33|55|81)\\d{8}|(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7})",,,,"12221234567",,,[11]],[,,"8(?:00|88)\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,"300\\d{7}",,,,"3001234567",,,[10]],[,,"500\\d{7}",,,,"5001234567",,,[10]],[,,,,,,,,,[-1]],"MX",52,"0[09]","01",,,"0[12]|04[45](\\d{10})","1$1",,,[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1",,1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","044 $2 $3 $4",["1(?:33|55|81)"],"$1",,1],[,"(1)(\\d{3})(\\d{3})(\\d{4})","044 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"],"$1",,1]],[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1",,1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3 $4",["1(?:33|55|81)"]],[,"(1)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MY:[,[,,"[13-9]\\d{7,9}",,,,,,,[8,9,10],[6,7]],[,,"(?:3(?:2(?:0(?:11|2[0-8]|3[0-24-79]|[579]\\d|8[0-57-9])|1(?:0[6-9]|1[03-9]|[467]\\d|8[0-2]|9[13])|2(?:0[1-3]|2[2-4]|4[0-25-7]|6[0-8]|7[02-689]|8\\d|9[5-9])|3(?:0[0-3]|3[0-36]|8[0-35-9]|9[1-3])|6(?:0[0-5]|[139]\\d|8[15-8])|7(?:1\\d|2[0-7]|3[0-3]|42|7[0-356]|8[0-35-8])|8(?:00|4[78]|5[6-9])|93[58])|3(?:0(?:0[0-35-9]|10|5[01]|8[0-6]|9[39])|1(?:0[1-39]|10|2[02-469]|3[245]|4[0-3589]|6[0-35-9]|7[067]|8[0-57]|9[0-278])|2(?:1[3467]|2[45]|4[1-3]|5[0689]|6[04589]|7[0-3579]|8[0-489]|9[0-27])|3(?:1[7-9]|2[1-6]|4[1-689]|5[89]|6[1-3]|7\\d|8[125]|9[236])|6(?:[12]0|3[01]|5[0-256]|6[08]|8[45]))|4(?:0(?:09|[14]\\d|2[0-8]|3[12]|5[01]|65)|1(?:0[0-8]|31|4\\d|6[12])|2(?:17|5[0-35-9]|6[024-6]|7[0189]|8[057-9]|9\\d)|770|8(?:0[0-2]|1[0-3569]|2[01]))|5(?:0(?:2[0-2]|3[0-35-9])|1(?:0[1-3]|1[05]|2[0-6]|31|6[1-7]|9[1258])|270|48[0-5]|5(?:1\\d|2[0-6]|4[0-589]|6[125-9]|9[01])|6(?:1[1-4]|2[0-589]|3\\d|5[0-3])|7(?:21|40)|8(?:7[06-9]|8[025-9]|9[12]))|6(?:0(?:2[0-28]|3[24-9]|4[246-9]|5[57]|6[13-6]|7[358]|8[1247]|9[0-59])|1(?:[04][0-58]|15|2[02-8]|3[015-9]|5[016-8]|7[7-9]|8[14-9]|9[1-356])|2(?:[05]\\d|11|[46][1-3]|7[02-79]|8[015-7])|303|4(?:1[129]|2[01]|3[36]|6[0-2])|690|7(?:3\\d|89))|7(?:118|2(?:0[02]|6[01])|4(?:[59]\\d|8[01])|6(?:1[01]|2\\d|5[0-2]|6[0-69])|7(?:1[0-37-9]|[28]\\d|3[1-5]|7[0-3])|8(?:[04]\\d|3[129]|59|6[1-356]|7[02-79]|8[02-7]|90)|9(?:10|3[1-3]|4[016-9]|[56]\\d|7[12]|8\\d))|8(?:0(?:0[08]|11|2[0-7]|5[12]|6\\d|7[013-69]|8[0-24]|9[0-5])|100|21[0-36]|3(?:08|1\\d|2[0-589]|31)|408|5(?:2[0-35-79]|88)|6(?:0[0-259]|5[5-79]|6[01]|8[46-9]|9[019])|7(?:0[35-8]|2[3-7]|3\\d|4[0149]|5[0-2]|6[016-9]|7[5-9]|8[037]|90)|8(?:00|61|7[0-3]|8\\d|9[0-4])|9(?:1[1-3]|[2-5]\\d|6[1-4689]|8[89]|9[0-689]))|9(?:0(?:1[0-289]|2[15]|5[014-9]|7[04-68]|8[0-256])|1(?:0[0-356]|3[0-49]|4[015]|7[0-59]|9[15])|2(?:0[0-25-7]|12|2[1-6]|3[1256]|7[14]|8\\d)|3[68]8|41[01]|5(?:14|2[01]|4[03-9]|6[5-79]|7[0-2569])))\\d|4(?:2(?:0[01]|1[07-9]|2[02-46-9]|38|4[0-28]|5[0-589]|6[0-47-9]|8[0-389]|9[0-38])\\d|3(?:0[5-9]|[12][034]|3[0-37]|47|5[168]|6[7-9]|7[0135-8]|8\\d|9[0-27-9])\\d|4(?:[02-9]\\d{2}|1(?:[02-9]\\d|10))|5(?:[07]\\d{2}|1[0-358]\\d|2[1246]\\d|3[06-9]\\d|4[0589]\\d|5[12457-9]\\d|6[0-689]\\d|8(?:[0-57-9]\\d|60)|9(?:[2-57-9]\\d|60))|6(?:0[79]|1[0-689]|2[0135-9]|[3-5]\\d|6[07-9]|7[23]|8[03-9]|99)\\d|7(?:0[0-59]\\d|1[04679]\\d|2(?:[02-9]\\d|10)|[37]\\d{2}|4(?:[0178]\\d|5[0-6])|5(?:[0-57-9]\\d|60)|6[024-689]\\d|8[0-79]\\d|9(?:[0479]\\d|3[01]))|8(?:1[0189]\\d|2[046-9]\\d|3[058]\\d|5[029]\\d|6(?:[0689]\\d|40)|8[14568]\\d|9[0-389]\\d)|9(?:0[1368]\\d|1[13-9]\\d|[27]\\d{2}|3(?:[0-368]\\d|7[0-3])|4[013-79]\\d|5[0-35689]\\d|6[0-46-9]\\d|8[0-24-9]\\d|97\\d))|5(?:2(?:0[13589]\\d|1[0-2]\\d|2[056]\\d|3(?:[067]\\d|2[01])|4[0-69]\\d|5[3-6]\\d|8[0-25-9]\\d|9[0-469]\\d)|3(?:[12][0-38]|3[0-37]|4[89]|5[01346-9]|[67]\\d|8[01589]|95)\\d|4(?:0[1346]\\d|1[02-35-9]\\d|2[1379]\\d|3[0-46-9]\\d|4[013689]\\d|[59]\\d{2}|6(?:[15-9]\\d|20)|7[036-9]\\d|8[015-8]\\d)|5(?:0[167]\\d|17\\d|2[025-9]\\d|3[035-7]\\d|4[0-35-9]\\d|8[13]\\d|9(?:[124-9]\\d|31))|6(?:0[89]\\d|1[02-46-8]\\d|2[0-69]\\d|3(?:[1-367]\\d|40)|4[0-689]\\d|5(?:[0-24-9]\\d|30)|6[1457-9]\\d|7\\d{2}|8[0-57-9]\\d|9[0-389]\\d)|7(?:1(?:[024679]\\d|80)|2[0-35-8]\\d|3[23]\\d|4[34]\\d|5[0-36-9]\\d|6[356-9]\\d|7\\d{2}|8(?:[23]\\d|[01]1)|9(?:[1-689]\\d|70))|8(?:0[145-9]\\d|1[0-2]\\d|2[09]\\d|3(?:[058]\\d|0[017])|4[016-9]\\d|5[02-9]\\d|7(?:10|2\\d)|8[013589]\\d|9[0-57-9]\\d)|9[23]0\\d)|6(?:2(?:2[1246-9]\\d|3[0-5]\\d|4[02]\\d|5[1-3]\\d|[68]\\d{2}|7(?:[04-8]\\d|10)|9[2-5]\\d)|3(?:1(?:[125-9]\\d|3[01])|3[0-7]\\d|5[0-478]\\d|79\\d|8[3-578]\\d|9[018]\\d)|4(?:1[015]|[2-689]\\d|7[1-79])\\d|5(?:09\\d|1(?:10|[2479]\\d)|2[1-579]\\d|3(?:[0-467]\\d|50)|4[0-24-9]\\d|5\\d{2}|60\\d)|6(?:0[13]\\d|1[0-57]\\d|2[03]\\d|3[0-478]\\d|4[0-8]\\d|5[013-689]\\d|6[0-467]\\d|[78]\\d{2}|9(?:[13-9]\\d|20))|7(?:01|2[06-9]|3[367]|5[7-9]|6\\d|7[0156]|8[12]|9[0-47-9])\\d|85[0-26]\\d|9(?:0[167]|10|[57]\\d|6[02-9]|8[013-9])\\d)|7(?:2(?:0[7-9]|1[016-9]|2[0-8]|[39]\\d|4[014]|5[0-79]|6[125-8]|7[1246-9]|8[37-9])\\d|3(?:0[0-5]|[35]\\d|40|5[0-478]|6[0-5]|8[0-26-8])\\d|4(?:0[07-9]|[1-35]\\d|6[7-9]|7[57]|8[1-68])\\d|5(?:0[04-9]|1[0-68]|2[0-378]|3[0-3]|5\\d|6[0-2]|7[018]|8[5-7]|9[05-9])\\d|6(?:5[0-24-9]|6[0-3568]|7[0457-9]|8[02-9]|9\\d)\\d|7(?:0[25-8]\\d|1(?:[01]\\d|20)|2[0-2]\\d|3[489]\\d|[457-9]\\d{2}|6(?:[0-8]\\d|90))|8(?:01[01]|10\\d|[289]\\d{2}|3(?:[028]\\d|10)|50\\d|6[0-357-9]\\d|7(?:[0235-9]\\d|[14]0))|9(?:0(?:[0246-8]\\d|10)|[1-4]\\d{2}|50\\d|6[014589]\\d|[7-9]0\\d))|8(?:2(?:2(?:[013-5]\\d|[28][0-8]|6[01]|7[0-589]|9[0-49])|3(?:[02][0-689]|1[1-59]|[3-7]\\d|8[0-389]|9[13])|4(?:0[1-3]|[1-8]\\d|9[1-359])|5(?:0[1-7]|[17]\\d|20|3[0-26-9]|4[1-9]|5[0-35]|8[0-689]|9[02367])|6(?:[147]\\d|2[0-25-9]|39|5[014-9]|6[1-9]|8[1-8]|9[089])|7(?:0[017-9]|1[1-356]|20|3[01457-9]|4[15]|5[0-25]|6[0-6]|70|8[0-2]|9[01378])|8(?:0[3-57-9]|[15]0|2[124-9]|3[01]|4[02-6]|6[02-578]|7\\d|8[25-8]|9[04-689]))|3(?:220|3(?:0[089]|10|2[0-7]|3[7-9]|4[0-48])|4(?:0[68]|1[0-478]|2[5-79]|3[024-9]|50|6\\d|7[0-57]|8[05]|96)|5(?:4[4578]|55|6[2-9]|70|8[459]|92))|4(?:2(?:[15]\\d|2[0-489]|3[124-9])|3(?:0[1-8]|[1-4]\\d|5[0-3]|6[1-7]|7[56]|8[0-4]|9[1-578])|4(?:05|80)|555|6(?:1[0-3]|20|3[1-4]|4[0-24-7]|5\\d|6[0-2]|71|8[0-47-9]|9[0-689])|7(02|1[79]|21|3[0-2468]|5[0-5]|6[0256]|7[0-8]|8[01589]|9[026-9])|8(?:0[1-9]|1[0-3568]|2[0138]|3[0-4]|4[046-9]|5[06]|6\\d|7[0-579]|80|9[0-8]))|5(?:2(?:0[0-26]|1\\d|2[0-5]|3[18]|4[0-2]|6[3-68]|70|8[025-9]|9[05-9])|3(?:10|2\\d|31|95)|4(?:0[1-7]|[1-4]\\d|5[02-6]|6[0-3]|7[0-245]|8[125]|9[1-6])|5(?:40|55)|6(?:0[1459]|1[0-8]|2[0-36-8]|3[0-35-8]|[45]\\d|6[0-8]|80)|7(?:1[07-9]|20|3[3-9]|4[02-4]|5[05689]|6[015-9]|7\\d|8[045]|9[0-6]))|6(?:2(?:01|3[12]|5[1-7]|60|8[1-6]|9[0-8])|3(?:0[0137]|[134]\\d|2[0-8]|[59][01]|60|[78]1)|4(?:2[2-4]|49|5[17]|6\\d|7[0-46-9]|8[0-689])|5(?:0[6-8]|55|8[0149]|90)|8(?:5\\d|[68]0)|9(?:5[12]|81))|7(?:2(?:0[189]|[12][1-9]|3[0-47]|50)|3(?:[01][1-9]|3\\d|4[0-245]|6[4-9]|7[237-9]|9[12])|4(?:[0-2]\\d|3[167-9]|[45][0-3]|6[0-8]|7[25-9]|8[0-6]|90)|5(?:0[1-9]|[89]\\d)|7(?:1[89]|[27]\\d|3[013-9]|4[0-8]|50|6[01568]|82)|8(?:[03][1-3]|1[0-28]|2[0-38]|48|5[0-4]|6[1-3]|7[124]|8[013-57-9]|9[07]))|8(?:2(?:0[13-7]|[1-9]\\d)|3(?:0[1-47-9]|[128]\\d|3[0-4]|4[1-9]|5[0-35-7]|6[0-46-9]|9[3-7])|4(?:0[1-58]|1[1-5]|[2-57-9]\\d|69)|5(?:1[1-35-9]|2\\d|3[2-8]|52)|6(?:0[2-9]|1[1-8]|[23]\\d|41|5[12367]|6[1-9]|7[14-9]|8[02-8]|9[05])|7(?:0[1-589]|[1-35-8]\\d|4[0-7]|9[0-46-9])|8(?:01|30|5[0-48]|6[13]|7\\d|8[013-689]|9[24-9])|9(?:0[2-4689]|1\\d|2[08]|3[18]|4[03]|59|6[0-36-9]|7[0-35-79]|8[1235]))|9(?:2(?:[057][1-9]|[1-3]\\d|4[0-8]|6[1-5]|8[015-9]|9[04-6])|300|4(?:01|36|6[1-6]|[89][12])|5(?:0[25689]|1\\d|2[0134]|3[1-8]|5[17]|6[0-35-9]|7[0-7]|91)|6(?:1[1-9]|2[23]|3[0-4]|6[03-9]|7[0-7])|7(?:0[1-68]|1[1-8]|2[25-9]|3[056]|4[4-9]|[5-8]\\d|9[0-46-9])|8(?:0[1-7]|[189]\\d|2[1-46]|4[1-689]|5[0-79]|6[1-9]|71)|9(?:0[1-3]|1\\d|2[0-35-7]|3[67]|4[12]|5[0-249]|6[5-9]|75|8[1-6])))|9(?:2(?:0[458]\\d|1[2-57]\\d|2[0-589]\\d|[39]\\d{2}|4(?:[02-9]\\d|10)|5(?:[024-6]\\d|[7-9]0)|6(?:[03-9]\\d|20)|7[0-26-9]\\d|8(?:[0-24-68]\\d|7[01]))|3(?:0[0-2689]\\d|1(?:[0235]\\d|1[0-2]|4[01])|2(?:0[01]|[1-57-9]\\d|6[0-2])|3(?:00|1[0-4]|2\\d)|4[05]\\d|5[0-3568]\\d|6(?:[1-357-9]\\d|60)|[78]0\\d)|4(?:0[24578]\\d|1[02-57-9]\\d|2\\d{2}|3(?:[0278]\\d|1[01]|60)|4[013579]\\d|5[0-8]\\d|6[0678]\\d|7[013-9]\\d|8[01569]\\d)|5(0(?:[589]\\d|7[01])|1\\d{2}|2[0159]\\d|3[14689]\\d|4[0-46-9]\\d|5[0-35-9]\\d|6[0156-8]\\d|7[0-35]\\d|8[0-7]\\d|9[0-3589]\\d)|6(?:0[269]\\d|[12]\\d{2}|3[0-57-9]\\d|44[0-2]|5[01379]\\d|6[02-9]\\d|7[69]\\d|8(?:[0-24-8]\\d|30)|9(?:[0-24-9]\\d|3[01]))|7(?:0[0136-8]|1[02-4]|2[156]|3[258]|[489]\\d|5[0-589]|6[024-9]|7[0-689])\\d|8(?:0(?:0[01]|1\\d)|1[3-9]\\d|[23]\\d{2}|4[0-24-689]\\d|5[0-689]\\d|6[02-9]\\d|7(?:[01]0|[2-4]\\d)|888)|9(?:00\\d|1[2-57-9]\\d|2(?:00|1[01]|[238]\\d)|3(?:[2-467]\\d|50)|4[4-9]\\d|5(?:[0-2457-9]\\d|60)|6[0156]\\d|7[04-9]\\d|8[01]\\d)))\\d{3}",,,,"323856789",,,[8,9],[6,7]],[,,"1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])\\d|1(?:[1-5]\\d{2}|6(?:0[5-9]|[1-9]\\d))\\d|[23679][2-9]\\d{2}|4(?:[235-9]\\d{2}|400)|59\\d{3}|8(?:1[23]\\d|[236]\\d{2}|4(?:[06]\\d|7[0-4])|5[7-9]\\d|7[016-9]\\d|8(?:[01]\\d|[27][0-4])|9[0-8]\\d))\\d{4}",,,,"123456789",,,[9,10]],[,,"1[378]00\\d{6}",,,,"1300123456",,,[10]],[,,"1600\\d{6}",,,,"1600123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"154(?:6(?:0\\d|1[0-3])|8(?:[25]1|4[0189]|7[0-4679]))\\d{4}",,,,"1546012345",,,[10]],"MY",60,"00","0",,,"0",,,,[[,"([4-79])(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],[,"(3)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],[,"([18]\\d)(\\d{3})(\\d{3,4})","$1-$2 $3",["1[02-46-9][1-9]|8"],"0$1"],[,"(1)([36-8]00)(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]0","1[36-8]00"]],[,"(11)(\\d{4})(\\d{4})","$1-$2 $3",["11"],"0$1"],[,"(15[49])(\\d{3})(\\d{4})","$1-$2 $3",["15[49]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MZ:[,[,,"[28]\\d{7,8}",,,,,,,[8,9]],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}",,,,"21123456",,,[8]],[,,"8[2-7]\\d{7}",,,,"821234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MZ",258,"00",,,,,,,,[[,"([28]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"]],[,"(80\\d)(\\d{3})(\\d{3})","$1 $2 $3",["80"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NA:[,[,,"[68]\\d{7,8}",,,,,,,[8,9]],[,,"6(?:1(?:17|2(?:[0189]\\d|[2-6]|7\\d?)|3(?:[01378]|2\\d)|4(?:[024]|10?|3[15]?)|69|7[014])|2(?:17|5(?:[0-36-8]|4\\d?)|69|70)|3(?:17|2(?:[0237]\\d?|[14-689])|34|6[289]|7[01]|81)|4(?:17|2(?:[012]|7\\d?)|4(?:[06]|1\\d?)|5(?:[01357]|[25]\\d?)|69|7[01])|5(?:17|2(?:[0459]|[23678]\\d?)|69|7[01])|6(?:17|2(?:5|6\\d?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234]\\d?)|3(?:0\\d?|[13])|6[89]|7[01]))\\d{4}",,,,"61221234"],[,,"(?:60|8[125])\\d{7}",,,,"811234567",,,[9]],[,,,,,,,,,[-1]],[,,"8701\\d{5}",,,,"870123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8(?:3\\d{2}|86)\\d{5}",,,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(8\\d)(\\d{3})(\\d{4})","$1 $2 $3",["8[1-35]"],"0$1"],[,"(6\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],[,"(88)(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(870)(\\d{3})(\\d{3})","$1 $2 $3",["870"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NC:[,[,,"[2-57-9]\\d{5}",,,,,,,[6]],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}",,,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}",,,,"751234"],[,,,,,,,,,[-1]],[,,"36\\d{4}",,,,"366711"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NC",687,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-46-9]|5[0-4]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NE:[,[,,"[0289]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}",,,,"20201234"],[,,"(?:8[089]|9\\d)\\d{6}",,,,"93123456"],[,,"08\\d{6}",,,,"08123456"],[,,"09\\d{6}",,,,"09123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["09|[289]"]],[,"(08)(\\d{3})(\\d{3})","$1 $2 $3",["08"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NF:[,[,,"[13]\\d{5}",,,,,,,[6],[5]],[,,"(?:1(?:06|17|28|39)|3[012]\\d)\\d{3}",,,,"106609",,,,[5]],[,,"3[58]\\d{4}",,,,"381234",,,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NF",672,"00",,,,,,,,[[,"(\\d{2})(\\d{4})","$1 $2",["1"]],[,"(\\d)(\\d{5})","$1 $2",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NG:[,[,,"[1-6]\\d{5,8}|9\\d{5,9}|[78]\\d{5,13}",,,,,,,[7,8,10,11,12,13,14],[5,6]],[,,"[12]\\d{6,7}|9(?:0[3-9]|[1-9]\\d)\\d{5}|(?:3\\d|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])\\d{6}|(?:4[47]|5[14579]|6[1578]|7[0-357])\\d{5,6}|(?:78|41)\\d{5}",,,,"12345678",,,[7,8],[5,6]],[,,"(?:1(?:7[34]\\d|8(?:04|[124579]\\d|8[0-3])|95\\d)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8\\d)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8\\d)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07]\\d)\\d{4}|(?:70(?:[1-689]\\d|7[0-3])|8(?:0(?:1[01]|[2-9]\\d)|1(?:[0-8]\\d|9[01]))|90[235-9]\\d)\\d{6}",,,,"8021234567",,,[8,10]],[,,"800\\d{7,11}",,,,"80017591759",,,[10,11,12,13,14]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NG",234,"009","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:0[1-9]|[1-79])|8[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["70|8[01]|90[235-9]"],"0$1"],[,"([78]00)(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]00"],"0$1"],[,"([78]00)(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]00"],"0$1"],[,"(78)(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"700\\d{7,11}",,,,"7001234567",,,[10,11,12,13,14]],,,[,,,,,,,,,[-1]]],NI:[,[,,"[125-8]\\d{7}",,,,,,,[8]],[,,"2\\d{7}",,,,"21234567"],[,,"(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|7[5-8]\\d|8\\d{2})\\d{5}",,,,"81234567"],[,,"1800\\d{4}",,,,"18001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NL:[,[,,"1\\d{4,8}|[2-7]\\d{8}|[89]\\d{6,9}",,,,,,,[5,6,7,8,9,10]],[,,"(?:1(?:[035]\\d|1[13-578]|6[124-8]|7[24]|8[0-467])|2(?:[0346]\\d|2[2-46-9]|5[125]|9[479])|3(?:[03568]\\d|1[3-8]|2[01]|4[1-8])|4(?:[0356]\\d|1[1-368]|7[58]|8[15-8]|9[23579])|5(?:[0358]\\d|[19][1-9]|2[1-57-9]|4[13-8]|6[126]|7[0-3578])|7\\d{2}|8[478]\\d)\\d{6}",,,,"101234567",,,[9]],[,,"6[1-58]\\d{7}",,,,"612345678",,,[9]],[,,"800\\d{4,7}",,,,"8001234",,,[7,8,9,10]],[,,"90[069]\\d{4,7}",,,,"9061234",,,[7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:6760|85\\d{2})\\d{5}",,,,"851234567",,,[9]],"NL",31,"00","0",,,"0",,,,[[,"([1-578]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"],"0$1"],[,"([1-5]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],[,"(6)(\\d{8})","$1 $2",["6[0-57-9]"],"0$1"],[,"(66)(\\d{7})","$1 $2",["66"],"0$1"],[,"(14)(\\d{3,4})","$1 $2",["14"],"$1"],[,"([89]0\\d)(\\d{4,7})","$1 $2",["[89]0"],"0$1"]],,[,,"66\\d{7}",,,,"662345678",,,[9]],,,[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])",,,,"14023",,,[5,6]],[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])",,,,"14020",,,[5,6]],,,[,,,,,,,,,[-1]]],NO:[,[,,"0\\d{4}|[2-9]\\d{7}",,,,,,,[5,8]],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}",,,,"21234567",,,[8]],[,,"(?:4[015-8]|5[89]|87|9\\d)\\d{6}",,,,"40612345",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"NO",47,"00",,,,,,,,[[,"([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"]],[,"([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}",,,,"01234"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],NP:[,[,,"[1-8]\\d{7}|9(?:[1-69]\\d{6,8}|7[2-6]\\d{5,7}|8\\d{8})",,,,,,,[8,10],[6,7]],[,,"(?:1[0-6]\\d|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6])\\d{5}",,,,"14567890",,,[8],[6,7]],[,,"9(?:6[0-3]|7[245]|8[0-24-68])\\d{7}",,,,"9841234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NP",977,"00","0",,,"0",,,,[[,"(1)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"],"0$1"],[,"(9\\d{2})(\\d{7})","$1-$2",["9(?:6[013]|7[245]|8)"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NR:[,[,,"[458]\\d{6}",,,,,,,[7]],[,,"(?:444|888)\\d{4}",,,,"4441234"],[,,"55[4-9]\\d{4}",,,,"5551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NU:[,[,,"[1-5]\\d{3}",,,,,,,[4]],[,,"[34]\\d{3}",,,,"4002"],[,,"[125]\\d{3}",,,,"1234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NU",683,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NZ:[,[,,"6[235-9]\\d{6}|[2-57-9]\\d{7,9}",,,,,,,[8,9,10],[7]],[,,"(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}|24099\\d{3}",,,,"32345678",,,[8],[7]],[,,"2(?:[028]\\d{7,8}|1\\d{6,8}|[79]\\d{7})",,,,"211234567"],[,,"508\\d{6,7}|80\\d{6,8}",,,,"800123456"],[,,"90\\d{6,7}",,,,"900123456",,,[8,9]],[,,,,,,,,,[-1]],[,,"70\\d{7}",,,,"701234567",,,[9]],[,,,,,,,,,[-1]],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["240|[346]|7[2-57-9]|9[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["21"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"],"0$1"],[,"(2\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["90"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|5|[89]0"],"0$1"]],,[,,"[28]6\\d{6,7}",,,,"26123456",,,[8,9]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],OM:[,[,,"(?:5|[279]\\d)\\d{6}|800\\d{5,6}",,,,,,,[7,8,9]],[,,"2[2-6]\\d{6}",,,,"23123456",,,[8]],[,,"7[19]\\d{6}|9(?:0[1-9]|[1-9]\\d)\\d{5}",,,,"92123456",,,[8]],[,,"8007\\d{4,5}|500\\d{4}",,,,"80071234"],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"OM",968,"00",,,,,,,,[[,"(2\\d)(\\d{6})","$1 $2",["2"]],[,"([79]\\d{3})(\\d{4})","$1 $2",["[79]"]],[,"([58]00)(\\d{4,6})","$1 $2",["[58]00"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PA:[,[,,"[1-9]\\d{6,7}",,,,,,,[7,8]],[,,"(?:1(?:0[0-8]|1[49]|2[37]|3[0137]|4[147]|5[05]|6[58]|7[0167]|8[58]|9[139])|2(?:[0235679]\\d|1[0-7]|4[04-9]|8[028])|3(?:[09]\\d|1[014-7]|2[0-3]|3[03]|4[03-57]|55|6[068]|7[06-8]|8[06-9])|4(?:3[013-69]|4\\d|7[0-589])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[469]0|5[06-9]|7[0-24-79]|8[7-9])|8(?:09|[34]\\d|5[0134]|8[02])|9(?:0[6-9]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))\\d{4}",,,,"2001234",,,[7]],[,,"(?:1[16]1|21[89]|8(?:1[01]|7[23]))\\d{4}|6(?:[024-9]\\d|1[0-5]|3[0-24-9])\\d{5}",,,,"61234567"],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"(?:8(?:55|60|7[78])|9(?:00|81))\\d{4}",,,,"8601234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],[,"(\\d{4})(\\d{4})","$1-$2",["6"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PE:[,[,,"[14-9]\\d{7,8}",,,,,,,[8,9],[6,7]],[,,"(?:1\\d|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])\\d{6}",,,,"11234567",,,[8],[6,7]],[,,"9\\d{8}",,,,"912345678",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"805\\d{5}",,,,"80512345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,"80[24]\\d{5}",,,,"80212345",,,[8]],[,,,,,,,,,[-1]],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(1)(\\d{7})","$1 $2",["1"],"(0$1)"],[,"([4-8]\\d)(\\d{6})","$1 $2",["[4-7]|8[2-4]"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PF:[,[,,"4\\d{5,7}|8\\d{7}",,,,,,,[6,8]],[,,"4(?:[09][45689]\\d|4)\\d{4}",,,,"40412345"],[,,"8[79]\\d{6}",,,,"87123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[09]|8[79]"]],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]]],,[,,,,,,,,,[-1]],,,[,,"44\\d{4}",,,,"441234",,,[6]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PG:[,[,,"[1-9]\\d{6,7}",,,,,,,[7,8]],[,,"(?:3[0-2]\\d|4[257]\\d|5[34]\\d|64[1-9]|77(?:[0-24]\\d|30)|85[02-46-9]|9[78]\\d)\\d{4}",,,,"3123456",,,[7]],[,,"7(?:[0-689]\\d|75)\\d{5}",,,,"70123456",,,[8]],[,,"180\\d{4}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"2(?:0[0-47]|7[568])\\d{4}",,,,"2751234",,,[7]],"PG",675,"140[1-3]|00",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-689]|27"]],[,"(\\d{4})(\\d{4})","$1 $2",["20|7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PH:[,[,,"1\\d{10,12}|2\\d{5,7}|[3-7]\\d{8}|8\\d{7,9}|9\\d{9}",,,,,,,[6,8,9,10,11,12,13],[5,7]],[,,"2\\d{5}(?:\\d{2})?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8])\\d{7}|88(?:22\\d{6}|42\\d{4})",,,,"21234567",,,[6,8,9,10],[5,7]],[,,"(?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[235-9]|5[056]|6[5-7]|7[34-79]|89|9[4-9]))\\d{7}",,,,"9051234567",,,[10]],[,,"1800\\d{7,9}",,,,"180012345678",,,[11,12,13]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PH",63,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],[,"(2)(\\d{5})","$1 $2",["2"],"(0$1)"],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],[,"([3-8]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[3-8]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["81|9"],"0$1"],[,"(1800)(\\d{3})(\\d{4})","$1 $2 $3",["180","1800"]],[,"(1800)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["180","1800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PK:[,[,,"1\\d{8}|[2-8]\\d{5,11}|9(?:[013-9]\\d{4,10}|2\\d(?:111\\d{6}|\\d{3,7}))",,,,,,,[8,9,10,11,12],[6,7]],[,,"(?:21|42)[2-9]\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}|58[126]\\d{7}",,,,"2123456789",,,[9,10],[6,7,8]],[,,"3(?:[014]\\d|2[0-5]|3[0-7]|55|64)\\d{7}",,,,"3012345678",,,[10]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,"122\\d{6}",,,,"122044444",,,[9]],[,,,,,,,,,[-1]],"PK",92,"00","0",,,"0",,,,[[,"([89]00)(\\d{3})(\\d{2})","$1 $2 $3",["[89]00"],"0$1"],[,"(1\\d{3})(\\d{5})","$1 $2",["1"],"$1"],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],[,"(\\d{3})(\\d{6,7})","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-469]","(?:2[349]|45|54|60|72|8[2-5]|9[2-469])\\d[2-9]"],"(0$1)"],[,"(58\\d{3})(\\d{5})","$1 $2",["58[126]"],"(0$1)"],[,"(3\\d{2})(\\d{7})","$1 $2",["3"],"0$1"],[,"(\\d{2})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"],"(0$1)"],[,"(\\d{3})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d111"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:[1-8]|0[468])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}",,,,"21111825888",,,[11,12]],,,[,,,,,,,,,[-1]]],PL:[,[,,"[1-57-9]\\d{6,8}|6\\d{5,8}",,,,,,,[6,7,8,9]],[,,"(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])(?:\\d{7}|19\\d{3})",,,,"123456789",,,[7,9]],[,,"(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",,,,"512345678",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"70[01346-8]\\d{6}",,,,"701234567",,,[9]],[,,"801\\d{6}",,,,"801234567",,,[9]],[,,,,,,,,,[-1]],[,,"39\\d{7}",,,,"391234567",,,[9]],"PL",48,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["11[68]|64"]],[,"(\\d{5})","$1",["19"]],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["26|39|45|5[0137]|6[0469]|7[02389]|8[08]"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]]],,[,,"64\\d{4,7}",,,,"641234567"],,,[,,,,,,,,,[-1]],[,,"804\\d{6}",,,,"804123456",,,[9]],,,[,,,,,,,,,[-1]]],PM:[,[,,"[45]\\d{5}",,,,,,,[6]],[,,"(?:4[1-3]|50)\\d{4}",,,,"411234"],[,,"(?:4[02-4]|5[05])\\d{4}",,,,"551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PM",508,"00","0",,,"0",,,,[[,"([45]\\d)(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PR:[,[,,"[5789]\\d{9}",,,,,,,[10],[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"PR",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"787|939",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PS:[,[,,"1\\d{9}|[24589]\\d{7,8}",,,,,,,[8,9,10],[7]],[,,"(?:22[234789]|42[45]|82[01458]|92[369])\\d{5}",,,,"22234567",,,[8],[7]],[,,"5[69]\\d{7}",,,,"599123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,,,,,,,,[-1]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PS",970,"00","0",,,"0",,,,[[,"([2489])(2\\d{2})(\\d{4})","$1 $2 $3",["[2489]2"],"0$1"],[,"(5[69]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["5[69]"],"0$1"],[,"(1[78]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[78]0","1[78]00"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PT:[,[,,"[2-46-9]\\d{8}",,,,,,,[9]],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}",,,,"212345678"],[,,"9(?:[1236]\\d{2}|480)\\d{5}",,,,"912345678"],[,,"80[02]\\d{6}",,,,"800123456"],[,,"6(?:0[178]|4[68])\\d{6}|76(?:0[1-57]|1[2-47]|2[237])\\d{5}",,,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}",,,,"808123456"],[,,"884[0-4689]\\d{5}",,,,"884123456"],[,,"30\\d{7}",,,,"301234567"],"PT",351,"00",,,,,,,,[[,"(2\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],[,"([2-46-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[3-9]|[346-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7(?:0(?:7\\d|8[17]))\\d{5}",,,,"707123456"],,,[,,"600\\d{6}",,,,"600110000"]],PW:[,[,,"[2-9]\\d{6}",,,,,,,[7]],[,,"(?:2(?:55|77)|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76)|900)\\d{4}",,,,"2771234"],[,,"(?:6[234689]0|77\\d|88[0-4])\\d{4}",,,,"6201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PY:[,[,,"5[0-5]\\d{4,7}|[2-46-9]\\d{5,8}",,,,,,,[6,7,8,9],[5]],[,,"(?:[26]1|3[289]|4[124678]|7[123]|8[1236])\\d{5,7}|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4]\\d|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)\\d{5,6}",,,,"212345678",,,[7,8,9],[5,6]],[,,"9(?:6[12]|[78][1-6]|9[1-5])\\d{6}",,,,"961456789",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8700[0-4]\\d{4}",,,,"870012345",,,[9]],"PY",595,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["9[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["870","8700"]],[,"(\\d{3})(\\d{4,5})","$1 $2",["[2-8][1-9]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8][1-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[2-9]0\\d{4,7}",,,,"201234567"],,,[,,,,,,,,,[-1]]],QA:[,[,,"[2-8]\\d{6,7}",,,,,,,[7,8]],[,,"4[04]\\d{6}",,,,"44123456",,,[8]],[,,"[3567]\\d{7}",,,,"33123456",,,[8]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"QA",974,"00",,,,,,,,[[,"([28]\\d{2})(\\d{4})","$1 $2",["[28]"]],[,"([3-7]\\d{3})(\\d{4})","$1 $2",["[3-7]"]]],,[,,"2(?:[12]\\d|61)\\d{4}",,,,"2123456",,,[7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RE:[,[,,"[268]\\d{8}",,,,,,,[9]],[,,"262\\d{6}",,,,"262161234"],[,,"69(?:2\\d{2}|3(?:0[0-46]|1[013]|2[0-2]|3[0139]|4[0-7]|5[05]|6[0-26]|7[0-27]|8[0-38]|9[0-479]))\\d{4}",,,,"692123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89[1-37-9]\\d{6}",,,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RE",262,"00","0",,,"0",,,,[[,"([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[268]"],"0$1"]],,[,,,,,,,,,[-1]],1,"262|69|8",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RO:[,[,,"[23]\\d{5,8}|[7-9]\\d{8}",,,,,,,[6,9]],[,,"2(?:1(?:\\d{7}|9\\d{3})|[3-6](?:\\d{7}|\\d9\\d{2}))|3(?:1\\d{4}(?:\\d{3})?|[3-6]\\d{7})",,,,"211234567"],[,,"7(?:[02-7]\\d{2}|1(?:[01]\\d|20)|8[03-8]\\d|99\\d)\\d{5}",,,,"712034567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[036]\\d{6}",,,,"900123456",,,[9]],[,,"801\\d{6}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RO",40,"00","0"," int ",,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],[,"(\\d{2})(\\d{4})","$1 $2",["[23]1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23][3-7]|[7-9]"],"0$1"],[,"(2\\d{2})(\\d{3})","$1 $2",["2[3-6]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"37\\d{7}",,,,"372123456",,,[9]],,,[,,,,,,,,,[-1]]],RS:[,[,,"[126-9]\\d{4,11}|3(?:[0-79]\\d{3,10}|8[2-9]\\d{2,9})",,,,,,,[6,7,8,9,10,11,12],[5]],[,,"(?:1(?:[02-9][2-9]|1[1-9])\\d|2(?:[0-24-7][2-9]\\d|[389](?:0[2-9]|[2-9]\\d))|3(?:[0-8][2-9]\\d|9(?:[2-9]\\d|0[2-9])))\\d{3,8}",,,,"10234567",,,[7,8,9,10,11,12],[5,6]],[,,"6(?:[0-689]|7\\d)\\d{6,7}",,,,"601234567",,,[8,9,10]],[,,"800\\d{3,9}",,,,"80012345"],[,,"(?:90[0169]|78\\d)\\d{3,7}",,,,"90012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RS",381,"00","0",,,"0",,,,[[,"([23]\\d{2})(\\d{4,9})","$1 $2",["(?:2[389]|39)0"],"0$1"],[,"([1-3]\\d)(\\d{5,10})","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"],"0$1"],[,"(6\\d)(\\d{6,8})","$1 $2",["6"],"0$1"],[,"([89]\\d{2})(\\d{3,9})","$1 $2",["[89]"],"0$1"],[,"(7[26])(\\d{4,9})","$1 $2",["7[26]"],"0$1"],[,"(7[08]\\d)(\\d{4,9})","$1 $2",["7[08]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7[06]\\d{4,10}",,,,"700123456"],,,[,,,,,,,,,[-1]]],RU:[,[,,"[347-9]\\d{9}",,,,,,,[10]],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9]))\\d{7}",,,,"3011234567"],[,,"9\\d{9}",,,,"9123456789"],[,,"80[04]\\d{7}",,,,"8001234567"],[,,"80[39]\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,,,,,,,,[-1]],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[1-79]"],"$1",,1],[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1]],[[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1]],[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RW:[,[,,"[027-9]\\d{7,8}",,,,,,,[8,9]],[,,"2[258]\\d{7}|06\\d{6}",,,,"250123456"],[,,"7[238]\\d{7}",,,,"720123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900\\d{6}",,,,"900123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RW",250,"00","0",,,"0",,,,[[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],[,"([7-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],[,"(0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SA:[,[,,"[15]\\d{8}|8\\d{9}|92\\d{7}",,,,,,,[9,10],[7]],[,,"1(?:1\\d|2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}",,,,"112345678",,,[9],[7]],[,,"(?:5(?:[013-689]\\d|7[0-36-8])|811\\d)\\d{6}",,,,"512345678"],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,"92[05]\\d{6}",,,,"920012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SA",966,"00","0",,,"0",,,,[[,"(1\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[1-467]"],"0$1"],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],[,"(92\\d{2})(\\d{5})","$1 $2",["92"],"$1"],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["800"],"$1"],[,"(811)(\\d{3})(\\d{3,4})","$1 $2 $3",["811"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SB:[,[,,"[1-9]\\d{4,6}",,,,,,,[5,7]],[,,"(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}",,,,"40123",,,[5]],[,,"48\\d{3}|7(?:30|[46-8]\\d|5[025-9]|9[0-5])\\d{4}|8[4-9]\\d{5}|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])\\d{4}",,,,"7421234"],[,,"1[38]\\d{3}",,,,"18123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[12]\\d{3}",,,,"51123",,,[5]],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[7-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SC:[,[,,"[24689]\\d{5,6}",,,,,,,[7]],[,,"4[2-46]\\d{5}",,,,"4217123"],[,,"2[5-8]\\d{5}",,,,"2510123"],[,,"8000\\d{3}",,,,"8000000"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:64\\d|971)\\d{4}",,,,"6412345"],"SC",248,"0(?:[02]|10?)",,,,,,"00",,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SD:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"1(?:[0-25]\\d|8[3567])\\d{6}",,,,"121231234"],[,,"9[0-3569]\\d{7}",,,,"911231234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SE:[,[,,"[1-35-9]\\d{5,11}|4\\d{6,8}",,,,,,,[6,7,8,9,10,12]],[,,"1(?:0[1-8]\\d{6}|[136]\\d{5,7}|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)\\d{5,6})|2(?:[136]\\d{5,7}|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])\\d{5,6})|3(?:[356]\\d{5,7}|(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])\\d{5,6})|4(?:[0246]\\d{5,7}|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])\\d{5,6})|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])\\d{5,6}|6(?:[03]\\d{5,7}|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])\\d{5,6})|8\\d{6,8}|9(?:0[1-9]\\d{4,6}|(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])\\d{5,6})",,,,"8123456",,,[7,8,9]],[,,"7[02369]\\d{7}",,,,"701234567",,,[9]],[,,"20\\d{4,7}",,,,"20123456",,,[6,7,8,9]],[,,"649\\d{6}|9(?:00|39|44)[1-8]\\d{3,6}",,,,"9001234567",,,[7,8,9,10]],[,,"77(?:0\\d{3}(?:\\d{3})?|[1-7]\\d{6})",,,,"771234567",,,[6,9]],[,,"75[1-8]\\d{6}",,,,"751234567",,,[9]],[,,,,,,,,,[-1]],"SE",46,"00","0",,,"0",,,,[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1"],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],"0$1"],[,"([1-469]\\d)(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1"],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1"],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],"0$1"],[,"(77)(\\d{2})(\\d{2})","$1-$2$3",["77"],"0$1"],[,"(20)(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1"],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9[034]"],"0$1"],[,"(9[034]\\d)(\\d{4})","$1-$2",["9[034]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["25[245]|67[3-6]"],"0$1"]],[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],[,"([1-469]\\d)(\\d{3})(\\d{2})","$1 $2 $3",["[12][136]|3[356]|4[0246]|6[03]|90"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7"]],[,"(77)(\\d{2})(\\d{2})","$1 $2 $3",["77"]],[,"(20)(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9[034]"]],[,"(9[034]\\d)(\\d{4})","$1 $2",["9[034]"]],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["25[245]|67[3-6]"]]],[,,"74[02-9]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"(?:25[245]|67[3-6])\\d{9}",,,,"254123456789",,,[12]]],SG:[,[,,"[36]\\d{7}|[17-9]\\d{7,10}",,,,,,,[8,10,11]],[,,"6[1-9]\\d{6}",,,,"61234567",,,[8]],[,,"(?:8[1-8]|9[0-8])\\d{6}",,,,"81234567",,,[8]],[,,"1?800\\d{7}",,,,"18001234567",,,[10,11]],[,,"1900\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[12]\\d{6}",,,,"31234567",,,[8]],"SG",65,"0[0-3]\\d",,,,,,,,[[,"([3689]\\d{3})(\\d{4})","$1 $2",["[369]|8[1-9]"]],[,"(1[89]00)(\\d{3})(\\d{4})","$1 $2 $3",["1[89]0","1[89]00"]],[,"(7000)(\\d{4})(\\d{3})","$1 $2 $3",["700","7000"]],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7000\\d{7}",,,,"70001234567",,,[11]],,,[,,,,,,,,,[-1]]],SH:[,[,,"[256]\\d{4}|8\\d{3}",,,,,,,[4,5]],[,,"2(?:[0-57-9]\\d|6[4-9])\\d{2}",,,,"22158"],[,,"[56]\\d{4}",,,,"51234",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"262\\d{2}",,,,"26212",,,[5]],"SH",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SI:[,[,,"[1-7]\\d{6,7}|[89]\\d{4,7}",,,,,,,[5,6,7,8]],[,,"(?:1\\d|[25][2-8]|3[24-8]|4[24-8]|7[3-8])\\d{6}",,,,"11234567",,,[8],[7]],[,,"(?:[37][01]\\d|4[0139]\\d|51\\d|6(?:[48]\\d|5[15-7]|9[69]))\\d{5}",,,,"31234567",,,[8]],[,,"80\\d{4,6}",,,,"80123456",,,[6,7,8]],[,,"90\\d{4,6}|89[1-3]\\d{2,5}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:59|8[1-3])\\d{6}",,,,"59012345",,,[8]],"SI",386,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|[34][24-8]|5[2-8]|7[3-8]"],"(0$1)"],[,"([3-7]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],[,"([89][09])(\\d{3,6})","$1 $2",["[89][09]"],"0$1"],[,"([58]\\d{2})(\\d{5})","$1 $2",["59|8[1-3]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SJ:[,[,,"0\\d{4}|[45789]\\d{7}",,,,,,,[5,8]],[,,"79\\d{6}",,,,"79123456",,,[8]],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}",,,,"41234567",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"SJ",47,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}",,,,"01234"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],SK:[,[,,"(?:[2-68]\\d{5,8}|9\\d{6,8})",,,,,,,[6,7,9]],[,,"2(?:1(?:6\\d{3,4}|7\\d{3})|[2-9]\\d{7})|[3-5][1-8](?:1(?:6\\d{2,3}|7\\d{3})|\\d{7})",,,,"221234567"],[,,"9(?:0(?:[1-8]\\d|9[1-9])|(?:1[0-24-9]|[45]\\d)\\d)\\d{5}",,,,"912123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:[78]\\d{7}|00\\d{6})",,,,"900123456",,,[9]],[,,"8[5-9]\\d{7}",,,,"850123456",,,[9]],[,,,,,,,,,[-1]],[,,"6(?:02|5[0-4]|9[0-6])\\d{6}",,,,"690123456",,,[9]],"SK",421,"00","0",,,"0",,,,[[,"(2)(1[67])(\\d{3,4})","$1 $2 $3",["21[67]"],"0$1"],[,"([3-5]\\d)(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5]"],"0$1"],[,"(2)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],[,"([3-5]\\d)(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"],[,"([689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],[,"(9090)(\\d{3})","$1 $2",["909","9090"],"0$1"]],,[,,"9090\\d{3}",,,,"9090123",,,[7]],,,[,,"(?:602|8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}|9090\\d{3}",,,,"800123456",,,[7,9]],[,,"96\\d{7}",,,,"961234567",,,[9]],,,[,,,,,,,,,[-1]]],SL:[,[,,"[2-9]\\d{7}",,,,,,,[8],[6]],[,,"[235]2[2-4][2-9]\\d{4}",,,,"22221234",,,,[6]],[,,"(?:2[15]|3[03-5]|4[04]|5[05]|66|7[6-9]|8[08]|99)\\d{6}",,,,"25123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SM:[,[,,"[05-7]\\d{7,9}",,,,,,,[8,10],[6]],[,,"0549(?:8[0157-9]|9\\d)\\d{4}",,,,"0549886377",,,[10],[6]],[,,"6[16]\\d{6}",,,,"66661212",,,[8]],[,,,,,,,,,[-1]],[,,"7[178]\\d{6}",,,,"71123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[158]\\d{6}",,,,"58001110",,,[8]],"SM",378,"00",,,,"([89]\\d{5})","0549$1",,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(0549)(\\d{6})","$1 $2",["054","0549"]],[,"(\\d{6})","0549 $1",["[89]"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(0549)(\\d{6})","($1) $2",["054","0549"]],[,"(\\d{6})","(0549) $1",["[89]"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SN:[,[,,"[3789]\\d{8}",,,,,,,[9]],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611)\\d{5}",,,,"301012345"],[,,"7(?:[06-8]\\d|21|90)\\d{6}",,,,"701234567"],[,,"800\\d{6}",,,,"800123456"],[,,"88[4689]\\d{6}",,,,"884123456"],[,,"81[02468]\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,"39[01]\\d{6}|3392\\d{5}|93330\\d{4}",,,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SO:[,[,,"[1-9]\\d{5,8}",,,,,,,[6,7,8,9]],[,,"(?:1\\d{1,2}|2[0-79]\\d|3[0-46-8]?\\d|4[0-7]?\\d|59\\d|8[125])\\d{4}",,,,"4012345",,,[6,7]],[,,"(?:15\\d|2(?:4\\d|8)|3[59]\\d{2}|4[89]\\d{2}|6[1-9]?\\d{2}|7(?:[1-8]\\d|9\\d{1,2})|8[08]\\d{2}|9(?:0[67]|[2-9])\\d)\\d{5}",,,,"71123456",,,[7,8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SO",252,"00","0",,,"0",,,,[[,"(\\d{6})","$1",["[134]"]],[,"(\\d)(\\d{6})","$1 $2",["[13-5]|2[0-79]"]],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"]],[,"(\\d{2})(\\d{4})","$1 $2",["8[125]"]],[,"(\\d{2})(\\d{5,7})","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3[59]|4[89]|6[24-6]|79|8[08]|90"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SR:[,[,,"[2-8]\\d{5,6}",,,,,,,[6,7]],[,,"(?:2[1-3]|3[0-7]|4\\d|5[2-58]|68\\d)\\d{4}",,,,"211234"],[,,"(?:7[124-7]|8[125-9])\\d{5}",,,,"7412345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"56\\d{4}",,,,"561234",,,[6]],"SR",597,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-4]|5[2-58]"]],[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],[,"(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SS:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"18\\d{7}",,,,"181234567"],[,,"(?:12|9[1257])\\d{7}",,,,"977123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ST:[,[,,"[29]\\d{6}",,,,,,,[7]],[,,"22\\d{5}",,,,"2221234"],[,,"9(?:0(?:0[5-9]|[1-9]\\d)|[89]\\d{2})\\d{3}",,,,"9812345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SV:[,[,,"[267]\\d{7}|[89]\\d{6}(?:\\d{4})?",,,,,,,[7,8,11]],[,,"2[1-6]\\d{6}",,,,"21234567",,,[8]],[,,"[67]\\d{7}",,,,"70123456",,,[8]],[,,"800\\d{4}(?:\\d{4})?",,,,"8001234",,,[7,11]],[,,"900\\d{4}(?:\\d{4})?",,,,"9001234",,,[7,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SV",503,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[267]"]],[,"(\\d{3})(\\d{4})","$1 $2",["[89]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SX:[,[,,"[5789]\\d{9}",,,,,,,[10],[7]],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}",,,,"7215425678",,,,[7]],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}",,,,"7215205678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"SX",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"721",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SY:[,[,,"[1-59]\\d{7,8}",,,,,,,[8,9],[6,7]],[,,"(?:1(?:1\\d?|4\\d|[2356])|2(?:1\\d?|[235])|3(?:[13]\\d|4)|4[13]|5[1-3])\\d{6}",,,,"112345678",,,,[6,7]],[,,"9(?:22|[3-589]\\d|6[024-9])\\d{6}",,,,"944567890",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",,1],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SZ:[,[,,"[027]\\d{7}",,,,,,,[8]],[,,"2[2-9]\\d{6}",,,,"22171234"],[,,"7[6-9]\\d{6}",,,,"76123456"],[,,"0800\\d{4}",,,,"08001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[027]"]]],,[,,,,,,,,,[-1]],,,[,,"0800\\d{4}",,,,"08001234"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TA:[,[,,"8\\d{3}",,,,,,,[4]],[,,"8\\d{3}",,,,"8999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TA",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TC:[,[,,"[5689]\\d{9}",,,,,,,[10],[7]],[,,"649(?:712|9(?:4\\d|50))\\d{4}",,,,"6497121234",,,,[7]],[,,"649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])\\d{4}",,,,"6492311234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,"64971[01]\\d{4}",,,,"6497101234",,,,[7]],"TC",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"649",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TD:[,[,,"[2679]\\d{7}",,,,,,,[8]],[,,"22(?:[3789]0|5[0-5]|6[89])\\d{4}",,,,"22501234"],[,,"(?:6[023568]\\d|77\\d|9\\d{2})\\d{5}",,,,"63012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TG:[,[,,"[279]\\d{7}",,,,,,,[8]],[,,"2(?:2[2-7]|3[23]|44|55|66|77)\\d{5}",,,,"22212345"],[,,"(?:7[09]|9[0-36-9])\\d{6}",,,,"90112345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TG",228,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TH:[,[,,"1\\d{8,9}|[2-9]\\d{7,8}",,,,,,,[8,9,10]],[,,"(?:2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}",,,,"21234567",,,[8]],[,,"(?:14|6[1-6]|[89]\\d)\\d{7}",,,,"812345678",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"1900\\d{6}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"6[08]\\d{7}",,,,"601234567",,,[9]],"TH",66,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"([13-9]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["14|[3-9]"],"0$1"],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0","1[89]00"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TJ:[,[,,"[3-57-9]\\d{8}",,,,,,,[9],[3,5,7]],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}",,,,"372123456",,,,[3,5,7]],[,,"(?:41[18]|(?:5[05]|77|88|9[0-35-9])\\d)\\d{6}",,,,"917123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TJ",992,"810","8",,,"8",,"8~10",,[[,"([349]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],,,1],[,"([457-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[148]|[578]|9(?:[0235-9]|1[59])"],,,1],[,"(331700)(\\d)(\\d{2})","$1 $2 $3",["331","3317","33170","331700"],,,1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"],,,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TK:[,[,,"[2-47]\\d{3,6}",,,,,,,[4,5,6,7]],[,,"(?:2[2-4]|[34]\\d)\\d{2,5}",,,,"3101"],[,,"7[2-4]\\d{2,5}",,,,"7290"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TK",690,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TL:[,[,,"[2-489]\\d{6}|7\\d{6,7}",,,,,,,[7,8]],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}",,,,"2112345",,,[7]],[,,"7[3-8]\\d{6}",,,,"77212345",,,[8]],[,,"80\\d{5}",,,,"8012345",,,[7]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,"70\\d{5}",,,,"7012345",,,[7]],[,,,,,,,,,[-1]],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],[,"(\\d{4})(\\d{4})","$1 $2",["7[3-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TM:[,[,,"[1-6]\\d{7}",,,,,,,[8]],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}",,,,"12345678"],[,,"6[1-9]\\d{6}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["13|[2-5]"],"(8 $1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TN:[,[,,"[2-57-9]\\d{7}",,,,,,,[8]],[,,"3(?:[012]\\d|6[0-4]|91)\\d{5}|7\\d{7}|81200\\d{3}",,,,"71234567"],[,,"(?:[259]\\d|4[0-6])\\d{6}",,,,"20123456"],[,,"8010\\d{4}",,,,"80101234"],[,,"88\\d{6}",,,,"88123456"],[,,"8[12]10\\d{4}",,,,"81101234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TO:[,[,,"[02-8]\\d{4,6}",,,,,,,[5,7]],[,,"(?:2\\d|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])\\d{3}",,,,"20123",,,[5]],[,,"(?:7[578]|8[47-9])\\d{5}",,,,"7715123",,,[7]],[,,"0800\\d{3}",,,,"0800222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[1-6]|7[0-4]|8[05]"]],[,"(\\d{3})(\\d{4})","$1 $2",["7[5-9]|8[47-9]"]],[,"(\\d{4})(\\d{3})","$1 $2",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TR:[,[,,"[2-589]\\d{9}|444\\d{4}",,,,,,,[7,10]],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}",,,,"2123456789",,,[10]],[,,"5(?:(?:0[1-7]|22|[34]\\d|5[1-59]|9[246])\\d{2}|1616|6161)\\d{5}",,,,"5012345678",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4(?:[0-35-9]|4[0-35-9])"],"(0$1)",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[02-69]|16)"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["51|[89]"],"0$1",,1],[,"(444)(\\d{1})(\\d{3})","$1 $2 $3",["444"],,,1]],,[,,"512\\d{7}",,,,"5123456789",,,[10]],,,[,,"444\\d{4}",,,,"4441444",,,[7]],[,,"444\\d{4}|850\\d{7}",,,,"4441444"],,,[,,,,,,,,,[-1]]],TT:[,[,,"[589]\\d{9}",,,,,,,[10],[7]],[,,"868(?:2(?:01|[23]\\d)|6(?:0[7-9]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}",,,,"8682211234",,,,[7]],[,,"868(?:2(?:6[6-9]|[789]\\d)|3(?:0[1-9]|1[02-9]|[2-9]\\d)|4[6-9]\\d|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}",,,,"8682911234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"TT",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"868",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"868619\\d{4}",,,,"8686191234",,,,[7]]],TV:[,[,,"[279]\\d{4,6}",,,,,,,[5,6,7]],[,,"2[02-9]\\d{3}",,,,"20123",,,[5]],[,,"(?:70\\d|90)\\d{4}",,,,"901234",,,[6,7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TV",688,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TW:[,[,,"2\\d{6,8}|[3-689]\\d{7,8}|7\\d{7,9}",,,,,,,[7,8,9,10]],[,,"(?:2(?:[235-8]\\d{3}|4\\d{2,3})|3[2-9]\\d{2}|4(?:[239]\\d|[78])\\d{2}|5[2-8]\\d{2}|6[235-79]\\d{2}|7[1-9]\\d{2}|8(?:2(?:3\\d|66)|[7-9]\\d{2}))\\d{4}",,,,"221234567",,,[8,9]],[,,"9[0-8]\\d{7}",,,,"912345678",,,[9]],[,,"80[0-79]\\d{6}",,,,"800123456",,,[9]],[,,"20(?:2|[013-9]\\d{2})\\d{4}",,,,"203123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"99\\d{7}",,,,"990123456",,,[9]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"TW",886,"0(?:0[25679]|19)","0","#",,"0",,,,[[,"(20)(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],[,"([258]0)(\\d{3})(\\d{4})","$1 $2 $3",["20[013-9]|50[0-46-9]|80[0-79]"],"0$1"],[,"([2-8])(\\d{3,4})(\\d{4})","$1 $2 $3",["[25][2-8]|[346]|[78][1-9]"],"0$1"],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],[,"(70)(\\d{4})(\\d{4})","$1 $2 $3",["70"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"50[0-46-9]\\d{6}",,,,"500123456",,,[9]],,,[,,,,,,,,,[-1]]],TZ:[,[,,"\\d{9}",,,,,,,[7,9]],[,,"2[2-8]\\d{7}",,,,"222345678"],[,,"(?:6[2-9]|7[13-9])\\d{7}",,,,"621234567",,,[9]],[,,"80[08]\\d{6}",,,,"800123456",,,[9]],[,,"90\\d{7}",,,,"900123456",,,[9]],[,,"8(?:40|6[01])\\d{6}",,,,"840123456",,,[9]],[,,,,,,,,,[-1]],[,,"41\\d{7}",,,,"412345678",,,[9]],"TZ",255,"00[056]","0",,,"0",,,,[[,"([24]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],[,"([67]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"],[,"([89]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"(?:8(?:[04]0|6[01])|90\\d)\\d{6}",,,,"800123456",,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UA:[,[,,"[3-9]\\d{8}",,,,,,,[9],[5,6,7]],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}",,,,"311234567",,,,[5,6,7]],[,,"(?:39|50|6[36-8]|7[1-3]|9[1-9])\\d{7}",,,,"391234567"],[,,"800\\d{6}",,,,"800123456"],[,,"900[2-49]\\d{5}",,,,"900212345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"89[1-579]\\d{6}",,,,"891234567"],"UA",380,"00","0",,,"0",,"0~0",,[[,"([3-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|[67][37])|6[36-8]|7|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|7|9[1-9]"],"0$1"],[,"([3-689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["(?:3[1-8]|4[136-8])2|5(?:[12457]2|6[24])|6(?:[12][29]|[49]2|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[12][29]|[49]2|5[24])|8[0-8]|90"],"0$1"],[,"([3-6]\\d{3})(\\d{5})","$1 $2",["3(?:[1-46-8]|5[013-9])|4(?:[137][013-9]|[45][6-9]|6|8[4-6])|5(?:[1245][013-9]|3|6[0135689]|7[4-6])|6(?:[12][13-8]|[49][013-9]|5[0135-9])","3(?:[1-46-8](?:[013-9]|22)|5[013-9])|4(?:[137][013-9]|[45][6-9]|6(?:[013-9]|22)|8[4-6])|5(?:[1245][013-9]|3|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][13-8]|[49][013-9]|5[0135-9])"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UG:[,[,,"\\d{9}",,,,,,,[9],[5,6,7]],[,,"20(?:[0147]\\d{3}|2(?:40|[5-9]\\d)\\d|3(?:0[0-4]|[2367]\\d)\\d|5[0-4]\\d{2}|6(?:00[0-2]|30[0-4]|[5-9]\\d{2})|8[0-2]\\d{2})\\d{3}|[34]\\d{8}",,,,"312345678",,,,[5,6,7]],[,,"7(?:0[0-7]\\d|[1578]\\d{2}|2(?:[03]\\d|60)|30\\d|4[0-4]\\d|9(?:[0-6]\\d|74))\\d{5}",,,,"712345678"],[,,"800[123]\\d{5}",,,,"800123456"],[,,"90[123]\\d{6}",,,,"901123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{3})(\\d{6})","$1 $2",["20[0-8]|4(?:6[45]|[7-9])|[7-9]","20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])|[7-9]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["3|4(?:[1-5]|6[0-36-9])"],"0$1"],[,"(2024)(\\d{5})","$1 $2",["202","2024"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],US:[,[,,"[2-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}",,,,"2015550123",,,,[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}",,,,"2015550123",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,,,1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,,,1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UY:[,[,,"[2489]\\d{6,7}",,,,,,,[7,8]],[,,"2\\d{7}|4[2-7]\\d{6}",,,,"21231234",,,[8],[7]],[,,"9[1-9]\\d{6}",,,,"94231234",,,[8]],[,,"80[05]\\d{4}",,,,"8001234",,,[7]],[,,"90[0-8]\\d{4}",,,,"9001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UY",598,"0(?:1[3-9]\\d|0)","0"," int. ",,"0",,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[24]"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9[1-9]"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["[89]0"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UZ:[,[,,"[679]\\d{8}",,,,,,,[9],[7]],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d{2}|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12]\\d|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}",,,,"662345678",,,,[7]],[,,"6(?:1(?:2(?:98|2[01])|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:11\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4])|7\\d{2})|5(?:19[01]|2(?:27|9[26])|30\\d|59\\d|7\\d{2})|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79]\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3]\\d)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|5\\d|3[01]|7[0-4])|5[67]\\d|6(?:2[0-26]|8\\d)|7\\d{2}))\\d{4}|7(?:0\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078])|9[4-6]\\d)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[05629]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07])))\\d{4}|9[0-57-9]\\d{7}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UZ",998,"810","8",,,"8",,"8~10",,[[,"([679]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[679]"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VA:[,[,,"(?:0(?:878\\d{5}|6698\\d{5})|[1589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9}))",,,,,,,[6,8,9,10,11]],[,,"06698\\d{5}",,,,"0669812345",,,[10]],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})",,,,"3123456789",,,[9,10,11]],[,,"80(?:0\\d{6}|3\\d{3})",,,,"800123456",,,[6,9]],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{6}|[17]\\d{3})",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"VA",39,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,"848\\d{6}",,,,"848123456",,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VC:[,[,,"[5789]\\d{9}",,,,,,,[10],[7]],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}",,,,"7842661234",,,,[7]],[,,"784(?:4(?:3[0-5]|5[45]|89|9[0-58])|5(?:2[6-9]|3[0-4]))\\d{4}",,,,"7844301234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VC",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"784",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VE:[,[,,"[24589]\\d{9}",,,,,,,[10],[7]],[,,"(?:2(?:12|3[457-9]|[58][1-9]|[467]\\d|9[1-6])|50[01])\\d{7}",,,,"2121234567",,,,[7]],[,,"4(?:1[24-8]|2[46])\\d{7}",,,,"4121234567"],[,,"800\\d{7}",,,,"8001234567"],[,,"900\\d{7}",,,,"9001234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",,"0$1","$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VG:[,[,,"[2589]\\d{9}",,,,,,,[10],[7]],[,,"284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}|496[0-5]\\d{3})",,,,"2842291234",,,,[7]],[,,"284(?:(?:3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|99)|54[0-57])\\d{4}|496[6-9]\\d{3})",,,,"2843001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VG",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"284",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VI:[,[,,"[3589]\\d{9}",,,,,,,[10],[7]],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VI",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"340",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VN:[,[,,"1\\d{6,9}|2\\d{9}|6\\d{6,7}|7\\d{6}|8\\d{6,8}|9\\d{8}",,,,,,,[7,8,9,10]],[,,"2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-7]|9[0-4679])\\d{7}",,,,"2101234567",,,[10]],[,,"(?:9\\d|1(?:2\\d|6[2-9]|8[68]|99))\\d{7}|8(?:6[89]|8\\d|9[89])\\d{6}",,,,"912345678",,,[9,10]],[,,"1800\\d{4,6}",,,,"1800123456",,,[8,9,10]],[,,"1900\\d{4,6}",,,,"1900123456",,,[8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VN",84,"00","0",,,"0",,,,[[,"([17]99)(\\d{4})","$1 $2",["[17]99"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",,1],[,"(80)(\\d{5})","$1 $2",["80"],"0$1",,1],[,"(69\\d)(\\d{4,5})","$1 $2",["69"],"0$1",,1],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2[0-35-79]"],"0$1",,1],[,"([89]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8(?:8|9[89])|9"],"0$1",,1],[,"(1[2689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[26]|8[68]|99)"],"0$1",,1],[,"(86[89])(\\d{3})(\\d{3})","$1 $2 $3",["86[89]"],"0$1",,1],[,"(1[89]00)(\\d{4,6})","$1 $2",["1[89]0","1[89]00"],"$1",,1]],,[,,,,,,,,,[-1]],,,[,,"[17]99\\d{4}|69\\d{5,6}",,,,"1992000",,,[7,8]],[,,"[17]99\\d{4}|69\\d{5,6}|80\\d{5}",,,,"1992000",,,[7,8]],,,[,,,,,,,,,[-1]]],VU:[,[,,"[2-57-9]\\d{4,6}",,,,,,,[5,7]],[,,"(?:2[02-9]\\d|3(?:[5-7]\\d|8[0-8])|48[4-9]|88\\d)\\d{2}",,,,"22123",,,[5]],[,,"(?:5(?:7[2-5]|[0-689]\\d)|7[013-7]\\d)\\d{4}",,,,"5912345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"3[03]\\d{3}|900\\d{4}",,,,"30123"],,,[,,,,,,,,,[-1]]],WF:[,[,,"[4-8]\\d{5}",,,,,,,[6]],[,,"(?:50|68|72)\\d{4}",,,,"501234"],[,,"(?:50|68|72|8[23])\\d{4}",,,,"501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WF",681,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"[48]0\\d{4}",,,,"401234"]],WS:[,[,,"[2-8]\\d{4,6}",,,,,,,[5,6,7]],[,,"(?:[2-5]\\d|6[1-9]|84\\d{2})\\d{3}",,,,"22123",,,[5,7]],[,,"(?:60|7[25-7]\\d)\\d{4}",,,,"601234",,,[6,7]],[,,"800\\d{3}",,,,"800123",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WS",685,"0",,,,,,,,[[,"(8\\d{2})(\\d{3,4})","$1 $2",["8"]],[,"(7\\d)(\\d{5})","$1 $2",["7"]],[,"(\\d{5})","$1",["[2-6]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],XK:[,[,,"[23][89]\\d{6,7}|4[3-79]\\d{6}|[89]00\\d{5}",,,,,,,[8,9]],[,,"(?:2[89]0?|3(?:8|90?))\\d{6}",,,,"28012345"],[,,"4[3-79]\\d{6}",,,,"43201234",,,[8]],[,,"800\\d{5}",,,,"80001234",,,[8]],[,,"900\\d{5}",,,,"90001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"XK",383,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[23][89]|4[3-79]"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["[89]00"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YE:[,[,,"[1-7]\\d{6,8}",,,,,,,[7,8,9],[6]],[,,"(?:1(?:7\\d|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68])\\d{5}",,,,"1234567",,,[7,8],[6]],[,,"7[0137]\\d{7}",,,,"712345678",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YE",967,"00","0",,,"0",,,,[[,"([1-7])(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],[,"(7\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7[0137]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YT:[,[,,"[268]\\d{8}",,,,,,,[9]],[,,"269(?:0[67]|5[01]|6\\d|[78]0)\\d{4}",,,,"269601234"],[,,"639(?:0[0-79]|1[019]|[26]\\d|3[09]|[45]0|7[06-9]|9[04-79])\\d{4}",,,,"639012345"],[,,"80\\d{7}",,,,"801234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YT",262,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"269|63",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZA:[,[,,"[1-79]\\d{8}|8\\d{4,8}",,,,,,,[5,6,7,8,9]],[,,"(?:1[0-8]|2[1-378]|3[1-69]|4\\d|5[1346-8])\\d{7}",,,,"101234567",,,[9]],[,,"(?:6\\d|7[0-46-9])\\d{7}|8(?:[1-4]\\d{1,5}|5\\d{5})\\d{2}",,,,"711234567"],[,,"80\\d{7}",,,,"801234567",,,[9]],[,,"86[2-9]\\d{6}|9[0-2]\\d{7}",,,,"862345678",,,[9]],[,,"860\\d{6}",,,,"860123456",,,[9]],[,,,,,,,,,[-1]],[,,"87\\d{7}",,,,"871234567",,,[9]],"ZA",27,"00","0",,,"0",,,,[[,"(860)(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],[,"(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-79]|8(?:[0-57]|6[1-9])"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"861\\d{6}",,,,"861123456",,,[9]],,,[,,,,,,,,,[-1]]],ZM:[,[,,"[289]\\d{8}",,,,,,,[9],[6,7]],[,,"21[1-8]\\d{6}",,,,"211234567",,,,[6,7]],[,,"9[4-9]\\d{7}",,,,"955123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ZM",260,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4})","$1 $2",,"$1"],[,"([1-8])(\\d{2})(\\d{4})","$1 $2 $3",["[1-8]"],"$1"],[,"([29]\\d)(\\d{7})","$1 $2",["[29]"],"0$1"],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZW:[,[,,"2(?:[0-57-9]\\d{3,8}|6(?:[14]\\d{7}|\\d{4}))|[13-69]\\d{4,9}|7\\d{8}|8[06]\\d{5,8}",,,,,,,[5,6,7,8,9,10],[3,4]],[,,"(?:2(?:0(?:4\\d|5\\d{2})|2[278]\\d|48\\d|7(?:[1-7]\\d|[089]\\d{2})|8(?:[2-57-9]|[146]\\d{2})|98)|3(?:08|17|3[78]|7(?:[19]|[56]\\d)|8[37]|98)|5[15][78]|6(?:28\\d{2}|37|6[78]|75\\d|98|8(?:7\\d|8)))\\d{3}|(?:2(?:1[39]|2[0157]|31|[56][14]|7[35]|84)|329)\\d{7}|(?:1(?:3\\d{2}|[4-8]|9\\d)|2(?:0\\d{2}|12|292|[569]\\d)|3(?:[26]|[013459]\\d)|5(?:0|1[2-4]|26|[37]2|5\\d{2}|[689]\\d)|6(?:[39]|[01246]\\d|[78]\\d{2}))\\d{3}|(?:29\\d|39|54)\\d{6}|(?:(?:25|54)83\\d|2582\\d{2}|65[2-8])\\d{2}|(?:4\\d{6,7}|9[2-9]\\d{4,5})",,,,"1312345",,,,[3,4]],[,,"(?:7(?:1[2-8]|3[2-9]|7[1-9]|8[2-5])|8644)\\d{6}",,,,"712345678",,,[9,10]],[,,"80(?:[01]\\d|20|8[0-8])\\d{3}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"86(?:1[12]|30|55|77|8[368])\\d{6}",,,,"8686123456",,,[10]],"ZW",263,"00","0",,,"0",,,,[[,"([49])(\\d{3})(\\d{2,4})","$1 $2 $3",["4|9[2-9]"],"0$1"],[,"(7\\d)(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(86\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["86[24]"],"0$1"],[,"([2356]\\d{2})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:[09]8|17|3[78]|7[1569]|8[37])|5[15][78]|6(?:[29]8|37|[68][78]|75)"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|31|[56][14]|7[35]|84)|329"],"0$1"],[,"([1-356]\\d)(\\d{3,5})","$1 $2",["1[3-9]|2[02569]|3[0-69]|5[05689]|6"],"0$1"],[,"([235]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[23]9|54"],"0$1"],[,"([25]\\d{3})(\\d{3,5})","$1 $2",["(?:25|54)8","258[23]|5483"],"0$1"],[,"(8\\d{3})(\\d{6})","$1 $2",["86"],"0$1"],[,"(80\\d)(\\d{4})","$1 $2",["80"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],800:[,[,,"\\d{8}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{8}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",800,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],808:[,[,,"\\d{8}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{8}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",808,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],870:[,[,,"[35-7]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"(?:[356]\\d|7[6-8])\\d{7}",,,,"301234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",870,,,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],878:[,[,,"1\\d{11}",,,,,,,[12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"10\\d{10}",,,,"101234567890"],"001",878,,,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],881:[,[,,"[67]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"[67]\\d{8}",,,,"612345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",881,,,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],882:[,[,,"[13]\\d{6,11}",,,,,,,[7,8,9,10,11,12]],[,,,,,,,,,[-1]],[,,"3(?:2\\d{3}|37\\d{2}|4(?:2|7\\d{3}))\\d{4}",,,,"3421234",,,[7,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15678]|9[0689])\\d{4}|6\\d{5,10})|3(?:45|9\\d{3})\\d{7}",,,,"390123456789"],"001",882,,,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],[,"(\\d{2})(\\d{5})","$1 $2",["16|342"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["348"]],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["16|39"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"348[57]\\d{7}",,,,"34851234567",,,[11]]],883:[,[,,"51\\d{7}(?:\\d{3})?",,,,,,,[9,12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"51(?:00\\d{5}(?:\\d{3})?|[13]0\\d{8})",,,,"510012345"],"001",883,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"]],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],888:[,[,,"\\d{11}",,,,,,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",888,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"\\d{11}",,,,"12345678901"],,,[,,,,,,,,,[-1]]],979:[,[,,"\\d{9}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{9}",,,,"123456789"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",979,,,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]]};i18n.phonenumbers.PhoneNumberUtil=function(){this.regionToMetadataMap={}};goog.addSingletonGetter(i18n.phonenumbers.PhoneNumberUtil);i18n.phonenumbers.Error={INVALID_COUNTRY_CODE:"Invalid country calling code",NOT_A_NUMBER:"The string supplied did not seem to be a phone number",TOO_SHORT_AFTER_IDD:"Phone number too short after IDD",TOO_SHORT_NSN:"The string supplied is too short to be a phone number",TOO_LONG:"The string supplied is too long to be a phone number"};i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_=1;i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_=2;i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_FOR_NSN_=17;i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_COUNTRY_CODE_=3;i18n.phonenumbers.PhoneNumberUtil.MAX_INPUT_STRING_LENGTH_=250;i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_="ZZ";i18n.phonenumbers.PhoneNumberUtil.COLOMBIA_MOBILE_TO_FIXED_LINE_PREFIX_="3";i18n.phonenumbers.PhoneNumberUtil.MOBILE_TOKEN_MAPPINGS_={52:"1",54:"9"};i18n.phonenumbers.PhoneNumberUtil.GEO_MOBILE_COUNTRIES_=[52,54,55];i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN="+";i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_="*";i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_=";ext=";i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_="tel:";i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_=";phone-context=";i18n.phonenumbers.PhoneNumberUtil.RFC3966_ISDN_SUBADDRESS_=";isub=";i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","+":i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN,"*":"*","#":"#"};i18n.phonenumbers.PhoneNumberUtil.ALPHA_MAPPINGS_={A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"};i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"};i18n.phonenumbers.PhoneNumberUtil.ALL_PLUS_NUMBER_GROUPING_SYMBOLS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z","-":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","/":"/","":"/"," ":" ","":" ","":" ",".":".","":"."};i18n.phonenumbers.PhoneNumberUtil.SINGLE_INTERNATIONAL_PREFIX_=/[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?/;i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION="-x-- ().\\[\\]/~";i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_="0-9---";i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_="A-Za-z";i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_="+";i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_PATTERN=new RegExp("["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]+");i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN=new RegExp("^["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]+");i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_="["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]+";i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN=new RegExp("(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"])");i18n.phonenumbers.PhoneNumberUtil.VALID_START_CHAR_PATTERN_=new RegExp("["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]");i18n.phonenumbers.PhoneNumberUtil.SECOND_NUMBER_START_PATTERN_=/[\\\/] *x/;i18n.phonenumbers.PhoneNumberUtil.UNWANTED_END_CHAR_PATTERN_=new RegExp("[^"+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_+"#]+$");i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_=/(?:.*?[A-Za-z]){3}.*/;i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_PHONE_NUMBER_PATTERN_="["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{"+i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_+"}";i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_="["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]*(?:["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_+"]*["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]){3,}["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_+i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]*";i18n.phonenumbers.PhoneNumberUtil.DEFAULT_EXTN_PREFIX_=" ext. ";i18n.phonenumbers.PhoneNumberUtil.CAPTURING_EXTN_DIGITS_="(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{1,7})";i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERNS_FOR_PARSING_=i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_+i18n.phonenumbers.PhoneNumberUtil.CAPTURING_EXTN_DIGITS_+"|[ \\t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[;,x#~]|int|anexo|)[:\\.]?[ \\t,-]*"+i18n.phonenumbers.PhoneNumberUtil.CAPTURING_EXTN_DIGITS_+"#?|[- ]+(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{1,5})#";i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_=new RegExp("(?:"+i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERNS_FOR_PARSING_+")$","i");i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_PATTERN_=new RegExp("^"+i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_PHONE_NUMBER_PATTERN_+"$|^"+i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_+"(?:"+i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERNS_FOR_PARSING_+")?$","i");i18n.phonenumbers.PhoneNumberUtil.NON_DIGITS_PATTERN_=/\D+/;i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_=/(\$\d)/;i18n.phonenumbers.PhoneNumberUtil.NP_PATTERN_=/\$NP/;i18n.phonenumbers.PhoneNumberUtil.FG_PATTERN_=/\$FG/;i18n.phonenumbers.PhoneNumberUtil.CC_PATTERN_=/\$CC/;i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_ONLY_PREFIX_PATTERN_=/^\(?\$1\)?$/;i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY="001";i18n.phonenumbers.PhoneNumberFormat={E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3};i18n.phonenumbers.PhoneNumberType={FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1};i18n.phonenumbers.PhoneNumberUtil.MatchType={NOT_A_NUMBER:0,NO_MATCH:1,SHORT_NSN_MATCH:2,NSN_MATCH:3,EXACT_MATCH:4};i18n.phonenumbers.PhoneNumberUtil.ValidationResult={IS_POSSIBLE:0,IS_POSSIBLE_LOCAL_ONLY:4,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,INVALID_LENGTH:5,TOO_LONG:3};i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber=function(a){var b=a.search(i18n.phonenumbers.PhoneNumberUtil.VALID_START_CHAR_PATTERN_);return 0<=b?(a=a.substring(b),a=a.replace(i18n.phonenumbers.PhoneNumberUtil.UNWANTED_END_CHAR_PATTERN_,""),b=a.search(i18n.phonenumbers.PhoneNumberUtil.SECOND_NUMBER_START_PATTERN_),0<=b&&(a=a.substring(0,b))):a="",a};i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber=function(a){return a.length<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_?!1:i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_PATTERN_,a)};i18n.phonenumbers.PhoneNumberUtil.normalize=function(a){return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_,a)?i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_,!0):i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(a)};i18n.phonenumbers.PhoneNumberUtil.normalizeSB_=function(a){var b=i18n.phonenumbers.PhoneNumberUtil.normalize(a.toString());a.clear();a.append(b)};i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly=function(a){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS,!0)};i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly=function(a){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_,!0)};i18n.phonenumbers.PhoneNumberUtil.convertAlphaCharactersInNumber=function(a){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_,!1)};i18n.phonenumbers.PhoneNumberUtil.prototype.getLengthOfGeographicalAreaCode=function(a){var b=this.getMetadataForRegion(this.getRegionCodeForNumber(a));return null!=b&&(b.hasNationalPrefix()||a.hasItalianLeadingZero())&&this.isNumberGeographical(a)?this.getLengthOfNationalDestinationCode(a):0};i18n.phonenumbers.PhoneNumberUtil.prototype.getLengthOfNationalDestinationCode=function(a){if(a.hasExtension()){var b=a.clone();b.clearExtension()}else b=a;return b=this.format(b,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL).split(i18n.phonenumbers.PhoneNumberUtil.NON_DIGITS_PATTERN_),0==b[0].length&&b.shift(),2>=b.length?0:this.getNumberType(a)==i18n.phonenumbers.PhoneNumberType.MOBILE&&(a=i18n.phonenumbers.PhoneNumberUtil.getCountryMobileToken(a.getCountryCodeOrDefault()),""!=a)?b[2].length+a.length:b[1].length};i18n.phonenumbers.PhoneNumberUtil.getCountryMobileToken=function(a){return i18n.phonenumbers.PhoneNumberUtil.MOBILE_TOKEN_MAPPINGS_[a]||""};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedRegions=function(){return goog.array.filter(Object.keys(i18n.phonenumbers.metadata.countryToMetadata),function(a){return isNaN(a)})};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedGlobalNetworkCallingCodes=function(){var a=goog.array.filter(Object.keys(i18n.phonenumbers.metadata.countryToMetadata),function(a){return!isNaN(a)});return goog.array.map(a,function(a){return parseInt(a,10)})};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedCallingCodes=function(){var a=Object.keys(i18n.phonenumbers.metadata.countryCodeToRegionCodeMap);return goog.array.join(this.getSupportedGlobalNetworkCallingCodes(),goog.array.map(a,function(a){return parseInt(a,10)}))};i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_=function(a){return null!=a&&(1!=a.possibleLengthCount()||-1!=a.possibleLengthArray()[0])};i18n.phonenumbers.PhoneNumberUtil.descHasData_=function(a){return null!=a&&(a.hasExampleNumber()||i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_(a)||a.hasNationalNumberPattern())};i18n.phonenumbers.PhoneNumberUtil.getSupportedTypesForMetadata_=function(a){var b=[];return goog.object.forEach(i18n.phonenumbers.PhoneNumberType,function(c){if(c!=i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE&&c!=i18n.phonenumbers.PhoneNumberType.UNKNOWN){var d=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(a,c);i18n.phonenumbers.PhoneNumberUtil.descHasData_(d)&&b.push(c)}}),b};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedTypesForRegion=function(a){return this.isValidRegionCode_(a)?i18n.phonenumbers.PhoneNumberUtil.getSupportedTypesForMetadata_(this.getMetadataForRegion(a)):[]};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedTypesForNonGeoEntity=function(a){return a=this.getMetadataForNonGeographicalRegion(a),null==a?[]:i18n.phonenumbers.PhoneNumberUtil.getSupportedTypesForMetadata_(a)};i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_=function(a,b,c){for(var d=new goog.string.StringBuffer,e,f,g=a.length,h=0;h<g;++h)e=a.charAt(h),f=b[e.toUpperCase()],null!=f?d.append(f):c||d.append(e);return d.toString()};i18n.phonenumbers.PhoneNumberUtil.prototype.formattingRuleHasFirstGroupOnly=function(a){return 0==a.length||i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_ONLY_PREFIX_PATTERN_.test(a)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberGeographical=function(a){var b=this.getNumberType(a);return b==i18n.phonenumbers.PhoneNumberType.FIXED_LINE||b==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE||goog.array.contains(i18n.phonenumbers.PhoneNumberUtil.GEO_MOBILE_COUNTRIES_,a.getCountryCodeOrDefault())&&b==i18n.phonenumbers.PhoneNumberType.MOBILE};i18n.phonenumbers.PhoneNumberUtil.prototype.isValidRegionCode_=function(a){return null!=a&&isNaN(a)&&a.toUpperCase()in i18n.phonenumbers.metadata.countryToMetadata};i18n.phonenumbers.PhoneNumberUtil.prototype.hasValidCountryCallingCode_=function(a){return a in i18n.phonenumbers.metadata.countryCodeToRegionCodeMap};i18n.phonenumbers.PhoneNumberUtil.prototype.format=function(a,b){var c,d,e,f;return 0==a.getNationalNumber()&&a.hasRawInput()&&(c=a.getRawInputOrDefault(),0<c.length)?c:(c=a.getCountryCodeOrDefault(),d=this.getNationalSignificantNumber(a),b==i18n.phonenumbers.PhoneNumberFormat.E164)?this.prefixNumberWithCountryCallingCode_(c,i18n.phonenumbers.PhoneNumberFormat.E164,d,""):this.hasValidCountryCallingCode_(c)?(e=this.getRegionCodeForCountryCode(c),f=this.getMetadataForRegionOrCallingCode_(c,e),e=this.maybeGetFormattedExtension_(a,f,b),d=this.formatNsn_(d,f,b),this.prefixNumberWithCountryCallingCode_(c,b,d,e)):d};i18n.phonenumbers.PhoneNumberUtil.prototype.formatByPattern=function(a,b,c){var d=a.getCountryCodeOrDefault(),e=this.getNationalSignificantNumber(a),f,g,h;return this.hasValidCountryCallingCode_(d)?(f=this.getRegionCodeForCountryCode(d),f=this.getMetadataForRegionOrCallingCode_(d,f),g=this.chooseFormattingPatternForNumber_(c,e),null!=g&&(c=g.clone(),g=g.getNationalPrefixFormattingRuleOrDefault(),0<g.length&&(h=f.getNationalPrefixOrDefault(),0<h.length?(g=g.replace(i18n.phonenumbers.PhoneNumberUtil.NP_PATTERN_,h).replace(i18n.phonenumbers.PhoneNumberUtil.FG_PATTERN_,"$1"),c.setNationalPrefixFormattingRule(g)):c.clearNationalPrefixFormattingRule()),e=this.formatNsnUsingPattern_(e,c,b)),a=this.maybeGetFormattedExtension_(a,f,b),this.prefixNumberWithCountryCallingCode_(d,b,e,a)):e};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNationalNumberWithCarrierCode=function(a,b){var c=a.getCountryCodeOrDefault(),d=this.getNationalSignificantNumber(a),e,f;return this.hasValidCountryCallingCode_(c)?(e=this.getRegionCodeForCountryCode(c),f=this.getMetadataForRegionOrCallingCode_(c,e),e=this.maybeGetFormattedExtension_(a,f,i18n.phonenumbers.PhoneNumberFormat.NATIONAL),d=this.formatNsn_(d,f,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,b),this.prefixNumberWithCountryCallingCode_(c,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,d,e)):d};i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForRegionOrCallingCode_=function(a,b){return i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY==b?this.getMetadataForNonGeographicalRegion(a):this.getMetadataForRegion(b)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNationalNumberWithPreferredCarrierCode=function(a,b){return this.formatNationalNumberWithCarrierCode(a,0<a.getPreferredDomesticCarrierCodeOrDefault().length?a.getPreferredDomesticCarrierCodeOrDefault():b)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNumberForMobileDialing=function(a,b,c){var d=a.getCountryCodeOrDefault(),e;if(!this.hasValidCountryCallingCode_(d))return a.hasRawInput()?a.getRawInputOrDefault():"";e="";a=a.clone();a.clearExtension();var f=this.getRegionCodeForCountryCode(d),g=this.getNumberType(a),h=g!=i18n.phonenumbers.PhoneNumberType.UNKNOWN;if(b==f)e=g==i18n.phonenumbers.PhoneNumberType.FIXED_LINE||g==i18n.phonenumbers.PhoneNumberType.MOBILE||g==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE,"CO"==f&&g==i18n.phonenumbers.PhoneNumberType.FIXED_LINE?e=this.formatNationalNumberWithCarrierCode(a,i18n.phonenumbers.PhoneNumberUtil.COLOMBIA_MOBILE_TO_FIXED_LINE_PREFIX_):"BR"==f&&e?e=0<a.getPreferredDomesticCarrierCodeOrDefault().length?this.formatNationalNumberWithPreferredCarrierCode(a,""):"":h&&"HU"==f?e=this.getNddPrefixForRegion(f,!0)+" "+this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL):d==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_?(b=this.getMetadataForRegion(b),e=this.canBeInternationallyDialled(a)&&this.testNumberLength_(this.getNationalSignificantNumber(a),b)!=i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT?this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)):e=(f==i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY||("MX"==f||"CL"==f)&&e)&&this.canBeInternationallyDialled(a)?this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);else if(h&&this.canBeInternationallyDialled(a))return c?this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(a,i18n.phonenumbers.PhoneNumberFormat.E164);return c?e:i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly(e)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatOutOfCountryCallingNumber=function(a,b){var c,d;if(!this.isValidRegionCode_(b))return this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);if(c=a.getCountryCodeOrDefault(),d=this.getNationalSignificantNumber(a),!this.hasValidCountryCallingCode_(c))return d;if(c==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_){if(this.isNANPACountry(b))return c+" "+this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)}else if(c==this.getCountryCodeForValidRegion_(b))return this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);var e=this.getMetadataForRegion(b),f=e.getInternationalPrefixOrDefault(),g="";return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.SINGLE_INTERNATIONAL_PREFIX_,f)?g=f:e.hasPreferredInternationalPrefix()&&(g=e.getPreferredInternationalPrefixOrDefault()),e=this.getRegionCodeForCountryCode(c),e=this.getMetadataForRegionOrCallingCode_(c,e),d=this.formatNsn_(d,e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),e=this.maybeGetFormattedExtension_(a,e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),0<g.length?g+" "+c+" "+d+e:this.prefixNumberWithCountryCallingCode_(c,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL,d,e)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatInOriginalFormat=function(a,b){var c,d,e,f;if(a.hasRawInput()&&!this.hasFormattingPatternForNumber_(a))return a.getRawInputOrDefault();if(!a.hasCountryCodeSource())return this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);switch(a.getCountryCodeSource()){case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN:c=this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_IDD:c=this.formatOutOfCountryCallingNumber(a,b);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN:c=this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL).substring(1);break;default:d=this.getRegionCodeForCountryCode(a.getCountryCodeOrDefault());e=this.getNddPrefixForRegion(d,!0);c=this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);null==e||0==e.length||this.rawInputContainsNationalPrefix_(a.getRawInputOrDefault(),e,d)||(d=this.getMetadataForRegion(d),e=this.getNationalSignificantNumber(a),d=this.chooseFormattingPatternForNumber_(d.numberFormatArray(),e),null==d)||(e=d.getNationalPrefixFormattingRuleOrDefault(),f=e.indexOf("$1"),0>=f||(e=e.substring(0,f),e=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e),0!=e.length&&(c=d.clone(),c.clearNationalPrefixFormattingRule(),c=this.formatByPattern(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,[c]))))}return d=a.getRawInputOrDefault(),null!=c&&0<d.length&&(e=i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly(c),f=i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly(d),e!=f&&(c=d)),c};i18n.phonenumbers.PhoneNumberUtil.prototype.rawInputContainsNationalPrefix_=function(a,b,c){if(a=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(a),goog.string.startsWith(a,b))try{return this.isValidNumber(this.parse(a.substring(b.length),c))}catch(d){}return!1};i18n.phonenumbers.PhoneNumberUtil.prototype.hasFormattingPatternForNumber_=function(a){var b=a.getCountryCodeOrDefault(),c=this.getRegionCodeForCountryCode(b);return(b=this.getMetadataForRegionOrCallingCode_(b,c),null==b)?!1:(a=this.getNationalSignificantNumber(a),null!=this.chooseFormattingPatternForNumber_(b.numberFormatArray(),a))};i18n.phonenumbers.PhoneNumberUtil.prototype.formatOutOfCountryKeepingAlphaChars=function(a,b){var c=a.getRawInputOrDefault(),d,e,f;if(0==c.length)return this.formatOutOfCountryCallingNumber(a,b);if(d=a.getCountryCodeOrDefault(),!this.hasValidCountryCallingCode_(d))return c;if(c=i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(c,i18n.phonenumbers.PhoneNumberUtil.ALL_PLUS_NUMBER_GROUPING_SYMBOLS_,!0),e=this.getNationalSignificantNumber(a),3<e.length&&(f=c.indexOf(e.substring(0,3)),-1!=f&&(c=c.substring(f))),f=this.getMetadataForRegion(b),d==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_){if(this.isNANPACountry(b))return d+" "+c}else if(null!=f&&d==this.getCountryCodeForValidRegion_(b))return(d=this.chooseFormattingPatternForNumber_(f.numberFormatArray(),e),null==d)?c:(d=d.clone(),d.setPattern("(\\d+)(.*)"),d.setFormat("$1$2"),this.formatNsnUsingPattern_(c,d,i18n.phonenumbers.PhoneNumberFormat.NATIONAL));return e="",null!=f&&(e=f.getInternationalPrefixOrDefault(),e=i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.SINGLE_INTERNATIONAL_PREFIX_,e)?e:f.getPreferredInternationalPrefixOrDefault()),f=this.getRegionCodeForCountryCode(d),f=this.getMetadataForRegionOrCallingCode_(d,f),f=this.maybeGetFormattedExtension_(a,f,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),0<e.length?e+" "+d+" "+c+f:this.prefixNumberWithCountryCallingCode_(d,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL,c,f)};i18n.phonenumbers.PhoneNumberUtil.prototype.getNationalSignificantNumber=function(a){if(!a.hasNationalNumber())return"";var b=""+a.getNationalNumber();return a.hasItalianLeadingZero()&&a.getItalianLeadingZero()&&0<a.getNumberOfLeadingZerosOrDefault()?Array(a.getNumberOfLeadingZerosOrDefault()+1).join("0")+b:b};i18n.phonenumbers.PhoneNumberUtil.prototype.prefixNumberWithCountryCallingCode_=function(a,b,c,d){switch(b){case i18n.phonenumbers.PhoneNumberFormat.E164:return i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+a+c+d;case i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL:return i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+a+" "+c+d;case i18n.phonenumbers.PhoneNumberFormat.RFC3966:return i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_+i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+a+"-"+c+d;default:return c+d}};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNsn_=function(a,b,c,d){return b=0==b.intlNumberFormatArray().length||c==i18n.phonenumbers.PhoneNumberFormat.NATIONAL?b.numberFormatArray():b.intlNumberFormatArray(),b=this.chooseFormattingPatternForNumber_(b,a),null==b?a:this.formatNsnUsingPattern_(a,b,c,d)};i18n.phonenumbers.PhoneNumberUtil.prototype.chooseFormattingPatternForNumber_=function(a,b){for(var c,f,d=a.length,e=0;e<d;++e)if(c=a[e],f=c.leadingDigitsPatternCount(),(0==f||0==b.search(c.getLeadingDigitsPattern(f-1)))&&(f=new RegExp(c.getPattern()),i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(f,b)))return c;return null};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNsnUsingPattern_=function(a,b,c,d){var e=b.getFormatOrDefault(),f=new RegExp(b.getPattern()),g=b.getDomesticCarrierCodeFormattingRuleOrDefault();return c==i18n.phonenumbers.PhoneNumberFormat.NATIONAL&&null!=d&&0<d.length&&0<g.length?(b=g.replace(i18n.phonenumbers.PhoneNumberUtil.CC_PATTERN_,d),e=e.replace(i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_,b),a=a.replace(f,e)):(b=b.getNationalPrefixFormattingRuleOrDefault(),a=c==i18n.phonenumbers.PhoneNumberFormat.NATIONAL&&null!=b&&0<b.length?a.replace(f,e.replace(i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_,b)):a.replace(f,e)),c==i18n.phonenumbers.PhoneNumberFormat.RFC3966&&(a=a.replace(new RegExp("^"+i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_),""),a=a.replace(new RegExp(i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_,"g"),"-")),a};i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumber=function(a){return this.getExampleNumberForType(a,i18n.phonenumbers.PhoneNumberType.FIXED_LINE)};i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumberForType=function(a,b){if(!this.isValidRegionCode_(a))return null;var c=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(this.getMetadataForRegion(a),b);try{if(c.hasExampleNumber())return this.parse(c.getExampleNumber(),a)}catch(d){}return null};i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumberForNonGeoEntity=function(a){var b=this.getMetadataForNonGeographicalRegion(a);if(null!=b&&(b=goog.array.find([b.getMobile(),b.getTollFree(),b.getSharedCost(),b.getVoip(),b.getVoicemail(),b.getUan(),b.getPremiumRate()],function(a,b){return a.hasExampleNumber()}),null!=b))try{return this.parse("+"+a+b.getExampleNumber(),"ZZ")}catch(c){}return null};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeGetFormattedExtension_=function(a,b,c){return a.hasExtension()&&0!=a.getExtension().length?c==i18n.phonenumbers.PhoneNumberFormat.RFC3966?i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_+a.getExtension():b.hasPreferredExtnPrefix()?b.getPreferredExtnPrefix()+a.getExtensionOrDefault():i18n.phonenumbers.PhoneNumberUtil.DEFAULT_EXTN_PREFIX_+a.getExtensionOrDefault():""};i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_=function(a,b){switch(b){case i18n.phonenumbers.PhoneNumberType.PREMIUM_RATE:return a.getPremiumRate();case i18n.phonenumbers.PhoneNumberType.TOLL_FREE:return a.getTollFree();case i18n.phonenumbers.PhoneNumberType.MOBILE:return a.getMobile();case i18n.phonenumbers.PhoneNumberType.FIXED_LINE:case i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE:return a.getFixedLine();case i18n.phonenumbers.PhoneNumberType.SHARED_COST:return a.getSharedCost();case i18n.phonenumbers.PhoneNumberType.VOIP:return a.getVoip();case i18n.phonenumbers.PhoneNumberType.PERSONAL_NUMBER:return a.getPersonalNumber();case i18n.phonenumbers.PhoneNumberType.PAGER:return a.getPager();case i18n.phonenumbers.PhoneNumberType.UAN:return a.getUan();case i18n.phonenumbers.PhoneNumberType.VOICEMAIL:return a.getVoicemail();default:return a.getGeneralDesc()}};i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberType=function(a){var b=this.getRegionCodeForNumber(a);return(b=this.getMetadataForRegionOrCallingCode_(a.getCountryCodeOrDefault(),b),null==b)?i18n.phonenumbers.PhoneNumberType.UNKNOWN:(a=this.getNationalSignificantNumber(a),this.getNumberTypeHelper_(a,b))};i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberTypeHelper_=function(a,b){return this.isNumberMatchingDesc_(a,b.getGeneralDesc())?this.isNumberMatchingDesc_(a,b.getPremiumRate())?i18n.phonenumbers.PhoneNumberType.PREMIUM_RATE:this.isNumberMatchingDesc_(a,b.getTollFree())?i18n.phonenumbers.PhoneNumberType.TOLL_FREE:this.isNumberMatchingDesc_(a,b.getSharedCost())?i18n.phonenumbers.PhoneNumberType.SHARED_COST:this.isNumberMatchingDesc_(a,b.getVoip())?i18n.phonenumbers.PhoneNumberType.VOIP:this.isNumberMatchingDesc_(a,b.getPersonalNumber())?i18n.phonenumbers.PhoneNumberType.PERSONAL_NUMBER:this.isNumberMatchingDesc_(a,b.getPager())?i18n.phonenumbers.PhoneNumberType.PAGER:this.isNumberMatchingDesc_(a,b.getUan())?i18n.phonenumbers.PhoneNumberType.UAN:this.isNumberMatchingDesc_(a,b.getVoicemail())?i18n.phonenumbers.PhoneNumberType.VOICEMAIL:this.isNumberMatchingDesc_(a,b.getFixedLine())?b.getSameMobileAndFixedLinePattern()||this.isNumberMatchingDesc_(a,b.getMobile())?i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE:i18n.phonenumbers.PhoneNumberType.FIXED_LINE:!b.getSameMobileAndFixedLinePattern()&&this.isNumberMatchingDesc_(a,b.getMobile())?i18n.phonenumbers.PhoneNumberType.MOBILE:i18n.phonenumbers.PhoneNumberType.UNKNOWN:i18n.phonenumbers.PhoneNumberType.UNKNOWN};i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForRegion=function(a){var b,c;if(null==a)return null;if(a=a.toUpperCase(),b=this.regionToMetadataMap[a],null==b){if(b=new goog.proto2.PbLiteSerializer,c=i18n.phonenumbers.metadata.countryToMetadata[a],null==c)return null;b=b.deserialize(i18n.phonenumbers.PhoneMetadata.getDescriptor(),c);this.regionToMetadataMap[a]=b}return b};i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForNonGeographicalRegion=function(a){return this.getMetadataForRegion(""+a)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberMatchingDesc_=function(a,b){var c=a.length;return 0<b.possibleLengthCount()&&-1==goog.array.indexOf(b.possibleLengthArray(),c)?!1:i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(b.getNationalNumberPatternOrDefault(),a)};i18n.phonenumbers.PhoneNumberUtil.prototype.isValidNumber=function(a){var b=this.getRegionCodeForNumber(a);return this.isValidNumberForRegion(a,b)};i18n.phonenumbers.PhoneNumberUtil.prototype.isValidNumberForRegion=function(a,b){var c=a.getCountryCodeOrDefault(),d=this.getMetadataForRegionOrCallingCode_(c,b);return null==d||i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY!=b&&c!=this.getCountryCodeForValidRegion_(b)?!1:(c=this.getNationalSignificantNumber(a),this.getNumberTypeHelper_(c,d)!=i18n.phonenumbers.PhoneNumberType.UNKNOWN)};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForNumber=function(a){if(null==a)return null;var b=a.getCountryCodeOrDefault();return b=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[b],null==b?null:1==b.length?b[0]:this.getRegionCodeForNumberFromRegionList_(a,b)};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForNumberFromRegionList_=function(a,b){for(var g,c=this.getNationalSignificantNumber(a),d,e=b.length,f=0;f<e;f++)if(d=b[f],g=this.getMetadataForRegion(d),g.hasLeadingDigits()){if(0==c.search(g.getLeadingDigits()))return d}else if(this.getNumberTypeHelper_(c,g)!=i18n.phonenumbers.PhoneNumberType.UNKNOWN)return d;return null};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForCountryCode=function(a){return a=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[a],null==a?i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_:a[0]};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodesForCountryCode=function(a){return a=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[a],null==a?[]:a};i18n.phonenumbers.PhoneNumberUtil.prototype.getCountryCodeForRegion=function(a){return this.isValidRegionCode_(a)?this.getCountryCodeForValidRegion_(a):0};i18n.phonenumbers.PhoneNumberUtil.prototype.getCountryCodeForValidRegion_=function(a){var b=this.getMetadataForRegion(a);if(null==b)throw Error("Invalid region code: "+a);return b.getCountryCodeOrDefault()};i18n.phonenumbers.PhoneNumberUtil.prototype.getNddPrefixForRegion=function(a,b){var c=this.getMetadataForRegion(a);return null==c?null:(c=c.getNationalPrefixOrDefault(),0==c.length)?null:(b&&(c=c.replace("~","")),c)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNANPACountry=function(a){return null!=a&&goog.array.contains(i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_],a.toUpperCase())};i18n.phonenumbers.PhoneNumberUtil.prototype.isAlphaNumber=function(a){return i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(a)?(a=new goog.string.StringBuffer(a),this.maybeStripExtension(a),i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_,a.toString())):!1};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumber=function(a){return a=this.isPossibleNumberWithReason(a),a==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE||a==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE_LOCAL_ONLY};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberForType=function(a,b){var c=this.isPossibleNumberForTypeWithReason(a,b);return c==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE||c==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE_LOCAL_ONLY};i18n.phonenumbers.PhoneNumberUtil.prototype.testNumberLength_=function(a,b){return this.testNumberLengthForType_(a,b,i18n.phonenumbers.PhoneNumberType.UNKNOWN)};i18n.phonenumbers.PhoneNumberUtil.prototype.testNumberLengthForType_=function(a,b,c){var d=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(b,c),e=0==d.possibleLengthCount()?b.getGeneralDesc().possibleLengthArray():d.possibleLengthArray();if(d=d.possibleLengthLocalOnlyArray(),c==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE)if(i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_(i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(b,i18n.phonenumbers.PhoneNumberType.FIXED_LINE)))c=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(b,i18n.phonenumbers.PhoneNumberType.MOBILE),i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_(c)&&(e=e.concat(0==c.possibleLengthCount()?b.getGeneralDesc().possibleLengthArray():c.possibleLengthArray()),goog.array.sort(e),0==d.length?d=c.possibleLengthLocalOnlyArray():(d=d.concat(c.possibleLengthLocalOnlyArray()),goog.array.sort(d)));else return this.testNumberLengthForType_(a,b,i18n.phonenumbers.PhoneNumberType.MOBILE);return-1==e[0]?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_LENGTH:(a=a.length,-1<goog.array.indexOf(d,a))?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE_LOCAL_ONLY:(b=e[0],b==a?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE:b>a?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT:e[e.length-1]<a?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_LONG:-1<goog.array.indexOf(e,a,1)?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE:i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_LENGTH)};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberWithReason=function(a){return this.isPossibleNumberForTypeWithReason(a,i18n.phonenumbers.PhoneNumberType.UNKNOWN)};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberForTypeWithReason=function(a,b){var c=this.getNationalSignificantNumber(a),d=a.getCountryCodeOrDefault(),e;return this.hasValidCountryCallingCode_(d)?(e=this.getRegionCodeForCountryCode(d),d=this.getMetadataForRegionOrCallingCode_(d,e),this.testNumberLengthForType_(c,d,b)):i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_COUNTRY_CODE};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberString=function(a,b){try{return this.isPossibleNumber(this.parse(a,b))}catch(c){return!1}};i18n.phonenumbers.PhoneNumberUtil.prototype.truncateTooLongNumber=function(a){if(this.isValidNumber(a))return!0;var b=a.clone(),c=a.getNationalNumberOrDefault();do if(c=Math.floor(c/10),b.setNationalNumber(c),0==c||this.isPossibleNumberWithReason(b)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT)return!1;while(!this.isValidNumber(b));return a.setNationalNumber(c),!0};i18n.phonenumbers.PhoneNumberUtil.prototype.extractCountryCode=function(a,b){var c=a.toString(),d,e,f;if(0==c.length||"0"==c.charAt(0))return 0;for(e=c.length,f=1;f<=i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_COUNTRY_CODE_&&f<=e;++f)if(d=parseInt(c.substring(0,f),10),d in i18n.phonenumbers.metadata.countryCodeToRegionCodeMap)return b.append(c.substring(f)),d;return 0};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeExtractCountryCode=function(a,b,c,d,e){var f,g,h;if(0==a.length)return 0;if(a=new goog.string.StringBuffer(a),null!=b&&(f=b.getInternationalPrefix()),null==f&&(f="NonMatch"),f=this.maybeStripInternationalPrefixAndNormalize(a,f),d&&e.setCountryCodeSource(f),f!=i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY){if(a.getLength()<=i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw Error(i18n.phonenumbers.Error.TOO_SHORT_AFTER_IDD);if(b=this.extractCountryCode(a,c),0!=b)return e.setCountryCode(b),b;throw Error(i18n.phonenumbers.Error.INVALID_COUNTRY_CODE);}return null!=b&&(f=b.getCountryCodeOrDefault(),g=""+f,h=a.toString(),goog.string.startsWith(h,g)&&(g=new goog.string.StringBuffer(h.substring(g.length)),h=b.getGeneralDesc(),h=new RegExp(h.getNationalNumberPatternOrDefault()),this.maybeStripNationalPrefixAndCarrierCode(g,b,null),g=g.toString(),!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(h,a.toString())&&i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(h,g)||this.testNumberLength_(a.toString(),b)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_LONG))?(c.append(g),d&&e.setCountryCodeSource(i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN),e.setCountryCode(f),f):(e.setCountryCode(0),0)};i18n.phonenumbers.PhoneNumberUtil.prototype.parsePrefixAsIdd_=function(a,b){var c=b.toString(),d,e;return 0==c.search(a)?(d=c.match(a)[0].length,e=c.substring(d).match(i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN),e&&null!=e[1]&&0<e[1].length&&"0"==i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e[1]))?!1:(b.clear(),b.append(c.substring(d)),!0):!1};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripInternationalPrefixAndNormalize=function(a,b){var c=a.toString();return 0==c.length?i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY:i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(c)?(c=c.replace(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN,""),a.clear(),a.append(i18n.phonenumbers.PhoneNumberUtil.normalize(c)),i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN):(c=new RegExp(b),i18n.phonenumbers.PhoneNumberUtil.normalizeSB_(a),this.parsePrefixAsIdd_(c,a)?i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_IDD:i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY)};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripNationalPrefixAndCarrierCode=function(a,b,c){var d=a.toString(),e=d.length,f=b.getNationalPrefixForParsing(),g,h,k;if(0==e||null==f||0==f.length)return!1;if(g=new RegExp("^(?:"+f+")"),e=g.exec(d)){if(f=new RegExp(b.getGeneralDesc().getNationalNumberPatternOrDefault()),h=i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(f,d),k=e.length-1,b=b.getNationalPrefixTransformRule(),null==b||0==b.length||null==e[k]||0==e[k].length){if(h&&!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(f,d.substring(e[0].length)))return!1;null!=c&&0<k&&null!=e[k]&&c.append(e[1]);a.set(d.substring(e[0].length))}else{if(d=d.replace(g,b),h&&!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(f,d))return!1;null!=c&&0<k&&c.append(e[1]);a.set(d)}return!0}return!1};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripExtension=function(a){var b=a.toString(),c=b.search(i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_);if(0<=c&&i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(b.substring(0,c)))for(var d=b.match(i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_),e=d.length,f=1;f<e;++f)if(null!=d[f]&&0<d[f].length)return a.clear(),a.append(b.substring(0,c)),d[f];return""};i18n.phonenumbers.PhoneNumberUtil.prototype.checkRegionForParsing_=function(a,b){return this.isValidRegionCode_(b)||null!=a&&0<a.length&&i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(a)};i18n.phonenumbers.PhoneNumberUtil.prototype.parse=function(a,b){return this.parseHelper_(a,b,!1,!0)};i18n.phonenumbers.PhoneNumberUtil.prototype.parseAndKeepRawInput=function(a,b){if(!this.isValidRegionCode_(b)&&0<a.length&&a.charAt(0)!=i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN)throw Error(i18n.phonenumbers.Error.INVALID_COUNTRY_CODE);return this.parseHelper_(a,b,!0,!0)};i18n.phonenumbers.PhoneNumberUtil.setItalianLeadingZerosForPhoneNumber_=function(a,b){if(1<a.length&&"0"==a.charAt(0)){b.setItalianLeadingZero(!0);for(var c=1;c<a.length-1&&"0"==a.charAt(c);)c++;1!=c&&b.setNumberOfLeadingZeros(c)}};i18n.phonenumbers.PhoneNumberUtil.prototype.parseHelper_=function(a,b,c,d){var e,f,g,h;if(null==a)throw Error(i18n.phonenumbers.Error.NOT_A_NUMBER);if(a.length>i18n.phonenumbers.PhoneNumberUtil.MAX_INPUT_STRING_LENGTH_)throw Error(i18n.phonenumbers.Error.TOO_LONG);if(e=new goog.string.StringBuffer,this.buildNationalNumberForParsing_(a,e),!i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(e.toString()))throw Error(i18n.phonenumbers.Error.NOT_A_NUMBER);if(d&&!this.checkRegionForParsing_(e.toString(),b))throw Error(i18n.phonenumbers.Error.INVALID_COUNTRY_CODE);d=new i18n.phonenumbers.PhoneNumber;c&&d.setRawInput(a);a=this.maybeStripExtension(e);0<a.length&&d.setExtension(a);f=this.getMetadataForRegion(b);a=new goog.string.StringBuffer;g=0;h=e.toString();try{g=this.maybeExtractCountryCode(h,f,a,c,d)}catch(k){if(k.message==i18n.phonenumbers.Error.INVALID_COUNTRY_CODE&&i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(h)){if(h=h.replace(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN,""),g=this.maybeExtractCountryCode(h,f,a,c,d),0==g)throw k;}else throw k;}if(0!=g?(e=this.getRegionCodeForCountryCode(g),e!=b&&(f=this.getMetadataForRegionOrCallingCode_(g,e))):(i18n.phonenumbers.PhoneNumberUtil.normalizeSB_(e),a.append(e.toString()),null!=b?(g=f.getCountryCodeOrDefault(),d.setCountryCode(g)):c&&d.clearCountryCodeSource()),a.getLength()<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw Error(i18n.phonenumbers.Error.TOO_SHORT_NSN);if(null!=f&&(b=new goog.string.StringBuffer,e=new goog.string.StringBuffer(a.toString()),this.maybeStripNationalPrefixAndCarrierCode(e,f,b),f=this.testNumberLength_(e.toString(),f),g=i18n.phonenumbers.PhoneNumberUtil.ValidationResult,f!=g.TOO_SHORT&&f!=g.IS_POSSIBLE_LOCAL_ONLY&&f!=g.INVALID_LENGTH&&(a=e,c&&0<b.toString().length&&d.setPreferredDomesticCarrierCode(b.toString()))),c=a.toString(),a=c.length,a<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw Error(i18n.phonenumbers.Error.TOO_SHORT_NSN);if(a>i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_FOR_NSN_)throw Error(i18n.phonenumbers.Error.TOO_LONG);return i18n.phonenumbers.PhoneNumberUtil.setItalianLeadingZerosForPhoneNumber_(c,d),d.setNationalNumber(parseInt(c,10)),d};i18n.phonenumbers.PhoneNumberUtil.prototype.buildNationalNumberForParsing_=function(a,b){var c=a.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_),d,e;0<=c?(d=c+i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_.length,a.charAt(d)==i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN&&(e=a.indexOf(";",d),0<e?b.append(a.substring(d,e)):b.append(a.substring(d))),d=a.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_),b.append(a.substring(0<=d?d+i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_.length:0,c))):b.append(i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber(a));c=b.toString();d=c.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_ISDN_SUBADDRESS_);0<d&&(b.clear(),b.append(c.substring(0,d)))};i18n.phonenumbers.PhoneNumberUtil.copyCoreFieldsOnly_=function(a){var b=new i18n.phonenumbers.PhoneNumber;return b.setCountryCode(a.getCountryCodeOrDefault()),b.setNationalNumber(a.getNationalNumberOrDefault()),0<a.getExtensionOrDefault().length&&b.setExtension(a.getExtensionOrDefault()),a.getItalianLeadingZero()&&(b.setItalianLeadingZero(!0),b.setNumberOfLeadingZeros(a.getNumberOfLeadingZerosOrDefault())),b};i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberMatch=function(a,b){var c,d,e,f;if("string"==typeof a)try{c=this.parse(a,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_)}catch(g){if(g.message!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE)return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER;if("string"!=typeof b&&(d=this.getRegionCodeForCountryCode(b.getCountryCodeOrDefault()),d!=i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_)){try{c=this.parse(a,d)}catch(h){return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER}return c=this.isNumberMatch(c,b),c==i18n.phonenumbers.PhoneNumberUtil.MatchType.EXACT_MATCH?i18n.phonenumbers.PhoneNumberUtil.MatchType.NSN_MATCH:c}try{c=this.parseHelper_(a,null,!1,!1)}catch(h){return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER}}else c=a.clone();if("string"==typeof b)try{return e=this.parse(b,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_),this.isNumberMatch(a,e)}catch(g){return g.message!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE?i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER:this.isNumberMatch(b,c)}else e=b.clone();return(c=i18n.phonenumbers.PhoneNumberUtil.copyCoreFieldsOnly_(c),e=i18n.phonenumbers.PhoneNumberUtil.copyCoreFieldsOnly_(e),c.hasExtension()&&e.hasExtension()&&c.getExtension()!=e.getExtension())?i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH:(d=c.getCountryCodeOrDefault(),f=e.getCountryCodeOrDefault(),0!=d&&0!=f)?c.equals(e)?i18n.phonenumbers.PhoneNumberUtil.MatchType.EXACT_MATCH:d==f&&this.isNationalNumberSuffixOfTheOther_(c,e)?i18n.phonenumbers.PhoneNumberUtil.MatchType.SHORT_NSN_MATCH:i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH:(c.setCountryCode(0),e.setCountryCode(0),c.equals(e)?i18n.phonenumbers.PhoneNumberUtil.MatchType.NSN_MATCH:this.isNationalNumberSuffixOfTheOther_(c,e)?i18n.phonenumbers.PhoneNumberUtil.MatchType.SHORT_NSN_MATCH:i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNationalNumberSuffixOfTheOther_=function(a,b){var c=""+a.getNationalNumber(),d=""+b.getNationalNumber();return goog.string.endsWith(c,d)||goog.string.endsWith(d,c)};i18n.phonenumbers.PhoneNumberUtil.prototype.canBeInternationallyDialled=function(a){var b=this.getMetadataForRegion(this.getRegionCodeForNumber(a));return null==b?!0:(a=this.getNationalSignificantNumber(a),!this.isNumberMatchingDesc_(a,b.getNoInternationalDialling()))};i18n.phonenumbers.PhoneNumberUtil.matchesEntirely=function(a,b){var c="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a);return c&&c[0].length==b.length?!0:!1};i18n.phonenumbers.PhoneNumberUtil.matchesPrefix=function(a,b){var c="string"==typeof a?b.match("^(?:"+a+")"):b.match(a);return c&&goog.string.startsWith(b,c[0])?!0:!1};i18n.phonenumbers.AsYouTypeFormatter=function(a){this.DIGIT_PLACEHOLDER_="";this.DIGIT_PATTERN_=new RegExp(this.DIGIT_PLACEHOLDER_);this.currentOutput_="";this.formattingTemplate_=new goog.string.StringBuffer;this.currentFormattingPattern_="";this.accruedInput_=new goog.string.StringBuffer;this.accruedInputWithoutFormatting_=new goog.string.StringBuffer;this.ableToFormat_=!0;this.isExpectingCountryCallingCode_=this.isCompleteNumber_=this.inputHasFormatting_=!1;this.phoneUtil_=i18n.phonenumbers.PhoneNumberUtil.getInstance();this.positionToRemember_=this.originalPosition_=this.lastMatchPosition_=0;this.prefixBeforeNationalNumber_=new goog.string.StringBuffer;this.shouldAddSpaceAfterNationalPrefix_=!1;this.extractedNationalPrefix_="";this.nationalNumber_=new goog.string.StringBuffer;this.possibleFormats_=[];this.defaultCountry_=a;this.defaultMetadata_=this.currentMetadata_=this.getMetadataForRegion_(this.defaultCountry_)};i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_=" ";i18n.phonenumbers.AsYouTypeFormatter.EMPTY_METADATA_=new i18n.phonenumbers.PhoneMetadata;i18n.phonenumbers.AsYouTypeFormatter.EMPTY_METADATA_.setInternationalPrefix("NA");i18n.phonenumbers.AsYouTypeFormatter.CHARACTER_CLASS_PATTERN_=/\[([^\[\]])*\]/g;i18n.phonenumbers.AsYouTypeFormatter.STANDALONE_DIGIT_PATTERN_=/\d(?=[^,}][^,}])/g;i18n.phonenumbers.AsYouTypeFormatter.ELIGIBLE_FORMAT_PATTERN_=new RegExp("^["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]*(\\$\\d["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]*)+$");i18n.phonenumbers.AsYouTypeFormatter.NATIONAL_PREFIX_SEPARATORS_PATTERN_=/[- ]/;i18n.phonenumbers.AsYouTypeFormatter.MIN_LEADING_DIGITS_LENGTH_=3;i18n.phonenumbers.AsYouTypeFormatter.prototype.getMetadataForRegion_=function(a){return a=this.phoneUtil_.getCountryCodeForRegion(a),a=this.phoneUtil_.getRegionCodeForCountryCode(a),a=this.phoneUtil_.getMetadataForRegion(a),null!=a?a:i18n.phonenumbers.AsYouTypeFormatter.EMPTY_METADATA_};i18n.phonenumbers.AsYouTypeFormatter.prototype.maybeCreateNewTemplate_=function(){for(var c,d,a=this.possibleFormats_.length,b=0;b<a;++b){if(c=this.possibleFormats_[b],d=c.getPatternOrDefault(),this.currentFormattingPattern_==d)return!1;if(this.createFormattingTemplate_(c))return this.currentFormattingPattern_=d,this.shouldAddSpaceAfterNationalPrefix_=i18n.phonenumbers.AsYouTypeFormatter.NATIONAL_PREFIX_SEPARATORS_PATTERN_.test(c.getNationalPrefixFormattingRule()),this.lastMatchPosition_=0,!0}return this.ableToFormat_=!1};i18n.phonenumbers.AsYouTypeFormatter.prototype.getAvailableFormats_=function(a){for(var e,b=this.isCompleteNumber_&&0<this.currentMetadata_.intlNumberFormatCount()?this.currentMetadata_.intlNumberFormatArray():this.currentMetadata_.numberFormatArray(),c=b.length,d=0;d<c;++d)e=b[d],(!this.currentMetadata_.hasNationalPrefix()||this.isCompleteNumber_||e.getNationalPrefixOptionalWhenFormatting()||this.phoneUtil_.formattingRuleHasFirstGroupOnly(e.getNationalPrefixFormattingRuleOrDefault()))&&this.isFormatEligible_(e.getFormatOrDefault())&&this.possibleFormats_.push(e);this.narrowDownPossibleFormats_(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.isFormatEligible_=function(a){return i18n.phonenumbers.AsYouTypeFormatter.ELIGIBLE_FORMAT_PATTERN_.test(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.narrowDownPossibleFormats_=function(a){for(var f,g,b=[],c=a.length-i18n.phonenumbers.AsYouTypeFormatter.MIN_LEADING_DIGITS_LENGTH_,d=this.possibleFormats_.length,e=0;e<d;++e)f=this.possibleFormats_[e],0==f.leadingDigitsPatternCount()?b.push(this.possibleFormats_[e]):(g=Math.min(c,f.leadingDigitsPatternCount()-1),f=f.getLeadingDigitsPattern(g),0==a.search(f)&&b.push(this.possibleFormats_[e]));this.possibleFormats_=b};i18n.phonenumbers.AsYouTypeFormatter.prototype.createFormattingTemplate_=function(a){var b=a.getPatternOrDefault();return-1!=b.indexOf("|")?!1:(b=b.replace(i18n.phonenumbers.AsYouTypeFormatter.CHARACTER_CLASS_PATTERN_,"\\d"),b=b.replace(i18n.phonenumbers.AsYouTypeFormatter.STANDALONE_DIGIT_PATTERN_,"\\d"),this.formattingTemplate_.clear(),a=this.getFormattingTemplate_(b,a.getFormatOrDefault()),0<a.length?(this.formattingTemplate_.append(a),!0):!1)};i18n.phonenumbers.AsYouTypeFormatter.prototype.getFormattingTemplate_=function(a,b){var c="999999999999999".match(a)[0];return c.length<this.nationalNumber_.getLength()?"":(c=c.replace(new RegExp(a,"g"),b),c.replace(RegExp("9","g"),this.DIGIT_PLACEHOLDER_))};i18n.phonenumbers.AsYouTypeFormatter.prototype.clear=function(){this.currentOutput_="";this.accruedInput_.clear();this.accruedInputWithoutFormatting_.clear();this.formattingTemplate_.clear();this.lastMatchPosition_=0;this.currentFormattingPattern_="";this.prefixBeforeNationalNumber_.clear();this.extractedNationalPrefix_="";this.nationalNumber_.clear();this.ableToFormat_=!0;this.inputHasFormatting_=!1;this.originalPosition_=this.positionToRemember_=0;this.isExpectingCountryCallingCode_=this.isCompleteNumber_=!1;this.possibleFormats_=[];this.shouldAddSpaceAfterNationalPrefix_=!1;this.currentMetadata_!=this.defaultMetadata_&&(this.currentMetadata_=this.getMetadataForRegion_(this.defaultCountry_))};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigit=function(a){return this.currentOutput_=this.inputDigitWithOptionToRememberPosition_(a,!1)};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigitAndRememberPosition=function(a){return this.currentOutput_=this.inputDigitWithOptionToRememberPosition_(a,!0)};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigitWithOptionToRememberPosition_=function(a,b){if(this.accruedInput_.append(a),b&&(this.originalPosition_=this.accruedInput_.getLength()),this.isDigitOrLeadingPlusSign_(a)?a=this.normalizeAndAccrueDigitsAndPlusSign_(a,b):(this.ableToFormat_=!1,this.inputHasFormatting_=!0),!this.ableToFormat_){if(!this.inputHasFormatting_)if(this.attemptToExtractIdd_()){if(this.attemptToExtractCountryCallingCode_())return this.attemptToChoosePatternWithPrefixExtracted_()}else if(this.ableToExtractLongerNdd_())return this.prefixBeforeNationalNumber_.append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),this.attemptToChoosePatternWithPrefixExtracted_();return this.accruedInput_.toString()}switch(this.accruedInputWithoutFormatting_.getLength()){case 0:case 1:case 2:return this.accruedInput_.toString();case 3:if(this.attemptToExtractIdd_())this.isExpectingCountryCallingCode_=!0;else return this.extractedNationalPrefix_=this.removeNationalPrefixFromNationalNumber_(),this.attemptToChooseFormattingPattern_();default:if(this.isExpectingCountryCallingCode_)return this.attemptToExtractCountryCallingCode_()&&(this.isExpectingCountryCallingCode_=!1),this.prefixBeforeNationalNumber_.toString()+this.nationalNumber_.toString();if(0<this.possibleFormats_.length){var c=this.inputDigitHelper_(a),d=this.attemptToFormatAccruedDigits_();return 0<d.length?d:(this.narrowDownPossibleFormats_(this.nationalNumber_.toString()),this.maybeCreateNewTemplate_()?this.inputAccruedNationalNumber_():this.ableToFormat_?this.appendNationalNumber_(c):this.accruedInput_.toString())}return this.attemptToChooseFormattingPattern_()}};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToChoosePatternWithPrefixExtracted_=function(){return this.ableToFormat_=!0,this.isExpectingCountryCallingCode_=!1,this.possibleFormats_=[],this.lastMatchPosition_=0,this.formattingTemplate_.clear(),this.currentFormattingPattern_="",this.attemptToChooseFormattingPattern_()};i18n.phonenumbers.AsYouTypeFormatter.prototype.getExtractedNationalPrefix_=function(){return this.extractedNationalPrefix_};i18n.phonenumbers.AsYouTypeFormatter.prototype.ableToExtractLongerNdd_=function(){var a,b;return 0<this.extractedNationalPrefix_.length&&(a=this.nationalNumber_.toString(),this.nationalNumber_.clear(),this.nationalNumber_.append(this.extractedNationalPrefix_),this.nationalNumber_.append(a),a=this.prefixBeforeNationalNumber_.toString(),b=a.lastIndexOf(this.extractedNationalPrefix_),this.prefixBeforeNationalNumber_.clear(),this.prefixBeforeNationalNumber_.append(a.substring(0,b))),this.extractedNationalPrefix_!=this.removeNationalPrefixFromNationalNumber_()};i18n.phonenumbers.AsYouTypeFormatter.prototype.isDigitOrLeadingPlusSign_=function(a){return i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN.test(a)||1==this.accruedInput_.getLength()&&i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_PATTERN.test(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToFormatAccruedDigits_=function(){for(var d,e,a=this.nationalNumber_.toString(),b=this.possibleFormats_.length,c=0;c<b;++c)if(d=this.possibleFormats_[c],e=d.getPatternOrDefault(),new RegExp("^(?:"+e+")$").test(a))return this.shouldAddSpaceAfterNationalPrefix_=i18n.phonenumbers.AsYouTypeFormatter.NATIONAL_PREFIX_SEPARATORS_PATTERN_.test(d.getNationalPrefixFormattingRule()),a=a.replace(new RegExp(e,"g"),d.getFormat()),this.appendNationalNumber_(a);return""};i18n.phonenumbers.AsYouTypeFormatter.prototype.appendNationalNumber_=function(a){var b=this.prefixBeforeNationalNumber_.getLength();return this.shouldAddSpaceAfterNationalPrefix_&&0<b&&this.prefixBeforeNationalNumber_.toString().charAt(b-1)!=i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_?this.prefixBeforeNationalNumber_+i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_+a:this.prefixBeforeNationalNumber_+a};i18n.phonenumbers.AsYouTypeFormatter.prototype.getRememberedPosition=function(){if(!this.ableToFormat_)return this.originalPosition_;for(var a=0,b=0,c=this.accruedInputWithoutFormatting_.toString(),d=this.currentOutput_.toString();a<this.positionToRemember_&&b<d.length;)c.charAt(a)==d.charAt(b)&&a++,b++;return b};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToChooseFormattingPattern_=function(){var a=this.nationalNumber_.toString();return a.length>=i18n.phonenumbers.AsYouTypeFormatter.MIN_LEADING_DIGITS_LENGTH_?(this.getAvailableFormats_(a),a=this.attemptToFormatAccruedDigits_(),0<a.length?a:this.maybeCreateNewTemplate_()?this.inputAccruedNationalNumber_():this.accruedInput_.toString()):this.appendNationalNumber_(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputAccruedNationalNumber_=function(){var a=this.nationalNumber_.toString(),b=a.length,c,d;if(0<b){for(c="",d=0;d<b;d++)c=this.inputDigitHelper_(a.charAt(d));return this.ableToFormat_?this.appendNationalNumber_(c):this.accruedInput_.toString()}return this.prefixBeforeNationalNumber_.toString()};i18n.phonenumbers.AsYouTypeFormatter.prototype.isNanpaNumberWithNationalPrefix_=function(){if(1!=this.currentMetadata_.getCountryCode())return!1;var a=this.nationalNumber_.toString();return"1"==a.charAt(0)&&"0"!=a.charAt(1)&&"1"!=a.charAt(1)};i18n.phonenumbers.AsYouTypeFormatter.prototype.removeNationalPrefixFromNationalNumber_=function(){var a=this.nationalNumber_.toString(),b=0,c;return this.isNanpaNumberWithNationalPrefix_()?(b=1,this.prefixBeforeNationalNumber_.append("1").append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),this.isCompleteNumber_=!0):this.currentMetadata_.hasNationalPrefixForParsing()&&(c=new RegExp("^(?:"+this.currentMetadata_.getNationalPrefixForParsing()+")"),c=a.match(c),null!=c&&null!=c[0]&&0<c[0].length&&(this.isCompleteNumber_=!0,b=c[0].length,this.prefixBeforeNationalNumber_.append(a.substring(0,b)))),this.nationalNumber_.clear(),this.nationalNumber_.append(a.substring(b)),a.substring(0,b)};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToExtractIdd_=function(){var a=this.accruedInputWithoutFormatting_.toString(),b=new RegExp("^(?:\\"+i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+"|"+this.currentMetadata_.getInternationalPrefix()+")");return b=a.match(b),null!=b&&null!=b[0]&&0<b[0].length?(this.isCompleteNumber_=!0,b=b[0].length,this.nationalNumber_.clear(),this.nationalNumber_.append(a.substring(b)),this.prefixBeforeNationalNumber_.clear(),this.prefixBeforeNationalNumber_.append(a.substring(0,b)),a.charAt(0)!=i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN&&this.prefixBeforeNationalNumber_.append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),!0):!1};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToExtractCountryCallingCode_=function(){if(0==this.nationalNumber_.getLength())return!1;var a=new goog.string.StringBuffer,b=this.phoneUtil_.extractCountryCode(this.nationalNumber_,a);return 0==b?!1:(this.nationalNumber_.clear(),this.nationalNumber_.append(a.toString()),a=this.phoneUtil_.getRegionCodeForCountryCode(b),i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY==a?this.currentMetadata_=this.phoneUtil_.getMetadataForNonGeographicalRegion(b):a!=this.defaultCountry_&&(this.currentMetadata_=this.getMetadataForRegion_(a)),this.prefixBeforeNationalNumber_.append(""+b).append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),this.extractedNationalPrefix_="",!0)};i18n.phonenumbers.AsYouTypeFormatter.prototype.normalizeAndAccrueDigitsAndPlusSign_=function(a,b){if(a==i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN){var c=a;this.accruedInputWithoutFormatting_.append(a)}else c=i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS[a],this.accruedInputWithoutFormatting_.append(c),this.nationalNumber_.append(c);return b&&(this.positionToRemember_=this.accruedInputWithoutFormatting_.getLength()),c};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigitHelper_=function(a){var b=this.formattingTemplate_.toString(),c;return 0<=b.substring(this.lastMatchPosition_).search(this.DIGIT_PATTERN_)?(c=b.search(this.DIGIT_PATTERN_),a=b.replace(this.DIGIT_PATTERN_,a),this.formattingTemplate_.clear(),this.formattingTemplate_.append(a),this.lastMatchPosition_=c,a.substring(0,this.lastMatchPosition_+1)):(1==this.possibleFormats_.length&&(this.ableToFormat_=!1),this.currentFormattingPattern_="",this.accruedInput_.toString())};i18n.phonenumbers.shortnumbermetadata={};i18n.phonenumbers.shortnumbermetadata.countryCodeToRegionCodeMap={0:"AC AD AE AF AG AI AL AM AO AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BM BN BO BQ BR BS BT BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CW CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GR GT GU GW GY HK HN HR HT HU ID IE IL IM IN IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PS PR PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SX SY SZ TC TD TG TH TJ TL TM TN TO TR TT TV TW TZ UA UG US UY UZ VA VC VE VG VI VN VU WF WS XK YE YT ZA ZM ZW".split(" ")};i18n.phonenumbers.shortnumbermetadata.countryToMetadata={AC:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AC",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],AD:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AD",,,,,,,,,,,,,,,,,,[,,"11[0268]",,,,"112"],,[,,"11[0268]",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],AE:[,[,,"[149]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AE",,,,,,,,,,,,,,,,,,[,,"112|99[789]",,,,"112",,,[3]],,[,,"112|445[16]|99[789]",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"445[16]",,,,"4451",,,[4]]],AF:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AF",,,,,,,,,,,,,,,,,,[,,"1(?:02|19)",,,,"119",,,[3]],,[,,"1(?:02|19)|40404",,,,"119"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],AG:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AG",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"911"],,[,,"176|9(?:11|99)",,,,"911"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],AI:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AI",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],AL:[,[,,"[15]\\d{2,5}",,,,,,,[3,5,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AL",,,,,,,,,,,,,,,,,,[,,"1(?:12|2[789])",,,,"129",,,[3]],,[,,"1(?:1(?:2|6(?:000|1(?:06|11|23)))|2[5-9])|5\\d{4}",,,,"129"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"5\\d{4}",,,,"51234",,,[5]]],AM:[,[,,"[148]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AM",,,,,,,,,,,,,,,,,,[,,"10[123]",,,,"102",,,[3]],,[,,"1\\d{2}|40404|8[1-7]\\d{2}",,,,"8711"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],AO:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AO",,,,,,,,,,,,,,,,,,[,,"11[235]",,,,"113"],,[,,"11[235]",,,,"113"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],AR:[,[,,"[01389]\\d{1,4}",,,,,,,[2,3,4,5]],,,[,,"[09]\\d{2}|1(?:[02-9]\\d?|1[0-24-9]?)",,,,"111",,,[2,3]],[,,,,,,,,,[-1]],,,,"AR",,,,,,,,,,,,,,,,,,[,,"10[017]|911",,,,"101",,,[3]],,[,,"000|1(?:0[0-35-7]|1[02-5]|2[15]|9)|3372|89338|911",,,,"121"],[,,,,,,,,,[-1]],[,,"89338|911",,,,"89338",,,[3,5]],,[,,"3372|89338",,,,"3372",,,[4,5]]],AS:[,[,,"[49]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AS",,,,,,,,,,,,,,,,,,[,,"911",,,,"911",,,[3]],,[,,"40404|911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"40404",,,,"40404",,,[5]]],AT:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:00[06]|1(?:17|23))",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"AT",,,,,,,,,,,,,,,,,,[,,"1(?:[12]2|33|44)",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:00[06]|1(?:17|23)))|22|33|44)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],AU:[,[,,"[027]\\d{2}|1\\d{2,7}",,,,,,,[3,4,5,6,7,8]],,,[,,"1(?:258885|555)|733",,,,"733",,,[3,4,7]],[,,"1(?:2(?:34|456)|9\\d{4})",,,,"191123",,,[4,5,6]],,,,"AU",,,,,,,,,,,,,,,,,,[,,"000|1(?:06|12)",,,,"112",,,[3]],,[,,"000|1(?:06|1(?:00|2|9[46])|2(?:[23]\\d|4\\d{2,3}|5\\d{3,4}|8(?:2|[013-9]\\d))|555|9[13-5]\\d{3})|225|7(?:33|67)",,,,"112"],[,,"1(?:1\\d{2}|24733)|225|767",,,,"225",,,[3,4,6]],[,,"1(?:258885|555)",,,,"1555",,,[4,7]],,[,,"19\\d{4,6}",,,,"191123",,,[6,7,8]]],AW:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AW",,,,,,,,,,,,,,,,,,[,,"100|911",,,,"911"],,[,,"1(?:00|76)|911",,,,"911"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],AX:[,[,,"1\\d{2}|75[12]\\d{2}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AX",,,,,,,,,,,,,,,,,,[,,"112",,,,"112",,,[3]],,[,,"112|75[12]\\d{2}",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],AZ:[,[,,"[148]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"AZ",,,,,,,,,,,,,,,,,,[,,"1(?:0[123]|12)",,,,"101",,,[3]],,[,,"1(?:0[123]|12)|4040|8800",,,,"101"],[,,,,,,,,,[-1]],[,,"4040|8800",,,,"4040",,,[4]],,[,,"4040|8800",,,,"4040",,,[4]]],BA:[,[,,"1\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"BA",,,,,,,,,,,,,,,,,,[,,"12[2-4]",,,,"122",,,[3]],,[,,"1(?:1(?:6(?:00[06]|1(?:1[17]|23))|8\\d{1,2})|2(?:0[0-7]|[2-5]|6[0-26]|[78]\\d{1,2})|[3-5]\\d{2}|7\\d{3})",,,,"122"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BB:[,[,,"[2-689]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BB",,,,,,,,,,,,,,,,,,[,,"[2359]11",,,,"211"],,[,,"[2-689]11",,,,"211"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BD:[,[,,"[19]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BD",,,,,,,,,,,,,,,,,,[,,"10[0-2]|999",,,,"999",,,[3]],,[,,"1(?:0(?:[0-39]|5(?:0\\d|[1-4])|6\\d{2}|7[0-4]|8[0-29])|1[6-9]|2(?:2[0-5]|[34])|3(?:1\\d?|3\\d|6[3-6])|4(?:0\\d|1\\d{2})|5[2-9])|9(?:594|99)",,,,"103"],[,,,,,,,,,[-1]],[,,"9594",,,,"9594",,,[4]],,[,,"9594",,,,"9594",,,[4]]],BE:[,[,,"1\\d{2,5}|[2-9]\\d{3}",,,,,,,[3,4,6]],,,[,,"1(?:0[25-8]|1(?:0|6\\d{3})|7(?:12|77)|813)|8\\d{3}",,,,"116000"],[,,"1(?:2(?:12|34)|3(?:07|13)|414|\\d04)|[2-79]\\d{3}",,,,"7212",,,[4]],,,,"BE",,,,,,,,,,,,,,,,,,[,,"1(?:0[01]|12)",,,,"112",,,[3]],,[,,"1(?:0[0-8]|1(?:[027]|6(?:000|117))|2(?:0[47]|12|3[0-24]|99)|3(?:0[47]|13|99)|4(?:0[47]|14|50|99)|7(?:00|1[27-9]|33|65|7[17]|89)|81[39])|[2-9]\\d{3}",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"[2-9]\\d{3}",,,,"2787",,,[4]]],BF:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BF",,,,,,,,,,,,,,,,,,[,,"1[78]",,,,"17"],,[,,"1[78]",,,,"17"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BG:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:000|111)",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"BG",,,,,,,,,,,,,,,,,,[,,"1(?:12|50|6[06])",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:000|111))|50|6[06])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BH:[,[,,"[0189]\\d{2,4}",,,,,,,[3,5]],,,[,,"(?:0[167]|81)\\d{3}",,,,"07123",,,[5]],[,,"9[148]\\d{3}",,,,"94123",,,[5]],,,,"BH",,,,,,,,,,,,,,,,,,[,,"[19]99",,,,"999",,,[3]],,[,,"0[167]\\d{3}|1(?:[02]\\d|12|4[01]|51|8[18]|9[169])|8[158]\\d{3}|9(?:[148]\\d{3}|9[02489])",,,,"999"],[,,,,,,,,,[-1]],[,,"0[67]\\d{3}|88000|98555",,,,"88000",,,[5]],,[,,"88000|98555",,,,"88000",,,[5]]],BI:[,[,,"[16-9]\\d{2,3}",,,,,,,[3,4]],,,[,,"611",,,,"611",,,[3]],[,,,,,,,,,[-1]],,,,"BI",,,,,,,,,,,,,,,,,,[,,"11[237]",,,,"117",,,[3]],,[,,"1(?:1\\d|5[2-9]|6[0-256])|611|7(?:10|77|979)|8[28]8|900",,,,"117"],[,,,,,,,,,[-1]],[,,"611|7(?:10|77)|888|900",,,,"611",,,[3]],,[,,"710|900",,,,"900",,,[3]]],BJ:[,[,,"[17]\\d{2,3}",,,,,,,[3,4]],,,[,,"7[3-5]\\d{2}",,,,"7312",,,[4]],[,,,,,,,,,[-1]],,,,"BJ",,,,,,,,,,,,,,,,,,[,,"11[78]",,,,"117",,,[3]],,[,,"1(?:1[78]|2[02-5]|60)|7[0-5]\\d{2}",,,,"117"],[,,,,,,,,,[-1]],[,,"12\\d",,,,"122",,,[3]],,[,,,,,,,,,[-1]]],BL:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BL",,,,,,,,,,,,,,,,,,[,,"18",,,,"18"],,[,,"18",,,,"18"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BM:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BM",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"176|911",,,,"911"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],BN:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BN",,,,,,,,,,,,,,,,,,[,,"99[135]",,,,"991"],,[,,"99[135]",,,,"991"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BO:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BO",,,,,,,,,,,,,,,,,,[,,"11[089]",,,,"110",,,[3]],,[,,"11[089]|40404",,,,"110"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"40404",,,,"40404",,,[5]]],BQ:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BQ",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"112"],,[,,"1(?:12|76)|911",,,,"112"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],BR:[,[,,"[12469]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"1(?:00|[89]\\d)|4(?:57|828)",,,,"181",,,[3,4]],[,,,,,,,,,[-1]],,,,"BR",,,,,,,,,,,,,,,,,,[,,"1(?:12|28|9[023])|911",,,,"190",,,[3]],,[,,"1(?:0(?:[02]|3(?:1[2-579]|2[13-9]|3[124-9]|4[1-3578]|5[1-468]|6[139]|8[149]|9[168])|5[0-35-9]|6(?:0|1[0-35-8]?|2[0145]|3[0137]?|4[37-9]?|5[0-35]|6[016]?|7[137]?|8[5-8]|9[1359]))|1[25-8]|2[35789]|3(?:[024568]|3[12])|4[12568]|5\\d|6[0-8]|8[015]|9[0-4789])|2(?:7(?:330|878)|85959?)|4(?:0404?|11[12]|57|828)|55555|6(?:0\\d{4}|10000)|911",,,,"168"],[,,"102|27330",,,,"27330",,,[3,5]],[,,"151|27878|4(?:0404?|11[12]|57)|55555",,,,"27878",,,[3,4,5]],,[,,"2(?:7(?:330|878)|85959?)|4(?:0404|828)|6(?:0\\d{4}|10000)",,,,"27878",,,[4,5,6]]],BS:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BS",,,,,,,,,,,,,,,,,,[,,"91[19]",,,,"911"],,[,,"91[19]",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BT:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BT",,,,,,,,,,,,,,,,,,[,,"11[023]",,,,"113",,,[3]],,[,,"11[0-6]|40404",,,,"113"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"40404",,,,"40404",,,[5]]],BW:[,[,,"[19]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BW",,,,,,,,,,,,,,,,,,[,,"99[789]",,,,"999",,,[3]],,[,,"13123|99[789]",,,,"999"],[,,,,,,,,,[-1]],[,,"13123",,,,"13123",,,[5]],,[,,"13123",,,,"13123",,,[5]]],BY:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BY",,,,,,,,,,,,,,,,,,[,,"1(?:0[123]|12)",,,,"112"],,[,,"1(?:0[1-79]|1[246]|35|5[1235]|6[89]|7[5-7]|8[58]|9[1-7])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],BZ:[,[,,"9\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"BZ",,,,,,,,,,,,,,,,,,[,,"9(?:0|11)",,,,"911"],,[,,"9(?:0|11)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CA:[,[,,"[124-9]\\d{2,5}|3(?:\\d{2,5}|\\d{7})",,,,,,,[3,5,6,8]],,,[,,"211",,,,"211",,,[3]],[,,,,,,,,,[-1]],,,,"CA",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"911",,,[3]],,[,,"1(?:12|\\d{4,5})|[25-9](?:11|\\d{4,5})|3(?:\\d{4,5}|0000\\d{3}|11)|411",,,,"12345"],[,,,,,,,,,[-1]],[,,"[23567]11",,,,"611",,,[3]],,[,,"[125-9]\\d{4,5}|3(?:\\d{4,5}|0000\\d{3})",,,,"30001",,,[5,6,8]]],CC:[,[,,"[01]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CC",,,,,,,,,,,,,,,,,,[,,"000|112",,,,"112"],,[,,"000|112",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CD:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CD",,,,,,,,,,,,,,,,,,[,,"1(?:1[348]|77|88)",,,,"113",,,[3]],,[,,"1(?:1[348]|23|77|88)|40404",,,,"40404"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],CF:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CF",,,,,,,,,,,,,,,,,,[,,"1(?:1[78]|220)",,,,"1220"],,[,,"1(?:1[478]|220)",,,,"117"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CG:[,[,,"11\\d",,,,,,,[3]],,,[,,"111",,,,"111"],[,,,,,,,,,[-1]],,,,"CG",,,,,,,,,,,,,,,,,,[,,"11[78]",,,,"117"],,[,,"11[12678]",,,,"117"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CH:[,[,,"[1-9]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"1(?:16\\d{3}|47)|5200",,,,"116000",,,[3,4,6]],[,,"1(?:145|8\\d{2})|543|83111",,,,"543",,,[3,4,5]],,,,"CH",,,,,,,,,,,,,,,,,,[,,"1(?:1[278]|44)",,,,"112",,,[3]],,[,,"1(?:0[78]\\d{2}|1(?:[278]|45|6(?:000|111))|4(?:[03457]|1[45])|6(?:00|[1-46])|8(?:02|1[189]|50|7|8[08]|99))|[2-9]\\d{2,4}",,,,"147"],[,,"1(?:4(?:[035]|1\\d)|6\\d{1,2})",,,,"1600",,,[3,4]],[,,"5(?:200|35)",,,,"535",,,[3,4]],,[,,"[2-9]\\d{2,4}",,,,"600",,,[3,4,5]]],CI:[,[,,"[14]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CI",,,,,,,,,,,,,,,,,,[,,"1(?:1[01]|[78]0)",,,,"110",,,[3]],,[,,"1(?:1[01]|[78]0)|4443",,,,"110"],[,,,,,,,,,[-1]],[,,"4443",,,,"4443",,,[4]],,[,,"4443",,,,"4443",,,[4]]],CK:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CK",,,,,,,,,,,,,,,,,,[,,"99[689]",,,,"998"],,[,,"99[689]",,,,"998"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CL:[,[,,"[1-9]\\d{2,4}",,,,,,,[3,4,5]],,,[,,"1213|4342",,,,"4342",,,[4]],[,,"1(?:060|211|3(?:13|[348]0|5[01])|417|560|818|9(?:19|80))|2(?:0122|22[47]|323|777|882)|3(?:0(?:51|99)|132|3(?:29|77|90)|665)|4(?:142|243|3656|4(?:02|15|77)|554)|5(?:004|4154|5(?:66|77)|995)|6(?:0700|131|222|3(?:00|66)|500|699)|7878|8(?:011|11[28]|482|889)|9(?:011|[12]00|330)",,,,"2224",,,[4,5]],,,,"CL",,,,,,,,,,,,,,,,,,[,,"13[123]|911",,,,"133",,,[3]],,[,,"1(?:06?0|21[13]|3(?:[02679]|13?|[348]0?|5[01]?)|4(?:0[02-6]|17|[379])|560|818|9(?:19|80))|2(?:0(?:01|122)|22[47]|323|777|882)|3(?:0(?:51|99)|132|3(?:29|37|77|90)|665)|4(?:142|243|3(?:42|656)|4(?:02|15|77)|554)|5(?:004|4154|5(?:66|77)|995)|6(?:0700|131|222|3(?:00|66)|500|699)|7878|8(?:011|11[28]|482|889)|9(?:011|1(?:1|00)|200|330)",,,,"139"],[,,"2001|3337",,,,"3337",,,[4]],[,,,,,,,,,[-1]],,[,,"(?:[137-9]|[2456]\\d?)\\d{3}",,,,"5577",,,[4,5]]],CM:[,[,,"[18]\\d{1,3}",,,,,,,[2,3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CM",,,,,,,,,,,,,,,,,,[,,"1?1[37]",,,,"113",,,[2,3]],,[,,"1?1[37]|8711",,,,"113"],[,,,,,,,,,[-1]],[,,"8711",,,,"8711",,,[4]],,[,,"8711",,,,"8711",,,[4]]],CN:[,[,,"[19]\\d{2,5}",,,,,,,[3,5,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CN",,,,,,,,,,,,,,,,,,[,,"1(?:1[09]|20)",,,,"119",,,[3]],,[,,"1(?:00\\d{2}|1[09]|20)|95\\d{3,4}",,,,"119"],[,,"100\\d{2}|95\\d{3,4}",,,,"95566",,,[5,6]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CO:[,[,,"[148]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CO",,,,,,,,,,,,,,,,,,[,,"1(?:1[29]|23|32|56)",,,,"112",,,[3]],,[,,"1(?:06|1[2569]|2[357]|3[27]|4[467]|5[36]|6[45]|95)|40404|85432",,,,"112"],[,,,,,,,,,[-1]],[,,"40404|85432",,,,"40404",,,[5]],,[,,"40404|85432",,,,"40404",,,[5]]],CR:[,[,,"[1359]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CR",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"911",,,[3]],,[,,"1(?:0(?:00|15|2[2-4679])|1(?:1[0-35-9]|2|37|[46]6|7[57]|8[79]|9[0-379])|2(?:00|[12]2|34|55)|3(?:21|33)|4(?:0[06]|1[4-6])|5(?:15|5[15])|693|7(?:00|1[789]|2[02]|[67]7)|975)|3855|5(?:0(?:30|49)|510)|911",,,,"1022"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"3855|5(?:0(?:30|49)|510)",,,,"3855",,,[4]]],CU:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CU",,,,,,,,,,,,,,,,,,[,,"10[456]",,,,"106",,,[3]],,[,,"1(?:0[456]|1(?:6111|8)|40)",,,,"140"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CV:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CV",,,,,,,,,,,,,,,,,,[,,"13[012]",,,,"132"],,[,,"13[012]",,,,"132"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CW:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CW",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"112"],,[,,"1(?:12|76)|911",,,,"112"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],CX:[,[,,"[01]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"CX",,,,,,,,,,,,,,,,,,[,,"000|112",,,,"112"],,[,,"000|112",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CY:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:000|111)",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"CY",,,,,,,,,,,,,,,,,,[,,"1(?:12|99)",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:000|111))|99)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],CZ:[,[,,"1\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116(?:00[06]|111|123)",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"CZ",,,,,,,,,,,,,,,,,,[,,"1(?:12|5[0568])",,,,"112",,,[3]],,[,,"1(?:1(?:2|6\\d{3}|8\\d)|2\\d{2,3}|3\\d{3,4}|4\\d{3}|5[0568]|99)",,,,"116123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],DE:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"DE",,,,,,,,,,,,,,,,,,[,,"11[02]",,,,"112",,,[3]],,[,,"11(?:[025]|6(?:00[06]|1(?:1[17]|23)))",,,,"115"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],DJ:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"DJ",,,,,,,,,,,,,,,,,,[,,"1[78]",,,,"17"],,[,,"1[78]",,,,"17"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],DK:[,[,,"1\\d{2,5}",,,,,,,[3,4,6]],,,[,,"116(?:00[06]|111)",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"DK",,,,,,,,,,,,,,,,,,[,,"11[24]",,,,"112",,,[3]],,[,,"1(?:1(?:[2-48]|6(?:00[06]|111))|8(?:01|1[0238]|28|30|5[13]|81))",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],DM:[,[,,"[39]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"DM",,,,,,,,,,,,,,,,,,[,,"333|9(?:11|99)",,,,"999"],,[,,"333|9(?:11|99)",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],DO:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"DO",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"112"],,[,,"112|911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],DZ:[,[,,"[17]\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"DZ",,,,,,,,,,,,,,,,,,[,,"1[47]",,,,"17",,,[2]],,[,,"1[47]|730",,,,"17"],[,,,,,,,,,[-1]],[,,"730",,,,"730",,,[3]],,[,,"730",,,,"730",,,[3]]],EC:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"EC",,,,,,,,,,,,,,,,,,[,,"1(?:0[12]|12)|911",,,,"911"],,[,,"1(?:0[12]|12)|911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],EE:[,[,,"1\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"1(?:1(?:[02]|6(?:000|111))|2(?:0(?:16|5)|28|55[47])|3(?:014|24|3(?:21|5)|660)|492|5(?:1[03]|410|501|977)|6(?:112|333|644)|7(?:012|127|89)|8(?:10|8[57])|9(?:0(?:[134]|90)|14))",,,,"116000"],[,,"1(?:18(?:[12458]|00)|2(?:0(?:[02-46-8]|1[0-36])|1(?:[0-4]|6[06])|2(?:[0-4]|5[25])|[367]|4(?:0[04]|[12]|4[24]|54)55[12457])|3(?:0(?:[02]|1[13578]|3[356])|1[1347]|2[02-5]|3(?:[01347]|2[023]|88)|4(?:[35]|4[34])|5(?:3[134]|5[035])|666)|4(?:2(?:00|4)|4(?:0[01358]|1[024]|50|7)|900)|5(?:0[0-35]|1(?:[1267]|5[0-7]|82)|2(?:[014-6]|22)|330|4(?:[35]|44)|5(?:00|[1-69])|9(?:[159]|[38]0|77))|6(?:1(?:00|1[19]|[356-9])|2(?:2[26]|[68])|3(?:22|36|6[36])|5|6(?:[0-359]|6[0-26])|7(?:00|55|7|8[89])|9(?:00|1|69))|7(?:0(?:[023]|1[0578])|1(?:00|2[034]|[4-9])|2(?:[07]|20|44)|7(?:[0-57]|9[79])|8(?:0[08]|2|8[0178])|9(?:00|97))|8(?:1[127]|8[1268]|9[269])|9(?:0(?:[02]|69|9[0269])|1[123689]|21))",,,,"1182",,,[3,4,5]],,,,"EE",,,,,,,,,,,,,,,,,,[,,"11[02]",,,,"112",,,[3]],,[,,"1(?:1(?:[02-579]|6(?:000|111)|8(?:[09]\\d|[1-8]))|2(?:[0-245]\\d{1,2}|[36-9])|3(?:[0-6]\\d{1,2}|[7-9])|4(?:[1-489]\\d{1,2}|[05-7])|5(?:[0-59]\\d{1,2}|[6-8])|6(?:[05]|[1-46-9]\\d{1,2})|7(?:[0-27-9]\\d{1,2}|[3-6])|8(?:[02-7]|[189]\\d{1,2})|9(?:[0-2]\\d{1,2}|[3-9]))",,,,"115"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"1(?:18[1258]2(?:0(?:1[036]|[46])|166|21|4(?:0[04]|1|5[47])|[67])|3(?:0(?:1[13-578]|2|3[56])|1[15]|2[045]|3(?:[13]|2[13])|43|5(?:00|3[34]|53))|44(?:0[0135]|14|50|7)|5(?:05|1(?:[12]|5[1246]|8[12])|2(?:[01]|22)|3(?:00|3[03])|4(?:15|5)|500|9(?:5|77|80))|6(?:1[35-8]|226|3(?:22|3[36]|66)|644|7(?:00|7|89)|9(?:00|69))|7(?:01[258]|1(?:00|[15])|2(?:44|7)|8(?:00|87|9))|8(?:1[128]|8[56]|9(?:[26]|77))|90(?:2|69|92))",,,,"13500",,,[4,5]]],EG:[,[,,"[13]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"EG",,,,,,,,,,,,,,,,,,[,,"1(?:2[23]|80)",,,,"122",,,[3]],,[,,"1(?:2[23]|[69]\\d{3}|80)|34400",,,,"122"],[,,,,,,,,,[-1]],[,,"34400",,,,"34400",,,[5]],,[,,"34400",,,,"34400",,,[5]]],EH:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"EH",,,,,,,,,,,,,,,,,,[,,"1(?:[59]|77)",,,,"15"],,[,,"1(?:[59]|77)",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ER:[,[,,"[12]\\d{2,5}",,,,,,,[3,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"ER",,,,,,,,,,,,,,,,,,[,,"1(?:1[2-46]|2(?:4422|7799))|2(?:0(?:1(?:606|917)|2(?:099|914)))",,,,"113"],,[,,"1(?:1[2-6]|2(?:4422|7799))|2(?:0(?:1(?:606|917)|2(?:099|914)))",,,,"114"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ES:[,[,,"[0-379]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"0(?:16|6[57]|88)|1(?:006|16\\d{3}|[3-7]\\d{2})|20\\d{4}",,,,"116111",,,[3,4,6]],[,,"1(?:18\\d{2}|2\\d{1,4})|2(?:2\\d{1,4}|[3-9]\\d{3,4})|9(?:0(?:5[124578]|7)|\\d{4,5})|[37]\\d{4,5}",,,,"23456"],,,,"ES",,,,,,,,,,,,,,,,,,[,,"08[58]|112",,,,"112",,,[3]],,[,,"0(?:1[0-26]|6[0-257]|8[058]|9[12])|1(?:0[03-57]\\d{1,3}|1(?:2|6(?:000|111)|8\\d{2})|2\\d{1,4}|3(?:[34]|\\d{2})|7(?:7|\\d{2})|[4-689]\\d{2})|2(?:[01]\\d{4}|2\\d{1,4}|[357]\\d{3}|80\\d{2})|3[357]\\d{3}|79[57]\\d{3}|9(?:0(?:5[124578]|7)|9[57]\\d{3})",,,,"010"],[,,"0(?:[16][0-2]|80|9[12])|21\\d{4}",,,,"211234",,,[3,6]],[,,"1(?:2\\d{1,4}|3[34]|77)|22\\d{1,4}",,,,"123"],,[,,"[2379]\\d{4,5}",,,,"23456",,,[5,6]]],ET:[,[,,"9\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"ET",,,,,,,,,,,,,,,,,,[,,"9(?:11?|[23]|9[17])",,,,"991"],,[,,"9(?:11?|[23]|9[17])",,,,"991"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],FI:[,[,,"1\\d{2,5}|75[12]\\d{2}",,,,,,,[3,5,6]],,,[,,"116111",,,,"116111",,,[6]],[,,,,,,,,,[-1]],,,,"FI",,,,,,,,,,,,,,,,,,[,,"112",,,,"112",,,[3]],,[,,"11(?:2|6111)|75[12]\\d{2}",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],FJ:[,[,,"[0-579]\\d{1,4}",,,,,,,[2,3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"FJ",,,,,,,,,,,,,,,,,,[,,"91[17]",,,,"911",,,[3]],,[,,"0(?:1[34]|8[1-4])|1(?:0[1-3]|[25]9)|2[289]|30|4(?:0404|4)|54|75|91[137]",,,,"22"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"40404",,,,"40404",,,[5]]],FK:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"FK",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"1\\d{2}|999",,,,"123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],FM:[,[,,"3\\d{5}|9\\d{2}",,,,,,,[3,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"FM",,,,,,,,,,,,,,,,,,[,,"320221|911",,,,"911"],,[,,"320221|911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],FO:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"FO",,,,,,,,,,,,,,,,,,[,,"11[24]",,,,"112",,,[3]],,[,,"1(?:1[248]|4[124]\\d|71\\d|8[7-9]\\d)",,,,"114"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],FR:[,[,,"1\\d{1,5}|[267]\\d{2,4}|3\\d{3,4}|[458]\\d{4}",,,,,,,[2,3,4,5,6]],,,[,,"1(?:0(?:07|13)|1(?:[0459]|6\\d{3}|871[03])|9[167])|224|3(?:[01]\\d{2}|3700)|740",,,,"3010",,,[3,4,5,6]],[,,"118(?:[0-68]\\d{2}|7(?:0\\d|1[1-9]|[2-9]\\d))|36665|[4-8]\\d{4}",,,,"42000",,,[5,6]],,,,"FR",,,,,,,,,,,,,,,,,,[,,"1(?:[578]|12)",,,,"112",,,[2,3]],,[,,"1(?:0\\d{2}|1(?:[02459]|6(?:000|111)|8\\d{3})|9[167]|[578])|2(?:0(?:000|20)|24)|3\\d{3,4}|6(?:1[14]|34|\\d{4})|7(?:0[06]|22|40|\\d{4})|[458]\\d{4}",,,,"1010"],[,,"10(?:14|2[23]|34|6[14]|99)|2020|3(?:646|9[07]0)|6(?:1[14]|34)|70[06]",,,,"1023",,,[3,4]],[,,"118777|2(?:0(?:000|20)|24)|6(?:1[14]|34)|7\\d{2}",,,,"118777",,,[3,4,5,6]],,[,,"(?:114|[3-8]\\d{4})",,,,"33700",,,[3,5]]],GA:[,[,,"1\\d{1,3}",,,,,,,[2,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GA",,,,,,,,,,,,,,,,,,[,,"1(?:730|8|3\\d{2})",,,,"1730"],,[,,"1(?:730|8|3\\d{2})",,,,"1730"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GB:[,[,,"[1-467-9]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"1(?:05|16\\d{3}|7[56]0|8000)|2(?:202|48)|4444",,,,"116000"],[,,,,,,,,,[-1]],,,,"GB",,,,,,,,,,,,,,,,,,[,,"112|999",,,,"112",,,[3]],,[,,"1(?:0[015]|1(?:[12]|6(?:000|1(?:11|23))|8\\d{3})|2(?:[123]|50)|33|4(?:1|7\\d)|5(?:\\d|71)|7(?:0\\d|[56]0)|800\\d|9[15])|2(?:02(?:02)?|1300|2(?:02|11|2)|3(?:02|336|45)|4(?:25|8))|3[13]3|4(?:0[02]|35[01]|44[45]|5\\d)|6(?:50|\\d{4})|7(?:0\\d{3}|8(?:9|\\d{3})|9\\d{3})|8\\d{4}|9(?:01|99)",,,,"150"],[,,,,,,,,,[-1]],[,,"1(?:250|571|7[56]0)|2(?:02(?:02)?|1300|3336|48)|4444|901",,,,"1571",,,[3,4,5]],,[,,"1250|2(?:0202|1300)|7\\d{4}|8[01]\\d{3}",,,,"20202",,,[4,5]]],GD:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GD",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],GE:[,[,,"[041]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GE",,,,,,,,,,,,,,,,,,[,,"0(?:11|22|33)|1(?:1[123]|22)",,,,"112",,,[3]],,[,,"0(?:11|22|33)|1(?:1[123]|22)|40404",,,,"112"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],GF:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GF",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"15"],,[,,"1[578]",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GG:[,[,,"[19]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GG",,,,,,,,,,,,,,,,,,[,,"112|999",,,,"999",,,[3]],,[,,"1(?:0[01]|1(?:[12]|[68]\\d{3})|23|4(?:1|7\\d)|55|800\\d|9[05])|999",,,,"155"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GH:[,[,,"[14589]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GH",,,,,,,,,,,,,,,,,,[,,"19[123]|999",,,,"999",,,[3]],,[,,"19[123]|40404|(?:54|83)00|999",,,,"999"],[,,,,,,,,,[-1]],[,,"40404|(?:54|83)00",,,,"5400",,,[4,5]],,[,,"40404|(?:54|83)00",,,,"5400",,,[4,5]]],GI:[,[,,"[158]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"1(?:00|16\\d{3}|23|4(?:1|7\\d)|5[15]|9[2-4])|555|80\\d{2}",,,,"100",,,[3,4,6]],[,,"8[1-69]\\d{2}",,,,"8112",,,[4]],,,,"GI",,,,,,,,,,,,,,,,,,[,,"1(?:12|9[09])",,,,"112",,,[3]],,[,,"1(?:00|1(?:2|6(?:00[06]|1(?:1[17]|23))|8\\d{2})|23|4(?:1|7[014])|5[015]|9[02349])|555|8(?:0(?:0|\\d{2})|[1-35-79]\\d{2}|4(?:[0-2]|\\d{2})|8[1-589])",,,,"116000"],[,,"150|87\\d{2}",,,,"150",,,[3,4]],[,,"1(?:18\\d{2}|23|51|9[2-4])|555|8(?:00|88)",,,,"123",,,[3,5]],,[,,,,,,,,,[-1]]],GL:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GL",,,,,,,,,,,,,,,,,,[,,"112",,,,"112"],,[,,"112",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GM:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GM",,,,,,,,,,,,,,,,,,[,,"1?1[678]",,,,"117"],,[,,"1?1[678]",,,,"117"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GN:[,[,,"4\\d{4}",,,,,,,[5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GN",,,,,,,,,,,,,,,,,,[,,,,,,,,,[-1]],,[,,"40404",,,,"40404"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404"],,[,,"40404",,,,"40404"]],GP:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GP",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"18"],,[,,"1[578]",,,,"18"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GR:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"GR",,,,,,,,,,,,,,,,,,[,,"1(?:00|12|66|99)",,,,"112",,,[3]],,[,,"1(?:00|1(?:2|6(?:000|1(?:11|23)))|66|99)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GT:[,[,,"[14]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GT",,,,,,,,,,,,,,,,,,[,,"1(?:10|2[03])",,,,"110",,,[3]],,[,,"1(?:10|2\\d|[57]\\d{2})|40404",,,,"123"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],GU:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GU",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GW:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GW",,,,,,,,,,,,,,,,,,[,,"11[378]",,,,"113"],,[,,"11[378]",,,,"113"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],GY:[,[,,"[019]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"GY",,,,,,,,,,,,,,,,,,[,,"91[123]",,,,"911",,,[3]],,[,,"0(?:02|171|444|7(?:[67]7|9)|801|9(?:0[78]|[2-47]))|1(?:443|5[568])|91[123]",,,,"0801"],[,,,,,,,,,[-1]],[,,"1443",,,,"1443",,,[4]],,[,,"1443",,,,"1443",,,[4]]],HK:[,[,,"[19]\\d{2,6}",,,,,,,[3,4,5,6,7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"HK",,,,,,,,,,,,,,,,,,[,,"112|99[29]",,,,"999",,,[3]],,[,,"1(?:0(?:[0136]\\d{0,4}|2[14]\\d{0,3}|8[138]|9)|12|2(?:[0-3]\\d{0,4}|58\\d{0,3}|8[13]\\d{0,3})|7(?:[135-9]\\d{0,4}|21[89]\\d{0,2}|421\\d{0,2})|8(?:0(?:[13]\\d|60\\d{2}|8)|1(?:0\\d|[2-8])|2(?:182|3|8[128])|3\\d{4}|4(?:1[1-5]|[23]1|6[12])|50[138]|6(?:000|1(?:[13]1|86)|8)|7(?:13|2[1-389]|8[0235-9]|93)\\d{2}|8\\d))|99[29]",,,,"999"],[,,,,,,,,,[-1]],[,,"1(?:0(?:8\\d|9)|850\\d)",,,,"1088",,,[3,4,5]],,[,,,,,,,,,[-1]]],HN:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"HN",,,,,,,,,,,,,,,,,,[,,"199",,,,"199",,,[3]],,[,,"199|40404",,,,"199"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],HR:[,[,,"[19]\\d{1,5}",,,,,,,[2,3,4,5,6]],,,[,,"1(?:16\\d{3}|3977)",,,,"116000",,,[5,6]],[,,"118\\d{2}",,,,"11812",,,[5]],,,,"HR",,,,,,,,,,,,,,,,,,[,,"1(?:12|9[2-4])|9[34]",,,,"112",,,[2,3]],,[,,"1(?:1(?:2|6(?:00[06]|1(?:1[17]|23))|8\\d{2})|3977|9(?:[2-5]|87))|9[34]",,,,"112"],[,,,,,,,,,[-1]],[,,"13977",,,,"13977",,,[5]],,[,,"13977",,,,"13977",,,[5]]],HT:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"HT",,,,,,,,,,,,,,,,,,[,,"11[48]",,,,"118",,,[3]],,[,,"11[48]|40404",,,,"114"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],HU:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:000|1(?:11|23))",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"HU",,,,,,,,,,,,,,,,,,[,,"1(?:0[457]|12)",,,,"112",,,[3]],,[,,"1(?:0[457]|1(?:2|6(?:000|1(?:11|23))))",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ID:[,[,,"[178]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"ID",,,,,,,,,,,,,,,,,,[,,"11[02389]",,,,"112",,,[3]],,[,,"1(?:1[02389]|40\\d{2})|71400|89887",,,,"112"],[,,,,,,,,,[-1]],[,,"71400|89887",,,,"71400",,,[5]],,[,,"71400",,,,"71400",,,[5]]],IE:[,[,,"[159]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,"5[37]\\d{3}",,,,"53012",,,[5]],,,,"IE",,,,,,,,,,,,,,,,,,[,,"112|999",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:00[06]|1(?:1[17]|23))|8\\d{2})|9\\d{2})|5[0137]\\d{3}|999",,,,"112"],[,,"51\\d{3}",,,,"51012",,,[5]],[,,"51210",,,,"51210",,,[5]],,[,,"118\\d{2}|5(?:[037]\\d{3}|1210)",,,,"51210",,,[5]]],IL:[,[,,"1\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"IL",,,,,,,,,,,,,,,,,,[,,"1(?:0[012]|12)",,,,"112",,,[3]],,[,,"1(?:0(?:[012]|400)|1(?:[013-9]\\d|2)|[2-9]\\d{2})",,,,"1455"],[,,,,,,,,,[-1]],[,,"10400",,,,"10400",,,[5]],,[,,"10400",,,,"10400",,,[5]]],IM:[,[,,"[189]\\d{2,5}",,,,,,,[3,5,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"IM",,,,,,,,,,,,,,,,,,[,,"999",,,,"999",,,[3]],,[,,"1\\d{2}(?:\\d{3})?|8(?:6444|9887)|999",,,,"150"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"8(?:6444|9887)",,,,"86444",,,[5]]],IN:[,[,,"[125]\\d{2,7}",,,,,,,[3,4,5,6,7,8]],,,[,,"1\\d{2,5}",,,,"105010",,,[3,4,5,6]],[,,"11[67][0-2]\\d{3}|56161561",,,,"1160530",,,[7,8]],,,,"IN",,,,,,,,,,,,,,,,,,[,,"1(?:0[0128]|12|298)|2611",,,,"108",,,[3,4]],,[,,"1(?:0(?:[01248]|5(?:010|6|902)|7(?:[07]|80)|9[0157])|1(?:[289]|[67][0-2]\\d{3})|2(?:1|98)|39|4[01]|55[23]\\d{2}|7000|9(?:0[019]|47|50|6[1347]|[89]))|2611|5(?:14(?:2[5-9]|[34]\\d)|3000|6161(?:17[89]|561)|757555)",,,,"108"],[,,"5(?:14(?:2[5-9]|[34]\\d)|757555)",,,,"5757555",,,[5,7]],[,,"1(?:1(?:[67][0-2]\\d{3}|[89])|21|4[01]|55330|7\\d{3}|9(?:[89]|09))|5(?:3000|6161(?:17[89]|561))",,,,"53000"],,[,,"1(?:39|90[019])|5(?:14(?:2[5-9]|[34]\\d)|6161(?:17[89]|561)|757555)",,,,"51431",,,[3,4,5,7,8]]],IQ:[,[,,"[1479]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"IQ",,,,,,,,,,,,,,,,,,[,,"1(?:0[04]|15|22)",,,,"122",,,[3]],,[,,"1(?:0[04]|15|22)|4432|71117|9988",,,,"4432"],[,,,,,,,,,[-1]],[,,"4432|71117|9988",,,,"4432",,,[4,5]],,[,,"4432|71117|9988",,,,"4432",,,[4,5]]],IR:[,[,,"[0-29]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"1[129]\\d",,,,"123",,,[3]],[,,,,,,,,,[-1]],,,,"IR",,,,,,,,,,,,,,,,,,[,,"1(?:1[025]|25)|911",,,,"112",,,[3]],,[,,"096(?:0[12]|2[16-8]|3(?:08|[14]5|[23]|66)|4(?:0|80)|5[01]|6[89]|86|9[19])|1(?:1[0-68]|2[0-59]|3[346-8]|4(?:[0147]|[289]0)|5(?:0[14]|1[02479]|2[0-3]|39|[49]0|65)|6(?:[16]6|[27]|90)|8(?:03|1[18]|22|3[37]|4[28]|88|99)|9[0-579])|20(?:00|1(?:[038]|1[079]|26|9[69])|2[01]|90)|9(?:11|9(?:90|0009))",,,,"112"],[,,"(?:096|1[58])\\d{2}",,,,"09612",,,[4,5]],[,,"1[58]\\d{2}|99(?:90|0009)",,,,"9990",,,[4,6]],,[,,"990009",,,,"990009",,,[6]]],IS:[,[,,"1\\d{2,5}",,,,,,,[3,4,6]],,,[,,"1717",,,,"1717",,,[4]],[,,,,,,,,,[-1]],,,,"IS",,,,,,,,,,,,,,,,,,[,,"112",,,,"112",,,[3]],,[,,"1(?:1(?:[28]|6(?:1(?:23|16)))|4(?:00|1[145]|4[0146])|55|7(?:00|17|7[07-9])|8(?:[02]0|1[16-9]|88)|900)",,,,"112"],[,,,,,,,,,[-1]],[,,"14(?:00|41)",,,,"1441",,,[4]],,[,,"1(?:415|900)",,,,"1415",,,[4]]],IT:[,[,,"[14]\\d{2,6}",,,,,,,[3,4,5,6,7]],,,[,,"1(?:16\\d{3}|87)",,,,"187",,,[3,6]],[,,"(?:12|4(?:[478]\\d{1,3}|55))\\d{2}",,,,"1254",,,[4,5,6,7]],,,,"IT",,,,,,,,,,,,,,,,,,[,,"11[2358]",,,,"112",,,[3]],,[,,"1(?:0\\d{2,3}|1(?:[2-5789]|6(?:000|111))|2\\d{2}|3[39]|4(?:82|9\\d{1,3})|5(?:00|1[58]|2[25]|3[03]|44|[59])|60|8[67]|9(?:[01]|2(?:[01]\\d{2}|[2-9])|4\\d|696))|4(?:2323|3(?:[01]|[45]\\d{2})\\d{2}|[478](?:[0-4]|[5-9]\\d{2})\\d{2}|5(?:045|5\\d{2}))",,,,"114"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"4[3-578]\\d{3,5}",,,,"43000",,,[5,6,7]]],JE:[,[,,"[129]\\d{2,5}",,,,,,,[3,4,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"JE",,,,,,,,,,,,,,,,,,[,,"112|999",,,,"999",,,[3]],,[,,"1(?:00|1(?:2|8\\d{3})|23|4(?:[14]|28|7\\d)|5\\d|7(?:0[12]|[128]|35?)|808|9[0135])|23[234]|999",,,,"150"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],JM:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"JM",,,,,,,,,,,,,,,,,,[,,"11[029]|911",,,,"112"],,[,,"1(?:1[029]|76)|911",,,,"911"],[,,,,,,,,,[-1]],[,,"176",,,,"176"],,[,,"176",,,,"176"]],JO:[,[,,"[19]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"JO",,,,,,,,,,,,,,,,,,[,,"1(?:12|9[127])|911",,,,"112",,,[3]],,[,,"1(?:09|1[0-2]|9[0-24-79])|9(?:0903|11|8788)",,,,"111"],[,,,,,,,,,[-1]],[,,"9(?:0903|8788)",,,,"90903",,,[5]],,[,,"9(?:0903|8788)",,,,"90903",,,[5]]],JP:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"JP",,,,,,,,,,,,,,,,,,[,,"11[09]",,,,"110"],,[,,"11[09]",,,,"110"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],KE:[,[,,"[1-9]\\d{2,4}",,,,,,,[3,4,5]],,,[,,"1(?:1(?:6|9\\d)|5(?:01|2[127]|6(?:29|6[67])))",,,,"1501",,,[4,5]],[,,"909\\d{2}",,,,"90912",,,[5]],,,,"KE",,,,,,,,,,,,,,,,,,[,,"112|114|999",,,,"999",,,[3]],,[,,"1(?:0(?:[07-9]|1[0-25]|400)|1(?:[02456]|9[0-579])|2[123]|3[01]|4[14]|5(?:[01][01]|2[0-24-79]|33|4[05]|5[59]|6(?:00|29|6[67]))|6[035]\\d{2}|[78]\\d|9(?:[02-9]\\d{2}|19))|(?:2[0-79]|3[0-29]|4[0-4])\\d{3}|5(?:[0-7]\\d|99)\\d{2}|(?:6[2357]|7[0-29])\\d{3}|8(?:[0-9]\\d{3}|988)|9(?:09\\d{2}|99)",,,,"116"],[,,,,,,,,,[-1]],[,,"1(?:0400|3[01]|4[14]|5(?:1[01]|2[25])|6[35]\\d{2})|(?:2[0-79]|3[0-29]|4[0-4])\\d{3}|5(?:[0-7]\\d|99)\\d{2}|(?:6[2357]|7[0-29])\\d{3}|8(?:988|[0-9]\\d{3})|909\\d{2}",,,,"90912"],,[,,"1(?:0400|4[14]|5(?:01|55|6(?:29|6[67]))|6[035]\\d{2})|40404|8988|909\\d{2}",,,,"8988"]],KG:[,[,,"[14]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KG",,,,,,,,,,,,,,,,,,[,,"10[123]",,,,"101",,,[3]],,[,,"10[123]|4040",,,,"101"],[,,,,,,,,,[-1]],[,,"4040",,,,"4040",,,[4]],,[,,"4040",,,,"4040",,,[4]]],KH:[,[,,"[146]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KH",,,,,,,,,,,,,,,,,,[,,"11[789]|666",,,,"117",,,[3]],,[,,"11[789]|40404|666",,,,"117"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],KI:[,[,,"[179]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KI",,,,,,,,,,,,,,,,,,[,,"19[2-5]|99[2349]",,,,"192",,,[3]],,[,,"1(?:0(?:[0-8]|5[01259])|88|9[2-5])|777|99[2349]",,,,"100"],[,,"103",,,,"103",,,[3]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],KM:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KM",,,,,,,,,,,,,,,,,,[,,"1[78]",,,,"17"],,[,,"1[78]",,,,"17"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],KN:[,[,,"[39]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KN",,,,,,,,,,,,,,,,,,[,,"333|9(?:11|99)",,,,"999"],,[,,"333|9(?:11|99)",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],KP:[,[,,"[18]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KP",,,,,,,,,,,,,,,,,,[,,"1(?:12|19)|819",,,,"112"],,[,,"1(?:12|19)|819",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],KR:[,[,,"1\\d{2,4}",,,,,,,[3,4,5]],,,[,,"1(?:1[78]|28|330|82)",,,,"118",,,[3,4]],[,,,,,,,,,[-1]],,,,"KR",,,,,,,,,,,,,,,,,,[,,"11[29]",,,,"112",,,[3]],,[,,"1(?:0(?:[01]|114)|1(?:[0247-9]|114)|2[01389]|3(?:2|3[039]|45|66|88|9[18])|[679]114|8(?:114|2))",,,,"112"],[,,,,,,,,,[-1]],[,,"1(?:0(?:[01]|114)|1(?:114|4)|[6-9]114)",,,,"100",,,[3,5]],,[,,,,,,,,,[-1]]],KW:[,[,,"[18]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KW",,,,,,,,,,,,,,,,,,[,,"112",,,,"112",,,[3]],,[,,"1[0-7]\\d|89887",,,,"177"],[,,,,,,,,,[-1]],[,,"89887",,,,"89887",,,[5]],,[,,,,,,,,,[-1]]],KY:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KY",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],KZ:[,[,,"[134]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"KZ",,,,,,,,,,,,,,,,,,[,,"1(?:0[123]|12)",,,,"112",,,[3]],,[,,"1(?:0[1-4]|12)|30400|4040",,,,"112"],[,,,,,,,,,[-1]],[,,"30400|4040",,,,"30400",,,[4,5]],,[,,"30400|4040",,,,"30400",,,[4,5]]],LA:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LA",,,,,,,,,,,,,,,,,,[,,"19[015]",,,,"190"],,[,,"19[015]",,,,"190"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LB:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LB",,,,,,,,,,,,,,,,,,[,,"1(?:12|40|75)|999",,,,"112"],,[,,"1(?:12|40|75)|999",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LC:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LC",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"911"],,[,,"9(?:11|99)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LI:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LI",,,,,,,,,,,,,,,,,,[,,"1(?:1[278]|44)",,,,"112",,,[3]],,[,,"1(?:1(?:[278]|45)|4[3-57]|50|75|81[18])",,,,"1145"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LK:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LK",,,,,,,,,,,,,,,,,,[,,"11[02689]",,,,"119"],,[,,"11[024-9]",,,,"119"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LR:[,[,,"[3489]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LR",,,,,,,,,,,,,,,,,,[,,"355|911",,,,"911",,,[3]],,[,,"355|4040|8(?:400|933)|911",,,,"911"],[,,,,,,,,,[-1]],[,,"4040|8(?:400|933)",,,,"8400",,,[4]],,[,,"4040|8(?:400|933)",,,,"8400",,,[4]]],LS:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LS",,,,,,,,,,,,,,,,,,[,,"11[257]",,,,"112"],,[,,"11[257]",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LT:[,[,,"[01]\\d{1,5}",,,,,,,[2,3,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"LT",,,,,,,,,,,,,,,,,,[,,"0(?:11?|22?|33?)|1(?:0[123]|12)",,,,"112",,,[2,3]],,[,,"0(?:11?|22?|33?)|1(?:0[123]|1(?:2|6(?:000|1(?:11|23))))",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LU:[,[,,"1\\d{2,5}",,,,,,,[3,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"LU",,,,,,,,,,,,,,,,,,[,,"11[23]",,,,"112",,,[3]],,[,,"1(?:1(?:[23]|6(?:000|111))|2\\d{3})",,,,"12123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],LV:[,[,,"0\\d|1\\d{2,6}|8\\d{3,4}",,,,,,,[2,3,4,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,"1180|8(?:2\\d{3}|[89]\\d{2})",,,,"1180",,,[4,5]],,,,"LV",,,,,,,,,,,,,,,,,,[,,"0[123]|11[023]",,,,"112",,,[2,3]],,[,,"0[1-4]|1(?:1(?:[02-4]|6(?:000|111)|8[0189])|55|655|77)|821[57]4",,,,"112"],[,,"1181",,,,"1181",,,[4]],[,,"16\\d{2}",,,,"1655",,,[4]],,[,,,,,,,,,[-1]]],LY:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"LY",,,,,,,,,,,,,,,,,,[,,"19[013]",,,,"193"],,[,,"19[013]",,,,"193"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MA:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MA",,,,,,,,,,,,,,,,,,[,,"1(?:[59]|77)",,,,"15"],,[,,"1(?:[59]|77)",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MC:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MC",,,,,,,,,,,,,,,,,,[,,"1(?:12|[578])",,,,"112"],,[,,"1(?:12|41|[578])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MD:[,[,,"[19]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"MD",,,,,,,,,,,,,,,,,,[,,"112|90[1-3]",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:000|1(?:11|23))|8\\d{1,2}|99)|4\\d{3}|6[0-389]\\d|9(?:0[04-9]|[1-4]\\d))|90[1-3]",,,,"116000"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ME:[,[,,"1\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"ME",,,,,,,,,,,,,,,,,,[,,"1(?:12|2[234])",,,,"112",,,[3]],,[,,"1(?:[035]\\d{2}|1(?:[013-57-9]\\d|2|6\\d{3})|2\\d{1,2}|4\\d{2,3}|9\\d{3})",,,,"1011"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MF:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MF",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"18"],,[,,"1[578]",,,,"18"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MG:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MG",,,,,,,,,,,,,,,,,,[,,"11?[78]",,,,"117"],,[,,"11?[78]",,,,"117"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MH:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MH",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MK:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MK",,,,,,,,,,,,,,,,,,[,,"1(?:12|9[234])",,,,"112"],,[,,"1(?:12|9[234])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ML:[,[,,"[13678]\\d{1,4}",,,,,,,[2,3,4,5]],,,[,,"35200|67(?:00|77)|74(?:02|44)|8000[12]",,,,"35200",,,[4,5]],[,,"122[13]|3(?:52(?:11|2[02]|3[04-6]|99)|7574)|8002[12]",,,,"35211",,,[4,5]],,,,"ML",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"17",,,[2]],,[,,"1(?:1(?:2|[013-9]\\d)|2(?:1[02-469]|2[13])|[578])|3(?:5(?:0(?:35|57)|2\\d{2})|[67]\\d{3})|67(?:0[09]|59|77|8[89]|99)|74(?:0[02]|44|55)|800[012][12]",,,,"1210"],[,,"37(?:433|575)|7400|8001[12]",,,,"7400",,,[4,5]],[,,"3(?:5035|[67]\\d{3})|800[012][12]",,,,"35035",,,[5]],,[,,"3(?:6\\d{3}|7(?:4(?:0[24-9]|[1-9]\\d)|5\\d{2}))|7400",,,,"37575",,,[4,5]]],MM:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MM",,,,,,,,,,,,,,,,,,[,,"199",,,,"199"],,[,,"199",,,,"199"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MN:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MN",,,,,,,,,,,,,,,,,,[,,"10[0-3]",,,,"102"],,[,,"10[0-3]",,,,"102"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MO:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MO",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"999",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MP:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MP",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MQ:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MQ",,,,,,,,,,,,,,,,,,[,,"1(?:12|[578])",,,,"15"],,[,,"1(?:12|[578])",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MR:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MR",,,,,,,,,,,,,,,,,,[,,"1[78]",,,,"17"],,[,,"1[78]",,,,"17"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MS:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MS",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"911"],,[,,"9(?:11|99)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MT:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:000|1(?:11|23))",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"MT",,,,,,,,,,,,,,,,,,[,,"112",,,,"112",,,[3]],,[,,"11(?:2|6(?:000|1(?:11|23)))",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MU:[,[,,"[189]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MU",,,,,,,,,,,,,,,,,,[,,"11[45]|99[59]",,,,"999",,,[3]],,[,,"1\\d{2,4}|8\\d{3}|99\\d",,,,"995"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MV:[,[,,"[14]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MV",,,,,,,,,,,,,,,,,,[,,"1(?:02|1[89])",,,,"102",,,[3]],,[,,"1(?:[0-37-9]\\d|[45](?:1|\\d{2})|6\\d{2})|4040",,,,"123"],[,,,,,,,,,[-1]],[,,"1[45]1",,,,"141",,,[3]],,[,,,,,,,,,[-1]]],MW:[,[,,"[189]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MW",,,,,,,,,,,,,,,,,,[,,"199|99[789]",,,,"997",,,[3]],,[,,"199|80400|99[789]",,,,"997"],[,,,,,,,,,[-1]],[,,"80400",,,,"80400",,,[5]],,[,,"80400",,,,"80400",,,[5]]],MX:[,[,,"[0579]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,"53053|7766",,,,"7766",,,[4,5]],,,,"MX",,,,,,,,,,,,,,,,,,[,,"0(?:6[0568]|80)|911",,,,"066",,,[3]],,[,,"0(?:[249]0|3[01]|5[015]|6[01568]|7[0-578]|8[089])|53053|7766|911",,,,"030"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],MY:[,[,,"[139]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MY",,,,,,,,,,,,,,,,,,[,,"112|999",,,,"999",,,[3]],,[,,"1(?:0(?:[01348]|[569]\\d)|1(?:[02]|1[128]|311)|2(?:0[125]|[13-6]|2\\d{0,2})|3(?:09\\d|[1-39]\\d{1,2}|6|[5-7]\\d{0,2})|5(?:[12]\\d|454|5\\d{1,2}|77|888|999?)|7(?:[136-9]\\d|[45]\\d{1,2})|8(?:18?|2|8[18])|9(?:[03]\\d|[124]\\d?|68|71|9[0679]))|3[23679]\\d{3}|99[1-469]",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"3[23679]\\d{3}",,,,"36000",,,[5]]],MZ:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"MZ",,,,,,,,,,,,,,,,,,[,,"1(?:1[79]|9[78])",,,,"119",,,[3]],,[,,"1(?:[02-5]\\d{2}|1[79]|9[78])",,,,"1011"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NA:[,[,,"[19]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NA",,,,,,,,,,,,,,,,,,[,,"10111",,,,"10111",,,[5]],,[,,"1(?:0111|\\d{3})|9(?:3111|\\d{2})",,,,"93111"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NC:[,[,,"1\\d{1,3}|3\\d{3}|5\\d{2}",,,,,,,[2,3,4]],,,[,,"10(?:00|1[23]|3[0-2]|88)|3631|577",,,,"1000",,,[3,4]],[,,,,,,,,,[-1]],,,,"NC",,,,,,,,,,,,,,,,,,[,,"1[5-8]",,,,"15",,,[2]],,[,,"1(?:0(?:0[06]|1[02-46]|20|3[0125]|42|5[058]|77|88)|[5-8])|3631|5[6-8]\\d",,,,"1000"],[,,"5(?:67|88)",,,,"567",,,[3]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NE:[,[,,"[1-358]\\d{1,2}|723141",,,,,,,[2,3,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NE",,,,,,,,,,,,,,,,,,[,,"1[578]|723141",,,,"17",,,[2,6]],,[,,"1(?:0[01]|1[12]|2[034]|3[013]|40|55?|60|7|8)|222|333|555|723141|888",,,,"112"],[,,,,,,,,,[-1]],[,,"1(?:0[01]|1[12]|2[034]|3[013]|40|55|60)|222|333|555|888",,,,"100",,,[3]],,[,,,,,,,,,[-1]]],NF:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NF",,,,,,,,,,,,,,,,,,[,,"9(?:11|55|77)",,,,"911"],,[,,"9(?:11|55|77)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NG:[,[,,"[14]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NG",,,,,,,,,,,,,,,,,,[,,"199",,,,"199",,,[3]],,[,,"199|40700",,,,"199"],[,,,,,,,,,[-1]],[,,"40700",,,,"40700",,,[5]],,[,,"40700",,,,"40700",,,[5]]],NI:[,[,,"[12467]\\d{2,3}",,,,,,,[3,4]],,,[,,"7373",,,,"7373",,,[4]],[,,,,,,,,,[-1]],,,,"NI",,,,,,,,,,,,,,,,,,[,,"1(?:1[58]|2[08])",,,,"118",,,[3]],,[,,"1(?:1[58]|2(?:[158]|00?)|900)|2100|4878|6100|7(?:010|100|373)",,,,"118"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NL:[,[,,"[1349]\\d{2,5}",,,,,,,[3,4,6]],,,[,,"116(?:00[06]|1(?:11|23))",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"NL",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:00[06]|1(?:11|23)))|2(?:0[0-4]|3[34]|44)|3[03-9]\\d|400|8(?:[02-9]\\d|1[0-79]))|[34]000|911",,,,"1833"],[,,,,,,,,,[-1]],[,,"120[0-4]",,,,"1202",,,[4]],,[,,"[34]000",,,,"4000",,,[4]]],NO:[,[,,"1\\d{2,5}",,,,,,,[3,4,6]],,,[,,"1161(?:1[17]|23)",,,,"116117",,,[6]],[,,,,,,,,,[-1]],,,,"NO",,,,,,,,,,,,,,,,,,[,,"11[023]",,,,"112",,,[3]],,[,,"1(?:1(?:[0239]|61(?:1[17]|23))|2[048]|4(?:12|[59])|7[57]|90)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NP:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NP",,,,,,,,,,,,,,,,,,[,,"1(?:0[0-3]|12)",,,,"112"],,[,,"1(?:0[0-3]|12)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NR:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NR",,,,,,,,,,,,,,,,,,[,,"11[0-2]",,,,"110"],,[,,"1(?:1[0-2]|23|92)",,,,"110"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NU:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NU",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"999",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],NZ:[,[,,"[14]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"NZ",,,,,,,,,,,,,,,,,,[,,"111",,,,"111",,,[3]],,[,,"111|4098",,,,"111"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"4098",,,,"4098",,,[4]]],OM:[,[,,"9\\d{3}",,,,,,,[4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"OM",,,,,,,,,,,,,,,,,,[,,"9999",,,,"9999"],,[,,"9999",,,,"9999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PA:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PA",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"10[2-4]|911",,,,"102"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PE:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PE",,,,,,,,,,,,,,,,,,[,,"1(?:05|1[67])",,,,"105"],,[,,"1(?:05|1[67])",,,,"105"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PF:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PF",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"15"],,[,,"1[578]",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PG:[,[,,"0\\d{2}|1\\d{2,6}",,,,,,,[3,4,5,6,7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PG",,,,,,,,,,,,,,,,,,[,,"000|11[01]",,,,"000",,,[3]],,[,,"000|1(?:1[01]|5\\d{2}|6\\d{2,5})",,,,"000"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"16\\d{2,5}",,,,"1612",,,[4,5,6,7]]],PH:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PH",,,,,,,,,,,,,,,,,,[,,"11[27]|911",,,,"117"],,[,,"11[27]|911",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PK:[,[,,"1\\d{1,3}",,,,,,,[2,3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PK",,,,,,,,,,,,,,,,,,[,,"1(?:1(?:22?|5)|[56])",,,,"112"],,[,,"1(?:1(?:22?|5)|[56])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PL:[,[,,"1\\d{2}(?:\\d{2,3})?|9\\d{2}",,,,,,,[3,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"PL",,,,,,,,,,,,,,,,,,[,,"112|99[789]",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:000|1(?:11|23))|8(?:000|91[23]))|9\\d{3})|9(?:8[4-7]|9[1-9])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PM:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PM",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"17"],,[,,"1[578]",,,,"17"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PS:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,"166",,,,"166"],[,,,,,,,,,[-1]],,,,"PS",,,,,,,,,,,,,,,,,,[,,"10[0-2]",,,,"100"],,[,,"1(?:0[0-2]|44|66|99)",,,,"199"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PR:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PR",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PT:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:000|111)",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"PT",,,,,,,,,,,,,,,,,,[,,"11[25]",,,,"112",,,[3]],,[,,"11(?:[2578]|6(?:000|111))",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PW:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PW",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],PY:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"PY",,,,,,,,,,,,,,,,,,[,,"128|911",,,,"911"],,[,,"1[1-4]\\d|911",,,,"123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],QA:[,[,,"[129]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"QA",,,,,,,,,,,,,,,,,,[,,"999",,,,"999",,,[3]],,[,,"(?:1|20|9[27]\\d)\\d{2}|999",,,,"2012"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],RE:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"RE",,,,,,,,,,,,,,,,,,[,,"1(?:12|[578])",,,,"15"],,[,,"1(?:12|[578])",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],RO:[,[,,"[18]\\d{2,5}",,,,,,,[3,4,6]],,,[,,"116(?:000|111)",,,,"116000",,,[6]],[,,"(?:1(?:18(?:300|932)|[24]\\d{2})|8[48]\\d{2})",,,,"8844",,,[4,6]],,,,"RO",,,,,,,,,,,,,,,,,,[,,"112",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:000|111)|8(?:300|932))|[24]\\d{2}|9(?:21|3[02]|5[178]))|8[48]\\d{2}",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"(?:1[24]|8[48])\\d{2}",,,,"8844",,,[4]]],RS:[,[,,"[19]\\d{1,5}",,,,,,,[2,3,4,5,6]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"RS",,,,,,,,,,,,,,,,,,[,,"112|9[234]",,,,"112",,,[2,3]],,[,,"1[189]\\d{1,4}|9[234]",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],RU:[,[,,"[01]\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"RU",,,,,,,,,,,,,,,,,,[,,"0[1-3]|1(?:0[1-3]|12)",,,,"112"],,[,,"0[1-4]|1(?:0[1-4]|12)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],RW:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"RW",,,,,,,,,,,,,,,,,,[,,"112",,,,"112"],,[,,"112",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SA:[,[,,"[19]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116111|937|998",,,,"116111",,,[3,6]],[,,,,,,,,,[-1]],,,,"SA",,,,,,,,,,,,,,,,,,[,,"112|9(?:11|9[79])",,,,"999",,,[3]],,[,,"1(?:1(?:00|2|6111)|410|9(?:00|1[89]|9(?:099|22|91)))|9(?:0[24-79]|11|3[379]|40|66|8[5-9]|9[02-9])",,,,"937"],[,,"1410",,,,"1410",,,[4]],[,,"1(?:100|410)|90[24679]",,,,"902",,,[3,4]],,[,,,,,,,,,[-1]]],SB:[,[,,"[127-9]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SB",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"1(?:[02]\\d|1[12]|[35][01]|[49][1-9]|6[2-9]|7[7-9]|8[0-8])|269|777|835|9(?:[01]1|22|33|55|77|88|99)",,,,"100"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SC:[,[,,"[19]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SC",,,,,,,,,,,,,,,,,,[,,"999",,,,"999",,,[3]],,[,,"1(?:0\\d|1[027]|2[0-8]|3[13]|4[0-2]|[59][15]|6[1-9]|7[124-6]|8[158])|9(?:6\\d{2}|99)",,,,"100"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SD:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SD",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"999",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SE:[,[,,"[1-37-9]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,"11811[89]|72\\d{3}",,,,"118118",,,[5,6]],,,,"SE",,,,,,,,,,,,,,,,,,[,,"112|90000",,,,"112",,,[3,5]],,[,,"11(?:[25]|313|4\\d{2}|6(?:00[06]|11[17]|123)|7[0-8]|8(?:1(?:[02-9]\\d|1[013-9])|[02-46-9]\\d{2}))|2(?:2[02358]|33|4[01]|50|6[1-4])|32[13]|7\\d{4}|8(?:22|88)|9(?:0(?:000|1(?:[02-9]\\d|1[013-9])|[2-4]\\d{2}|510)|12)",,,,"11313"],[,,,,,,,,,[-1]],[,,"2(?:2[02358]|33|4[01]|50|6[1-4])|32[13]|8(?:22|88)|912",,,,"222",,,[3]],,[,,"7\\d{4}",,,,"72123",,,[5]]],SG:[,[,,"[179]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SG",,,,,,,,,,,,,,,,,,[,,"99[359]",,,,"999",,,[3]],,[,,"1(?:[0136]\\d{2}|[89](?:[1-9]\\d|0[1-9])|[57]\\d{2,3})|77222|99[02-9]",,,,"1312"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,"77222",,,,"77222",,,[5]]],SH:[,[,,"[19]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SH",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"999",,,[3]],,[,,"1\\d{2,3}|9(?:11|99)",,,,"1234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SI:[,[,,"1\\d{2,5}",,,,,,,[3,6]],,,[,,"116(?:000|1(?:11|23))",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"SI",,,,,,,,,,,,,,,,,,[,,"11[23]",,,,"112",,,[3]],,[,,"11(?:[23]|6(?:000|1(?:11|23)))",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SJ:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SJ",,,,,,,,,,,,,,,,,,[,,"11[023]",,,,"112"],,[,,"11[023]",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SK:[,[,,"1\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"116\\d{3}",,,,"116000",,,[6]],[,,,,,,,,,[-1]],,,,"SK",,,,,,,,,,,,,,,,,,[,,"1(?:12|5[058])",,,,"112",,,[3]],,[,,"1(?:1(?:2|6(?:000|111)|8[0-8])|[24]\\d{3}|5[0589]|8\\d{3})",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SL:[,[,,"[069]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SL",,,,,,,,,,,,,,,,,,[,,"(?:01|99)9",,,,"999",,,[3]],,[,,"(?:01|99)9|60400",,,,"999"],[,,,,,,,,,[-1]],[,,"60400",,,,"60400",,,[5]],,[,,"60400",,,,"60400",,,[5]]],SM:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SM",,,,,,,,,,,,,,,,,,[,,"11[358]",,,,"113"],,[,,"11[358]",,,,"113"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SN:[,[,,"[12]\\d{1,5}",,,,,,,[2,3,4,5,6]],,,[,,"1515|2(?:00|1)\\d{3}",,,,"200133",,,[4,5,6]],[,,"2(?:0[246]|[468])\\d{3}",,,,"202222",,,[5,6]],,,,"SN",,,,,,,,,,,,,,,,,,[,,"1[78]",,,,"17",,,[2]],,[,,"1(?:1[69]|2(?:\\d{2})?|[46]\\d{2}|51\\d|[78])|2(?:0[0-246]|[12468])\\d{3}",,,,"17"],[,,"2(?:01|2)\\d{3}",,,,"201202",,,[5,6]],[,,"1[46]\\d{2}",,,,"1415",,,[4]],,[,,"2[468]\\d{3}",,,,"24123",,,[5]]],SO:[,[,,"[5789]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SO",,,,,,,,,,,,,,,,,,[,,"555|888|999",,,,"555"],,[,,"555|777|888|999",,,,"777"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SR:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SR",,,,,,,,,,,,,,,,,,[,,"115",,,,"115",,,[3]],,[,,"1\\d{2,3}",,,,"1234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ST:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"ST",,,,,,,,,,,,,,,,,,[,,"112",,,,"112"],,[,,"112",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SV:[,[,,"[49]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SV",,,,,,,,,,,,,,,,,,[,,"911",,,,"911",,,[3]],,[,,"40404|911",,,,"911"],[,,,,,,,,,[-1]],[,,"40404",,,,"40404",,,[5]],,[,,"40404",,,,"40404",,,[5]]],SX:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SX",,,,,,,,,,,,,,,,,,[,,"919",,,,"919"],,[,,"919",,,,"919"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SY:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SY",,,,,,,,,,,,,,,,,,[,,"11[023]",,,,"112"],,[,,"11[023]",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],SZ:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"SZ",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"999",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TC:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TC",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"911"],,[,,"9(?:11|99)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TD:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TD",,,,,,,,,,,,,,,,,,[,,"1[78]",,,,"17"],,[,,"1[78]",,,,"17"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TG:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TG",,,,,,,,,,,,,,,,,,[,,"1(?:1[78]|7[127])",,,,"117",,,[3]],,[,,"1(?:011|1[078]|7[127])",,,,"117"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TH:[,[,,"1\\d{2,3}",,,,,,,[3,4]],,,[,,"1(?:1(?:00|2[03]|3[3479]|55|7[67]|9[0246])|5(?:55|78)|6(?:44|6[79]|88|9[16])|888)",,,,"1669",,,[4]],[,,"1(?:113|2(?:22|3[89])|5(?:09|56))",,,,"1509",,,[4]],,,,"TH",,,,,,,,,,,,,,,,,,[,,"1(?:669|9[19])",,,,"191"],,[,,"1(?:0[0-2]|1(?:0[03]|1[1-35]|2[0358]|3[03-79]|4[02-489]|5[04-9]|6[04-79]|7[03-9]|8[027-9]|9[02-79])|2(?:22|3[89])|3(?:18|2[23]|3[013]|5[56]|6[45]|73)|477|5(?:0\\d|4[0-37-9]|5[1-8]|6[01679]|7[12568]|8[0-24589]|9[013589])|6(?:0[0-29]|20|4[3-6]|6[1-9]|7[0257-9]|8[0158]|9[014-9])|7(?:19|7[27]|90)|888|9[19])",,,,"191"],[,,"1(?:1(?:03|1[15]|2[58]|3[056]|4[02-49]|5[046-9]|6[04-79]|7[03-589]|8[02789]|9[579])|3(?:18|2[23]|3[013]|5[4-6])|5(?:0[0-8]|4[0-378]|5[1-478]|6[01679]|7[156]|8[0-24589]|9[013589])|6(?:0[0-29]|20|4[356]|6[1-68]|7[05789]|8[015]|9[0457-9])|7(?:19|7[27]))",,,,"1149",,,[4]],[,,"114[89]",,,,"1148",,,[4]],,[,,,,,,,,,[-1]]],TJ:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TJ",,,,,,,,,,,,,,,,,,[,,"1(?:0[1-3]|12)",,,,"112"],,[,,"1(?:0[1-3]|12)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TL:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TL",,,,,,,,,,,,,,,,,,[,,"11[25]",,,,"112"],,[,,"1(?:0[02]|1[25]|2[0138]|72|9[07])",,,,"102"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TM:[,[,,"0\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TM",,,,,,,,,,,,,,,,,,[,,"0[1-3]",,,,"03"],,[,,"0[1-3]",,,,"03"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TN:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TN",,,,,,,,,,,,,,,,,,[,,"19[078]",,,,"197"],,[,,"19[078]",,,,"197"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TO:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TO",,,,,,,,,,,,,,,,,,[,,"9(?:11|22|33|99)",,,,"911"],,[,,"9(?:11|22|33|99)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TR:[,[,,"[1-9]\\d{2,4}",,,,,,,[3,4,5]],,,[,,"1(?:44|58|83)",,,,"183",,,[3]],[,,,,,,,,,[-1]],,,,"TR",,,,,,,,,,,,,,,,,,[,,"1(?:1[02]|55)",,,,"112",,,[3]],,[,,"1(?:1(?:[0239]|811)|2[16]|3(?:37?|[58]6|65)|4(?:[14]|71)|5(?:[3568]|07|78)|6(?:[02]6|[389]|99)|7[0-79]|8(?:\\d|63|95))|2(?:077|268|4(?:17|23)|5(?:7[26]|82)|6[14]4|8\\d{2}|9(?:30|89))|3(?:0(?:05|72)|353|4(?:06|30|64)|502|674|747|851|9(?:1[29]|60))|4(?:0(?:25|3[12]|[47]2)|3(?:3[13]|[89]1)|439|5(?:43|55)|717|832)|5(?:145|290|[4-6]\\d{2}|772|833|9(?:[06]1|92))|6(?:236|6(?:12|39|8[59])|769)|7890|8(?:688|7(?:28|65)|85[06])|9(?:159|290)",,,,"112"],[,,"2850|5420",,,,"5420",,,[4]],[,,,,,,,,,[-1]],,[,,"1(?:3(?:37|[58]6|65)|4(?:4|71)|5(?:07|78)|6(?:[02]6|99)|8(?:3|63|95))|2(?:077|268|4(?:17|23)|5(?:7[26]|82)|6[14]4|8\\d{2}|9(?:30|89))|3(?:0(?:05|72)|353|4(?:06|30|64)|502|674|747|851|9(?:1[29]|60))|4(?:0(?:25|3[12]|[47]2)|3(?:3[13]|[89]1)|439|5(?:43|55)|717|832)|5(?:145|290|[4-6]\\d{2}|772|833|9(?:[06]1|92))|6(?:236|6(?:12|39|8[59])|769)|7890|8(?:688|7(?:28|65)|85[06])|9(?:159|290)",,,,"5420",,,[3,4]]],TT:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TT",,,,,,,,,,,,,,,,,,[,,"99[09]",,,,"999"],,[,,"99[09]",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TV:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TV",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"1\\d{2}|911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TW:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TW",,,,,,,,,,,,,,,,,,[,,"11[029]",,,,"110"],,[,,"11[029]",,,,"110"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],TZ:[,[,,"[149]\\d{2,4}",,,,,,,[3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"TZ",,,,,,,,,,,,,,,,,,[,,"11[12]|999",,,,"111",,,[3]],,[,,"11[12]|46400|999",,,,"111"],[,,,,,,,,,[-1]],[,,"46400",,,,"46400",,,[5]],,[,,"46400",,,,"46400",,,[5]]],UA:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"UA",,,,,,,,,,,,,,,,,,[,,"1(?:0[123]|12)",,,,"112"],,[,,"1(?:0[123]|12)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],UG:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"UG",,,,,,,,,,,,,,,,,,[,,"999",,,,"999"],,[,,"999",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],US:[,[,,"[1-9]\\d{2,5}",,,,,,,[3,4,5,6]],,,[,,"611",,,,"611",,,[3]],[,,"2(?:4280|5209|7(?:449|663))|3(?:2340|3786|5564|8(?:135|254))|4(?:1(?:366|463)|3355|6(?:157|327)|7553|8(?:221|277))|5(?:2944|4892|5928|9(?:187|342))|69388|7(?:2(?:078|087)|3(?:288|909)|6426)|8(?:6234|9616)|9(?:5297|6(?:040|835)|7(?:294|688)|9(?:689|796))",,,,"24280",,,[5]],,,,"US",,,,,,,,,,,,,,,,,,[,,"112|911",,,,"911",,,[3]],,[,,"1(?:1(?:2|5[1-47]|[68]\\d|7[0-57]|98))|[2-9](?:11|\\d{3,5})",,,,"911"],[,,"2(?:3333|42242|56447|6688|75622|9002)|3(?:1010|2665|7404)|40404|560560|6(?:0060|22639|5246|7622)|7(?:0701|3822|4666)|8(?:38255|4816|72265)|99099",,,,"73822",,,[5,6]],[,,"[2-9]\\d{3}|33669|[2356]11",,,,"33669",,,[3,4,5]],,[,,"[2-9]\\d{4,5}",,,,"20566",,,[5,6]]],UY:[,[,,"[19]\\d{2,3}",,,,,,,[3,4]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"UY",,,,,,,,,,,,,,,,,,[,,"128|911",,,,"911",,,[3]],,[,,"1(?:0[4-9]|1[2368]|2[0-3568]|787)|911",,,,"104"],[,,"1787",,,,"1787",,,[4]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],UZ:[,[,,"[04]\\d{1,4}",,,,,,,[2,3,5]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"UZ",,,,,,,,,,,,,,,,,,[,,"0(?:0[123]|[123]|50)",,,,"01",,,[2,3]],,[,,"0(?:0[123]|[123]|50)|45400",,,,"01"],[,,,,,,,,,[-1]],[,,"45400",,,,"45400",,,[5]],,[,,"45400",,,,"45400",,,[5]]],VA:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VA",,,,,,,,,,,,,,,,,,[,,"11[2358]",,,,"113"],,[,,"11[2358]",,,,"113"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],VC:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VC",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"911"],,[,,"9(?:11|99)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],VE:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VE",,,,,,,,,,,,,,,,,,[,,"1(?:12|71)|911",,,,"171"],,[,,"1(?:12|71)|911",,,,"171"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],VG:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VG",,,,,,,,,,,,,,,,,,[,,"9(?:11|99)",,,,"911"],,[,,"9(?:11|99)",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],VI:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VI",,,,,,,,,,,,,,,,,,[,,"911",,,,"911"],,[,,"911",,,,"911"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],VN:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VN",,,,,,,,,,,,,,,,,,[,,"11[345]",,,,"113"],,[,,"11[345]",,,,"113"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],VU:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"VU",,,,,,,,,,,,,,,,,,[,,"112",,,,"112"],,[,,"112",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],WF:[,[,,"1\\d",,,,,,,[2]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"WF",,,,,,,,,,,,,,,,,,[,,"1[578]",,,,"15"],,[,,"1[578]",,,,"15"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],WS:[,[,,"9\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"WS",,,,,,,,,,,,,,,,,,[,,"99[4-6]",,,,"994"],,[,,"99[4-6]",,,,"994"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],XK:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"XK",,,,,,,,,,,,,,,,,,[,,"1(?:12|9[2-4])",,,,"112"],,[,,"1(?:12|9[2-4])",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],YE:[,[,,"1\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"YE",,,,,,,,,,,,,,,,,,[,,"19[1459]",,,,"191"],,[,,"19[1459]",,,,"191"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],YT:[,[,,"1\\d{1,2}",,,,,,,[2,3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"YT",,,,,,,,,,,,,,,,,,[,,"1(?:12|5)",,,,"15"],,[,,"1(?:12|5)",,,,"112"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ZA:[,[,,"[134]\\d{2,4}",,,,,,,[3,4,5]],,,[,,,,,,,,,[-1]],[,,"41(?:348|851)",,,,"41851",,,[5]],,,,"ZA",,,,,,,,,,,,,,,,,,[,,"1(?:0(?:1(?:11|77)|7)|12)",,,,"10111",,,[3,5]],,[,,"1(?:0(?:1(?:11|77)|20|7)|1[12]|77(?:3[237]|[45]7|6[279]|9[26]))|[34]\\d{4}",,,,"10111"],[,,"3(?:078[23]|7(?:064|567)|8126)|4(?:2699|3(?:699|94[16])|7751|8837)",,,,"47751",,,[5]],[,,"1(?:07|11)",,,,"111",,,[3]],,[,,"[34]\\d{4}",,,,"47751",,,[5]]],ZM:[,[,,"[19]\\d{2}",,,,,,,[3]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,,"ZM",,,,,,,,,,,,,,,,,,[,,"(?:112|99[139])",,,,"999"],,[,,"(?:112|99[139])",,,,"999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,[,,,,,,,,,[-1]]],ZW:[,[,,"[139]\\d{2,4}",,,,,,,[3,5]],,,[,,"9(?:5[023]|61)",,,,"961",,,[3]],[,,"3\\d{4}",,,,"30123",,,[5]],,,,"ZW",,,,,,,,,,,,,,,,,,[,,"(?:11[24]|99[3-59])",,,,"999",,,[3]],,[,,"11[2469]|9(?:5[023]|6[0-25]|9[3-59])",,,,"999"],[,,,,,,,,,[-1]],[,,"(?:114|9(?:5[023]|6[0-25]))",,,,"114",,,[3]],,[,,,,,,,,,[-1]]]};i18n.phonenumbers.ShortNumberInfo=function(){this.regionToMetadataMap={}};goog.addSingletonGetter(i18n.phonenumbers.ShortNumberInfo);i18n.phonenumbers.ShortNumberInfo.REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT_=["BR","CL","NI"];i18n.phonenumbers.ShortNumberInfo.ShortNumberCost={TOLL_FREE:0,STANDARD_RATE:1,PREMIUM_RATE:2,UNKNOWN_COST:3};i18n.phonenumbers.ShortNumberInfo.prototype.getRegionCodesForCountryCode_=function(a){return(a=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[a])?a:[]};i18n.phonenumbers.ShortNumberInfo.prototype.regionDialingFromMatchesNumber_=function(a,b){var c=this.getRegionCodesForCountryCode_(a.getCountryCodeOrDefault());return goog.array.contains(c,b)};i18n.phonenumbers.ShortNumberInfo.prototype.isPossibleShortNumberForRegion=function(a,b){var c,d;return this.regionDialingFromMatchesNumber_(a,b)?(c=this.getMetadataForRegion_(b),!c)?!1:(d=this.getNationalSignificantNumber_(a).length,goog.array.contains(c.getGeneralDesc().possibleLengthArray(),d)):!1};i18n.phonenumbers.ShortNumberInfo.prototype.isPossibleShortNumber=function(a){var b=this.getRegionCodesForCountryCode_(a.getCountryCodeOrDefault()),c,d;for(a=this.getNationalSignificantNumber_(a).length,c=0;c<b.length;c++)if(d=this.getMetadataForRegion_(b[c]),d&&(d=d.getGeneralDesc().possibleLengthArray(),goog.array.contains(d,a)))return!0;return!1};i18n.phonenumbers.ShortNumberInfo.prototype.isValidShortNumberForRegion=function(a,b){var c,d,e;return this.regionDialingFromMatchesNumber_(a,b)?(c=this.getMetadataForRegion_(b),!c)?!1:(d=this.getNationalSignificantNumber_(a),e=c.getGeneralDesc(),!this.matchesPossibleNumberAndNationalNumber_(d,e))?!1:(c=c.getShortCode(),this.matchesPossibleNumberAndNationalNumber_(d,c)):!1};i18n.phonenumbers.ShortNumberInfo.prototype.isValidShortNumber=function(a){var b=this.getRegionCodesForCountryCode_(a.getCountryCodeOrDefault()),c=this.getRegionCodeForShortNumberFromRegionList_(a,b);return 1<b.length&&null!=c?!0:this.isValidShortNumberForRegion(a,c)};i18n.phonenumbers.ShortNumberInfo.prototype.getExpectedCostForRegion=function(a,b){var c=i18n.phonenumbers.ShortNumberInfo.ShortNumberCost,d,e;return this.regionDialingFromMatchesNumber_(a,b)?(d=this.getMetadataForRegion_(b),!d)?c.UNKNOWN_COST:(e=this.getNationalSignificantNumber_(a),goog.array.contains(d.getGeneralDesc().possibleLengthArray(),e.length)?this.matchesPossibleNumberAndNationalNumber_(e,d.getPremiumRate())?c.PREMIUM_RATE:this.matchesPossibleNumberAndNationalNumber_(e,d.getStandardRate())?c.STANDARD_RATE:this.matchesPossibleNumberAndNationalNumber_(e,d.getTollFree())||this.isEmergencyNumber(e,b)?c.TOLL_FREE:c.UNKNOWN_COST:c.UNKNOWN_COST):c.UNKNOWN_COST};i18n.phonenumbers.ShortNumberInfo.prototype.getExpectedCost=function(a){var b=i18n.phonenumbers.ShortNumberInfo.ShortNumberCost,c=this.getRegionCodesForCountryCode_(a.getCountryCodeOrDefault()),d,e,f;if(0===c.length)return b.UNKNOWN_COST;if(1===c.length)return this.getExpectedCostForRegion(a,c[0]);for(d=b.TOLL_FREE,e=0;e<c.length;e++){f=this.getExpectedCostForRegion(a,c[e]);switch(f){case b.PREMIUM_RATE:return b.PREMIUM_RATE;case b.UNKNOWN_COST:d=b.UNKNOWN_COST;break;case b.STANDARD_RATE:d!==b.UNKNOWN_COST&&(d=b.STANDARD_RATE);break;case b.TOLL_FREE:break;default:throw Error("Unrecognized cost for region: "+f);}}return d};i18n.phonenumbers.ShortNumberInfo.prototype.getRegionCodeForShortNumberFromRegionList_=function(a,b){var c,d,e,f;if(0===b.length)return null;if(1===b.length)return b[0];for(c=this.getNationalSignificantNumber_(a),d=0;d<b.length;d++)if(e=b[d],f=this.getMetadataForRegion_(e),f&&this.matchesPossibleNumberAndNationalNumber_(c,f.getShortCode()))return e;return null};i18n.phonenumbers.ShortNumberInfo.prototype.getSupportedRegions=function(){return goog.array.filter(Object.keys(i18n.phonenumbers.shortnumbermetadata.countryToMetadata),function(a){return isNaN(a)})};i18n.phonenumbers.ShortNumberInfo.prototype.getExampleShortNumber=function(a){return(a=this.getMetadataForRegion_(a),!a)?"":(a=a.getShortCode(),a.hasExampleNumber()?a.getExampleNumber()||"":"")};i18n.phonenumbers.ShortNumberInfo.prototype.getExampleShortNumberForCost=function(a,b){var c=this.getMetadataForRegion_(a),d,e;if(!c)return"";d=i18n.phonenumbers.ShortNumberInfo.ShortNumberCost;e=null;switch(b){case d.TOLL_FREE:e=c.getTollFree();break;case d.STANDARD_RATE:e=c.getStandardRate();break;case d.PREMIUM_RATE:e=c.getPremiumRate()}return e&&e.hasExampleNumber()?e.getExampleNumber()||"":""};i18n.phonenumbers.ShortNumberInfo.prototype.connectsToEmergencyNumber=function(a,b){return this.matchesEmergencyNumberHelper_(a,b,!0)};i18n.phonenumbers.ShortNumberInfo.prototype.isEmergencyNumber=function(a,b){return this.matchesEmergencyNumberHelper_(a,b,!1)};i18n.phonenumbers.ShortNumberInfo.prototype.getMetadataForRegion_=function(a){var b,c;if(!a)return null;if(a=a.toUpperCase(),b=this.regionToMetadataMap[a],null==b){if(b=new goog.proto2.PbLiteSerializer,c=i18n.phonenumbers.shortnumbermetadata.countryToMetadata[a],null==c)return null;b=b.deserialize(i18n.phonenumbers.PhoneMetadata.getDescriptor(),c);this.regionToMetadataMap[a]=b}return b};i18n.phonenumbers.ShortNumberInfo.prototype.matchesEmergencyNumberHelper_=function(a,b,c){var d=i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber(a);return i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(d)?!1:(a=this.getMetadataForRegion_(b),null==a||!a.hasEmergency())?!1:(d=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(d),b=c&&!goog.array.contains(i18n.phonenumbers.ShortNumberInfo.REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT_,b),c=a.getEmergency().getNationalNumberPatternOrDefault(),i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(c,d)||b&&i18n.phonenumbers.PhoneNumberUtil.matchesPrefix(c,d))};i18n.phonenumbers.ShortNumberInfo.prototype.isCarrierSpecific=function(a){var b=this.getRegionCodesForCountryCode_(a.getCountryCodeOrDefault());return b=this.getRegionCodeForShortNumberFromRegionList_(a,b),a=this.getNationalSignificantNumber_(a),b=this.getMetadataForRegion_(b),!!b&&this.matchesPossibleNumberAndNationalNumber_(a,b.getCarrierSpecific())};i18n.phonenumbers.ShortNumberInfo.prototype.isCarrierSpecificForRegion=function(a,b){if(!this.regionDialingFromMatchesNumber_(a,b))return!1;var c=this.getNationalSignificantNumber_(a),d=this.getMetadataForRegion_(b);return!!d&&this.matchesPossibleNumberAndNationalNumber_(c,d.getCarrierSpecific())};i18n.phonenumbers.ShortNumberInfo.prototype.isSmsServiceForRegion=function(a,b){if(!this.regionDialingFromMatchesNumber_(a,b))return!1;var c=this.getMetadataForRegion_(b),d=this.getNationalSignificantNumber_(a);return!!c&&this.matchesPossibleNumberAndNationalNumber_(d,c.getSmsServices())};i18n.phonenumbers.ShortNumberInfo.prototype.getNationalSignificantNumber_=function(a){if(!a.hasNationalNumber())return"";var b=""+a.getNationalNumber();return a.hasItalianLeadingZero()&&a.getItalianLeadingZero()&&0<a.getNumberOfLeadingZerosOrDefault()?Array(a.getNumberOfLeadingZerosOrDefault()+1).join("0")+b:b};i18n.phonenumbers.ShortNumberInfo.prototype.matchesPossibleNumberAndNationalNumber_=function(a,b){return 0<b.possibleLengthArray().length&&!goog.array.contains(b.possibleLengthArray(),a.length)?!1:i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(b.getNationalNumberPatternOrDefault(),a.toString())};Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=i18n.phonenumbers;module.exports=exports["default"]},{}]},{},[1])(1)});ScheduleTourViewModel=function(params){var _self=this,_currentStep,tourTimeinitialLoad;params=$.extend({model:null,$dialog:null,$form:null,showRequestCompletedBanner:function(){},onSuccess:function(){}},params);params.model.MinDate=Date.fromISO(params.model.MinDate);this.setLoading=function(){params.$dialog.lsLoading("set")};this.removeLoading=function(){params.$dialog.lsLoading("remove")};ko.mapping.fromJS(params.model,{copy:["VenueId","WorkspaceId","MemberId","WorkspaceRequestType"],ignore:["LogOnModel","MinDate","InitialStep"]},this);this.TourDate(Date.fromISO(params.model.TourDate));this.StartDate(params.model.StartDate!=null?Date.fromISO(params.model.StartDate):null);this.tourDateSelected=ko.observable(!1);this.tourDatepickerToggled=ko.observable(!1);this.toggleTourDatepicker=function(forceValue){_self.tourDatepickerToggled(forceValue!=null?forceValue:!_self.tourDatepickerToggled())};this.isAnonymous=ko.observable(User.id==null||User.id==Guid.Empty);this.messengerMode=ko.observable(!1);_currentStep=ko.observable(params.model.InitialStep);this.datepickerOptions={useDateObjectForObservable:!0,dayNamesMin:["S","M","T","W","T","F","S"],minDate:params.model.MinDate,onSelect:function(){_self.tourDateSelected(!0);_self.goToStep(2);_self.toggleTourDatepicker(!1)}};this.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:params.model.MinDate,beforeShow:function(input,inst){$(inst.dpDiv).addClass("schedule-startTime-datepicker")},onSelect:function(){$(this).trigger("focusout")}};this.selectedTourTime=ko.observable();this.selectedTourTime.subscribe(function(newValue){newValue?_self.TourTime(newValue.Value):_self.TourTime(null)});this.availableTimes=ko.observable([]);this.selectedOrganizer=ko.observable(_self.Email());this.selectedOrganizer.subscribe(function(organizerOption){var organizerEmail=organizerOption?organizerOption.value||organizerOption:"",previousEmail;organizerEmail?(previousEmail=_self.Email(),_self.submitButtonDisabled(!0),$.ajax({type:"POST",url:"/Member/GetMemberDetails",data:{email:organizerEmail},success:function(response){response.success&&response.data?(_self.MemberId=response.data.Id,_self.FullName(response.data.FullName),_self.Email(response.data.Email),_self.Phone(response.data.PhoneFormatted),_self.Company(response.data.Company)):(_self.selectedOrganizer(previousEmail),_self.Email(previousEmail),LSHelper.Dialog.alertDialog(response.message))},complete:function(){_self.submitButtonDisabled(!1)}})):_self.selectedOrganizer(_self.Email())});tourTimeinitialLoad=!0;ko.computed(function(){$.ajax({url:"/Availability/OpenHoursForTour",data:{venueId:params.model.VenueId,workspaceId:params.model.WorkspaceId,date:_self.TourDate().toServerString()},success:function(result){var tourTime,existingTourTime;_self.availableTimes(result.map(function(item){return $.extend({isSelected:ko.computed(function(){return _self.isSelected(item)}),isNotSelected:ko.computed(function(){return _self.isNotSelected(item)}),select:function(){_self.selectedTourTime(item);_self.messengerMode(!1);_self.goToStep(tourTimeinitialLoad?params.model.InitialStep:3)}},item)}));tourTimeinitialLoad&&(tourTime=_self.TourTime(),tourTime&&(existingTourTime=_self.availableTimes().find(function(i){return i.Value==tourTime}),existingTourTime?existingTourTime.select():_self.availableTimes().length&&_self.availableTimes()[0].select()),tourTimeinitialLoad=!1)}})}).extend({throttle:100});this.tourDateDisplay=ko.computed(function(){var result=new Date(_self.TourDate()).format("ddd, MMM dd, yyyy"),selectedTourTime=_self.selectedTourTime();return selectedTourTime!=null&&selectedTourTime.Text!=null&&(result+=" at "+selectedTourTime.Text),result});this.tourDateString=ko.computed(function(){return new Date(_self.TourDate()).format("ddd, MMM dd, yyyy")});this.isSelected=function(timeItem){return timeItem.Value==_self.TourTime()};this.isNotSelected=function(timeItem){return!_self.isSelected(timeItem)};this.close=function(){params.$dialog.dialog("close")};this.logOnModel=new LiquidSpace.View.LogonPopup;this.logOnModel.mode=ko.computed({read:function(){var mode="signin";switch(_currentStep()){case 5:mode="forgot";break}return mode},write:function(value){value=="forgot"?_currentStep(5):_currentStep(4)}});this.tourSuggest=ko.observable();this.hasSuggest=ko.computed(function(){var tourSuggest=_self.tourSuggest();return tourSuggest&&tourSuggest.Workspaces.length==2});this.suggest=function(){_self.isDone(!0);$.ajax({url:"/Tour/SuggestWorkspaces",success:_self.tourSuggest})};this.isDone=ko.observable(!1);this.isTFAuth=ko.observable(!1);this.dialogHeader=ko.computed(function(){var currentStep=_currentStep(),messengerMode=_self.messengerMode(),header=_self.WorkspaceRequestType==Enum.WorkspaceRequestType.Tour?"Schedule a Tour":"Request to Book";switch(currentStep){case 3:messengerMode&&(header="Message Host");break;case 4:header="Sign In";break;case 5:header="Forgot Password";break}return header});this.submitButtonDisabled=ko.observable(!1);this.submitButtonLabel=ko.computed(function(){var messengerMode=_self.messengerMode();return messengerMode?"Message Host":_self.WorkspaceRequestType==Enum.WorkspaceRequestType.Tour?"Schedule My Tour":"Request to Book"});this.stepsCss=ko.computed(function(){for(var css={"scht-wrapper-done":_self.isDone()},currentStep=_currentStep(),i=1;i<=5;i++)css["scht-wrapper-step-"+i]=i==currentStep;return css});this.stepsWrapperHeight=ko.computed(function(){var result=150,isDone=_self.isDone(),currentStep=_currentStep(),hasSuggest=_self.hasSuggest(),showPasswordResetMessage=_self.logOnModel.showPasswordResetMessage(),stepsCss=_self.stepsCss(),$currentStep;return isDone?result=$(".scht-done").outerHeight():_self.isTFAuth()?result=61+$(".scht-step-tfauth").outerHeight():($currentStep=$(".scht-step-"+currentStep),result=61+$currentStep.outerHeight()),result+"px"});this.goToStep=function(index){if(_currentStep(index),index==3&&_self.selectedTourTime()==null){var item=_self.availableTimes()[0];item&&_self.selectedTourTime(item)}};this.isPasswordWrong=ko.observable(!1);this.scrollToHeader=function(){var dialogOffsetTop=params.$dialog.offset().top;$(window).scrollTop()>dialogOffsetTop&&$("html, body").stop().animate({scrollTop:dialogOffsetTop-50},"500")};this.scheduleTour=function(){var item,object;_self.isPasswordWrong(!1);params.$form.valid()&&(_self.selectedTourTime()==null&&(item=_self.availableTimes()[0],item&&_self.selectedTourTime(item)),object=ko.mapping.toJS(_self,{ignore:["MinDate","ForgotPasswordModel","LogOnModel","AvailableDesksCountToBookList"]}),object.TourDate=object.TourDate.toServerString(),object.StartDate=object.StartDate!=null?object.StartDate.toServerString():null,_self.setLoading(),$.ajax({type:"POST",url:"/WorkspaceRequest/Create",data:JSON.stringify(object),contentType:"application/json; charset=utf-8",success:function(response){if(response.isException){LSHelper.UI.showError(response);params.$dialog.dialog("close");return}if(response.success){if(response.showTwoFactorForm){twoFactorAuth=new LiquidSpace.Auth.TwoFactor({data:response.data,view:response.view,cssClass:"scht-step scht-step-tfauth",attachNextTo:$(".scht-step.scht-step-3"),onSuccess:function(data){_self.isTFAuth(!1);_self.MemberId=data.userId;LSHelper.Account.reloadHeader();_self.scheduleTour()},onError:function(){_self.isTFAuth(!1)}});_self.isTFAuth(!0);return}response.reloadPage?(_self.close(),window.location.reload(),function(){var urlSplit=window.location.href.split("?"),baseUrl=urlSplit[0],existingQueryParams=urlSplit.slice(1).join("?").split("#")[0],existingParams=$.deparam(existingQueryParams,!0);delete existingParams.action;window.location.href=baseUrl+"?"+$.param(existingParams,!0)}()):(_self.isDone(!0),_self.scrollToHeader(),LSHelper.Account.reloadHeader(),$(document).trigger("WorkspaceRequestSuccess"),response.state&&$(window).trigger("agreeToShareApproved",{venueId:response.venueId,state:response.state,visaImageUrl:response.visaImageUrl,buttonState:response.buttonState,userId:response.memberId}),LSHelper.ga.trackMonthlyRequest(_self.WorkspaceRequestType==Enum.WorkspaceRequestType.Tour?"Tour":"Book",params.model.WorkspaceId),_self.tourSuggest(response.tourSuggest),params.onSuccess())}else response.wrongCredentials&&_self.isPasswordWrong(!0)},complete:function(){_self.removeLoading()}}))};this.tourScheduledText=ko.computed(function(){var selectedTourTime=_self.selectedTourTime(),tourDate=_self.TourDate();return tourDate&&selectedTourTime?tourDate.format("ddd, MMMM d")+" at "+selectedTourTime.Text:null});this.tourScheduledTextVisible=ko.computed(function(){return!_self.messengerMode()&&_self.WorkspaceRequestType==Enum.WorkspaceRequestType.Tour});this.signInFunc=function(messages){messages=messages||{};LSHelper.HelperLib.blockUI(params.$dialog);LSHelper.Account.popUpSignIn({onCloseCallback:function(){LSHelper.HelperLib.unblockUI(params.$dialog)},onLogInSuccessCallback:function(userId){LSHelper.HelperLib.blockUI(params.$dialog);_self.isAnonymous(!1);_self.MemberId=userId;$.post("/Account/Member",function(data){data&&(_self.FullName(data.FullName),_self.Email(data.Email),_self.Phone(data.PhoneNumber),_self.Company(data.Company),_self.PersonalDataFilled(data.PersonalDataFilled));LSHelper.HelperLib.unblockUI(params.$dialog)})},onlyHeaderReload:!0,signInMessage:messages.signInMessage,joinMessage:messages.joinMessage,userName:_self.Email()?_self.Email():null})}};typeof LP=="undefined"&&(LP={});LP.ConciergeRequestForm=function(params){var _self=this,reloadSavedSearch;params=$.extend({conciergeRequest:null,setSavedSearch:function(savedSearch){throw"Need to override";},showSpaceTypesDropdown:!0,submitUrl:"/LandingPage/ConciergeRequest",submitCallback:function(){},onMemberDataReceived:function(){}},params);ko.mapping.fromJS(params.conciergeRequest,{ignore:["SearchRequest","ExistingSearchRequest"]},this);this.showSpaceTypesDropdown=ko.observable(params.showSpaceTypesDropdown);this.searchRequest=new LiquidSpace.Search.SearchRequest({searchRequest:params.conciergeRequest.SearchRequest});this.reservationMethodSelected=ko.observable(!1);this.isHourly=ko.computed(function(){var isHourly=_self.searchRequest.timeFilters.method.isHourly(),reservationMethodSelected=_self.reservationMethodSelected();return reservationMethodSelected&&isHourly});this.isMonthly=ko.computed(function(){var isMonthly=_self.searchRequest.timeFilters.method.isMonthly(),reservationMethodSelected=_self.reservationMethodSelected();return reservationMethodSelected&&isMonthly});this.setReservationMethod=function(reservationMethod){_self.reservationMethodSelected(!0);_self.searchRequest.ReservationMethod(reservationMethod)};this.spaceTypes=ko.computed(function(){var reservationMethod=_self.searchRequest.ReservationMethod(),result=reservationMethod==Enum.WorkspaceReservationMethod.Period?[Enum.SpaceType.Desk,Enum.SpaceType.Office,Enum.SpaceType.TeamSpace]:[Enum.SpaceType.Desk,Enum.SpaceType.Meeting,Enum.SpaceType.Office];return result.map(function(e){return{value:e,text:Enum.SpaceType.describe(e)}})});this.step=ko.observable(1);this.userIsAuthenticated=ko.observable(User.id&&User.id!=Guid.Empty);this.setSavedSearch=function(savedSearch){params.setSavedSearch.apply(_self,arguments)};reloadSavedSearch=function(){$.ajax({url:"/Search/MemberSearch",success:function(data){_self.setSavedSearch(data)}})};this.signInFunc=function(){LSHelper.HelperLib.blockUI();LSHelper.Account.popUpSignIn({onCloseCallback:function(){LSHelper.HelperLib.unblockUI()},onLogInSuccessCallback:function(userId){},onlyHeaderReload:!0,userName:_self.Email()})};this.setSavedSearch(params.conciergeRequest.ExistingSearchRequest);this.showServerErrors=ko.observable(!1);this.serverErrors=ko.observable([]);this.searchRequest.WorkspaceCapacity.extend({required:{message:"Number of people is required"}});this.FullName.extend({fullName:{message:"Full name is required"},pattern:{message:"Name should contain characters",params:"^.*[a-zA-Z]+.*"}});this.Email.extend({required:{message:"Email is required",onlyIf:function(){return!_self.userIsAuthenticated()}},email:{onlyIf:function(){return!_self.userIsAuthenticated()}}});this.PhoneNumber.extend({required:{message:"Phone is required"},phonenumber:{country:params.country,exceptionMessage:"Phone is not valid"}});this.Password.extend({required:{message:"Password is required",onlyIf:function(){return!_self.userIsAuthenticated()}},minLength:{params:6,message:"Password should contain at least {0} characters",onlyIf:function(){return!_self.userIsAuthenticated()}},maxLength:{params:15,onlyIf:function(){return!_self.userIsAuthenticated()}}});this.validationModel=[ko.validatedObservable([_self.FullName,_self.Email,_self.PhoneNumber,_self.Password]),ko.validatedObservable([_self.searchRequest.WorkspaceCapacity])];this.showValidationMessages=ko.observable(!1);this.validate=function(){_self.showServerErrors(!1);_self.showValidationMessages(!0);var validator=_self.validationModel[_self.step()-1],isValid=!validator||validator.isValid();return isValid||validator.errors.showAllMessages(),isValid};this.goToStep=function(step){_self.validate()&&(_self.showValidationMessages(!1),_self.step(step))};this.isSubmitted=ko.observable(!1);this.savePrferencesLabel=ko.computed(function(){return _self.isSubmitted()?"Saved!":"Get Office Space"});this.submit=function(){if(_self.validate()){var data=ko.mapping.toJS(_self);data.SearchRequest=_self.searchRequest.toJS();data.SearchRequest.SpaceTypes=data.SearchRequest.SpaceTypes||0;data.SearchRequest.SourceData||(data.SearchRequest.SourceData={});data.SearchRequest.SourceData.Url=window.location.href;LSHelper.HelperLib.blockUI();$.ajax({url:params.submitUrl,type:"POST",data:JSON.stringify(data),contentType:"application/json",success:function(res){if(!res.success){_self.showServerErrors(!0);_self.serverErrors(res.errors);return}_self.isSubmitted(!0);LSHelper.Account.reloadHeader();typeof params.submitCallback=="function"&&params.submitCallback(res)},complete:function(){LSHelper.HelperLib.unblockUI()}})}};$(document).on("userAuthenticated WorkspaceRequestSuccess headerReloaded",function(){_self.userIsAuthenticated(User.id&&User.id!=Guid.Empty);$.post("/Account/Member",function(data){data&&(_self.userIsAuthenticated(!0),_self.FullName(data.FullName),_self.Email(data.Email),_self.PhoneNumber(data.PhoneNumber),_self.Password("******"),_self.Company(data.Company),$.isFunction(params.onMemberDataReceived)&&params.onMemberDataReceived())});reloadSavedSearch()})};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.ConciergeRequestExtendedLiquidspace=function(params){var _self=this,submit;params=$.extend({conciergeRequest:null,ShowConciergeRequestReservationMethod:!1,onlyMonthlyOptions:!1},params);this.testSuccess=function(){_self.goToStep(4)};var commonTypes=[Enum.SpaceType.Desk],mergingTypes=[Enum.SpaceType.Office,Enum.SpaceType.PrivateOffice],hourlySpaceTypes=[Enum.SpaceType.Desk,Enum.SpaceType.Office,Enum.SpaceType.Meeting],monthlySpaceTypes=[Enum.SpaceType.Desk,Enum.SpaceType.PrivateOffice,Enum.SpaceType.TeamSpace];LP.ConciergeRequestForm.call(this,{conciergeRequest:params.conciergeRequest,setSavedSearch:function(savedSearch){savedSearch&&(_self.searchRequest.Message(savedSearch.Message),params.ShowConciergeRequestReservationMethod&&_self.searchRequest.ReservationMethod(savedSearch.ReservationMethod),_self.searchRequest.Address(savedSearch.Address),_self.searchRequest.WorkspaceCapacity(savedSearch.WorkspaceCapacity),_self.searchRequest.SpaceTypes(savedSearch.SpaceTypes),savedSearch.ReservationLengthMinutes>0&&_self.searchRequest.ReservationLengthMinutes(savedSearch.ReservationLengthMinutes))},submitCallback:_self.testSuccess,submitUrl:"/ConciergeRequest/Submit"});this.ShowConciergeRequestReservationMethod=params.ShowConciergeRequestReservationMethod;this.searchRequest.SpaceTypes.subscribe(function(newValue){var currentReservationMethod=_self.searchRequest.ReservationMethod(),newReservationMethod=currentReservationMethod;newValue&&commonTypes.indexOf(newValue)==-1&&mergingTypes.indexOf(newValue)==-1?newReservationMethod=monthlySpaceTypes.indexOf(newValue)>-1?Enum.WorkspaceReservationMethod.Period:Enum.WorkspaceReservationMethod.SpecificTimePeriod:_self.searchRequest.ReservationLengthMinutes()||(newReservationMethod=Enum.WorkspaceReservationMethod.Period);currentReservationMethod!=newReservationMethod&&_self.searchRequest.ReservationMethod(newReservationMethod)});this.searchRequest.ReservationLengthMinutes.subscribe(function(newValue){var currentReservationMethod=_self.searchRequest.ReservationMethod(),newReservationMethod=currentReservationMethod,currentSpaceType=_self.searchRequest.SpaceTypes();newValue?newReservationMethod=parseInt(newValue)>=Enum.WorkspacePriceDuration.Month?Enum.WorkspaceReservationMethod.Period:Enum.WorkspaceReservationMethod.SpecificTimePeriod:currentSpaceType||(newReservationMethod=Enum.WorkspaceReservationMethod.Period);currentReservationMethod!=newReservationMethod&&(_self.searchRequest.ReservationMethod(newReservationMethod),currentSpaceType&&mergingTypes.indexOf(currentSpaceType)>-1&&(currentSpaceType==Enum.SpaceType.Office?_self.searchRequest.SpaceTypes(Enum.SpaceType.PrivateOffice):currentSpaceType==Enum.SpaceType.PrivateOffice&&_self.searchRequest.SpaceTypes(Enum.SpaceType.Office)))});this.spaceTypes=ko.computed(function(){var reservationMethod=_self.searchRequest.ReservationMethod(),result=[];return result=params.onlyMonthlyOptions?monthlySpaceTypes:_self.searchRequest.ReservationLengthMinutes()?reservationMethod==Enum.WorkspaceReservationMethod.Period?monthlySpaceTypes:hourlySpaceTypes:monthlySpaceTypes.concat([Enum.SpaceType.Meeting]),result.map(function(e){return{value:e,text:Enum.SpaceType.describe(e)}})});this.durations=ko.computed(function(){var hourly=[{value:Enum.WorkspacePriceDuration.Hour,text:"A couple hours"},{value:Enum.WorkspacePriceDuration.Day,text:"A couple days"},],monthly=[{value:Enum.WorkspacePriceDuration.Month,text:"1 month or more"},{value:Enum.WorkspacePriceDuration.ThreeMonth,text:"3 months or more"},{value:Enum.WorkspacePriceDuration.SixMonth,text:"6 months or more"},{value:Enum.WorkspacePriceDuration.Year,text:"1 year or more"},],result=[{value:0,text:"Not Sure"},],spaceType=_self.searchRequest.SpaceTypes();return params.onlyMonthlyOptions?result.concat(monthly):spaceType&&commonTypes.indexOf(spaceType)==-1&&mergingTypes.indexOf(spaceType)==-1?_self.searchRequest.ReservationMethod()==Enum.WorkspaceReservationMethod.Period?result.concat(monthly):result.concat(hourly):result.concat(hourly).concat(monthly)});this.searchRequest.Address.extend({required:{message:"City is required"}});this.reservationMethodSelected.extend({equal:{params:!0,message:"Reservation is required"}});this.validationModel=[ko.validatedObservable([_self.searchRequest.Address,_self.reservationMethodSelected,_self.searchRequest.WorkspaceCapacity,_self.FullName,_self.Email,_self.PhoneNumber]),ko.validatedObservable([_self.Password])];this.submitStep1=function(){if(_self.validate()){var data=ko.mapping.toJS(_self);data.SearchRequest=_self.searchRequest.toJS();data.SearchRequest.SpaceTypes=data.SearchRequest.SpaceTypes||0;LSHelper.HelperLib.blockUI();$.ajax({url:"/ConciergeRequest/Step1",type:"POST",data:JSON.stringify(data),contentType:"application/json",success:function(res){if(!res.success){_self.showServerErrors(!0);_self.serverErrors(res.errors);return}_self.goToStep(2)},complete:function(){LSHelper.HelperLib.unblockUI()}})}};submit=this.submit;this.submit=function(){_self.userIsAuthenticated()||_self.goToStep(2);submit()};this.showDialog=function(){LSHelper.HelperLib.showDialog({overflow:"overflow:visible;",onError:function(responseText,textStatus,xhr){$("#conciergeRequestDialogContent").dialog("close")},dialogOptions:{resizable:!1,modal:!0,width:475,heigth:"auto",position:"center",dialogClass:"conciergeRequestDialog h5",title:"What are you looking for?",open:function(){LSHelper.HelperLib.unblockUI();ko.applyBindings(_self,document.getElementById("conciergeRequestDialogContent"));_self.userIsAuthenticated(User.id&&User.id!=Guid.Empty);_self.userIsAuthenticated()?$("#messageHostDialogContent textarea[name=Message]").focus():$("#messageHostDialogContent input[name=FullName]").focus();_self.step.notifySubscribers(_self.step())}},divId:"conciergeRequestDialogContent",data:{venueId:params.VenueId,workspaceId:params.WorkspaceId},url:GetUrl("Dialog","ConciergeRequest")})};this.step.subscribe(function(){var $conciergeRequestDialogContent=$("#conciergeRequestDialogContent"),step=_self.step();switch(step){case 1:$conciergeRequestDialogContent.dialog("option","title","What are you looking for?");break;case 2:case 3:$conciergeRequestDialogContent.dialog("option","title","Thanks! We sent your space request.");break;case 4:$conciergeRequestDialogContent.dialog("option","title","");break}})};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Auth=="undefined"&&(LiquidSpace.Auth={});LiquidSpace.Auth.TwoFactor=function(params){var _self=this,_applyElem;params=$.extend({data:{},view:null,attachNextTo:null,onSuccess:function(){},onError:function(){},cssClass:null},params);var $content=$(params.attachNextTo),$wrapper=$(params.view),onSuccess=function(){$content.show();$wrapper.hide();params.onSuccess()};_self.viewModel=ko.mapping.fromJS(params.data);_self.viewModel.mode=ko.observable(_self.viewModel.InitialMode());_self.viewModel.validationMessage=ko.observable();_self.viewModel.twoFactorConfirm=function(){$("#twoFactorConfirm").valid()&&($wrapper.lsLoading("set"),LSHelper.HelperLib.blockUI($wrapper),_self.viewModel.validationMessage(null),$.ajax({url:"/Account/TwoFactorConfirm",type:"POST",data:{userName:_self.viewModel.TwoFactorConfirmModel.UserName(),authyToken:_self.viewModel.TwoFactorConfirmModel.AuthyToken(),lstoken:_self.viewModel.TwoFactorConfirmModel.LSToken()},success:function(data){data.success?data.showTwoFactorRegister?(LSHelper.HelperLib.unblockUI($wrapper),_self.viewModel.mode("tfRegister")):data.showTwoFactorConfirmation?(LSHelper.HelperLib.unblockUI($wrapper),_self.viewModel.TwoFactorConfirmModel.phoneNumberLast4(data.phoneNumberLast4),_self.viewModel.mode("tfConfirm")):onSuccess(data):(_self.viewModel.validationMessage(data.error),$wrapper.lsLoading("remove"),LSHelper.HelperLib.unblockUI($wrapper))},error:function(){$wrapper.lsLoading("remove");LSHelper.HelperLib.unblockUI($wrapper)}}))};_self.viewModel.twoFactorRegister=function(){$("#twoFactorRegister").valid()&&($wrapper.lsLoading("set"),LSHelper.HelperLib.blockUI($wrapper),_self.viewModel.validationMessage(null),$.ajax({url:"/Account/TwoFactorRegister",type:"POST",data:{userName:_self.viewModel.TwoFactorRegisterModel.UserName(),phoneNumber:_self.viewModel.TwoFactorRegisterModel.PhoneNumber(),lstoken:_self.viewModel.TwoFactorRegisterModel.LSToken()},success:function(data){data.success?data.showTwoFactorConfirmation?(_self.viewModel.mode("tfConfirm"),_self.viewModel.TwoFactorConfirmModel.PhoneNumberLast4(data.phoneNumberLast4),_self.viewModel.TwoFactorConfirmModel.LSToken(data.lstoken)):onSuccess(data):_self.viewModel.validationMessage(data.error)},complete:function(){$wrapper.lsLoading("remove");LSHelper.HelperLib.unblockUI($wrapper)}}))};$content.after($wrapper);params.cssClass&&$wrapper.addClass(params.cssClass);$content.hide();_applyElem=$wrapper.find("#tf-form-shared")[0];ko.applyBindings(_self.viewModel,_applyElem)};$&&$(FloatlabelInit),function(LiquidSpace){var View;(function(View){var TypeSciptExperiment;(function(TypeSciptExperiment){var Echo=function(){function Echo(){this.counter=0;this.counter++}return Echo.prototype.action=function(c){return this.counter+=c,"result: "+this.counter},Echo}();TypeSciptExperiment.Echo=Echo})(TypeSciptExperiment=View.TypeSciptExperiment||(View.TypeSciptExperiment={}))})(View=LiquidSpace.View||(LiquidSpace.View={}))}(LiquidSpace||(LiquidSpace={})),function(LiquidSpace){var View;(function(View){var TypeSciptExperiment;(function(TypeSciptExperiment){var Radio=function(){function Radio(){this.timeout=0;this.counter=ko.observable(0);this.echo=new TypeSciptExperiment.Echo}return Radio.prototype.doSomething=function(){this.echo.action(7);LSHelper.HelperLib.blockUI();this.timeout=setTimeout(function(){LSHelper.HelperLib.unblockUI()},1e3);this.counter.extend({min:{params:10,message:"warning"}});this.counter(500)},Radio}();TypeSciptExperiment.Radio=Radio})(TypeSciptExperiment=View.TypeSciptExperiment||(View.TypeSciptExperiment={}))})(View=LiquidSpace.View||(LiquidSpace.View={}))}(LiquidSpace||(LiquidSpace={}))